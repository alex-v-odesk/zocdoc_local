!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="assets/js/",e(0)}([function(t,e,i){(function(e,n){"use strict";n.$=e;var s=i(4),o=function(){};o.prototype.onReady=function(){var t=new s;t.init()};var a=t.exports=new o;window.onload=a.onReady.bind(a)}).call(e,i(1),i(2))},function(t,e){var i=function(){function t(t){return null==t?String(t):W[q.call(t)]||"object"}function e(e){return"function"==t(e)}function i(t){return null!=t&&t==t.window}function n(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function s(e){return"object"==t(e)}function o(t){return s(t)&&!i(t)&&Object.getPrototypeOf(t)==Object.prototype}function a(t){return"number"==typeof t.length}function r(t){return $.call(t,function(t){return null!=t})}function h(t){return t.length>0?T.fn.concat.apply([],t):t}function l(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function c(t){return t in E?E[t]:E[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function u(t,e){return"number"!=typeof e||P[l(t)]?e:e+"px"}function p(t){var e,i;return B[t]||(e=I.createElement(t),I.body.appendChild(e),i=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==i&&(i="block"),B[t]=i),B[t]}function d(t){return"children"in t?O.call(t.children):T.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function f(t,e,i){for(x in e)i&&(o(e[x])||K(e[x]))?(o(e[x])&&!o(t[x])&&(t[x]={}),K(e[x])&&!K(t[x])&&(t[x]=[]),f(t[x],e[x],i)):e[x]!==b&&(t[x]=e[x])}function m(t,e){return null==e?T(t):T(t).filter(e)}function g(t,i,n,s){return e(i)?i.call(t,n,s):i}function v(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)}function y(t,e){var i=t.className||"",n=i&&i.baseVal!==b;return e===b?n?i.baseVal:i:void(n?i.baseVal=e:t.className=e)}function _(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?T.parseJSON(t):t):t}catch(e){return t}}function w(t,e){e(t);for(var i=0,n=t.childNodes.length;i<n;i++)w(t.childNodes[i],e)}var b,x,T,C,S,M,A=[],O=A.slice,$=A.filter,I=window.document,B={},E={},P={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},k=/^\s*<(\w+|!)[^>]*>/,V=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,D=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,L=/^(?:body|html)$/i,N=/([A-Z])/g,z=["val","css","html","text","data","width","height","offset"],R=["after","prepend","before","append"],H=I.createElement("table"),F=I.createElement("tr"),j={tr:I.createElement("tbody"),tbody:H,thead:H,tfoot:H,td:F,th:F,"*":I.createElement("div")},U=/complete|loaded|interactive/,Y=/^[\w-]*$/,W={},q=W.toString,X={},G=I.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},K=Array.isArray||function(t){return t instanceof Array};return X.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var n,s=t.parentNode,o=!s;return o&&(s=G).appendChild(t),n=~X.qsa(s,e).indexOf(t),o&&G.removeChild(t),n},S=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},M=function(t){return $.call(t,function(e,i){return t.indexOf(e)==i})},X.fragment=function(t,e,i){var n,s,a;return V.test(t)&&(n=T(I.createElement(RegExp.$1))),n||(t.replace&&(t=t.replace(D,"<$1></$2>")),e===b&&(e=k.test(t)&&RegExp.$1),e in j||(e="*"),a=j[e],a.innerHTML=""+t,n=T.each(O.call(a.childNodes),function(){a.removeChild(this)})),o(i)&&(s=T(n),T.each(i,function(t,e){z.indexOf(t)>-1?s[t](e):s.attr(t,e)})),n},X.Z=function(t,e){return t=t||[],t.__proto__=T.fn,t.selector=e||"",t},X.isZ=function(t){return t instanceof X.Z},X.init=function(t,i){var n;if(!t)return X.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&k.test(t))n=X.fragment(t,RegExp.$1,i),t=null;else{if(i!==b)return T(i).find(t);n=X.qsa(I,t)}else{if(e(t))return T(I).ready(t);if(X.isZ(t))return t;if(K(t))n=r(t);else if(s(t))n=[t],t=null;else if(k.test(t))n=X.fragment(t.trim(),RegExp.$1,i),t=null;else{if(i!==b)return T(i).find(t);n=X.qsa(I,t)}}return X.Z(n,t)},T=function(t,e){return X.init(t,e)},T.extend=function(t){var e,i=O.call(arguments,1);return"boolean"==typeof t&&(e=t,t=i.shift()),i.forEach(function(i){f(t,i,e)}),t},X.qsa=function(t,e){var i,s="#"==e[0],o=!s&&"."==e[0],a=s||o?e.slice(1):e,r=Y.test(a);return n(t)&&r&&s?(i=t.getElementById(a))?[i]:[]:1!==t.nodeType&&9!==t.nodeType?[]:O.call(r&&!s?o?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},T.contains=I.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},T.type=t,T.isFunction=e,T.isWindow=i,T.isArray=K,T.isPlainObject=o,T.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},T.inArray=function(t,e,i){return A.indexOf.call(e,t,i)},T.camelCase=S,T.trim=function(t){return null==t?"":String.prototype.trim.call(t)},T.uuid=0,T.support={},T.expr={},T.map=function(t,e){var i,n,s,o=[];if(a(t))for(n=0;n<t.length;n++)i=e(t[n],n),null!=i&&o.push(i);else for(s in t)i=e(t[s],s),null!=i&&o.push(i);return h(o)},T.each=function(t,e){var i,n;if(a(t)){for(i=0;i<t.length;i++)if(e.call(t[i],i,t[i])===!1)return t}else for(n in t)if(e.call(t[n],n,t[n])===!1)return t;return t},T.grep=function(t,e){return $.call(t,e)},window.JSON&&(T.parseJSON=JSON.parse),T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){W["[object "+e+"]"]=e.toLowerCase()}),T.fn={forEach:A.forEach,reduce:A.reduce,push:A.push,sort:A.sort,indexOf:A.indexOf,concat:A.concat,map:function(t){return T(T.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return T(O.apply(this,arguments))},ready:function(t){return U.test(I.readyState)&&I.body?t(T):I.addEventListener("DOMContentLoaded",function(){t(T)},!1),this},get:function(t){return t===b?O.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return A.every.call(this,function(e,i){return t.call(e,i,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):T($.call(this,function(e){return X.matches(e,t)}))},add:function(t,e){return T(M(this.concat(T(t,e))))},is:function(t){return this.length>0&&X.matches(this[0],t)},not:function(t){var i=[];if(e(t)&&t.call!==b)this.each(function(e){t.call(this,e)||i.push(this)});else{var n="string"==typeof t?this.filter(t):a(t)&&e(t.item)?O.call(t):T(t);this.forEach(function(t){n.indexOf(t)<0&&i.push(t)})}return T(i)},has:function(t){return this.filter(function(){return s(t)?T.contains(this,t):T(this).find(t).size()})},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!s(t)?t:T(t)},last:function(){var t=this[this.length-1];return t&&!s(t)?t:T(t)},find:function(t){var e,i=this;return e=t?"object"==typeof t?T(t).filter(function(){var t=this;return A.some.call(i,function(e){return T.contains(e,t)})}):1==this.length?T(X.qsa(this[0],t)):this.map(function(){return X.qsa(this,t)}):T()},closest:function(t,e){var i=this[0],s=!1;for("object"==typeof t&&(s=T(t));i&&!(s?s.indexOf(i)>=0:X.matches(i,t));)i=i!==e&&!n(i)&&i.parentNode;return T(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=T.map(i,function(t){if((t=t.parentNode)&&!n(t)&&e.indexOf(t)<0)return e.push(t),t});return m(e,t)},parent:function(t){return m(M(this.pluck("parentNode")),t)},children:function(t){return m(this.map(function(){return d(this)}),t)},contents:function(){return this.map(function(){return O.call(this.childNodes)})},siblings:function(t){return m(this.map(function(t,e){return $.call(d(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return T.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var i=e(t);if(this[0]&&!i)var n=T(t).get(0),s=n.parentNode||this.length>1;return this.each(function(e){T(this).wrapAll(i?t.call(this,e):s?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){T(this[0]).before(t=T(t));for(var e;(e=t.children()).length;)t=e.first();T(t).append(this)}return this},wrapInner:function(t){var i=e(t);return this.each(function(e){var n=T(this),s=n.contents(),o=i?t.call(this,e):t;s.length?s.wrapAll(o):n.append(o)})},unwrap:function(){return this.parent().each(function(){T(this).replaceWith(T(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=T(this);(t===b?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return T(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return T(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var i=this.innerHTML;T(this).empty().append(g(this,t,e,i))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var i=g(this,t,e,this.textContent);this.textContent=null==i?"":""+i}):0 in this?this[0].textContent:null},attr:function(t,e){var i;return"string"!=typeof t||1 in arguments?this.each(function(i){if(1===this.nodeType)if(s(t))for(x in t)v(this,x,t[x]);else v(this,t,g(this,e,i,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(i=this[0].getAttribute(t))&&t in this[0]?this[0][t]:i:b},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){v(this,t)},this)})},prop:function(t,e){return t=Z[t]||t,1 in arguments?this.each(function(i){this[t]=g(this,e,i,this[t])}):this[0]&&this[0][t]},data:function(t,e){var i="data-"+t.replace(N,"-$1").toLowerCase(),n=1 in arguments?this.attr(i,e):this.attr(i);return null!==n?_(n):b},val:function(t){return 0 in arguments?this.each(function(e){this.value=g(this,t,e,this.value)}):this[0]&&(this[0].multiple?T(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var i=T(this),n=g(this,t,e,i.offset()),s=i.offsetParent().offset(),o={top:n.top-s.top,left:n.left-s.left};"static"==i.css("position")&&(o.position="relative"),i.css(o)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,i){if(arguments.length<2){var n,s=this[0];if(!s)return;if(n=getComputedStyle(s,""),"string"==typeof e)return s.style[S(e)]||n.getPropertyValue(e);if(K(e)){var o={};return T.each(e,function(t,e){o[e]=s.style[S(e)]||n.getPropertyValue(e)}),o}}var a="";if("string"==t(e))i||0===i?a=l(e)+":"+u(e,i):this.each(function(){this.style.removeProperty(l(e))});else for(x in e)e[x]||0===e[x]?a+=l(x)+":"+u(x,e[x])+";":this.each(function(){this.style.removeProperty(l(x))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(T(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&A.some.call(this,function(t){return this.test(y(t))},c(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){C=[];var i=y(this),n=g(this,t,e,i);n.split(/\s+/g).forEach(function(t){T(this).hasClass(t)||C.push(t)},this),C.length&&y(this,i+(i?" ":"")+C.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===b)return y(this,"");C=y(this),g(this,t,e,C).split(/\s+/g).forEach(function(t){C=C.replace(c(t)," ")}),y(this,C.trim())}})},toggleClass:function(t,e){return t?this.each(function(i){var n=T(this),s=g(this,t,i,y(this));s.split(/\s+/g).forEach(function(t){(e===b?!n.hasClass(t):e)?n.addClass(t):n.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===b?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===b?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),n=L.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(T(t).css("margin-top"))||0,i.left-=parseFloat(T(t).css("margin-left"))||0,n.top+=parseFloat(T(e[0]).css("border-top-width"))||0,n.left+=parseFloat(T(e[0]).css("border-left-width"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||I.body;t&&!L.test(t.nodeName)&&"static"==T(t).css("position");)t=t.offsetParent;return t})}},T.fn.detach=T.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});T.fn[t]=function(s){var o,a=this[0];return s===b?i(a)?a["inner"+e]:n(a)?a.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){a=T(this),a.css(t,g(this,s,e,a[t]()))})}}),R.forEach(function(e,i){var n=i%2;T.fn[e]=function(){var e,s,o=T.map(arguments,function(i){return e=t(i),"object"==e||"array"==e||null==i?i:X.fragment(i)}),a=this.length>1;return o.length<1?this:this.each(function(t,e){s=n?e:e.parentNode,e=0==i?e.nextSibling:1==i?e.firstChild:2==i?e:null;var r=T.contains(I.documentElement,s);o.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!s)return T(t).remove();s.insertBefore(t,e),r&&w(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},T.fn[n?e+"To":"insert"+(i?"Before":"After")]=function(t){return T(t)[e](this),this}}),X.Z.prototype=T.fn,X.uniq=M,X.deserializeValue=_,T.zepto=X,T}();window.Zepto=i,void 0===window.$&&(window.$=i),function(t){function e(t){return t._zid||(t._zid=p++)}function i(t,i,o,a){if(i=n(i),i.ns)var r=s(i.ns);return(g[e(t)]||[]).filter(function(t){return t&&(!i.e||t.e==i.e)&&(!i.ns||r.test(t.ns))&&(!o||e(t.fn)===e(o))&&(!a||t.sel==a)})}function n(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function s(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t,e){return t.del&&!y&&t.e in _||!!e}function a(t){return w[t]||y&&_[t]||t}function r(i,s,r,h,c,p,d){var f=e(i),m=g[f]||(g[f]=[]);s.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(r);var s=n(e);s.fn=r,s.sel=c,s.e in w&&(r=function(e){var i=e.relatedTarget;if(!i||i!==this&&!t.contains(this,i))return s.fn.apply(this,arguments)}),s.del=p;var f=p||r;s.proxy=function(t){if(t=l(t),!t.isImmediatePropagationStopped()){t.data=h;var e=f.apply(i,t._args==u?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},s.i=m.length,m.push(s),"addEventListener"in i&&i.addEventListener(a(s.e),s.proxy,o(s,d))})}function h(t,n,s,r,h){var l=e(t);(n||"").split(/\s/).forEach(function(e){i(t,e,s,r).forEach(function(e){delete g[l][e.i],"removeEventListener"in t&&t.removeEventListener(a(e.e),e.proxy,o(e,h))})})}function l(e,i){return!i&&e.isDefaultPrevented||(i||(i=e),t.each(C,function(t,n){var s=i[t];e[t]=function(){return this[n]=b,s&&s.apply(i,arguments)},e[n]=x}),(i.defaultPrevented!==u?i.defaultPrevented:"returnValue"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=b)),e}function c(t){var e,i={originalEvent:t};for(e in t)T.test(e)||t[e]===u||(i[e]=t[e]);return l(i,t)}var u,p=1,d=Array.prototype.slice,f=t.isFunction,m=function(t){return"string"==typeof t},g={},v={},y="onfocusin"in window,_={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",t.event={add:r,remove:h},t.proxy=function(i,n){var s=2 in arguments&&d.call(arguments,2);if(f(i)){var o=function(){return i.apply(n,s?s.concat(d.call(arguments)):arguments)};return o._zid=e(i),o}if(m(n))return s?(s.unshift(i[n],i),t.proxy.apply(null,s)):t.proxy(i[n],i);throw new TypeError("expected function")},t.fn.bind=function(t,e,i){return this.on(t,e,i)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,i,n){return this.on(t,e,i,n,1)};var b=function(){return!0},x=function(){return!1},T=/^([A-Z]|returnValue$|layer[XY]$)/,C={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,i){return this.on(e,t,i)},t.fn.undelegate=function(t,e,i){return this.off(e,t,i)},t.fn.live=function(e,i){return t(document.body).delegate(this.selector,e,i),this},t.fn.die=function(e,i){return t(document.body).undelegate(this.selector,e,i),this},t.fn.on=function(e,i,n,s,o){var a,l,p=this;return e&&!m(e)?(t.each(e,function(t,e){p.on(t,i,n,e,o)}),p):(m(i)||f(s)||s===!1||(s=n,n=i,i=u),(f(n)||n===!1)&&(s=n,n=u),s===!1&&(s=x),p.each(function(u,p){o&&(a=function(t){return h(p,t.type,s),s.apply(this,arguments)}),i&&(l=function(e){var n,o=t(e.target).closest(i,p).get(0);if(o&&o!==p)return n=t.extend(c(e),{currentTarget:o,liveFired:p}),(a||s).apply(o,[n].concat(d.call(arguments,1)))}),r(p,e,s,n,i,l||a)}))},t.fn.off=function(e,i,n){var s=this;return e&&!m(e)?(t.each(e,function(t,e){s.off(t,i,e)}),s):(m(i)||f(n)||n===!1||(n=i,i=u),n===!1&&(n=x),s.each(function(){h(this,e,n,i)}))},t.fn.trigger=function(e,i){return e=m(e)||t.isPlainObject(e)?t.Event(e):l(e),e._args=i,this.each(function(){e.type in _&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,i)})},t.fn.triggerHandler=function(e,n){var s,o;return this.each(function(a,r){s=c(m(e)?t.Event(e):e),s._args=n,s.target=r,t.each(i(r,e.type||e),function(t,e){if(o=e.proxy(s),s.isImmediatePropagationStopped())return!1})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var i=document.createEvent(v[t]||"Events"),n=!0;if(e)for(var s in e)"bubbles"==s?n=!!e[s]:i[s]=e[s];return i.initEvent(t,n,!0),l(i)}}(i),function(t){function e(e,i,n){var s=t.Event(i);return t(e).trigger(s,n),!s.isDefaultPrevented()}function i(t,i,n,s){if(t.global)return e(i||y,n,s)}function n(e){e.global&&0===t.active++&&i(e,null,"ajaxStart")}function s(e){e.global&&!--t.active&&i(e,null,"ajaxStop")}function o(t,e){var n=e.context;return e.beforeSend.call(n,t,e)!==!1&&i(e,n,"ajaxBeforeSend",[t,e])!==!1&&void i(e,n,"ajaxSend",[t,e])}function a(t,e,n,s){var o=n.context,a="success";n.success.call(o,t,a,e),s&&s.resolveWith(o,[t,a,e]),i(n,o,"ajaxSuccess",[e,n,t]),h(a,e,n)}function r(t,e,n,s,o){var a=s.context;s.error.call(a,n,e,t),o&&o.rejectWith(a,[n,e,t]),i(s,a,"ajaxError",[n,s,t||e]),h(e,n,s)}function h(t,e,n){var o=n.context;n.complete.call(o,e,t),i(n,o,"ajaxComplete",[e,n]),s(n)}function l(){}function c(t){return t&&(t=t.split(";",2)[0]),t&&(t==T?"html":t==x?"json":w.test(t)?"script":b.test(t)&&"xml")||"text"}function u(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function p(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=u(e.url,e.data),e.data=void 0)}function d(e,i,n,s){return t.isFunction(i)&&(s=n,n=i,i=void 0),t.isFunction(n)||(s=n,n=void 0),{url:e,data:i,success:n,dataType:s}}function f(e,i,n,s){var o,a=t.isArray(i),r=t.isPlainObject(i);t.each(i,function(i,h){o=t.type(h),s&&(i=n?s:s+"["+(r||"object"==o||"array"==o?i:"")+"]"),!s&&a?e.add(h.name,h.value):"array"==o||!n&&"object"==o?f(e,h,n,i):e.add(i,h)})}var m,g,v=0,y=window.document,_=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,b=/^(?:text|application)\/xml/i,x="application/json",T="text/html",C=/^\s*$/,S=y.createElement("a");S.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,i){if(!("type"in e))return t.ajax(e);var n,s,h=e.jsonpCallback,l=(t.isFunction(h)?h():h)||"jsonp"+ ++v,c=y.createElement("script"),u=window[l],p=function(e){t(c).triggerHandler("error",e||"abort")},d={abort:p};return i&&i.promise(d),t(c).on("load error",function(o,h){clearTimeout(s),t(c).off().remove(),"error"!=o.type&&n?a(n[0],d,e,i):r(null,h||"error",d,e,i),window[l]=u,n&&t.isFunction(u)&&u(n[0]),u=n=void 0}),o(d,e)===!1?(p("abort"),d):(window[l]=function(){n=arguments},c.src=e.url.replace(/\?(.+)=\?/,"?$1="+l),y.head.appendChild(c),e.timeout>0&&(s=setTimeout(function(){p("timeout")},e.timeout)),d)},t.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:x,xml:"application/xml, text/xml",html:T,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var i,s=t.extend({},e||{}),h=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===s[m]&&(s[m]=t.ajaxSettings[m]);n(s),s.crossDomain||(i=y.createElement("a"),i.href=s.url,i.href=i.href,s.crossDomain=S.protocol+"//"+S.host!=i.protocol+"//"+i.host),s.url||(s.url=window.location.toString()),p(s);var d=s.dataType,f=/\?.+=\?/.test(s.url);if(f&&(d="jsonp"),s.cache!==!1&&(e&&e.cache===!0||"script"!=d&&"jsonp"!=d)||(s.url=u(s.url,"_="+Date.now())),"jsonp"==d)return f||(s.url=u(s.url,s.jsonp?s.jsonp+"=?":s.jsonp===!1?"":"callback=?")),t.ajaxJSONP(s,h);var v,_=s.accepts[d],w={},b=function(t,e){w[t.toLowerCase()]=[t,e]},x=/^([\w-]+:)\/\//.test(s.url)?RegExp.$1:window.location.protocol,T=s.xhr(),M=T.setRequestHeader;if(h&&h.promise(T),s.crossDomain||b("X-Requested-With","XMLHttpRequest"),b("Accept",_||"*/*"),(_=s.mimeType||_)&&(_.indexOf(",")>-1&&(_=_.split(",",2)[0]),T.overrideMimeType&&T.overrideMimeType(_)),(s.contentType||s.contentType!==!1&&s.data&&"GET"!=s.type.toUpperCase())&&b("Content-Type",s.contentType||"application/x-www-form-urlencoded"),s.headers)for(g in s.headers)b(g,s.headers[g]);if(T.setRequestHeader=b,T.onreadystatechange=function(){if(4==T.readyState){T.onreadystatechange=l,clearTimeout(v);var e,i=!1;if(T.status>=200&&T.status<300||304==T.status||0==T.status&&"file:"==x){d=d||c(s.mimeType||T.getResponseHeader("content-type")),e=T.responseText;try{"script"==d?(0,eval)(e):"xml"==d?e=T.responseXML:"json"==d&&(e=C.test(e)?null:t.parseJSON(e))}catch(n){i=n}i?r(i,"parsererror",T,s,h):a(e,T,s,h)}else r(T.statusText||null,T.status?"error":"abort",T,s,h)}},o(T,s)===!1)return T.abort(),r(null,"abort",T,s,h),T;if(s.xhrFields)for(g in s.xhrFields)T[g]=s.xhrFields[g];var A=!("async"in s)||s.async;T.open(s.type,s.url,A,s.username,s.password);for(g in w)M.apply(T,w[g]);return s.timeout>0&&(v=setTimeout(function(){T.onreadystatechange=l,T.abort(),r(null,"timeout",T,s,h)},s.timeout)),T.send(s.data?s.data:null),T},t.get=function(){return t.ajax(d.apply(null,arguments))},t.post=function(){var e=d.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=d.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,i,n){if(!this.length)return this;var s,o=this,a=e.split(/\s/),r=d(e,i,n),h=r.success;return a.length>1&&(r.url=a[0],s=a[1]),r.success=function(e){o.html(s?t("<div>").html(e.replace(_,"")).find(s):e),h&&h.apply(o,arguments)},t.ajax(r),this};var M=encodeURIComponent;t.param=function(e,i){var n=[];return n.add=function(e,i){t.isFunction(i)&&(i=i()),null==i&&(i=""),this.push(M(e)+"="+M(i))},f(n,e,i),n.join("&").replace(/%20/g,"+")}}(i),function(t){t.fn.serializeArray=function(){var e,i,n=[],s=function(t){return t.forEach?t.forEach(s):void n.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(n,o){i=o.type,e=o.name,e&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&"file"!=i&&("radio"!=i&&"checkbox"!=i||o.checked)&&s(t(o).val())}),n},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var i=t.Event("submit");this.eq(0).trigger(i),i.isDefaultPrevented()||this.get(0).submit()}return this}}(i),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,i){return e=e||[],t.extend(e,t.fn),e.selector=i||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var i=getComputedStyle;window.getComputedStyle=function(t){try{return i(t)}catch(e){return null}}}}(i),t.exports=i,delete window.$,delete window.Zepto},function(t,e,i){var n,s;(function(o){!function(a){var r="object"==typeof self&&self.self===self&&self||"object"==typeof o&&o.global===o&&o;n=[i(3),i(1),e],s=function(t,e,i){r.Backbone=a(r,i,t,e)}.apply(e,n),!(void 0!==s&&(t.exports=s))}(function(t,e,i,n){var s=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=n,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,s){return i[e](this[n],h(t,this),s)};case 4:return function(t,s,o){return i[e](this[n],h(t,this),s,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}},r=function(t,e,n){i.each(e,function(e,s){i[s]&&(t.prototype[s]=a(e,s,n))})},h=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?l(t):i.isString(t)?function(e){return e.get(t)}:t},l=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},u=/\s+/,p=function(t,e,n,s,o){var a,r=0;if(n&&"object"==typeof n){void 0!==s&&"context"in o&&void 0===o.context&&(o.context=s);for(a=i.keys(n);r<a.length;r++)e=p(t,e,a[r],n[a[r]],o)}else if(n&&u.test(n))for(a=n.split(u);r<a.length;r++)e=t(e,a[r],s,o);else e=t(e,n,s,o);return e};c.on=function(t,e,i){return d(this,t,e,i)};var d=function(t,e,i,n,s){if(t._events=p(f,t._events||{},e,i,{context:n,ctx:t,listening:s}),s){var o=t._listeners||(t._listeners={});o[s.id]=s}return t};c.listenTo=function(t,e,n){if(!t)return this;var s=t._listenId||(t._listenId=i.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[s];if(!a){var r=this._listenId||(this._listenId=i.uniqueId("l"));a=o[s]={obj:t,objId:s,id:r,listeningTo:o,count:0}}return d(t,e,n,this,a),this};var f=function(t,e,i,n){if(i){var s=t[e]||(t[e]=[]),o=n.context,a=n.ctx,r=n.listening;r&&r.count++,s.push({callback:i,context:o,ctx:o||a,listening:r})}return t};c.off=function(t,e,i){return this._events?(this._events=p(m,this._events,t,e,{context:i,listeners:this._listeners}),this):this},c.stopListening=function(t,e,n){var s=this._listeningTo;if(!s)return this;for(var o=t?[t._listenId]:i.keys(s),a=0;a<o.length;a++){var r=s[o[a]];if(!r)break;r.obj.off(e,n,this)}return this};var m=function(t,e,n,s){if(t){var o,a=0,r=s.context,h=s.listeners;if(e||n||r){for(var l=e?[e]:i.keys(t);a<l.length;a++){e=l[a];var c=t[e];if(!c)break;for(var u=[],p=0;p<c.length;p++){var d=c[p];n&&n!==d.callback&&n!==d.callback._callback||r&&r!==d.context?u.push(d):(o=d.listening,o&&0===--o.count&&(delete h[o.id],delete o.listeningTo[o.objId]))}u.length?t[e]=u:delete t[e]}return t}for(var f=i.keys(h);a<f.length;a++)o=h[f[a]],delete h[o.id],delete o.listeningTo[o.objId]}};c.once=function(t,e,n){var s=p(g,{},t,e,i.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(s,e,n)},c.listenToOnce=function(t,e,n){var s=p(g,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,s)};var g=function(t,e,n,s){if(n){var o=t[e]=i.once(function(){s(e,o),n.apply(this,arguments)});o._callback=n}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return p(v,this._events,t,void 0,i),this};var v=function(t,e,i,n){if(t){var s=t[e],o=t.all;s&&o&&(o=o.slice()),s&&y(s,n),o&&y(o,[e].concat(n))}return t},y=function(t,e){var i,n=-1,s=t.length,o=e[0],a=e[1],r=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,o);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,o,a);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,o,a,r);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}};c.bind=c.on,c.unbind=c.off,i.extend(e,c);var _=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var s=i.result(this,"defaults");n=i.defaults(i.extend({},s,n),s),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(_.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var s;if("object"==typeof t?(s=t,n=e):(s={})[t]=e,n||(n={}),!this._validate(s,n))return!1;var o=n.unset,a=n.silent,r=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=i.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,u=this._previousAttributes;for(var p in s)e=s[p],i.isEqual(l[p],e)||r.push(p),i.isEqual(u[p],e)?delete c[p]:c[p]=e,o?delete l[p]:l[p]=e;if(this.idAttribute in s&&(this.id=this.get(this.idAttribute)),!a){r.length&&(this._pending=n);for(var d=0;d<r.length;d++)this.trigger("change:"+r[d],this,l[r[d]],n)}if(h)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var s in t){var o=t[s];i.isEqual(e[s],o)||(n[s]=o)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var s=t.parse?e.parse(i,t):i;return!!e.set(s,t)&&(n&&n.call(t.context,e,i,t),void e.trigger("sync",e,i,t))},H(this,t),this.sync("read",this,t)},save:function(t,e,n){var s;null==t||"object"==typeof t?(s=t,n=e):(s={})[t]=e,n=i.extend({validate:!0,parse:!0},n);var o=n.wait;if(s&&!o){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;var a=this,r=n.success,h=this.attributes;n.success=function(t){a.attributes=h;var e=n.parse?a.parse(t,n):t;
return o&&(e=i.extend({},s,e)),!(e&&!a.set(e,n))&&(r&&r.call(n.context,a,t,n),void a.trigger("sync",a,t,n))},H(this,n),s&&o&&(this.attributes=i.extend({},h,s));var l=this.isNew()?"create":n.patch?"patch":"update";"patch"!==l||n.attrs||(n.attrs=s);var c=this.sync(l,this,n);return this.attributes=h,c},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,s=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){s&&o(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var a=!1;return this.isNew()?i.defer(t.success):(H(this,t),a=this.sync("delete",this,t)),s||o(),a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||R();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}});var w={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};r(_,w,"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},T={add:!0,remove:!1},C=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,s=Array(t.length-i),o=e.length;for(n=0;n<s.length;n++)s[n]=t[n+i];for(n=0;n<o;n++)t[n+i]=e[n];for(n=0;n<s.length;n++)t[n+o+i]=s[n]};i.extend(b.prototype,c,{model:_,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,T))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var s=this._removeModels(t,e);return!e.silent&&s.length&&(e.changes={added:[],merged:[],removed:s},this.trigger("update",this,e)),n?s[0]:s},set:function(t,e){if(null!=t){e=i.extend({},x,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var s=e.at;null!=s&&(s=+s),s>this.length&&(s=this.length),s<0&&(s+=this.length+1);var o,a,r=[],h=[],l=[],c=[],u={},p=e.add,d=e.merge,f=e.remove,m=!1,g=this.comparator&&null==s&&e.sort!==!1,v=i.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var y=this.get(o);if(y){if(d&&o!==y){var _=this._isModel(o)?o.attributes:o;e.parse&&(_=y.parse(_,e)),y.set(_,e),l.push(y),g&&!m&&(m=y.hasChanged(v))}u[y.cid]||(u[y.cid]=!0,r.push(y)),t[a]=y}else p&&(o=t[a]=this._prepareModel(o,e),o&&(h.push(o),this._addReference(o,e),u[o.cid]=!0,r.push(o)))}if(f){for(a=0;a<this.length;a++)o=this.models[a],u[o.cid]||c.push(o);c.length&&this._removeModels(c,e)}var w=!1,b=!g&&p&&f;if(r.length&&b?(w=this.length!==r.length||i.some(this.models,function(t,e){return t!==r[e]}),this.models.length=0,C(this.models,r,0),this.length=this.models.length):h.length&&(g&&(m=!0),C(this.models,h,null==s?this.length:s),this.length=this.models.length),m&&this.sort({silent:!0}),!e.silent){for(a=0;a<h.length;a++)null!=s&&(e.index=s+a),o=h[a],o.trigger("add",o,this,e);(m||w)&&this.trigger("sort",this,e),(h.length||c.length||l.length)&&(e.changes={added:h,removed:c,merged:l},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=i.extend({parse:!0},t);var e=t.success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},H(this,t),this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var n=e.wait;if(t=this._prepareModel(t,e),!t)return!1;n||this.add(t,e);var s=this,o=e.success;return e.success=function(t,e,i){n&&s.add(t,i),o&&o.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var s=this.get(t[n]);if(s){var o=this.indexOf(s);this.models.splice(o,1),this.length--,delete this._byId[s.cid];var a=this.modelId(s.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=o,s.trigger("remove",s,this,e)),i.push(s),this._removeReference(s,e)}}return i},_isModel:function(t){return t instanceof _},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var s=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);s!==o&&(null!=s&&delete this._byId[s],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}});var S={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};r(b,S,"models");var M=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,O)),this._ensureElement(),this.initialize.apply(this,arguments)},A=/^(\S+)\s*(.*)$/,O=["model","collection","el","id","attributes","className","tagName","events"];i.extend(M.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var s=e.match(A);this.delegate(s[1],s[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,s){var o=$[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(s.url||(a.url=i.result(n,"url")||R()),null!=s.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",s.emulateJSON&&(a.data._method=o);var r=s.beforeSend;s.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),r)return r.apply(this,arguments)}}"GET"===a.type||s.emulateJSON||(a.processData=!1);var h=s.error;s.error=function(t,e,i){s.textStatus=e,s.errorThrown=i,h&&h.call(s.context,t,e,i)};var l=s.xhr=e.ajax(i.extend(a,s));return n.trigger("request",n,l,s),l};var $={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var I=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},B=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,P=/\*\w+/g,k=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(I.prototype,c,{initialize:function(){},route:function(t,n,s){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var o=this;return e.history.route(t,function(i){var a=o._extractParameters(t,i);o.execute(s,a,n)!==!1&&(o.trigger.apply(o,["route:"+n].concat(a)),o.trigger("route",n,a),e.history.trigger("route",o,n,a))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(k,"\\$&").replace(B,"(?:$1)?").replace(E,function(t,e){return e?t:"([^/?]+)"}).replace(P,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var V=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},D=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,N=/#.*$/;V.started=!1,i.extend(V.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(D,"")},start:function(t){if(V.started)throw new Error("Backbone.history has already been started");if(V.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(L,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,s=n.insertBefore(this.iframe,n.firstChild).contentWindow;s.document.open(),s.document.close(),s.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),V.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!V.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(N,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;e.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new V;var z=function(t,e){var n,s=this;return n=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,e),n.prototype=i.create(s.prototype,t),n.prototype.constructor=n,n.__super__=s.prototype,n};_.extend=b.extend=I.extend=M.extend=V.extend=z;var R=function(){throw new Error('A "url" property or function must be specified')},H=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e})}).call(e,function(){return this}())},function(t,e,i){var n,s;(function(){function i(t){function e(e,i,n,s,o,a){for(;o>=0&&o<a;o+=t){var r=s?s[o]:o;n=i(n,e[r],r,e)}return n}return function(i,n,s,o){n=T(n,o,4);var a=!I(i)&&x.keys(i),r=(a||i).length,h=t>0?0:r-1;return arguments.length<3&&(s=i[a?a[h]:h],h+=t),e(i,n,s,a,h,r)}}function o(t){return function(e,i,n){i=C(i,n);for(var s=$(e),o=t>0?0:s-1;o>=0&&o<s;o+=t)if(i(e[o],o,e))return o;return-1}}function a(t,e,i){return function(n,s,o){var a=0,r=$(n);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+r,a):r=o>=0?Math.min(o+1,r):o+r+1;else if(i&&o&&r)return o=i(n,s),n[o]===s?o:-1;if(s!==s)return o=e(f.call(n,a,r),x.isNaN),o>=0?o+a:-1;for(o=t>0?a:r-1;o>=0&&o<r;o+=t)if(n[o]===s)return o;return-1}}function r(t,e){var i=V.length,n=t.constructor,s=x.isFunction(n)&&n.prototype||u,o="constructor";for(x.has(t,o)&&!x.contains(e,o)&&e.push(o);i--;)o=V[i],o in t&&t[o]!==s[o]&&!x.contains(e,o)&&e.push(o)}var h=this,l=h._,c=Array.prototype,u=Object.prototype,p=Function.prototype,d=c.push,f=c.slice,m=u.toString,g=u.hasOwnProperty,v=Array.isArray,y=Object.keys,_=p.bind,w=Object.create,b=function(){},x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=x),e._=x,x.VERSION="1.8.3";var T=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,s){return t.call(e,i,n,s)};case 4:return function(i,n,s,o){return t.call(e,i,n,s,o)}}return function(){return t.apply(e,arguments)}},C=function(t,e,i){return null==t?x.identity:x.isFunction(t)?T(t,e,i):x.isObject(t)?x.matcher(t):x.property(t)};x.iteratee=function(t,e){return C(t,e,1/0)};var S=function(t,e){return function(i){var n=arguments.length;if(n<2||null==i)return i;for(var s=1;s<n;s++)for(var o=arguments[s],a=t(o),r=a.length,h=0;h<r;h++){var l=a[h];e&&void 0!==i[l]||(i[l]=o[l])}return i}},M=function(t){if(!x.isObject(t))return{};if(w)return w(t);b.prototype=t;var e=new b;return b.prototype=null,e},A=function(t){return function(e){return null==e?void 0:e[t]}},O=Math.pow(2,53)-1,$=A("length"),I=function(t){var e=$(t);return"number"==typeof e&&e>=0&&e<=O};x.each=x.forEach=function(t,e,i){e=T(e,i);var n,s;if(I(t))for(n=0,s=t.length;n<s;n++)e(t[n],n,t);else{var o=x.keys(t);for(n=0,s=o.length;n<s;n++)e(t[o[n]],o[n],t)}return t},x.map=x.collect=function(t,e,i){e=C(e,i);for(var n=!I(t)&&x.keys(t),s=(n||t).length,o=Array(s),a=0;a<s;a++){var r=n?n[a]:a;o[a]=e(t[r],r,t)}return o},x.reduce=x.foldl=x.inject=i(1),x.reduceRight=x.foldr=i(-1),x.find=x.detect=function(t,e,i){var n;if(n=I(t)?x.findIndex(t,e,i):x.findKey(t,e,i),void 0!==n&&n!==-1)return t[n]},x.filter=x.select=function(t,e,i){var n=[];return e=C(e,i),x.each(t,function(t,i,s){e(t,i,s)&&n.push(t)}),n},x.reject=function(t,e,i){return x.filter(t,x.negate(C(e)),i)},x.every=x.all=function(t,e,i){e=C(e,i);for(var n=!I(t)&&x.keys(t),s=(n||t).length,o=0;o<s;o++){var a=n?n[o]:o;if(!e(t[a],a,t))return!1}return!0},x.some=x.any=function(t,e,i){e=C(e,i);for(var n=!I(t)&&x.keys(t),s=(n||t).length,o=0;o<s;o++){var a=n?n[o]:o;if(e(t[a],a,t))return!0}return!1},x.contains=x.includes=x.include=function(t,e,i,n){return I(t)||(t=x.values(t)),("number"!=typeof i||n)&&(i=0),x.indexOf(t,e,i)>=0},x.invoke=function(t,e){var i=f.call(arguments,2),n=x.isFunction(e);return x.map(t,function(t){var s=n?e:t[e];return null==s?s:s.apply(t,i)})},x.pluck=function(t,e){return x.map(t,x.property(e))},x.where=function(t,e){return x.filter(t,x.matcher(e))},x.findWhere=function(t,e){return x.find(t,x.matcher(e))},x.max=function(t,e,i){var n,s,o=-(1/0),a=-(1/0);if(null==e&&null!=t){t=I(t)?t:x.values(t);for(var r=0,h=t.length;r<h;r++)n=t[r],n>o&&(o=n)}else e=C(e,i),x.each(t,function(t,i,n){s=e(t,i,n),(s>a||s===-(1/0)&&o===-(1/0))&&(o=t,a=s)});return o},x.min=function(t,e,i){var n,s,o=1/0,a=1/0;if(null==e&&null!=t){t=I(t)?t:x.values(t);for(var r=0,h=t.length;r<h;r++)n=t[r],n<o&&(o=n)}else e=C(e,i),x.each(t,function(t,i,n){s=e(t,i,n),(s<a||s===1/0&&o===1/0)&&(o=t,a=s)});return o},x.shuffle=function(t){for(var e,i=I(t)?t:x.values(t),n=i.length,s=Array(n),o=0;o<n;o++)e=x.random(0,o),e!==o&&(s[o]=s[e]),s[e]=i[o];return s},x.sample=function(t,e,i){return null==e||i?(I(t)||(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,e))},x.sortBy=function(t,e,i){return e=C(e,i),x.pluck(x.map(t,function(t,i,n){return{value:t,index:i,criteria:e(t,i,n)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var B=function(t){return function(e,i,n){var s={};return i=C(i,n),x.each(e,function(n,o){var a=i(n,o,e);t(s,n,a)}),s}};x.groupBy=B(function(t,e,i){x.has(t,i)?t[i].push(e):t[i]=[e]}),x.indexBy=B(function(t,e,i){t[i]=e}),x.countBy=B(function(t,e,i){x.has(t,i)?t[i]++:t[i]=1}),x.toArray=function(t){return t?x.isArray(t)?f.call(t):I(t)?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:I(t)?t.length:x.keys(t).length},x.partition=function(t,e,i){e=C(e,i);var n=[],s=[];return x.each(t,function(t,i,o){(e(t,i,o)?n:s).push(t)}),[n,s]},x.first=x.head=x.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:x.initial(t,t.length-e)},x.initial=function(t,e,i){return f.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},x.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:x.rest(t,Math.max(0,t.length-e))},x.rest=x.tail=x.drop=function(t,e,i){return f.call(t,null==e||i?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var E=function(t,e,i,n){for(var s=[],o=0,a=n||0,r=$(t);a<r;a++){var h=t[a];if(I(h)&&(x.isArray(h)||x.isArguments(h))){e||(h=E(h,e,i));var l=0,c=h.length;for(s.length+=c;l<c;)s[o++]=h[l++]}else i||(s[o++]=h)}return s};x.flatten=function(t,e){return E(t,e,!1)},x.without=function(t){return x.difference(t,f.call(arguments,1))},x.uniq=x.unique=function(t,e,i,n){x.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=C(i,n));for(var s=[],o=[],a=0,r=$(t);a<r;a++){var h=t[a],l=i?i(h,a,t):h;e?(a&&o===l||s.push(h),o=l):i?x.contains(o,l)||(o.push(l),s.push(h)):x.contains(s,h)||s.push(h)}return s},x.union=function(){return x.uniq(E(arguments,!0,!0))},x.intersection=function(t){for(var e=[],i=arguments.length,n=0,s=$(t);n<s;n++){var o=t[n];if(!x.contains(e,o)){for(var a=1;a<i&&x.contains(arguments[a],o);a++);a===i&&e.push(o)}}return e},x.difference=function(t){var e=E(arguments,!0,!0,1);return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(t){for(var e=t&&x.max(t,$).length||0,i=Array(e),n=0;n<e;n++)i[n]=x.pluck(t,n);return i},x.object=function(t,e){for(var i={},n=0,s=$(t);n<s;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},x.findIndex=o(1),x.findLastIndex=o(-1),x.sortedIndex=function(t,e,i,n){i=C(i,n,1);for(var s=i(e),o=0,a=$(t);o<a;){var r=Math.floor((o+a)/2);i(t[r])<s?o=r+1:a=r}return o},x.indexOf=a(1,x.findIndex,x.sortedIndex),x.lastIndexOf=a(-1,x.findLastIndex),x.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),s=Array(n),o=0;o<n;o++,t+=i)s[o]=t;return s};var P=function(t,e,i,n,s){if(!(n instanceof e))return t.apply(i,s);var o=M(t.prototype),a=t.apply(o,s);return x.isObject(a)?a:o};x.bind=function(t,e){if(_&&t.bind===_)return _.apply(t,f.call(arguments,1));if(!x.isFunction(t))throw new TypeError("Bind must be called on a function");var i=f.call(arguments,2),n=function(){return P(t,n,e,this,i.concat(f.call(arguments)))};return n},x.partial=function(t){var e=f.call(arguments,1),i=function(){for(var n=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===x?arguments[n++]:e[a];for(;n<arguments.length;)o.push(arguments[n++]);return P(t,i,this,this,o)};return i},x.bindAll=function(t){var e,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)i=arguments[e],t[i]=x.bind(t[i],t);return t},x.memoize=function(t,e){var i=function(n){var s=i.cache,o=""+(e?e.apply(this,arguments):n);return x.has(s,o)||(s[o]=t.apply(this,arguments)),s[o]};return i.cache={},i},x.delay=function(t,e){var i=f.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},x.defer=x.partial(x.delay,x,1),x.throttle=function(t,e,i){var n,s,o,a=null,r=0;i||(i={});var h=function(){r=i.leading===!1?0:x.now(),a=null,o=t.apply(n,s),a||(n=s=null)};return function(){var l=x.now();r||i.leading!==!1||(r=l);var c=e-(l-r);return n=this,s=arguments,c<=0||c>e?(a&&(clearTimeout(a),a=null),r=l,o=t.apply(n,s),a||(n=s=null)):a||i.trailing===!1||(a=setTimeout(h,c)),o}},x.debounce=function(t,e,i){var n,s,o,a,r,h=function(){var l=x.now()-a;l<e&&l>=0?n=setTimeout(h,e-l):(n=null,i||(r=t.apply(o,s),n||(o=s=null)))};return function(){o=this,s=arguments,a=x.now();var l=i&&!n;return n||(n=setTimeout(h,e)),l&&(r=t.apply(o,s),o=s=null),r}},x.wrap=function(t,e){return x.partial(e,t)},x.negate=function(t){return function(){return!t.apply(this,arguments)}},x.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},x.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},x.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},x.once=x.partial(x.before,2);var k=!{toString:null}.propertyIsEnumerable("toString"),V=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(t){if(!x.isObject(t))return[];if(y)return y(t);var e=[];for(var i in t)x.has(t,i)&&e.push(i);return k&&r(t,e),e},x.allKeys=function(t){if(!x.isObject(t))return[];var e=[];for(var i in t)e.push(i);return k&&r(t,e),e},x.values=function(t){for(var e=x.keys(t),i=e.length,n=Array(i),s=0;s<i;s++)n[s]=t[e[s]];return n},x.mapObject=function(t,e,i){e=C(e,i);for(var n,s=x.keys(t),o=s.length,a={},r=0;r<o;r++)n=s[r],a[n]=e(t[n],n,t);return a},x.pairs=function(t){for(var e=x.keys(t),i=e.length,n=Array(i),s=0;s<i;s++)n[s]=[e[s],t[e[s]]];return n},x.invert=function(t){for(var e={},i=x.keys(t),n=0,s=i.length;n<s;n++)e[t[i[n]]]=i[n];return e},x.functions=x.methods=function(t){var e=[];for(var i in t)x.isFunction(t[i])&&e.push(i);return e.sort()},x.extend=S(x.allKeys),x.extendOwn=x.assign=S(x.keys),x.findKey=function(t,e,i){e=C(e,i);for(var n,s=x.keys(t),o=0,a=s.length;o<a;o++)if(n=s[o],e(t[n],n,t))return n},x.pick=function(t,e,i){var n,s,o={},a=t;if(null==a)return o;x.isFunction(e)?(s=x.allKeys(a),n=T(e,i)):(s=E(arguments,!1,!1,1),n=function(t,e,i){return e in i},a=Object(a));for(var r=0,h=s.length;r<h;r++){var l=s[r],c=a[l];n(c,l,a)&&(o[l]=c)}return o},x.omit=function(t,e,i){if(x.isFunction(e))e=x.negate(e);else{var n=x.map(E(arguments,!1,!1,1),String);e=function(t,e){return!x.contains(n,e)}}return x.pick(t,e,i)},x.defaults=S(x.allKeys,!0),x.create=function(t,e){var i=M(t);return e&&x.extendOwn(i,e),i},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t},x.isMatch=function(t,e){var i=x.keys(e),n=i.length;if(null==t)return!n;for(var s=Object(t),o=0;o<n;o++){var a=i[o];if(e[a]!==s[a]||!(a in s))return!1}return!0};var D=function(t,e,i,n){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var s=m.call(t);if(s!==m.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===s;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,r=e.constructor;if(a!==r&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(r)&&r instanceof r)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var h=i.length;h--;)if(i[h]===t)return n[h]===e;if(i.push(t),n.push(e),o){if(h=t.length,h!==e.length)return!1;for(;h--;)if(!D(t[h],e[h],i,n))return!1}else{var l,c=x.keys(t);if(h=c.length,x.keys(e).length!==h)return!1;for(;h--;)if(l=c[h],!x.has(e,l)||!D(t[l],e[l],i,n))return!1}return i.pop(),n.pop(),!0};x.isEqual=function(t,e){return D(t,e)},x.isEmpty=function(t){return null==t||(I(t)&&(x.isArray(t)||x.isString(t)||x.isArguments(t))?0===t.length:0===x.keys(t).length)},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=v||function(t){return"[object Array]"===m.call(t)},x.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){x["is"+t]=function(e){return m.call(e)==="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return x.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(t){return"function"==typeof t||!1}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!==+t},x.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===m.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return null!=t&&g.call(t,e)},x.noConflict=function(){return h._=l,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.noop=function(){},x.property=A,x.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},x.matcher=x.matches=function(t){return t=x.extendOwn({},t),function(e){return x.isMatch(e,t)}},x.times=function(t,e,i){var n=Array(Math.max(0,t));e=T(e,i,1);for(var s=0;s<t;s++)n[s]=e(s);return n},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=x.invert(L),z=function(t){var e=function(e){return t[e]},i="(?:"+x.keys(t).join("|")+")",n=RegExp(i),s=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(s,e):t}};x.escape=z(L),x.unescape=z(N),x.result=function(t,e,i){var n=null==t?void 0:t[e];return void 0===n&&(n=i),x.isFunction(n)?n.call(t):n};var R=0;x.uniqueId=function(t){var e=++R+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+F[t]};x.template=function(t,e,i){!e&&i&&(e=i),e=x.defaults({},e,x.templateSettings);var n=RegExp([(e.escape||H).source,(e.interpolate||H).source,(e.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";t.replace(n,function(e,i,n,a,r){return o+=t.slice(s,r).replace(j,U),s=r+e.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(r){throw r.source=o,r}var h=function(t){return a.call(this,t,x)},l=e.variable||"obj";return h.source="function("+l+"){\n"+o+"}",h},x.chain=function(t){var e=x(t);return e._chain=!0,e};var Y=function(t,e){return t._chain?x(e).chain():e};x.mixin=function(t){x.each(x.functions(t),function(e){var i=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return d.apply(t,arguments),Y(this,i.apply(x,t))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=c[t];x.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],Y(this,i)}}),x.each(["concat","join","slice"],function(t){var e=c[t];x.prototype[t]=function(){return Y(this,e.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},n=[],s=function(){return x}.apply(e,n),!(void 0!==s&&(t.exports=s))}).call(this)},function(t,e,i){(function(e,n){"use strict";i(3),i(5);var s=i(6),o=i(21),a=function(){
e.extend(this,n.Events)};a.prototype.init=function(){o.init(),s.init()},t.exports=a}).call(e,i(3),i(2))},function(t,e){(function(){window.Detectizr=function(t,e,i,n){function s(t,e){var i,n,o;if(arguments.length>2)for(i=1,n=arguments.length;i<n;i+=1)s(t,arguments[i]);else for(o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function o(t){return w.browser.userAgent.indexOf(t)>-1}function a(t){return t.test(w.browser.userAgent)}function r(t){return t.exec(w.browser.userAgent)}function h(t){return t.replace(/^\s+|\s+$/g,"")}function l(t){return null===t||t===n?"":String(t).replace(/((\s|\-|\.)+[a-z0-9])/g,function(t){return t.toUpperCase().replace(/(\s|\-|\.)/g,"")})}function c(t,e){var i=e||"",n=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(S," "):"");if(n){for(;n.indexOf(" "+i+" ")>=0;)n=n.replace(" "+i+" "," ");t.className=e?h(n):""}}function u(t,e,i){t&&(t=l(t),e&&(e=l(e),p(t+e,!0),i&&p(t+e+"_"+i,!0)))}function p(t,e){t&&b&&(T.addAllFeaturesAsClass?b.addTest(t,e):(e="function"==typeof e?e():e,e?b.addTest(t,!0):(delete b[t],c(M,t))))}function d(t,e){t.version=e;var i=e.split(".");i.length>0?(i=i.reverse(),t.major=i.pop(),i.length>0?(t.minor=i.pop(),i.length>0?(i=i.reverse(),t.patch=i.join(".")):t.patch="0"):t.minor="0"):t.major="0"}function f(){t.clearTimeout(y),y=t.setTimeout(function(){_=w.device.orientation,t.innerHeight>t.innerWidth?w.device.orientation="portrait":w.device.orientation="landscape",p(w.device.orientation,!0),_!==w.device.orientation&&p(_,!1)},10)}function m(t){var i,n,s,o,a,r=e.plugins;for(o=r.length-1;o>=0;o--){for(i=r[o],n=i.name+i.description,s=0,a=t.length;a>=0;a--)n.indexOf(t[a])!==-1&&(s+=1);if(s===t.length)return!0}return!1}function g(t){var e;for(e=t.length-1;e>=0;e--)try{new ActiveXObject(t[e])}catch(i){}return!1}function v(n){var h,c,v,y,_,S,M;if(T=s({},T,n||{}),T.detectDevice){for(w.device={type:"",model:"",orientation:""},v=w.device,a(/googletv|smarttv|smart-tv|internet.tv|netcast|nettv|appletv|boxee|kylo|roku|dlnadoc|roku|pov_tv|hbbtv|ce\-html/)?(v.type=x[0],v.model="smartTv"):a(/xbox|playstation.3|wii/)?(v.type=x[0],v.model="gameConsole"):a(/ip(a|ro)d/)?(v.type=x[1],v.model="ipad"):a(/tablet/)&&!a(/rx-34/)||a(/folio/)?(v.type=x[1],v.model=String(r(/playbook/)||"")):a(/linux/)&&a(/android/)&&!a(/fennec|mobi|htc.magic|htcX06ht|nexus.one|sc-02b|fone.945/)?(v.type=x[1],v.model="android"):a(/kindle/)||a(/mac.os/)&&a(/silk/)?(v.type=x[1],v.model="kindle"):a(/gt-p10|sc-01c|shw-m180s|sgh-t849|sch-i800|shw-m180l|sph-p100|sgh-i987|zt180|htc(.flyer|\_flyer)|sprint.atp51|viewpad7|pandigital(sprnova|nova)|ideos.s7|dell.streak.7|advent.vega|a101it|a70bht|mid7015|next2|nook/)||a(/mb511/)&&a(/rutem/)?(v.type=x[1],v.model="android"):a(/bb10/)?(v.type=x[1],v.model="blackberry"):(v.model=r(/iphone|ipod|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec|j2me/),null!==v.model?(v.type=x[2],v.model=String(v.model)):(v.model="",a(/bolt|fennec|iris|maemo|minimo|mobi|mowser|netfront|novarra|prism|rx-34|skyfire|tear|xv6875|xv6975|google.wireless.transcoder/)?v.type=x[2]:a(/opera/)&&a(/windows.nt.5/)&&a(/htc|xda|mini|vario|samsung\-gt\-i8000|samsung\-sgh\-i9/)?v.type=x[2]:a(/windows.(nt|xp|me|9)/)&&!a(/phone/)||a(/win(9|.9|nt)/)||a(/\(windows 8\)/)?v.type=x[3]:a(/macintosh|powerpc/)&&!a(/silk/)?(v.type=x[3],v.model="mac"):a(/linux/)&&a(/x11/)?v.type=x[3]:a(/solaris|sunos|bsd/)?v.type=x[3]:a(/cros/)?v.type=x[3]:a(/bot|crawler|spider|yahoo|ia_archiver|covario-ids|findlinks|dataparksearch|larbin|mediapartners-google|ng-search|snappy|teoma|jeeves|tineye/)&&!a(/mobile/)?(v.type=x[3],v.model="crawler"):v.type=x[2])),h=0,c=x.length;h<c;h+=1)p(x[h],v.type===x[h]);T.detectDeviceModel&&p(l(v.model),!0)}if(T.detectScreen&&(v.screen={},b&&b.mq&&(b.mq("only screen and (max-width: 240px)")?(v.screen.size="veryVerySmall",p("veryVerySmallScreen",!0)):b.mq("only screen and (max-width: 320px)")?(v.screen.size="verySmall",p("verySmallScreen",!0)):b.mq("only screen and (max-width: 480px)")&&(v.screen.size="small",p("smallScreen",!0)),v.type!==x[1]&&v.type!==x[2]||b.mq("only screen and (-moz-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)")&&(v.screen.resolution="high",p("highresolution",!0))),v.type===x[1]||v.type===x[2]?(t.onresize=function(t){f(t)},f()):(v.orientation="landscape",p(v.orientation,!0))),T.detectOS&&(w.os={},y=w.os,""!==v.model&&("ipad"===v.model||"iphone"===v.model||"ipod"===v.model?(y.name="ios",d(y,(a(/os\s([\d_]+)/)?RegExp.$1:"").replace(/_/g,"."))):"android"===v.model?(y.name="android",d(y,a(/android\s([\d\.]+)/)?RegExp.$1:"")):"blackberry"===v.model?(y.name="blackberry",d(y,a(/version\/([^\s]+)/)?RegExp.$1:"")):"playbook"===v.model&&(y.name="blackberry",d(y,a(/os ([^\s]+)/)?RegExp.$1.replace(";",""):""))),y.name||(o("win")||o("16bit")?(y.name="windows",o("windows nt 6.3")?d(y,"8.1"):o("windows nt 6.2")||a(/\(windows 8\)/)?d(y,"8"):o("windows nt 6.1")?d(y,"7"):o("windows nt 6.0")?d(y,"vista"):o("windows nt 5.2")||o("windows nt 5.1")||o("windows xp")?d(y,"xp"):o("windows nt 5.0")||o("windows 2000")?d(y,"2k"):o("winnt")||o("windows nt")?d(y,"nt"):o("win98")||o("windows 98")?d(y,"98"):(o("win95")||o("windows 95"))&&d(y,"95")):o("mac")||o("darwin")?(y.name="mac os",o("68k")||o("68000")?d(y,"68k"):o("ppc")||o("powerpc")?d(y,"ppc"):o("os x")&&d(y,(a(/os\sx\s([\d_]+)/)?RegExp.$1:"os x").replace(/_/g,"."))):o("webtv")?y.name="webtv":o("x11")||o("inux")?y.name="linux":o("sunos")?y.name="sun":o("irix")?y.name="irix":o("freebsd")?y.name="freebsd":o("bsd")&&(y.name="bsd")),y.name&&(p(y.name,!0),y.major&&(u(y.name,y.major),y.minor&&u(y.name,y.major,y.minor))),a(/\sx64|\sx86|\swin64|\swow64|\samd64/)?y.addressRegisterSize="64bit":y.addressRegisterSize="32bit",p(y.addressRegisterSize,!0)),T.detectBrowser&&(_=w.browser,a(/opera|webtv/)||!a(/msie\s([\d\w\.]+)/)&&!o("trident")?o("firefox")?(_.engine="gecko",_.name="firefox",d(_,a(/firefox\/([\d\w\.]+)/)?RegExp.$1:"")):o("gecko/")?_.engine="gecko":o("opera")?(_.name="opera",_.engine="presto",d(_,a(/version\/([\d\.]+)/)?RegExp.$1:a(/opera(\s|\/)([\d\.]+)/)?RegExp.$2:"")):o("konqueror")?_.name="konqueror":o("chrome")?(_.engine="webkit",_.name="chrome",d(_,a(/chrome\/([\d\.]+)/)?RegExp.$1:"")):o("iron")?(_.engine="webkit",_.name="iron"):o("crios")?(_.name="chrome",_.engine="webkit",d(_,a(/crios\/([\d\.]+)/)?RegExp.$1:"")):o("applewebkit/")?(_.name="safari",_.engine="webkit",d(_,a(/version\/([\d\.]+)/)?RegExp.$1:"")):o("mozilla/")&&(_.engine="gecko"):(_.engine="trident",_.name="ie",!t.addEventListener&&i.documentMode&&7===i.documentMode?d(_,"8.compat"):a(/trident.*rv[ :](\d+)\./)?d(_,RegExp.$1):d(_,a(/trident\/4\.0/)?"8":RegExp.$1)),_.name&&(p(_.name,!0),_.major&&(u(_.name,_.major),_.minor&&u(_.name,_.major,_.minor))),p(_.engine,!0),_.language=e.userLanguage||e.language,p(_.language,!0)),T.detectPlugins){for(_.plugins=[],h=C.length-1;h>=0;h--)S=C[h],M=!1,t.ActiveXObject?M=g(S.progIds):e.plugins&&(M=m(S.substrs)),M&&(_.plugins.push(S.name),p(S.name,!0));e.javaEnabled()&&(_.plugins.push("java"),p("java",!0))}}var y,_,w={},b=t.Modernizr,x=["tv","tablet","mobile","desktop"],T={addAllFeaturesAsClass:!1,detectDevice:!0,detectDeviceModel:!0,detectScreen:!0,detectOS:!0,detectBrowser:!0,detectPlugins:!0},C=[{name:"adobereader",substrs:["Adobe","Acrobat"],progIds:["AcroPDF.PDF","PDF.PDFCtrl.5"]},{name:"flash",substrs:["Shockwave Flash"],progIds:["ShockwaveFlash.ShockwaveFlash.1"]},{name:"wmplayer",substrs:["Windows Media"],progIds:["wmplayer.ocx"]},{name:"silverlight",substrs:["Silverlight"],progIds:["AgControl.AgControl"]},{name:"quicktime",substrs:["QuickTime"],progIds:["QuickTime.QuickTime"]}],S=/[\t\r\n]/g,M=i.documentElement;return w.detect=function(t){return v(t)},w.init=function(){w!==n&&(w.browser={userAgent:(e.userAgent||e.vendor||t.opera).toLowerCase()},w.detect())},w.init(),w}(this,this.navigator,this.document),t.exports=window.Detectizr}).call(window)},function(t,e,i){(function(e,n){"use strict";var s=i(7),o=i(8),a=function(){this.routes={":page/:params/:category/:theme/":"default",":page/:params/:category/":"default",":page/:params/":"default","":"default"},this.history=[],this.mainView=o,e.Router.call(this)};n.extend(a,e.Router),n.extend(a.prototype,e.Router.prototype),a.prototype.init=function(){this.listenToOnce(this.mainView,s.INIT,r.bind(this)),this.mainView.init()};var r=function(){e.history.start({pushState:!0})};a.prototype["default"]=function(t,e,i,n){var s=t?t:null,o=e?e:null,a=i?i:null,r=n?n:null;this.mainView.pageManager.navigateTo(s,o,a,r),this.history.push(s)},a.prototype.current_page=function(){return n.last(this.history)},a.prototype.back=function(){e.history.navigate(this.previous_page(),{trigger:!1})},a.prototype.previous_page=function(){return this.history.length<=1?null:this.history[this.history.length-2]},t.exports=new a}).call(e,i(2),i(3))},function(t,e){"use strict";var i={INIT:"init",SHOWN:"shown",PAGE_SHOWN:"page_shown",SHOW_PAGE:"show_page",HIDDEN:"hidden",HIDE_PAGE:"hide_page",PAGE_HIDDEN:"page_hidden",PRE_HIDDEN:"prehidden",POST_HIDDEN:"posthidden",COMPLETE:"complete",DISPOSE:"dispose",NAVIGATE:"navigate",PAUSE:"pause",UNPAUSE:"unpause",PAGE_RENDERED:"rendered",UI_RENDERED:"rendered",CANVAS_SHOWN:"canvas_shown",CANVAS_HIDDEN:"canvas_hidden",CAREER_BLOCK_UPDATED:"career_block_updated",BLOCK_SHOWN:"block_shown",BLOCK_HIDDEN:"block_hidden",STORY_OVERLAY_SHOWN:"story_overlay_shown",STORY_OVERLAY_HIDDEN:"story_overlay_hidden",BLOB_IMG_LOADED:"blob_img_loaded",LOADER_SHOWN:"loader_shown",LOADER_HIDDEN:"loader_hidden",LOADER_COMPLETE:"loader_complete",LOADER_COMPLETE_RESULT:"loader_complete_result",LOADER_INIT:"loader_init",ON_ORIENTATION_CHANGE:"on_orientation_change",ON_RESIZE:"on_resize",ON_MOUSE_OUT:"on_mouse_out",ON_MOUSE_MOVE:"on_mouse_move",ON_MOUSE_DOWN:"on_mouse_down",ON_MOUSE_LEAVE:"on_mouse_leave",ON_MOUSE_ENTER:"on_mouse_enter",ON_MOUSE_UP:"on_mouse_up",ON_TOUCH_START:"on_touch_start",ON_TOUCH_MOVE:"on_touch_move",ON_TOUCH_END:"on_touch_end",ON_RAF:"on_raf",ON_SCROLL:"on_scroll",ON_KEYDOWN:"on_keydown",ON_CLICK:"on_click",RELAYOUT:"relayout",CAROUSEL_ITEM_CLICKED:"carousel_item_clicked",CAROUSEL_INDICATOR_CLICKED:"carousel_indicator_clicked",CAROUSEL_TIMER_CLICKED:"carousel_timer_clicked",CAROUSEL_TIMER_ENDED:"carousel_timer_ended",CANVAS_MASK_OVERLAY_CLICKED:"canvas_mask_overlay_clicked",CANVAS_MASK_OVERLAY_MOUSE_LEAVE:"canvas_mask_overlay_mouse_leave",CANVAS_MASK_OVERLAY_MOUSE_ENTER:"canvas_mask_overlay_mouse_enter",CANVAS_JOIN_BLOB_CLICKED:"canvas_join_blob_clicked",MENU_ITEM_CLICKED:"menu_item_clicked",READY:"on_ready",STATE_CHANGE:"state_change",STATE_QUALITY:"state_quantity",ON_TOGGLE_PLAY:"on_toggle_play",ON_FULLSCREEN:"on_fullscreen",ON_SEEK:"on_seek",ON_PAUSE:"on_pause",ON_STOP:"on_stop",ON_PLAY:"on_play",ON_END:"on_end",CLOSE:"close"};t.exports=i},function(t,e,i){(function(e,n,s){"use strict";var o=i(7),a=i(9),r=i(12),h=(i(21),i(85)),l=(i(23),i(86).Lethargy),c=i(87),u=function(t,i){this.el=document.body,this.$el=e(this.el),this.idView="mainpage",this.$bodyHtml=e("body,html"),this.$html=e("html"),this.navColor=null,this.lethargy=null,this.hasOrientationChange=!1,this.transitionGradientView=null,this.headerView=null,this.footerView=null,this.metaViewport=null,this.$container=null,this.$html=null,this.$body=null,this.$overlayMobile=null,this.blockMouseEvent=!1,this.canMove=!0,this.itsSettled=!1,this.RAFFnc=null,this.pageManager=null,this.handlers={},this.ticketScroll=!1,this.isNormalScroll=!1,r.mainView=this,n.View.call(this,t,i)};s.extend(u,n.View),s.extend(u.prototype,n.View.prototype),u.prototype.initialize=function(){S.call(this),this.bindMainEvents()},u.prototype.init=function(){this.$el.addClass(r.isMobile?"isMobile":"isTablet"),this.pageManager=new a({mainView:this}),this.$hide=e(".hide-content"),this.$hideImg=e(".hide-content img"),r.isMobile&&TweenMax.fromTo(this.$hideImg,1,{scale:1},{scale:1.2,ease:Expo.easeOut,repeat:-1,yoyo:!0}),this.listenTo(this.pageManager,o.PAGE_RENDERED,A.bind(this)),this.listenTo(this.pageManager,o.SHOW_PAGE,p.bind(this)),this.listenTo(this.pageManager,o.PAGE_SHOWN,d.bind(this)),this.listenTo(this.pageManager,o.HIDE_PAGE,f.bind(this)),this.handlers.onUpdate=b.bind(this),this.headerView=new h({el:this.$el.find("header")[0],mainView:this}),this.headerView.init(),this.listenTo(this.headerView,o.MENU_ITEM_CLICKED,g.bind(this)),this.listenTo(this.pageManager,o.RELAYOUT,m.bind(this)),this.footerView=new c({el:this.$el.find("#footer")[0]}),this.footerView.init(),S.call(this),b.call(this),this.trigger(o.INIT)},u.prototype.setNormalScrollBehavior=function(t){this.isNormalScroll=void 0===t||t,this.isNormalScroll?this.$el.addClass("normalScrollBehavior"):this.$el.removeClass("normalScrollBehavior"),TweenMax.set(this.$bodyHtml,{scrollTo:0}),TweenMax.set(this.$container,{scrollTo:0})},u.prototype.firstInit=function(){this.hasOrientationChange&&y.call(this,!0)};var p=function(){this.footerView&&(this.footerView.onResize(),this.footerView.show()),this.headerView&&(this.headerView.onResize(),this.headerView.show()),this.pageManager&&this.pageManager.currentPage&&"careers"===this.pageManager.currentPage.options.slug&&this.listenTo(this.pageManager.currentPage,o.CAREER_BLOCK_UPDATED,v.bind(this))},d=function(){},f=function(){this.footerView&&this.footerView.hide(),this.headerView&&this.headerView.hide()},m=function(){};u.prototype.bindMainEvents=function(){this.$html=e("html"),this.$container=e("#container"),this.$body=e("body"),window.addEventListener("resize",S.bind(this),!1),document.addEventListener("keydown",e.proxy(M,this),!1),"onorientationchange"in window&&!1 in window?(window.addEventListener("orientationchange",e.proxy(y,this),!1),this.hasOrientationChange=!0):window.addEventListener("resize",S.bind(this),!1),"mobile"!==Detectizr.device.type||this.hasOrientationChange||(window.addEventListener("orientationchange",e.proxy(y,this),!1),this.hasOrientationChange=!0),this.lethargy=new l(15,50,.05),e(window).bind("mousewheel DOMMouseScroll wheel MozMousePixelScroll",e.proxy(w,this)),this.$body[0].addEventListener("touchstart",e.proxy(x,this),!1),this.$body[0].addEventListener("touchmove",e.proxy(T,this),!1),this.$body[0].addEventListener("touchend",e.proxy(C,this),!1)},u.prototype.setCurrentPage=function(){},u.prototype.calculateScrollY=function(){null!==this.$container?r.scrollY=-this.$container[0].getBoundingClientRect().top:r.scrollY=window.scrollY||window.pageYOffset};var g=function(t){this.pageManager&&this.pageManager.currentPage&&("careers"===this.pageManager.currentPage.options.slug||"healthsystems"===this.pageManager.currentPage.options.slug)&&this.pageManager.currentPage.onMenuClicked&&this.pageManager.currentPage.onMenuClicked(t.index,t.target)},v=function(t){this.pageManager&&this.pageManager.currentPage&&("careers"===this.pageManager.currentPage.options.slug||"healthsystems"===this.pageManager.currentPage.options.slug)&&this.pageManager.currentPage.onMenuClicked&&this.headerView.updatedMenuItems(t.index,t.target)},y=function(t){var e=void 0!==t&&t;this.isLandscape=window.innerHeight<window.innerWidth,window.screen&&void 0!==window.screen.orientation&&(this.isLandscape=90===window.screen.orientation.angle||window.screen.orientation.angle===-90),_.call(this),e||S.call(this)},_=function(){"mobile"===Detectizr.device.type&&(!this.pageManager.currentPage||"careers"!==this.pageManager.currentPage.options.slug&&"healthsystems"!==this.pageManager.currentPage.options.slug||(this.isLandscape?TweenMax.to(this.$hide,.1,{autoAlpha:1,display:"flex",ease:Expo.easeOut}):TweenMax.to(this.$hide,.1,{autoAlpha:0,display:"none",ease:Expo.easeOut})))},w=function(t){if(!r.blockIsAnimating){this.ticketScroll=!0,r.isScrolling=!0;var e=t.wheelDeltaY;r.scrollDeltaY=e,this.lethargy.check(t)!==!1&&(this.lethargy.check(t)===-1?r.scrollYDirection="UP":1===this.lethargy.check(t)&&(r.scrollYDirection="DOWN"),this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.onScroll&&this.pageManager.currentPage.onScroll())}},b=function(){this.ticketScroll||r.isTouching?this.calculateScrollY():r.isScrolling=!1,this.ticketScroll=!1,this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.update(),this.headerView.onUpdate(),this.footerView.onUpdate(),window.requestAnimationFrame(this.handlers.onUpdate)},x=function(t){r.touch.x=r.touch.startX=t.touches[0].clientX,r.touch.y=r.touch.startY=t.touches[0].clientY,r.touch.deltaX=0,r.touch.deltaY=0,r.isTouching=!0,this.ticketScroll=!0,this.calculateScrollY(),this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.onTouchStart&&this.pageManager.currentPage.onTouchStart()},T=function(t){this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.articles&&!this.pageManager.currentPage.articles[this.pageManager.currentPage.currentBlockIndex]["class"].canScroll&&("careers"==r.currentPage||"healthsystems"==r.currentPage)&&t.touches[0].clientY>80&&!this.isNormalScroll&&t.preventDefault(),r.touch.x=t.touches[0].clientX,r.touch.y=t.touches[0].clientY,r.touch.deltaX=r.touch.x-r.touch.startX,r.touch.deltaY=r.touch.y-r.touch.startY,r.scrollY-=r.touch.deltaY,r.touch.startX=r.touch.x,r.touch.startY=r.touch.y,this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.onTouchMove&&this.pageManager.currentPage.onTouchMove(t)},C=function(t){r.isTouching=!1,this.ticketScroll=!1,r.touch.startX=0,r.touch.startY=0,this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.onTouchEnd&&this.pageManager.currentPage.onTouchEnd()},S=function(){r.viewport.width=r.viewport.wrapperWidth=e(document).width(),r.viewport.height=e(window).height(),r.breakpoint=r.viewport.width<=922?"sml":"default",r.viewport.width>=1600&&(r.viewport.wrapperWidth=1600),this.calculateScrollY(),this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.onResize(),this.headerView&&this.headerView.onResize(),this.footerView&&this.footerView.onResize()},M=function(t){r.keyCode=t.keyCode,this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.onKeyDown(t)},A=function(){this.$el.addClass("show")};t.exports=new u}).call(e,i(1),i(2),i(3))},function(t,e,i){(function(e,n){"use strict";var s=i(7),o=i(10),a=i(50),r=i(52),h=i(57),l=i(60),c=i(61),u=i(62),p=i(63),d=i(12),f=function(t){this.mainAppView=t.mainView,this.currentPage=null,this.oldPage=null,this.pages={},e.extend(this,n.Events)};f.prototype.init=function(){_initPages.call(this)},f.prototype.navigateTo=function(t,e,i,n){var o=null;null==this.oldPage&&null==this.currentPage&&(o=document.getElementsByClassName("page-wrapper")[0],"404"==o.id?(t="404",e=null):"legacy"==o.id&&(t="legacy",e="legacy"));var a=this.getCurrentPage(t,e,i,n);this.currentPage&&(this.oldPage=this.currentPage),d.currentPage=a.id,"legacy"!==a.id&&(this.currentPage=new a.view({slug:e,mainAppView:this.mainAppView,el:this.currentPage?null:o,category:i?i:null,theme:n?n:null},{}),d.firstTime&&d.mainView.firstInit(),this.listenToOnce(this.currentPage,s.PAGE_RENDERED,m.bind(this)),this.currentPage.initializeRender())},f.prototype.getCurrentPage=function(t,e,i,n){switch(null==t&&(t="index"),e){case"careers":return e&&i&&!n?{id:"job-detail",view:a}:{id:"careers",view:o};case"careers-list":return{id:"careers-list",view:r};case"healthsystems":return{id:"healthsystems",view:p};case"blog":return e&&i&&n?{id:"blog-post",view:l}:e&&i?{id:"blog-topic",view:c}:{id:"blog",view:h};case"legacy":return{id:"legacy",view:null};case"404":default:return{id:"four-o-four",view:u}}},f.prototype.onError=function(){n.history.navigate("404",{trigger:!1}),this.navigateTo("404")};var m=function(){this.oldPage||this.trigger(s.PAGE_RENDERED),this.listenToOnce(this.currentPage,s.INIT,g.bind(this)),this.currentPage.init(),document.body.setAttribute("data-currentpage",d.currentPage),document.documentElement.setAttribute("data-currentpage",d.currentPage)},g=function(){this.stopListening(this.currentPage,s.INIT),this.oldPage?(this.trigger(s.HIDE_PAGE),this.listenToOnce(this.oldPage,s.HIDDEN,v.bind(this)),this.oldPage.hide()):(this.trigger(s.SHOW_PAGE),this.listenToOnce(this.currentPage,s.SHOWN,y.bind(this)),this.currentPage.show(!0))},v=function(){this.listenToOnce(this.currentPage,s.SHOWN,y.bind(this)),this.oldPage&&w.call(this),setTimeout(function(){this.trigger(s.SHOW_PAGE),this.currentPage.show(!1)}.bind(this),0)},y=function(){this.listenTo(this.currentPage,s.RELAYOUT,_.bind(this)),d.isAnimating=!1,d.firstTime=!1,this.trigger(s.PAGE_SHOWN)},_=function(){this.trigger(s.RELAYOUT)},w=function(){this.oldPage&&(this.stopListening(this.oldPage,s.HIDDEN),this.stopListening(this.oldPage,s.SHOWN),this.stopListening(this.oldPage,s.RELAYOUT),this.oldPage.dispose()),this.oldPage=null};t.exports=f}).call(e,i(3),i(2))},function(t,e,i){(function(e,n){var s=i(11),o=i(12),a=(i(21),i(7)),r=i(22),h=i(24),l=i(31),c=i(38),u=i(40),p=i(41),d=i(42),f=i(44),m=i(48),g=i(49),v=function(t,e){this.canUpdate=!0,this.ease=0,this.articles=[],this.views={intro:h,mission:l,values:c,patients:u,culture:f,press:m,perks:p,join:d},this.mainCanvasView=null,o.blockIsAnimating=!0,this.currentBlockIndex=0,this.currentStepIndex=-1,this.isViewShown=!1,this.isCanvasShown=!1,this.bothAreShown=!1,this.currentTimestamp=null,this.startY=null,this.lastDeltaY=null,this.isDragging=null,this.menuClick=!1,this.isLoaded=!1,this.blockScroll=!0,this.assetsAreLoaded=this.assetsAreLoaded.bind(this),s.call(this,t,e)};e.extend(v,s),e.extend(v.prototype,s.prototype),v.prototype.initDOM=function(){this.$html=n("html"),this.$body=n("body"),this.$bodyHtml=n("body, html"),this.$footer=n("#page-footer"),this.$overlay=n(".overlay-bg"),this.$articles=this.$el.find("article"),this.$canvas=this.$el.find("#main-canvas")[0],s.prototype.initDOM.call(this)},v.prototype.onDOMInit=function(){o.mainView.setNormalScrollBehavior(!1),this.mainCanvasView=new g({el:this.$canvas},null),this.mainCanvasView.init();var t,i,r,h;e.each(this.$articles,function(e,s){r=n(e),t=n(e).attr("class").split(" ")[0],h=r[0].getBoundingClientRect(),i=new this.views[t]({el:e,mainCanvasView:this.mainCanvasView,mainView:this},null),i.init(),this.listenTo(i,a.BLOCK_SHOWN,x.bind(this)),this.listenTo(i,a.BLOCK_HIDDEN,S.bind(this)),this.listenTo(i,a.CANVAS_SHOWN,T.bind(this)),this.listenTo(i,a.CANVAS_HIDDEN,M.bind(this)),this.listenTo(i,a.STORY_OVERLAY_SHOWN,y.bind(this)),this.listenTo(i,a.STORY_OVERLAY_HIDDEN,_.bind(this)),this.listenToOnce(i,a.LOADER_COMPLETE,w.bind(this)),this.articles[s]={"class":i,height:r.height(),bdr:h,top:h.top}}.bind(this)),this.initLoader(),s.prototype.onDOMInit.call(this)},v.prototype.initLoader=function(){this.loader=new r([{path:"sprites-zeeface",name:"Zsmile_",format:".png",first:39,end:95}],this.assetsAreLoaded.bind(this))},v.prototype.assetsAreLoaded=function(){this.articles[0]&&TweenMax.to(this.$overlay,.1,{autoAlpha:0,display:"none",ease:Expo.easeOut,onComplete:function(){this.articles[0]["class"].isLoaded=!0,this.articles[0]["class"].animateZee()}.bind(this)})};var y=function(){this.blockScroll=!0,o.overlayActive=!0},_=function(){this.blockScroll=!1,o.overlayActive=!1},w=function(){b.call(this),this.blockScroll=!1};v.prototype.onMenuClicked=function(t){(this.stepIsAnimating||o.blockIsAnimating||this.blockScroll)&&1!=this.currentBlockIndex||(this.menuIndex=t,this.menuClick=!0,C.call(this))};var b=function(){o.blockIsAnimating||this.showIsAnimating||(o.blockIsAnimating=!0,this.showIsAnimating=!0,this.articles[this.currentBlockIndex]["class"].show())},x=function(){this.currentStepIndex=-1,this.stepIsAnimating=!1,this.isViewShown=!0,this.showIsAnimating=!1,this.isViewShown&&this.isCanvasShown&&(this.bothAreShown=!0,o.blockIsAnimating=!1),this.trigger(a.CAREER_BLOCK_UPDATED,{index:this.currentBlockIndex})},T=function(){this.isCanvasShown=!0,this.isViewShown&&this.isCanvasShown&&(this.bothAreShown=!0,o.blockIsAnimating=!1)},C=function(){o.blockIsAnimating=!0,this.articles[this.currentBlockIndex]["class"].hide()},S=function(){this.isViewShown=!1,this.isViewShown||this.isCanvasShown||(this.bothAreShown=!1,o.blockIsAnimating=!1,this.updateBlockIndex())},M=function(){this.isCanvasShown=!1,this.isViewShown||this.isCanvasShown||(this.bothAreShown=!1,o.blockIsAnimating=!1,this.updateBlockIndex())};v.prototype.onShown=function(){s.prototype.onShown.call(this)},v.prototype.onScroll=function(){if(this.articles[this.currentBlockIndex]&&!this.blockScroll&&this.bothAreShown&&!(Math.abs(o.scrollDeltaY)<50&&!o.isMobile&&"firefox"!=Detectizr.browser.name&&"safari"!=Detectizr.browser.name||this.articles[this.currentBlockIndex]["class"].canScroll&&"UP"===o.scrollYDirection&&o.scrollY+o.viewport.height<this.articles[this.currentBlockIndex]["class"].hBlock-10||this.articles[this.currentBlockIndex]["class"].canScroll&&"DOWN"===o.scrollYDirection&&o.scrollY>50||0===this.currentBlockIndex&&"DOWN"===o.scrollYDirection||this.currentBlockIndex>this.articles.length-2&&"UP"===o.scrollYDirection||o.blockIsAnimating||this.showIsAnimating||this.stepIsAnimating)){if(this.articles[this.currentBlockIndex]["class"].steps&&this.currentStepIndex<=this.articles[this.currentBlockIndex]["class"].steps)return void this.updateStepIndex();this.currentScrollDirection=o.scrollYDirection,C.call(this)}},v.prototype.onTouchStart=function(){o.scrollYDirection=null,this.currentTimestamp=Date.now(),this.startY=o.touch.startY,"culture"===this.articles[this.currentBlockIndex]["class"].id&&this.articles[this.currentBlockIndex]["class"].onTouchStart()},v.prototype.onTouchMove=function(){this.lastDeltaY=this.startY-(o.touch.startY-o.touch.deltaY),o.scrollYDirection=this.lastDeltaY<0?"DOWN":"UP",this.isDragging=!0,"culture"===this.articles[this.currentBlockIndex]["class"].id&&this.articles[this.currentBlockIndex]["class"].onTouchMove()},v.prototype.onTouchEnd=function(){this.isDragging=!1,this.startY=0;var t=Date.now()-this.currentTimestamp,e=Math.abs(this.lastDeltaY);t>75&&e>75&&(this.onScroll(),t=0,e=0),this.lastDeltaY=0,"culture"===this.articles[this.currentBlockIndex]["class"].id&&this.articles[this.currentBlockIndex]["class"].onTouchEnd()},v.prototype.onKeyDown=function(t){38!==t.keyCode&&40!==t.keyCode||(o.scrollYDirection=38===t.keyCode?"DOWN":"UP",this.onScroll())},v.prototype.updateStepIndex=function(){if(!this.stepIsAnimating&&!o.blockIsAnimating){this.stepIsAnimating=!0;var t="DOWN"===o.scrollYDirection?0:1;if(this.articles[this.currentBlockIndex]["class"].stepsAnimation[this.currentStepIndex+t]&&this.currentStepIndex+t<=this.articles[this.currentBlockIndex]["class"].steps){var e=this.currentStepIndex+t;e!=-1?this.articles[this.currentBlockIndex]["class"].manageSteps(e,function(){0==t?this.currentStepIndex-=1:this.currentStepIndex=e,this.articles[this.currentBlockIndex]["class"].currentStep=this.currentStepIndex,this.stepIsAnimating=!1}.bind(this)):(this.currentScrollDirection=o.scrollYDirection,this.stepIsAnimating=!1,C.call(this))}else this.currentScrollDirection=o.scrollYDirection,this.stepIsAnimating=!1,C.call(this)}},v.prototype.updateBlockIndex=function(){o.blockIsAnimating||this.showIsAnimating||(this.menuClick?(this.currentBlockIndex=this.menuIndex,this.menuClick=!1):this.currentBlockIndex="DOWN"===this.currentScrollDirection?this.currentBlockIndex-1:this.currentBlockIndex+1,b.call(this))},v.prototype.goToNextSection=function(){o.scrollDeltaY=60,o.scrollY=60,o.scrollYDirection="UP",this.onScroll()},v.prototype.onResize=function(){this.articles[this.currentBlockIndex].height<=o.viewport.height&&this.articles[this.currentBlockIndex]["class"].canScroll&&(this.articles[this.currentBlockIndex].height=this.articles[this.currentBlockIndex]["class"].hBlock),this.mainCanvasView&&this.mainCanvasView.onResize(),e.each(this.articles,function(t){t["class"].onResize()}),s.prototype.onResize.call(this)},v.prototype.dispose=function(){s.prototype.dispose.call(this)},v.prototype.onUpdate=function(){this.articles&&this.articles[this.currentBlockIndex]&&this.articles[this.currentBlockIndex]["class"].onUpdate&&this.articles[this.currentBlockIndex]["class"].onUpdate()},t.exports=v}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=(i(7),i(12),i(13)),o=(i(14),i(16)),a=function(t,i){this.model=void 0!=this.model?this.model:new e.Model({asynchronous:!1}),this.hasLazyLoading=!1,this.$lazyLoadElements,this.lazy=null,this.$lazyImages=null,this.$lazyVideos=null,this.$lazyIframe=null,s.call(this,t,i)};n.extend(a,s),n.extend(a.prototype,s.prototype),a.prototype.initialize=function(t,e){var e=void 0!=e?e:null;null!=e&&this.model.set(e),s.prototype.initialize.call(this,t,e)},a.prototype.initializeRender=function(){this.model.get("asyncronous")===!0?this.model.fetch({success:this.render.bind(this)}):this.render()},a.prototype.renderTemplate=function(){var t=this.template(this.model.attributes);this.setElement(t)},a.prototype.addOne=function(t,e,i,n){null!=e&&(e=e[0]);var s=new i({model:t,el:e,className:n});return s.init(),s},a.prototype.initDOM=function(){this.$lazyLoadElements=document.querySelectorAll(".lazyLoad"),this.$lazyLoadElements&&this.$lazyLoadElements.length>=0&&(this.hasLazyLoading=!0),s.prototype.initDOM.call(this)},a.prototype.onDOMInit=function(){this.onResize(),window.scrollTo(0,0),s.prototype.onDOMInit.call(this)},a.prototype.setupDOM=function(){},a.prototype.initTL=function(){this.initTLShow(),this.initTLHide()},a.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.2,{autoAlpha:1},0)},a.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$el,.2,{autoAlpha:0},0)},a.prototype.bindEvents=function(){s.prototype.bindEvents.call(this)},a.prototype.initLazyLoading=function(){this.hasLazyLoading&&(this.lazy=new o({elements:document.querySelectorAll(".lazyLoad")}),this.lazy.el.addEventListener(o.EVENT.ELEMENT_LOADED,r.bind(this)),this.lazy.el.addEventListener(o.EVENT.COMPLETE,h.bind(this)),this.lazy.init())};var r=function(t){},h=function(t){};a.prototype.show=function(t){this.TL.show.play(0)},a.prototype.onShown=function(){s.prototype.onShown.call(this)},a.prototype.onHidden=function(){s.prototype.onHidden.call(this)},a.prototype.hide=function(t){this.TL.hide.play(0)},a.prototype.onResize=function(){},a.prototype.onKeyDown=function(t){},a.prototype.dispose=function(){null!=this.lazy&&this.lazy.dispose(),null!=this.model&&this.model.stopListening(),this.model=null,this.handlers=null,this.lazy=null,s.prototype.dispose.call(this)},t.exports=a}).call(e,i(2),i(3))},function(t,e,i){(function(e){"use strict";var i=function(){this.viewport={width:0,height:0,wrapperWidth:0},this.mouse={x:0,y:0},this.touch={x:0,y:0,startX:0,startY:0,deltaX:0,deltaY:0},this.outWindow=!1,this.scrollY=0,this.scrollYDirection="down",this.currentPage=null,this.scrollDeltaY=0,this.mouseWheelBlock=!1,this.firstTime=!0,this.isMobileSize=!1,this.isMobile="mobile"==Detectizr.device.type,this.isTablet="tablet"==Detectizr.device.type,this.breakpoint=null,this.mainDatas=null,this.isAnimating=!1,this.blockIsAnimating=!1,this.scrollDeltaY=0,this.isTouch=0,this.mainView=null,this.overlayActive=!1};i.prototype.init=function(){},i.prototype.navigate=function(t){var i=location.protocol+"//"+location.host;t&&t.slice(0,i.length)===i&&(t=t.replace(i,""),this.isAnimating===!1&&e.history.navigate(t,!0))},t.exports=new i}).call(e,i(2))},function(t,e,i){(function(e,n){var s=i(7),o=(i(12),function(t,i){this.params=void 0!=this.params?this.params:{},this.options=void 0!=t?t:{},this.model=void 0!=this.model?this.model:null,this.assets={},this.handlers=void 0!=this.handlers?this.handlers:{},this.template=void 0!=this.template?this.template:null,this.TL={},this.canUpdate=void 0!=this.canUpdate&&this.canUpdate,this.className=void 0!=this.className?this.className:null,this.isInit=!1,
this.isShown=!1,this.events=void 0!=this.events?this.events:{},e.View.call(this,t,i)});n.extend(o,e.View),n.extend(o.prototype,e.View.prototype),o.prototype.initialize=function(t,i){this.options=void 0!=t?t:{},void 0!=this.options.id&&(this.id=this.options.id),void 0!=this.options.dataID&&(this.dataID=this.options.dataID),void 0!=this.options.template&&(this.template=this.options.template),void 0!=this.options.className&&(this.className=this.options.className),null==this.model&&this.render(),e.View.prototype.initialize.call(this)},o.prototype.render=function(){return this.options.el?(this.setElement(this.options.el),void setTimeout(this.onRendered.bind(this),0)):(this.renderTemplate(),void setTimeout(this.onRendered.bind(this),0))},o.prototype.renderTemplate=function(){if(null!=this.template){var t=null!=this.model?this.template(this.model.attributes):this.template();this.setElement(t)}},o.prototype.onRendered=function(){null!=this.className&&this.$el.addClass(this.className),this.trigger(s.PAGE_RENDERED)},o.prototype.init=function(t,e){this.params=t||{},this.assets=e,this.initDOM()},o.prototype.initDOM=function(){setTimeout(this.onDOMInit.bind(this),0)},o.prototype.setupDOM=function(){},o.prototype.initTL=function(){},o.prototype.onDOMInit=function(){this.setupDOM(),this.initTL(),this.bindEvents(),this.onInit()},o.prototype.onInit=function(){this.isInit=!0,this.trigger(s.INIT)},o.prototype.bindEvents=function(){},o.prototype.onLinkClicked=function(t){},o.prototype.unbindEvents=function(){this.handlers=null},o.prototype.show=function(){this.onShown()},o.prototype.onShown=function(){this.canUpdate=!0,this.isShown=!0,this.trigger(s.SHOWN)},o.prototype.hide=function(){this.onHidden()},o.prototype.onHidden=function(){this.isShown=!1,this.canUpdate=!1,this.trigger(s.HIDDEN)},o.prototype.onResize=function(){},o.prototype.update=function(){this.canUpdate&&this.onUpdate()},o.prototype.onUpdate=function(){},o.prototype.killTL=function(t){if(void 0!=this.TL[t]&&null!=this.TL[t]){var e=this.TL[t];e.stop(),e.kill(),e.clear(),e=null,this.TL[t]=null}},o.prototype.destroyTL=function(){for(var t in this.TL)this.killTL(t);this.TL={}},o.prototype.dispose=function(){this.undelegateEvents(),this.stopListening(),this.unbindEvents(),this.destroyTL(),this.params={},this.assets={},this.params=null,this.assets=null,this.canUpdate=!1,this.isInit=!1,this.remove(),e.View.prototype.remove.call(this)},t.exports=o}).call(e,i(2),i(3))},function(t,e,i){var n,s;(function(o){var a="undefined"!=typeof t&&t.exports&&"undefined"!=typeof o?o:this||window;(a._gsQueue||(a._gsQueue=[])).push(function(){"use strict";a._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},s=function(t,e,i){var n,s,o=t.cycle;for(n in o)s=o[n],t[n]="function"==typeof s?s.call(e[i],i):s[i%s.length];delete t.cycle},o=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=o.prototype.render},a=1e-10,r=i._internals,h=r.isSelector,l=r.isArray,c=o.prototype=i.to({},.1,{}),u=[];o.version="1.18.0",c.constructor=o,c.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=i.killTweensOf,o.getTweensOf=i.getTweensOf,o.lagSmoothing=i.lagSmoothing,o.ticker=i.ticker,o.render=i.render,c.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},c.updateTo=function(t,e){var n,s=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._time;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._time>0||o){this._initted=!1,this._init();for(var r,h=1/(1-s),l=this._firstPT;l;)r=l.s+l.c,l.c*=h,l.s=r-l.c,l=l._next}return this},c.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,s,o,h,l,c,u,p,d=this._dirty?this.totalDuration():this._totalDuration,f=this._time,m=this._totalTime,g=this._cycle,v=this._duration,y=this._rawPrevTime;if(t>=d?(this._totalTime=d,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,s="onComplete",i=i||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||y<0||y===a)&&y!==t&&(i=!0,y>a&&(s="onReverseComplete")),this._rawPrevTime=p=!e||t||y===t?t:a)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===v&&y>0)&&(s="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||i)&&(y>=0&&(i=!0),this._rawPrevTime=p=!e||t||y===t?t:a)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(h=v+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?this._time=v:this._time<0&&(this._time=0)),this._easeType?(l=this._time/v,c=this._easeType,u=this._easePower,(1===c||3===c&&l>=.5)&&(l=1-l),3===c&&(l*=2),1===u?l*=l:2===u?l*=l*l:3===u?l*=l*l*l:4===u&&(l*=l*l*l*l),1===c?this.ratio=1-l:2===c?this.ratio=l:this._time/v<.5?this.ratio=l/2:this.ratio=1-l/2):this.ratio=this._ease.getRatio(this._time/v)),f===this._time&&!i&&g===this._cycle)return void(m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=f,this._totalTime=m,this._rawPrevTime=y,this._cycle=g,r.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/v):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==f&&t>=0&&(this._active=!0),0===m&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):s||(s="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==v||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==m||n)&&this._callback("onUpdate")),this._cycle!==g&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),s&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s),0===v&&this._rawPrevTime===a&&p!==a&&(this._rawPrevTime=0)))},o.to=function(t,e,i){return new o(t,e,i)},o.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new o(t,e,i)},o.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new o(t,e,n)},o.staggerTo=o.allTo=function(t,e,a,r,c,p,d){r=r||0;var f,m,g,v,y=a.delay||0,_=[],w=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),c.apply(d||a.callbackScope||this,p||u)},b=a.cycle,x=a.startAt&&a.startAt.cycle;for(l(t)||("string"==typeof t&&(t=i.selector(t)||t),h(t)&&(t=n(t))),t=t||[],r<0&&(t=n(t),t.reverse(),r*=-1),f=t.length-1,g=0;g<=f;g++){m={};for(v in a)m[v]=a[v];if(b&&s(m,t,g),x){x=m.startAt={};for(v in a.startAt)x[v]=a.startAt[v];s(m.startAt,t,g)}m.delay=y,g===f&&c&&(m.onComplete=w),_[g]=new o(t[g],e,m),y+=r}return _},o.staggerFrom=o.allFrom=function(t,e,i,n,s,a,r){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,o.staggerTo(t,e,i,n,s,a,r)},o.staggerFromTo=o.allFromTo=function(t,e,i,n,s,a,r,h){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,o.staggerTo(t,e,n,s,a,r,h)},o.delayedCall=function(t,e,i,n,s){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:s,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var p=function(t,e){for(var n=[],s=0,o=t._first;o;)o instanceof i?n[s++]=o:(e&&(n[s++]=o),n=n.concat(p(o,e)),s=n.length),o=o._next;return n},d=o.getAllTweens=function(e){return p(t._rootTimeline,e).concat(p(t._rootFramesTimeline,e))};o.killAll=function(t,i,n,s){null==i&&(i=!0),null==n&&(n=!0);var o,a,r,h=d(0!=s),l=h.length,c=i&&n&&s;for(r=0;r<l;r++)a=h[r],(c||a instanceof e||(o=a.target===a.vars.onComplete)&&n||i&&!o)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var s,a,c,u,p,d=r.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),h(t)&&(t=n(t)),l(t))for(u=t.length;--u>-1;)o.killChildTweensOf(t[u],e);else{s=[];for(c in d)for(a=d[c].target.parentNode;a;)a===t&&(s=s.concat(d[c].tweens)),a=a.parentNode;for(p=s.length,u=0;u<p;u++)e&&s[u].totalTime(s[u].totalDuration()),s[u]._enabled(!1,!1)}}};var f=function(t,i,n,s){i=i!==!1,n=n!==!1,s=s!==!1;for(var o,a,r=d(s),h=i&&n&&s,l=r.length;--l>-1;)a=r[l],(h||a instanceof e||(o=a.target===a.vars.onComplete)&&n||i&&!o)&&a.paused(t)};return o.pauseAll=function(t,e,i){f(!0,t,e,i)},o.resumeAll=function(t,e,i){f(!1,t,e,i)},o.globalTimeScale=function(e){var n=t._rootTimeline,s=i.ticker.time;return arguments.length?(e=e||a,n._startTime=s-(s-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,s=i.ticker.frame,n._startTime=s-(s-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},c.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},c.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},c.totalDuration=function(t){return arguments.length?this._repeat===-1?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),a._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,s=this.vars;for(n in s)i=s[n],l(i)&&i.join("").indexOf("{self}")!==-1&&(s[n]=this._swapSelfInParams(i));l(s.tweens)&&this.add(s.tweens,0,s.align,s.stagger)},s=1e-10,o=i._internals,r=n._internals={},h=o.isSelector,l=o.isArray,c=o.lazyTweens,u=o.lazyRender,p=a._gsDefine.globals,d=function(t){var e,i={};for(e in t)i[e]=t[e];return i},f=function(t,e,i){var n,s,o=t.cycle;for(n in o)s=o[n],t[n]="function"==typeof s?s.call(e[i],i):s[i%s.length];delete t.cycle},m=r.pauseCallback=function(){},g=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},v=n.prototype=new e;return n.version="1.18.0",v.constructor=n,v.kill()._gc=v._forcingPlayhead=v._hasPause=!1,v.to=function(t,e,n,s){var o=n.repeat&&p.TweenMax||i;return e?this.add(new o(t,e,n),s):this.set(t,n,s)},v.from=function(t,e,n,s){return this.add((n.repeat&&p.TweenMax||i).from(t,e,n),s)},v.fromTo=function(t,e,n,s,o){var a=s.repeat&&p.TweenMax||i;return e?this.add(a.fromTo(t,e,n,s),o):this.set(t,s,o)},v.staggerTo=function(t,e,s,o,a,r,l,c){var u,p,m=new n({onComplete:r,onCompleteParams:l,callbackScope:c,smoothChildTiming:this.smoothChildTiming}),v=s.cycle;for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],h(t)&&(t=g(t)),o=o||0,o<0&&(t=g(t),t.reverse(),o*=-1),p=0;p<t.length;p++)u=d(s),u.startAt&&(u.startAt=d(u.startAt),u.startAt.cycle&&f(u.startAt,t,p)),v&&f(u,t,p),m.to(t[p],e,u,p*o);return this.add(m,a)},v.staggerFrom=function(t,e,i,n,s,o,a,r){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,s,o,a,r)},v.staggerFromTo=function(t,e,i,n,s,o,a,r,h){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,s,o,a,r,h)},v.call=function(t,e,n,s){return this.add(i.delayedCall(0,t,e,n),s)},v.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var s,o,a=new n(t),r=a._timeline;for(null==e&&(e=!0),r._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=r._time,s=r._first;s;)o=s._next,e&&s instanceof i&&s.target===s.vars.onComplete||a.add(s,s._startTime-s._delay),s=o;return r.add(a,0),a},v.add=function(s,o,a,r){var h,c,u,p,d,f;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,s)),!(s instanceof t)){if(s instanceof Array||s&&s.push&&l(s)){for(a=a||"normal",r=r||0,h=o,c=s.length,u=0;u<c;u++)l(p=s[u])&&(p=new n({tweens:p})),this.add(p,h),"string"!=typeof p&&"function"!=typeof p&&("sequence"===a?h=p._startTime+p.totalDuration()/p._timeScale:"start"===a&&(p._startTime-=p.delay())),h+=r;return this._uncache(!0)}if("string"==typeof s)return this.addLabel(s,o);if("function"!=typeof s)throw"Cannot add "+s+" into the timeline; it is not a tween, timeline, function, or string.";s=i.delayedCall(0,s)}if(e.prototype.add.call(this,s,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,f=d.rawTime()>s._startTime;d._timeline;)f&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},v.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&l(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},v._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},v.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},v.insert=v.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},v.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},v.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},v.addPause=function(t,e,n,s){var o=i.delayedCall(0,m,n,s||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},v.removeLabel=function(t){return delete this._labels[t],this},v.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},v._parseTimeOrLabel=function(e,i,n,s){var o;if(s instanceof t&&s.timeline===this)this.remove(s);else if(s&&(s instanceof Array||s.push&&l(s)))for(o=s.length;--o>-1;)s[o]instanceof t&&s[o].timeline===this&&this.remove(s[o]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(o=e.indexOf("="),o===-1)return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,n):this.duration()}return Number(e)+i},v.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},v.stop=function(){return this.paused(!0)},v.gotoAndPlay=function(t,e){return this.play(t,e)},v.gotoAndStop=function(t,e){return this.pause(t,e)},v.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,a,r,h,l,p=this._dirty?this.totalDuration():this._totalDuration,d=this._time,f=this._startTime,m=this._timeScale,g=this._paused;if(t>=p)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(o=!0,r="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||this._rawPrevTime<0||this._rawPrevTime===s)&&this._rawPrevTime!==t&&this._first&&(h=!0,this._rawPrevTime>s&&(r="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:s,t=p+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==d||0===this._duration&&this._rawPrevTime!==s&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(r="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=o=!0,r="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(h=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:s,0===t&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;t=0,this._initted||(h=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=d)for(n=this._first;n&&n._startTime<=t&&!l;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(l=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!l;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(l=n),n=n._prev;l&&(this._time=t=l._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==d&&this._first||i||h||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&t>0&&(this._active=!0),0===d&&this.vars.onStart&&0!==this._time&&(e||this._callback("onStart")),this._time>=d)for(n=this._first;n&&(a=n._next,!this._paused||g);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(l===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=a;else for(n=this._last;n&&(a=n._prev,!this._paused||g);){if(n._active||n._startTime<=d&&!n._paused&&!n._gc){if(l===n){for(l=n._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(t-l._startTime)*l._timeScale:(t-l._startTime)*l._timeScale,e,i),l=l._prev;l=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=a}this._onUpdate&&(e||(c.length&&u(),this._callback("onUpdate"))),r&&(this._gc||f!==this._startTime&&m===this._timeScale||(0===this._time||p>=this.totalDuration())&&(o&&(c.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r)))}},v._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},v.getChildren=function(t,e,n,s){s=s||-9999999999;for(var o=[],a=this._first,r=0;a;)a._startTime<s||(a instanceof i?e!==!1&&(o[r++]=a):(n!==!1&&(o[r++]=a),t!==!1&&(o=o.concat(a.getChildren(!0,e,n)),r=o.length))),a=a._next;return o},v.getTweensOf=function(t,e){var n,s,o=this._gc,a=[],r=0;for(o&&this._enabled(!0,!0),n=i.getTweensOf(t),s=n.length;--s>-1;)(n[s].timeline===this||e&&this._contains(n[s]))&&(a[r++]=n[s]);return o&&this._enabled(!1,!0),a},v.recent=function(){return this._recent},v._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},v.shiftChildren=function(t,e,i){i=i||0;for(var n,s=this._first,o=this._labels;s;)s._startTime>=i&&(s._startTime+=t),s=s._next;if(e)for(n in o)o[n]>=i&&(o[n]+=t);return this._uncache(!0)},v._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,s=!1;--n>-1;)i[n]._kill(t,e)&&(s=!0);return s},v.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},v.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},v._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},v.totalTime=function(e,i,n){this._forcingPlayhead=!0;var s=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,s},v.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},v.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,s=this._last,o=999999999999;s;)e=s._prev,s._dirty&&s.totalDuration(),s._startTime>o&&this._sortChildren&&!s._paused?this.add(s,s._startTime-s._delay):o=s._startTime,s._startTime<0&&!s._paused&&(n-=s._startTime,this._timeline.smoothChildTiming&&(this._startTime+=s._startTime/this._timeScale),this.shiftChildren(-s._startTime,!1,-9999999999),o=0),i=s._startTime+s._totalDuration/s._timeScale,i>n&&(n=i),s=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},v.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},v.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},v.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0),a._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},s=1e-10,o=e._internals,a=o.lazyTweens,r=o.lazyRender,h=new i(null,null,1,0),l=n.prototype=new t;return l.constructor=n,l.kill()._gc=!1,n.version="1.18.0",l.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},l.addCallback=function(t,i,n,s){return this.add(e.delayedCall(0,t,n,s),i)},l.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,s=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===s&&i[n]._enabled(!1,!1);return this},l.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},l.tweenTo=function(t,i){i=i||{};var n,s,o,a={ease:h,useFrames:this.usesFrames(),immediateRender:!1};for(s in i)a[s]=i[s];return a.time=this._parseTimeOrLabel(t),n=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new e(this,n,a),a.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&n===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),i.onStart&&o._callback("onStart")},o},l.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},l.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,h,l,c,u,p,d=this._dirty?this.totalDuration():this._totalDuration,f=this._duration,m=this._time,g=this._totalTime,v=this._startTime,y=this._timeScale,_=this._rawPrevTime,w=this._paused,b=this._cycle;if(t>=d)this._locked||(this._totalTime=d,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,l="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||_<0||_===s)&&_!==t&&this._first&&(c=!0,_>s&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:s,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=f,t=f+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===f&&_!==s&&(_>0||t<0&&_>=0)&&!this._locked)&&(l="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=o=!0,l="onReverseComplete"):_>=0&&this._first&&(c=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=f||!e||t||this._rawPrevTime===t?t:s,0===t&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;t=0,this._initted||(c=!0)}else if(0===f&&_<0&&(c=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(u=f+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!==(1&this._cycle)&&(this._time=f-this._time),this._time>f?(this._time=f,t=f+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=m)for(n=this._first;n&&n._startTime<=t&&!p;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(p=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!p;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(p=n),n=n._prev;p&&(this._time=t=p._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==b&&!this._locked){var x=this._yoyo&&0!==(1&b),T=x===(this._yoyo&&0!==(1&this._cycle)),C=this._totalTime,S=this._cycle,M=this._rawPrevTime,A=this._time;if(this._totalTime=b*f,this._cycle<b?x=!x:this._totalTime+=f,this._time=m,this._rawPrevTime=0===f?_-1e-4:_,this._cycle=b,this._locked=!0,m=x?0:f,this.render(m,e,0===f),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),T&&(m=x?f+1e-4:-1e-4,this.render(m,!0,!1)),this._locked=!1,this._paused&&!w)return;this._time=A,this._totalTime=C,this._cycle=S,this._rawPrevTime=M}if(!(this._time!==m&&this._first||i||c||p))return void(g!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==g&&t>0&&(this._active=!0),0===g&&this.vars.onStart&&0!==this._totalTime&&(e||this._callback("onStart")),this._time>=m)for(n=this._first;n&&(h=n._next,!this._paused||w);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(p===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=h;else for(n=this._last;n&&(h=n._prev,!this._paused||w);){if(n._active||n._startTime<=m&&!n._paused&&!n._gc){if(p===n){for(p=n._prev;p&&p.endTime()>this._time;)p.render(p._reversed?p.totalDuration()-(t-p._startTime)*p._timeScale:(t-p._startTime)*p._timeScale,e,i),p=p._prev;p=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=h}this._onUpdate&&(e||(a.length&&r(),this._callback("onUpdate"))),l&&(this._locked||this._gc||v!==this._startTime&&y===this._timeScale||(0===this._time||d>=this.totalDuration())&&(o&&(a.length&&r(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))},l.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,s,o=[],a=this.getChildren(t,e,i),r=0,h=a.length;for(n=0;n<h;n++)s=a[n],s.isActive()&&(o[r++]=s);return o},l.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;e<n;e++)if(i[e].time>t)return i[e].name;return null},l.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},l.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},l.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},l.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},l.totalDuration=function(e){return arguments.length?this._repeat===-1?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},l.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],i=[],n=[],s={},o=a._gsDefine.globals,r=function(t,e,i,n){this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},h=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",l=function(t,e,i,n){var s={a:t},o={},a={},r={c:n},h=(t+e)/2,l=(e+i)/2,c=(i+n)/2,u=(h+l)/2,p=(l+c)/2,d=(p-u)/8;return s.b=h+(t-h)/4,o.b=u+d,s.c=o.a=(s.b+o.b)/2,o.c=a.a=(u+p)/2,a.b=p-d,r.b=c+(n-c)/4,a.c=r.a=(a.b+r.b)/2,[s,o,a,r]},c=function(t,s,o,a,r){var h,c,u,p,d,f,m,g,v,y,_,w,b,x=t.length-1,T=0,C=t[0].a;for(h=0;h<x;h++)d=t[T],c=d.a,u=d.d,p=t[T+1].d,r?(_=e[h],w=i[h],b=(w+_)*s*.25/(a?.5:n[h]||.5),f=u-(u-c)*(a?.5*s:0!==_?b/_:0),m=u+(p-u)*(a?.5*s:0!==w?b/w:0),g=u-(f+((m-f)*(3*_/(_+w)+.5)/4||0))):(f=u-(u-c)*s*.5,m=u+(p-u)*s*.5,g=u-(f+m)/2),f+=g,m+=g,d.c=v=f,0!==h?d.b=C:d.b=C=d.a+.6*(d.c-d.a),d.da=u-c,d.ca=v-c,d.ba=C-c,o?(y=l(c,C,v,u),t.splice(T,1,y[0],y[1],y[2],y[3]),T+=4):T++,C=m;d=t[T],d.b=C,d.c=C+.4*(d.d-C),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=C-d.a,o&&(y=l(d.a,C,d.c,d.d),t.splice(T,1,y[0],y[1],y[2],y[3]))},u=function(t,n,s,o){var a,h,l,c,u,p,d=[];if(o)for(t=[o].concat(t),h=t.length;--h>-1;)"string"==typeof(p=t[h][n])&&"="===p.charAt(1)&&(t[h][n]=o[n]+Number(p.charAt(0)+p.substr(2)));if(a=t.length-2,
a<0)return d[0]=new r(t[0][n],0,0,t[a<-1?0:1][n]),d;for(h=0;h<a;h++)l=t[h][n],c=t[h+1][n],d[h]=new r(l,0,0,c),s&&(u=t[h+2][n],e[h]=(e[h]||0)+(c-l)*(c-l),i[h]=(i[h]||0)+(u-c)*(u-c));return d[h]=new r(t[h][n],0,0,t[h+1][n]),d},p=function(t,o,a,r,l,p){var d,f,m,g,v,y,_,w,b={},x=[],T=p||t[0];l="string"==typeof l?","+l+",":h,null==o&&(o=1);for(f in t[0])x.push(f);if(t.length>1){for(w=t[t.length-1],_=!0,d=x.length;--d>-1;)if(f=x[d],Math.abs(T[f]-w[f])>.05){_=!1;break}_&&(t=t.concat(),p&&t.unshift(p),t.push(t[1]),p=t[t.length-3])}for(e.length=i.length=n.length=0,d=x.length;--d>-1;)f=x[d],s[f]=l.indexOf(","+f+",")!==-1,b[f]=u(t,f,s[f],p);for(d=e.length;--d>-1;)e[d]=Math.sqrt(e[d]),i[d]=Math.sqrt(i[d]);if(!r){for(d=x.length;--d>-1;)if(s[f])for(m=b[x[d]],y=m.length-1,g=0;g<y;g++)v=m[g+1].da/i[g]+m[g].da/e[g],n[g]=(n[g]||0)+v*v;for(d=n.length;--d>-1;)n[d]=Math.sqrt(n[d])}for(d=x.length,g=a?4:1;--d>-1;)f=x[d],m=b[f],c(m,o,a,r,s[f]),_&&(m.splice(0,g),m.splice(m.length-g,g));return b},d=function(t,e,i){e=e||"soft";var n,s,o,a,h,l,c,u,p,d,f,m={},g="cubic"===e?3:2,v="soft"===e,y=[];if(v&&i&&(t=[i].concat(t)),null==t||t.length<g+1)throw"invalid Bezier data";for(p in t[0])y.push(p);for(l=y.length;--l>-1;){for(p=y[l],m[p]=h=[],d=0,u=t.length,c=0;c<u;c++)n=null==i?t[c][p]:"string"==typeof(f=t[c][p])&&"="===f.charAt(1)?i[p]+Number(f.charAt(0)+f.substr(2)):Number(f),v&&c>1&&c<u-1&&(h[d++]=(n+h[d-2])/2),h[d++]=n;for(u=d-g+1,d=0,c=0;c<u;c+=g)n=h[c],s=h[c+1],o=h[c+2],a=2===g?0:h[c+3],h[d++]=f=3===g?new r(n,s,o,a):new r(n,(2*s+n)/3,(2*s+o)/3,o);h.length=d}return m},f=function(t,e,i){for(var n,s,o,a,r,h,l,c,u,p,d,f=1/i,m=t.length;--m>-1;)for(p=t[m],o=p.a,a=p.d-o,r=p.c-o,h=p.b-o,n=s=0,c=1;c<=i;c++)l=f*c,u=1-l,n=s-(s=(l*l*a+3*u*(l*r+u*h))*l),d=m*i+c-1,e[d]=(e[d]||0)+n*n},m=function(t,e){e=e>>0||6;var i,n,s,o,a=[],r=[],h=0,l=0,c=e-1,u=[],p=[];for(i in t)f(t[i],a,e);for(s=a.length,n=0;n<s;n++)h+=Math.sqrt(a[n]),o=n%e,p[o]=h,o===c&&(l+=h,o=n/e>>0,u[o]=p,r[o]=l,h=0,p=[]);return{length:l,lengths:r,segments:u}},g=a._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,s,o,a,r,h=e.values||[],l={},c=h[0],u=e.autoRotate||i.vars.orientToBezier;this._autoRotate=u?u instanceof Array?u:[["x","y","rotation",u===!0?0:Number(u)||0]]:null;for(n in c)this._props.push(n);for(o=this._props.length;--o>-1;)n=this._props[o],this._overwriteProps.push(n),s=this._func[n]="function"==typeof t[n],l[n]=s?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),r||l[n]!==h[0][n]&&(r=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?p(h,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,r):d(h,e.type,l),this._segCount=this._beziers[n].length,this._timeRes){var f=m(this._beziers,this._timeRes);this._length=f.length,this._lengths=f.lengths,this._segments=f.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(u=this._autoRotate)for(this._initialRotations=[],u[0]instanceof Array||(this._autoRotate=u=[u]),o=u.length;--o>-1;){for(a=0;a<3;a++)n=u[o][a],this._func[n]="function"==typeof t[n]&&t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)];n=u[o][2],this._initialRotations[o]=this._func[n]?this._func[n].call(this._target):this._target[n]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,n,s,o,a,r,h,l,c,u,p=this._segCount,d=this._func,f=this._target,m=e!==this._startRatio;if(this._timeRes){if(c=this._lengths,u=this._curSeg,e*=this._length,s=this._li,e>this._l2&&s<p-1){for(l=p-1;s<l&&(this._l2=c[++s])<=e;);this._l1=c[s-1],this._li=s,this._curSeg=u=this._segments[s],this._s2=u[this._s1=this._si=0]}else if(e<this._l1&&s>0){for(;s>0&&(this._l1=c[--s])>=e;);0===s&&e<this._l1?this._l1=0:s++,this._l2=c[s],this._li=s,this._curSeg=u=this._segments[s],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]}if(i=s,e-=this._l1,s=this._si,e>this._s2&&s<u.length-1){for(l=u.length-1;s<l&&(this._s2=u[++s])<=e;);this._s1=u[s-1],this._si=s}else if(e<this._s1&&s>0){for(;s>0&&(this._s1=u[--s])>=e;);0===s&&e<this._s1?this._s1=0:s++,this._s2=u[s],this._si=s}r=(s+(e-this._s1)/(this._s2-this._s1))*this._prec}else i=e<0?0:e>=1?p-1:p*e>>0,r=(e-i*(1/p))*p;for(n=1-r,s=this._props.length;--s>-1;)o=this._props[s],a=this._beziers[o][i],h=(r*r*a.da+3*n*(r*a.ca+n*a.ba))*r+a.a,this._round[o]&&(h=Math.round(h)),d[o]?f[o](h):f[o]=h;if(this._autoRotate){var g,v,y,_,w,b,x,T=this._autoRotate;for(s=T.length;--s>-1;)o=T[s][2],b=T[s][3]||0,x=T[s][4]===!0?1:t,a=this._beziers[T[s][0]],g=this._beziers[T[s][1]],a&&g&&(a=a[i],g=g[i],v=a.a+(a.b-a.a)*r,_=a.b+(a.c-a.b)*r,v+=(_-v)*r,_+=(a.c+(a.d-a.c)*r-_)*r,y=g.a+(g.b-g.a)*r,w=g.b+(g.c-g.b)*r,y+=(w-y)*r,w+=(g.c+(g.d-g.c)*r-w)*r,h=m?Math.atan2(w-y,_-v)*x+b:this._initialRotations[s],d[o]?f[o](h):f[o]=h)}}}),v=g.prototype;g.bezierThrough=p,g.cubicToQuadratic=l,g._autoCSS=!0,g.quadraticToCubic=function(t,e,i){return new r(t,(2*e+t)/3,(2*e+i)/3,i)},g._cssRegister=function(){var t=o.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,s=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,a,r,h){e instanceof Array&&(e={values:e}),h=new g;var l,c,u,p=e.values,d=p.length-1,f=[],m={};if(d<0)return r;for(l=0;l<=d;l++)u=i(t,p[l],a,r,h,d!==l),f[l]=u.end;for(c in e)m[c]=e[c];return m.values=f,r=new s(t,"bezier",0,0,u.pt,2),r.data=u,r.plugin=h,r.setRatio=n,0===m.autoRotate&&(m.autoRotate=!0),!m.autoRotate||m.autoRotate instanceof Array||(l=m.autoRotate===!0?0:Number(m.autoRotate),m.autoRotate=null!=u.end.left?[["left","top","rotation",l,!1]]:null!=u.end.x&&[["x","y","rotation",l,!1]]),m.autoRotate&&(a._transform||a._enableTransforms(!1),u.autoRotate=a._target._gsTransform),h._onInitTween(u.proxy,m,a._tween),r}})}},v._roundProps=function(t,e){for(var i=this._overwriteProps,n=i.length;--n>-1;)(t[i[n]]||t.bezier||t.bezierThrough)&&(this._round[i[n]]=e)},v._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);return this._super._kill.call(this,t)}}(),a._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,s,o,r=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=r.prototype.setRatio},h=a._gsDefine.globals,l={},c=r.prototype=new t("css");c.constructor=r,r.version="1.18.0",r.API=2,r.defaultTransformPerspective=0,r.defaultSkewType="compensated",r.defaultSmoothOrigin=!0,c="px",r.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var u,p,d,f,m,g,v=/(?:\d|\-\d|\.\d|\-\.\d)+/g,y=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,_=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,C=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,M=/([A-Z])/g,A=/-([a-z])/gi,O=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,$=function(t,e){return e.toUpperCase()},I=/(?:Left|Right|Width)/i,B=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,E=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,P=/,(?=[^\)]*(?:\(|$))/gi,k=Math.PI/180,V=180/Math.PI,D={},L=document,N=function(t){return L.createElementNS?L.createElementNS("http://www.w3.org/1999/xhtml",t):L.createElement(t)},z=N("div"),R=N("img"),H=r._internals={_specialProps:l},F=navigator.userAgent,j=function(){var t=F.indexOf("Android"),e=N("a");return d=F.indexOf("Safari")!==-1&&F.indexOf("Chrome")===-1&&(t===-1||Number(F.substr(t+8,1))>3),m=d&&Number(F.substr(F.indexOf("Version/")+8,1))<6,f=F.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(F)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(F))&&(g=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),U=function(t){return x.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(t){window.console},W="",q="",X=function(t,e){e=e||z;var i,n,s=e.style;if(void 0!==s[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===s[i[n]+t];);return n>=0?(q=3===n?"ms":i[n],W="-"+q.toLowerCase()+"-",q+t):null},G=L.defaultView?L.defaultView.getComputedStyle:function(){},Z=r.getStyle=function(t,e,i,n,s){var o;return j||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(i=i||G(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(M,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==s||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:s):U(t)},K=H.convertToPixels=function(t,i,n,s,o){if("px"===s||!s)return n;if("auto"===s||!n)return 0;var a,h,l,c=I.test(i),u=t,p=z.style,d=n<0;if(d&&(n=-n),"%"===s&&i.indexOf("border")!==-1)a=n/100*(c?t.clientWidth:t.clientHeight);else{if(p.cssText="border:0 solid red;position:"+Z(t,"position")+";line-height:0;","%"!==s&&u.appendChild&&"v"!==s.charAt(0)&&"rem"!==s)p[c?"borderLeftWidth":"borderTopWidth"]=n+s;else{if(u=t.parentNode||L.body,h=u._gsCache,l=e.ticker.frame,h&&c&&h.time===l)return h.width*n/100;p[c?"width":"height"]=n+s}u.appendChild(z),a=parseFloat(z[c?"offsetWidth":"offsetHeight"]),u.removeChild(z),c&&"%"===s&&r.cacheWidths!==!1&&(h=u._gsCache=u._gsCache||{},h.time=l,h.width=a/n*100),0!==a||o||(a=K(t,i,n,s,!0))}return d?-a:a},J=H.calculateOffset=function(t,e,i){if("absolute"!==Z(t,"position",i))return 0;var n="left"===e?"Left":"Top",s=Z(t,"margin"+n,i);return t["offset"+n]-(K(t,e,parseFloat(s),s.replace(b,""))||0)},Q=function(t,e){var i,n,s,o={};if(e=e||G(t,null))if(i=e.length)for(;--i>-1;)s=e[i],s.indexOf("-transform")!==-1&&Mt!==s||(o[s.replace(A,$)]=e.getPropertyValue(s));else for(i in e)i.indexOf("Transform")!==-1&&St!==i||(o[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===o[i]&&(o[i.replace(A,$)]=e[i]);return j||(o.opacity=U(t)),n=Nt(t,e,!1),o.rotation=n.rotation,o.skewX=n.skewX,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.x=n.x,o.y=n.y,Ot&&(o.z=n.z,o.rotationX=n.rotationX,o.rotationY=n.rotationY,o.scaleZ=n.scaleZ),o.filters&&delete o.filters,o},tt=function(t,e,i,n,s){var o,a,r,h={},l=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(o=i[a])||s&&s[a])&&a.indexOf("Origin")===-1&&("number"!=typeof o&&"string"!=typeof o||(h[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[a]||""===e[a].replace(w,"")?o:0:J(t,a),void 0!==l[a]&&(r=new mt(l,a,l[a],r))));if(n)for(a in n)"className"!==a&&(h[a]=n[a]);return{difs:h,firstMPT:r}},et={width:["Left","Right"],height:["Top","Bottom"]},it=["marginLeft","marginRight","marginTop","marginBottom"],nt=function(t,e,i){var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),s=et[e],o=s.length;for(i=i||G(t,null);--o>-1;)n-=parseFloat(Z(t,"padding"+s[o],i,!0))||0,n-=parseFloat(Z(t,"border"+s[o]+"Width",i,!0))||0;return n},st=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i=t.split(" "),n=t.indexOf("left")!==-1?"0%":t.indexOf("right")!==-1?"100%":i[0],s=t.indexOf("top")!==-1?"0%":t.indexOf("bottom")!==-1?"100%":i[1];return null==s?s="center"===n?"50%":"0":"center"===s&&(s="50%"),("center"===n||isNaN(parseFloat(n))&&(n+"").indexOf("=")===-1)&&(n="50%"),t=n+" "+s+(i.length>2?" "+i[2]:""),e&&(e.oxp=n.indexOf("%")!==-1,e.oyp=s.indexOf("%")!==-1,e.oxr="="===n.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(n.replace(w,"")),e.oy=parseFloat(s.replace(w,"")),e.v=t),e||t},ot=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},at=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},rt=function(t,e,i,n){var s,o,a,r,h,l=1e-6;return null==t?r=e:"number"==typeof t?r=t:(s=360,o=t.split("_"),h="="===t.charAt(1),a=(h?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(t.indexOf("rad")===-1?1:V)-(h?0:e),o.length&&(n&&(n[i]=e+a),t.indexOf("short")!==-1&&(a%=s,a!==a%(s/2)&&(a=a<0?a+s:a-s)),t.indexOf("_cw")!==-1&&a<0?a=(a+9999999999*s)%s-(a/s|0)*s:t.indexOf("ccw")!==-1&&a>0&&(a=(a-9999999999*s)%s-(a/s|0)*s)),r=e+a),r<l&&r>-l&&(r=0),r},ht={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},lt=function(t,e,i){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},ct=r.parseColor=function(t,e){var i,n,s,o,a,r,h,l,c,u,p;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ht[t])i=ht[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),s=t.charAt(2),o=t.charAt(3),t="#"+n+n+s+s+o+o),t=parseInt(t.substr(1),16),i=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=p=t.match(v),e){if(t.indexOf("=")!==-1)return t.match(y)}else a=Number(i[0])%360/360,r=Number(i[1])/100,h=Number(i[2])/100,s=h<=.5?h*(r+1):h+r-h*r,n=2*h-s,i.length>3&&(i[3]=Number(t[3])),i[0]=lt(a+1/3,n,s),i[1]=lt(a,n,s),i[2]=lt(a-1/3,n,s);else i=t.match(v)||ht.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=ht.black;return e&&!p&&(n=i[0]/255,s=i[1]/255,o=i[2]/255,l=Math.max(n,s,o),c=Math.min(n,s,o),h=(l+c)/2,l===c?a=r=0:(u=l-c,r=h>.5?u/(2-l-c):u/(l+c),a=l===n?(s-o)/u+(s<o?6:0):l===s?(o-n)/u+2:(n-s)/u+4,a*=60),i[0]=a+.5|0,i[1]=100*r+.5|0,i[2]=100*h+.5|0),i},ut=function(t,e){var i,n,s,o=t.match(pt)||[],a=0,r=o.length?"":t;for(i=0;i<o.length;i++)n=o[i],s=t.substr(a,t.indexOf(n,a)-a),a+=s.length+n.length,n=ct(n,e),3===n.length&&n.push(1),r+=s+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return r},pt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(c in ht)pt+="|"+c+"\\b";pt=new RegExp(pt+")","gi"),r.colorStringFilter=function(t){var e,i=t[0]+t[1];pt.lastIndex=0,pt.test(i)&&(e=i.indexOf("hsl(")!==-1||i.indexOf("hsla(")!==-1,t[0]=ut(t[0],e),t[1]=ut(t[1],e))},e.defaultStringFilter||(e.defaultStringFilter=r.colorStringFilter);var dt=function(t,e,i,n){if(null==t)return function(t){return t};var s,o=e?(t.match(pt)||[""])[0]:"",a=t.split(o).join("").match(_)||[],r=t.substr(0,t.indexOf(a[0])),h=")"===t.charAt(t.length-1)?")":"",l=t.indexOf(" ")!==-1?" ":",",c=a.length,u=c>0?a[0].replace(v,""):"";return c?s=e?function(t){var e,p,d,f;if("number"==typeof t)t+=u;else if(n&&P.test(t)){for(f=t.replace(P,"|").split("|"),d=0;d<f.length;d++)f[d]=s(f[d]);return f.join(",")}if(e=(t.match(pt)||[o])[0],p=t.split(e).join("").match(_)||[],d=p.length,c>d--)for(;++d<c;)p[d]=i?p[(d-1)/2|0]:a[d];return r+p.join(l)+l+e+h+(t.indexOf("inset")!==-1?" inset":"")}:function(t){var e,o,p;if("number"==typeof t)t+=u;else if(n&&P.test(t)){for(o=t.replace(P,"|").split("|"),p=0;p<o.length;p++)o[p]=s(o[p]);return o.join(",")}if(e=t.match(_)||[],p=e.length,c>p--)for(;++p<c;)e[p]=i?e[(p-1)/2|0]:a[p];return r+e.join(l)+h}:function(t){return t}},ft=function(t){return t=t.split(","),function(e,i,n,s,o,a,r){var h,l=(i+"").split(" ");for(r={},h=0;h<4;h++)r[t[h]]=l[h]=l[h]||l[(h-1)/2>>0];return s.parse(e,r,o,a)}},mt=(H._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,s,o=this.data,a=o.proxy,r=o.firstMPT,h=1e-6;r;)e=a[r.v],r.r?e=Math.round(e):e<h&&e>-h&&(e=0),r.t[r.p]=e,r=r._next;if(o.autoRotate&&(o.autoRotate.rotation=a.rotation),1===t)for(r=o.firstMPT;r;){if(i=r.t,i.type){if(1===i.type){for(s=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)s+=i["xn"+n]+i["xs"+(n+1)];i.e=s}}else i.e=i.s+i.xs0;r=r._next}},function(t,e,i,n,s){this.t=t,this.p=e,this.v=i,this.r=s,n&&(n._prev=this,this._next=n)}),gt=(H._parseToProxy=function(t,e,i,n,s,o){var a,r,h,l,c,u=n,p={},d={},f=i._transform,m=D;for(i._transform=null,D=e,n=c=i.parse(t,e,n,s),D=m,o&&(i._transform=f,u&&(u._prev=null,u._prev&&(u._prev._next=null)));n&&n!==u;){if(n.type<=1&&(r=n.p,d[r]=n.s+n.c,p[r]=n.s,o||(l=new mt(n,"s",r,l,n.r),n.c=0),1===n.type))for(a=n.l;--a>0;)h="xn"+a,r=n.p+"_"+h,d[r]=n.data[h],p[r]=n[h],o||(l=new mt(n,h,r,l,n.rxp[h]));n=n._next}return{proxy:p,end:d,firstMPT:l,pt:c}},H.CSSPropTween=function(t,e,n,s,a,r,h,l,c,u,p){this.t=t,this.p=e,this.s=n,this.c=s,this.n=h||e,t instanceof gt||o.push(this.n),this.r=l,this.type=r||0,c&&(this.pr=c,i=!0),this.b=void 0===u?n:u,this.e=void 0===p?n+s:p,a&&(this._next=a,a._prev=this)}),vt=function(t,e,i,n,s,o){var a=new gt(t,e,i,n-i,s,(-1),o);return a.b=i,a.e=a.xs0=n,a},yt=r.parseComplex=function(t,e,i,n,s,o,a,r,h,l){i=i||o||"",a=new gt(t,e,0,0,a,l?2:1,null,(!1),r,i,n),n+="";var c,p,d,f,m,g,_,w,b,x,T,C,S,M=i.split(", ").join(",").split(" "),A=n.split(", ").join(",").split(" "),O=M.length,$=u!==!1;for(n.indexOf(",")===-1&&i.indexOf(",")===-1||(M=M.join(" ").replace(P,", ").split(" "),A=A.join(" ").replace(P,", ").split(" "),O=M.length),O!==A.length&&(M=(o||"").split(" "),O=M.length),a.plugin=h,a.setRatio=l,pt.lastIndex=0,c=0;c<O;c++)if(f=M[c],m=A[c],w=parseFloat(f),w||0===w)a.appendXtra("",w,ot(m,w),m.replace(y,""),$&&m.indexOf("px")!==-1,!0);else if(s&&pt.test(f))C=","===m.charAt(m.length-1)?"),":")",S=m.indexOf("hsl")!==-1&&j,f=ct(f,S),m=ct(m,S),b=f.length+m.length>6,b&&!j&&0===m[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(A[c]).join("transparent")):(j||(b=!1),S?a.appendXtra(b?"hsla(":"hsl(",f[0],ot(m[0],f[0]),",",!1,!0).appendXtra("",f[1],ot(m[1],f[1]),"%,",!1).appendXtra("",f[2],ot(m[2],f[2]),b?"%,":"%"+C,!1):a.appendXtra(b?"rgba(":"rgb(",f[0],m[0]-f[0],",",!0,!0).appendXtra("",f[1],m[1]-f[1],",",!0).appendXtra("",f[2],m[2]-f[2],b?",":C,!0),b&&(f=f.length<4?1:f[3],a.appendXtra("",f,(m.length<4?1:m[3])-f,C,!1))),pt.lastIndex=0;else if(g=f.match(v)){if(_=m.match(y),!_||_.length!==g.length)return a;for(d=0,p=0;p<g.length;p++)T=g[p],x=f.indexOf(T,d),a.appendXtra(f.substr(d,x-d),Number(T),ot(_[p],T),"",$&&"px"===f.substr(x+T.length,2),0===p),d=x+T.length;a["xs"+a.l]+=f.substr(d)}else a["xs"+a.l]+=a.l?" "+f:f;if(n.indexOf("=")!==-1&&a.data){for(C=a.xs0+a.data.s,c=1;c<a.l;c++)C+=a["xs"+c]+a.data["xn"+c];a.e=C+a["xs"+c]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},_t=9;for(c=gt.prototype,c.l=c.pr=0;--_t>0;)c["xn"+_t]=0,c["xs"+_t]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,i,n,s,o){var a=this,r=a.l;return a["xs"+r]+=o&&r?" "+t:t||"",i||0===r||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=n||"",r>0?(a.data["xn"+r]=e+i,a.rxp["xn"+r]=s,a["xn"+r]=e,a.plugin||(a.xfirst=new gt(a,"xn"+r,e,i,a.xfirst||a,0,a.n,s,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=s,a)):(a["xs"+r]+=e+(n||""),a)};var wt=function(t,e){e=e||{},this.p=e.prefix?X(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||dt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},bt=H._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,s,o=t.split(","),a=e.defaultValue;for(i=i||[a],n=0;n<o.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||a,s=new wt(o[n],e)},xt=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";bt(t,{parser:function(t,i,n,s,o,a,r){var c=h.com.greensock.plugins[e];return c?(c._cssRegister(),l[n].parse(t,i,n,s,o,a,r)):(Y("Error: "+e+" js file not loaded."),o)}})}};c=wt.prototype,c.parseComplex=function(t,e,i,n,s,o){var a,r,h,l,c,u,p=this.keyword;if(this.multi&&(P.test(i)||P.test(e)?(r=e.replace(P,"|").split("|"),h=i.replace(P,"|").split("|")):p&&(r=[e],h=[i])),h){for(l=h.length>r.length?h.length:r.length,a=0;a<l;a++)e=r[a]=r[a]||this.dflt,i=h[a]=h[a]||this.dflt,p&&(c=e.indexOf(p),u=i.indexOf(p),c!==u&&(u===-1?r[a]=r[a].split(p).join(""):c===-1&&(r[a]+=" "+p)));e=r.join(", "),i=h.join(", ")}return yt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,s,o)},c.parse=function(t,e,i,n,o,a,r){return this.parseComplex(t.style,this.format(Z(t,this.p,s,!1,this.dflt)),this.format(e),o,a)},r.registerSpecialProp=function(t,e,i){bt(t,{parser:function(t,n,s,o,a,r,h){var l=new gt(t,s,0,0,a,2,s,(!1),i);return l.plugin=r,l.setRatio=e(t,n,o._tween,s),l},priority:i})},r.useSVGTransformAttr=d||f;var Tt,Ct="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),St=X("transform"),Mt=W+"transform",At=X("transformOrigin"),Ot=null!==X("perspective"),$t=H.Transform=function(){this.perspective=parseFloat(r.defaultTransformPerspective)||0,this.force3D=!(r.defaultForce3D===!1||!Ot)&&(r.defaultForce3D||"auto")},It=window.SVGElement,Bt=function(t,e,i){var n,s=L.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(n in i)s.setAttributeNS(null,n.replace(o,"$1-$2").toLowerCase(),i[n]);return e.appendChild(s),s},Et=L.documentElement,Pt=function(){var t,e,i,n=g||/Android/i.test(F)&&!window.chrome;return L.createElementNS&&!n&&(t=Bt("svg",Et),e=Bt("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[At]="50% 50%",e.style[St]="scaleX(0.5)",n=i===e.getBoundingClientRect().width&&!(f&&Ot),Et.removeChild(t)),n}(),kt=function(t,e,i,n,s){var o,a,h,l,c,u,p,d,f,m,g,v,y,_,w=t._gsTransform,b=Lt(t,!0);w&&(y=w.xOrigin,_=w.yOrigin),(!n||(o=n.split(" ")).length<2)&&(p=t.getBBox(),e=st(e).split(" "),o=[(e[0].indexOf("%")!==-1?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(e[1].indexOf("%")!==-1?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),i.xOrigin=l=parseFloat(o[0]),i.yOrigin=c=parseFloat(o[1]),n&&b!==Dt&&(u=b[0],p=b[1],d=b[2],f=b[3],m=b[4],g=b[5],v=u*f-p*d,a=l*(f/v)+c*(-d/v)+(d*g-f*m)/v,h=l*(-p/v)+c*(u/v)-(u*g-p*m)/v,l=i.xOrigin=o[0]=a,c=i.yOrigin=o[1]=h),w&&(s||s!==!1&&r.defaultSmoothOrigin!==!1?(a=l-y,h=c-_,w.xOffset+=a*b[0]+h*b[2]-a,w.yOffset+=a*b[1]+h*b[3]-h):w.xOffset=w.yOffset=0),t.setAttribute("data-svg-origin",o.join(" "))},Vt=function(t){return!!(It&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Dt=[1,0,0,1,0,0],Lt=function(t,e){var i,n,s,o,a,r=t._gsTransform||new $t,h=1e5;if(St?n=Z(t,Mt,null,!0):t.currentStyle&&(n=t.currentStyle.filter.match(B),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),r.x||0,r.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,(r.svg||t.getBBox&&Vt(t))&&(i&&(t.style[St]+"").indexOf("matrix")!==-1&&(n=t.style[St],i=0),s=t.getAttribute("transform"),i&&s&&(s.indexOf("matrix")!==-1?(n=s,i=0):s.indexOf("translate")!==-1&&(n="matrix(1,0,0,1,"+s.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Dt;for(s=(n||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],_t=s.length;--_t>-1;)o=Number(s[_t]),s[_t]=(a=o-(o|=0))?(a*h+(a<0?-.5:.5)|0)/h+o:o;return e&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s},Nt=H.getTransform=function(t,i,n,o){if(t._gsTransform&&n&&!o)return t._gsTransform;var a,h,l,c,u,p,d=n?t._gsTransform||new $t:new $t,f=d.scaleX<0,m=2e-5,g=1e5,v=Ot?parseFloat(Z(t,At,i,!1,"0 0 0").split(" ")[2])||d.zOrigin||0:0,y=parseFloat(r.defaultTransformPerspective)||0;if(d.svg=!(!t.getBBox||!Vt(t)),d.svg&&(kt(t,Z(t,At,s,!1,"50% 50%")+"",d,t.getAttribute("data-svg-origin")),Tt=r.useSVGTransformAttr||Pt),a=Lt(t),a!==Dt){if(16===a.length){var _,w,b,x,T,C=a[0],S=a[1],M=a[2],A=a[3],O=a[4],$=a[5],I=a[6],B=a[7],E=a[8],P=a[9],k=a[10],D=a[12],L=a[13],N=a[14],z=a[11],R=Math.atan2(I,k);d.zOrigin&&(N=-d.zOrigin,D=E*N-a[12],L=P*N-a[13],N=k*N+d.zOrigin-a[14]),d.rotationX=R*V,R&&(x=Math.cos(-R),T=Math.sin(-R),_=O*x+E*T,w=$*x+P*T,b=I*x+k*T,E=O*-T+E*x,P=$*-T+P*x,k=I*-T+k*x,z=B*-T+z*x,O=_,$=w,I=b),R=Math.atan2(E,k),d.rotationY=R*V,R&&(x=Math.cos(-R),T=Math.sin(-R),_=C*x-E*T,w=S*x-P*T,b=M*x-k*T,P=S*T+P*x,k=M*T+k*x,z=A*T+z*x,C=_,S=w,M=b),R=Math.atan2(S,C),d.rotation=R*V,R&&(x=Math.cos(-R),T=Math.sin(-R),C=C*x+O*T,w=S*x+$*T,$=S*-T+$*x,I=M*-T+I*x,S=w),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY+=180),d.scaleX=(Math.sqrt(C*C+S*S)*g+.5|0)/g,d.scaleY=(Math.sqrt($*$+P*P)*g+.5|0)/g,d.scaleZ=(Math.sqrt(I*I+k*k)*g+.5|0)/g,d.skewX=0,d.perspective=z?1/(z<0?-z:z):0,d.x=D,d.y=L,d.z=N,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*C-d.yOrigin*O),d.y-=d.yOrigin-(d.yOrigin*S-d.xOrigin*$))}else if((!Ot||o||!a.length||d.x!==a[4]||d.y!==a[5]||!d.rotationX&&!d.rotationY)&&(void 0===d.x||"none"!==Z(t,"display",i))){var H=a.length>=6,F=H?a[0]:1,j=a[1]||0,U=a[2]||0,Y=H?a[3]:1;d.x=a[4]||0,d.y=a[5]||0,l=Math.sqrt(F*F+j*j),c=Math.sqrt(Y*Y+U*U),u=F||j?Math.atan2(j,F)*V:d.rotation||0,p=U||Y?Math.atan2(U,Y)*V+u:d.skewX||0,Math.abs(p)>90&&Math.abs(p)<270&&(f?(l*=-1,p+=u<=0?180:-180,u+=u<=0?180:-180):(c*=-1,p+=p<=0?180:-180)),d.scaleX=l,d.scaleY=c,d.rotation=u,d.skewX=p,Ot&&(d.rotationX=d.rotationY=d.z=0,d.perspective=y,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*F+d.yOrigin*U),d.y-=d.yOrigin-(d.xOrigin*j+d.yOrigin*Y))}d.zOrigin=v;for(h in d)d[h]<m&&d[h]>-m&&(d[h]=0)}return n&&(t._gsTransform=d,d.svg&&(Tt&&t.style[St]?e.delayedCall(.001,function(){Ft(t.style,St)}):!Tt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),d},zt=function(t){var e,i,n=this.data,s=-n.rotation*k,o=s+n.skewX*k,a=1e5,r=(Math.cos(s)*n.scaleX*a|0)/a,h=(Math.sin(s)*n.scaleX*a|0)/a,l=(Math.sin(o)*-n.scaleY*a|0)/a,c=(Math.cos(o)*n.scaleY*a|0)/a,u=this.t.style,p=this.t.currentStyle;if(p){i=h,h=-l,l=-i,e=p.filter,u.filter="";var d,f,m=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==p.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+r+", M12="+h+", M21="+l+", M22="+c,w=n.x+m*n.xPercent/100,T=n.y+v*n.yPercent/100;if(null!=n.ox&&(d=(n.oxp?m*n.ox*.01:n.ox)-m/2,f=(n.oyp?v*n.oy*.01:n.oy)-v/2,w+=d-(d*r+f*h),T+=f-(d*l+f*c)),y?(d=m/2,f=v/2,_+=", Dx="+(d-(d*r+f*h)+w)+", Dy="+(f-(d*l+f*c)+T)+")"):_+=", sizingMethod='auto expand')",e.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?u.filter=e.replace(E,_):u.filter=_+" "+e,0!==t&&1!==t||1===r&&0===h&&0===l&&1===c&&(y&&_.indexOf("Dx=0, Dy=0")===-1||x.test(e)&&100!==parseFloat(RegExp.$1)||e.indexOf(e.indexOf("Alpha"))===-1&&u.removeAttribute("filter")),!y){var C,S,M,A=g<8?1:-1;for(d=n.ieOffsetX||0,f=n.ieOffsetY||0,n.ieOffsetX=Math.round((m-((r<0?-r:r)*m+(h<0?-h:h)*v))/2+w),n.ieOffsetY=Math.round((v-((c<0?-c:c)*v+(l<0?-l:l)*m))/2+T),_t=0;_t<4;_t++)S=it[_t],C=p[S],i=C.indexOf("px")!==-1?parseFloat(C):K(this.t,S,parseFloat(C),C.replace(b,""))||0,M=i!==n[S]?_t<2?-n.ieOffsetX:-n.ieOffsetY:_t<2?d-n.ieOffsetX:f-n.ieOffsetY,u[S]=(n[S]=Math.round(i-M*(0===_t||2===_t?1:A)))+"px"}}},Rt=H.set3DTransformRatio=H.setTransformRatio=function(t){var e,i,n,s,o,a,r,h,l,c,u,p,d,m,g,v,y,_,w,b,x,T,C,S=this.data,M=this.t.style,A=S.rotation,O=S.rotationX,$=S.rotationY,I=S.scaleX,B=S.scaleY,E=S.scaleZ,P=S.x,V=S.y,D=S.z,L=S.svg,N=S.perspective,z=S.force3D;if(((1===t||0===t)&&"auto"===z&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!z)&&!D&&!N&&!$&&!O||Tt&&L||!Ot)return void(A||S.skewX||L?(A*=k,T=S.skewX*k,C=1e5,e=Math.cos(A)*I,s=Math.sin(A)*I,i=Math.sin(A-T)*-B,o=Math.cos(A-T)*B,T&&"simple"===S.skewType&&(y=Math.tan(T),y=Math.sqrt(1+y*y),i*=y,o*=y,S.skewY&&(e*=y,s*=y)),L&&(P+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i)+S.xOffset,V+=S.yOrigin-(S.xOrigin*s+S.yOrigin*o)+S.yOffset,Tt&&(S.xPercent||S.yPercent)&&(m=this.t.getBBox(),P+=.01*S.xPercent*m.width,V+=.01*S.yPercent*m.height),m=1e-6,P<m&&P>-m&&(P=0),V<m&&V>-m&&(V=0)),w=(e*C|0)/C+","+(s*C|0)/C+","+(i*C|0)/C+","+(o*C|0)/C+","+P+","+V+")",L&&Tt?this.t.setAttribute("transform","matrix("+w):M[St]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+w):M[St]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+I+",0,0,"+B+","+P+","+V+")");if(f&&(m=1e-4,I<m&&I>-m&&(I=E=2e-5),B<m&&B>-m&&(B=E=2e-5),!N||S.z||S.rotationX||S.rotationY||(N=0)),A||S.skewX)A*=k,g=e=Math.cos(A),v=s=Math.sin(A),S.skewX&&(A-=S.skewX*k,g=Math.cos(A),v=Math.sin(A),"simple"===S.skewType&&(y=Math.tan(S.skewX*k),y=Math.sqrt(1+y*y),g*=y,v*=y,S.skewY&&(e*=y,s*=y))),i=-v,o=g;else{if(!($||O||1!==E||N||L))return void(M[St]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+P+"px,"+V+"px,"+D+"px)"+(1!==I||1!==B?" scale("+I+","+B+")":""));e=o=1,i=s=0}l=1,n=a=r=h=c=u=0,p=N?-1/N:0,d=S.zOrigin,m=1e-6,b=",",x="0",A=$*k,A&&(g=Math.cos(A),v=Math.sin(A),r=-v,c=p*-v,n=e*v,a=s*v,l=g,p*=g,e*=g,s*=g),A=O*k,A&&(g=Math.cos(A),v=Math.sin(A),y=i*g+n*v,_=o*g+a*v,h=l*v,u=p*v,n=i*-v+n*g,a=o*-v+a*g,l*=g,p*=g,i=y,o=_),1!==E&&(n*=E,a*=E,l*=E,p*=E),1!==B&&(i*=B,o*=B,h*=B,u*=B),1!==I&&(e*=I,s*=I,r*=I,c*=I),(d||L)&&(d&&(P+=n*-d,V+=a*-d,D+=l*-d+d),L&&(P+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i)+S.xOffset,V+=S.yOrigin-(S.xOrigin*s+S.yOrigin*o)+S.yOffset),P<m&&P>-m&&(P=x),V<m&&V>-m&&(V=x),D<m&&D>-m&&(D=0)),w=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",w+=(e<m&&e>-m?x:e)+b+(s<m&&s>-m?x:s)+b+(r<m&&r>-m?x:r),w+=b+(c<m&&c>-m?x:c)+b+(i<m&&i>-m?x:i)+b+(o<m&&o>-m?x:o),O||$?(w+=b+(h<m&&h>-m?x:h)+b+(u<m&&u>-m?x:u)+b+(n<m&&n>-m?x:n),w+=b+(a<m&&a>-m?x:a)+b+(l<m&&l>-m?x:l)+b+(p<m&&p>-m?x:p)+b):w+=",0,0,0,0,1,0,",w+=P+b+V+b+D+b+(N?1+-D/N:1)+")",M[St]=w};c=$t.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,bt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,o,a,h){if(n._lastParsedTransform===h)return o;n._lastParsedTransform=h;var l,c,u,p,d,f,m,g,v,y,_=t._gsTransform,w=t.style,b=1e-6,x=Ct.length,T=h,C={},S="transformOrigin";if(h.display?(p=Z(t,"display"),w.display="block",l=Nt(t,s,!0,h.parseTransform),w.display=p):l=Nt(t,s,!0,h.parseTransform),n._transform=l,"string"==typeof T.transform&&St)p=z.style,p[St]=T.transform,p.display="block",p.position="absolute",L.body.appendChild(z),c=Nt(z,null,!1),L.body.removeChild(z),c.perspective||(c.perspective=l.perspective),null!=T.xPercent&&(c.xPercent=at(T.xPercent,l.xPercent)),null!=T.yPercent&&(c.yPercent=at(T.yPercent,l.yPercent));else if("object"==typeof T){if(c={scaleX:at(null!=T.scaleX?T.scaleX:T.scale,l.scaleX),scaleY:at(null!=T.scaleY?T.scaleY:T.scale,l.scaleY),scaleZ:at(T.scaleZ,l.scaleZ),x:at(T.x,l.x),y:at(T.y,l.y),z:at(T.z,l.z),xPercent:at(T.xPercent,l.xPercent),yPercent:at(T.yPercent,l.yPercent),perspective:at(T.transformPerspective,l.perspective)},g=T.directionalRotation,null!=g)if("object"==typeof g)for(p in g)T[p]=g[p];else T.rotation=g;"string"==typeof T.x&&T.x.indexOf("%")!==-1&&(c.x=0,c.xPercent=at(T.x,l.xPercent)),"string"==typeof T.y&&T.y.indexOf("%")!==-1&&(c.y=0,c.yPercent=at(T.y,l.yPercent)),c.rotation=rt("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":"rotationZ"in T?T.rotationZ:l.rotation,l.rotation,"rotation",C),Ot&&(c.rotationX=rt("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":l.rotationX||0,l.rotationX,"rotationX",C),c.rotationY=rt("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":l.rotationY||0,l.rotationY,"rotationY",C)),c.skewX=null==T.skewX?l.skewX:rt(T.skewX,l.skewX),c.skewY=null==T.skewY?l.skewY:rt(T.skewY,l.skewY),(u=c.skewY-l.skewY)&&(c.skewX+=u,c.rotation+=u)}for(Ot&&null!=T.force3D&&(l.force3D=T.force3D,m=!0),l.skewType=T.skewType||l.skewType||r.defaultSkewType,f=l.force3D||l.z||l.rotationX||l.rotationY||c.z||c.rotationX||c.rotationY||c.perspective,
f||null==T.scale||(c.scaleZ=1);--x>-1;)i=Ct[x],d=c[i]-l[i],(d>b||d<-b||null!=T[i]||null!=D[i])&&(m=!0,o=new gt(l,i,l[i],d,o),i in C&&(o.e=C[i]),o.xs0=0,o.plugin=a,n._overwriteProps.push(o.n));return d=T.transformOrigin,l.svg&&(d||T.svgOrigin)&&(v=l.xOffset,y=l.yOffset,kt(t,st(d),c,T.svgOrigin,T.smoothOrigin),o=vt(l,"xOrigin",(_?l:c).xOrigin,c.xOrigin,o,S),o=vt(l,"yOrigin",(_?l:c).yOrigin,c.yOrigin,o,S),v===l.xOffset&&y===l.yOffset||(o=vt(l,"xOffset",_?v:l.xOffset,l.xOffset,o,S),o=vt(l,"yOffset",_?y:l.yOffset,l.yOffset,o,S)),d=Tt?null:"0px 0px"),(d||Ot&&f&&l.zOrigin)&&(St?(m=!0,i=At,d=(d||Z(t,i,s,!1,"50% 50%"))+"",o=new gt(w,i,0,0,o,(-1),S),o.b=w[i],o.plugin=a,Ot?(p=l.zOrigin,d=d.split(" "),l.zOrigin=(d.length>2&&(0===p||"0px"!==d[2])?parseFloat(d[2]):p)||0,o.xs0=o.e=d[0]+" "+(d[1]||"50%")+" 0px",o=new gt(l,"zOrigin",0,0,o,(-1),o.n),o.b=p,o.xs0=o.e=l.zOrigin):o.xs0=o.e=d):st(d+"",l)),m&&(n._transformType=l.svg&&Tt||!f&&3!==this._transformType?2:3),o},prefix:!0}),bt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),bt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,o,a,r){e=this.format(e);var h,l,c,u,p,d,f,m,g,v,y,_,w,b,x,T,C=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(g=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),h=e.split(" "),l=0;l<C.length;l++)this.p.indexOf("border")&&(C[l]=X(C[l])),p=u=Z(t,C[l],s,!1,"0px"),p.indexOf(" ")!==-1&&(u=p.split(" "),p=u[0],u=u[1]),d=c=h[l],f=parseFloat(p),_=p.substr((f+"").length),w="="===d.charAt(1),w?(m=parseInt(d.charAt(0)+"1",10),d=d.substr(2),m*=parseFloat(d),y=d.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(d),y=d.substr((m+"").length)),""===y&&(y=n[i]||_),y!==_&&(b=K(t,"borderLeft",f,_),x=K(t,"borderTop",f,_),"%"===y?(p=b/g*100+"%",u=x/v*100+"%"):"em"===y?(T=K(t,"borderLeft",1,"em"),p=b/T+"em",u=x/T+"em"):(p=b+"px",u=x+"px"),w&&(d=parseFloat(p)+m+y,c=parseFloat(u)+m+y)),a=yt(S,C[l],p+" "+u,d+" "+c,!1,"0px",a);return a},prefix:!0,formatter:dt("0px 0px 0px 0px",!1,!0)}),bt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,o,a){var r,h,l,c,u,p,d="background-position",f=s||G(t,null),m=this.format((f?g?f.getPropertyValue(d+"-x")+" "+f.getPropertyValue(d+"-y"):f.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(m.indexOf("%")!==-1!=(v.indexOf("%")!==-1)&&(p=Z(t,"backgroundImage").replace(O,""),p&&"none"!==p)){for(r=m.split(" "),h=v.split(" "),R.setAttribute("src",p),l=2;--l>-1;)m=r[l],c=m.indexOf("%")!==-1,c!==(h[l].indexOf("%")!==-1)&&(u=0===l?t.offsetWidth-R.width:t.offsetHeight-R.height,r[l]=c?parseFloat(m)/100*u+"px":parseFloat(m)/u*100+"%");m=r.join(" ")}return this.parseComplex(t.style,m,v,o,a)},formatter:st}),bt("backgroundSize",{defaultValue:"0 0",formatter:st}),bt("perspective",{defaultValue:"0px",prefix:!0}),bt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),bt("transformStyle",{prefix:!0}),bt("backfaceVisibility",{prefix:!0}),bt("userSelect",{prefix:!0}),bt("margin",{parser:ft("marginTop,marginRight,marginBottom,marginLeft")}),bt("padding",{parser:ft("paddingTop,paddingRight,paddingBottom,paddingLeft")}),bt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,o,a){var r,h,l;return g<9?(h=t.currentStyle,l=g<8?" ":",",r="rect("+h.clipTop+l+h.clipRight+l+h.clipBottom+l+h.clipLeft+")",e=this.format(e).split(",").join(l)):(r=this.format(Z(t,this.p,s,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,r,e,o,a)}}),bt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),bt("autoRound,strictUnits",{parser:function(t,e,i,n,s){return s}}),bt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,o,a){return this.parseComplex(t.style,this.format(Z(t,"borderTopWidth",s,!1,"0px")+" "+Z(t,"borderTopStyle",s,!1,"solid")+" "+Z(t,"borderTopColor",s,!1,"#000")),this.format(e),o,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(pt)||["#000"])[0]}}),bt("borderWidth",{parser:ft("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),bt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,s,o){var a=t.style,r="cssFloat"in a?"cssFloat":"styleFloat";return new gt(a,r,0,0,s,(-1),i,(!1),0,a[r],e)}});var Ht=function(t){var e,i=this.t,n=i.filter||Z(this.data,"filter")||"",s=this.s+this.c*t|0;100===s&&(n.indexOf("atrix(")===-1&&n.indexOf("radient(")===-1&&n.indexOf("oader(")===-1?(i.removeAttribute("filter"),e=!Z(this.data,"filter")):(i.filter=n.replace(C,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+s+")"),n.indexOf("pacity")===-1?0===s&&this.xn1||(i.filter=n+" alpha(opacity="+s+")"):i.filter=n.replace(x,"opacity="+s))};bt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,o,a){var r=parseFloat(Z(t,"opacity",s,!1,"1")),h=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+r),l&&1===r&&"hidden"===Z(t,"visibility",s)&&0!==e&&(r=0),j?o=new gt(h,"opacity",r,e-r,o):(o=new gt(h,"opacity",100*r,100*(e-r),o),o.xn1=l?1:0,h.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=a,o.setRatio=Ht),l&&(o=new gt(h,"visibility",0,0,o,(-1),null,(!1),0,0!==r?"inherit":"hidden",0===e?"hidden":"inherit"),o.xs0="inherit",n._overwriteProps.push(o.n),n._overwriteProps.push(i)),o}});var Ft=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(M,"-$1").toLowerCase())):t.removeAttribute(e))},jt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Ft(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};bt("className",{parser:function(t,e,n,o,a,r,h){var l,c,u,p,d,f=t.getAttribute("class")||"",m=t.style.cssText;if(a=o._classNamePT=new gt(t,n,0,0,a,2),a.setRatio=jt,a.pr=-11,i=!0,a.b=f,c=Q(t,s),u=t._gsClassPT){for(p={},d=u.data;d;)p[d.p]=1,d=d._next;u.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:f.replace(new RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),l=tt(t,c,Q(t),h,p),t.setAttribute("class",f),a.data=l.firstMPT,t.style.cssText=m,a=a.xfirst=o.parse(t,l.difs,a,r)}});var Ut=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,s,o,a=this.t.style,r=l.transform.parse;if("all"===this.e)a.cssText="",s=!0;else for(e=this.e.split(" ").join("").split(","),n=e.length;--n>-1;)i=e[n],l[i]&&(l[i].parse===r?s=!0:i="transformOrigin"===i?At:l[i].p),Ft(a,i);s&&(Ft(a,St),o=this.t._gsTransform,o&&(o.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(bt("clearProps",{parser:function(t,e,n,s,o){return o=new gt(t,n,0,0,o,2),o.setRatio=Ut,o.e=e,o.pr=-10,o.data=s._tween,i=!0,o}}),c="bezier,throwProps,physicsProps,physics2D".split(","),_t=c.length;_t--;)xt(c[_t]);c=r.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,a){if(!t.nodeType)return!1;this._target=t,this._tween=a,this._vars=e,u=e.autoRound,i=!1,n=e.suffixMap||r.suffixMap,s=G(t,""),o=this._overwriteProps;var h,c,f,g,v,y,_,w,b,x=t.style;if(p&&""===x.zIndex&&(h=Z(t,"zIndex",s),"auto"!==h&&""!==h||this._addLazySet(x,"zIndex",0)),"string"==typeof e&&(g=x.cssText,h=Q(t,s),x.cssText=g+";"+e,h=tt(t,h,Q(t)).difs,!j&&T.test(e)&&(h.opacity=parseFloat(RegExp.$1)),e=h,x.cssText=g),e.className?this._firstPT=c=l.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=c=this.parse(t,e,null),this._transformType){for(b=3===this._transformType,St?d&&(p=!0,""===x.zIndex&&(_=Z(t,"zIndex",s),"auto"!==_&&""!==_||this._addLazySet(x,"zIndex",0)),m&&this._addLazySet(x,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(b?"visible":"hidden"))):x.zoom=1,f=c;f&&f._next;)f=f._next;w=new gt(t,"transform",0,0,null,2),this._linkCSSP(w,null,f),w.setRatio=St?Rt:zt,w.data=this._transform||Nt(t,s,!0),w.tween=a,w.pr=-1,o.pop()}if(i){for(;c;){for(y=c._next,f=g;f&&f.pr>c.pr;)f=f._next;(c._prev=f?f._prev:v)?c._prev._next=c:g=c,(c._next=f)?f._prev=c:v=c,c=y}this._firstPT=g}return!0},c.parse=function(t,e,i,o){var a,r,h,c,p,d,f,m,g,v,y=t.style;for(a in e)d=e[a],r=l[a],r?i=r.parse(t,d,a,this,i,o,e):(p=Z(t,a,s)+"",g="string"==typeof d,"color"===a||"fill"===a||"stroke"===a||a.indexOf("Color")!==-1||g&&S.test(d)?(g||(d=ct(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),i=yt(y,a,p,d,!0,"transparent",i,0,o)):!g||d.indexOf(" ")===-1&&d.indexOf(",")===-1?(h=parseFloat(p),f=h||0===h?p.substr((h+"").length):"",""!==p&&"auto"!==p||("width"===a||"height"===a?(h=nt(t,a,s),f="px"):"left"===a||"top"===a?(h=J(t,a,s),f="px"):(h="opacity"!==a?0:1,f="")),v=g&&"="===d.charAt(1),v?(c=parseInt(d.charAt(0)+"1",10),d=d.substr(2),c*=parseFloat(d),m=d.replace(b,"")):(c=parseFloat(d),m=g?d.replace(b,""):""),""===m&&(m=a in n?n[a]:f),d=c||0===c?(v?c+h:c)+m:e[a],f!==m&&""!==m&&(c||0===c)&&h&&(h=K(t,a,h,f),"%"===m?(h/=K(t,a,100,"%")/100,e.strictUnits!==!0&&(p=h+"%")):"em"===m||"rem"===m?h/=K(t,a,1,m):"px"!==m&&(c=K(t,a,c,m),m="px"),v&&(c||0===c)&&(d=c+h+m)),v&&(c+=h),!h&&0!==h||!c&&0!==c?void 0!==y[a]&&(d||d+""!="NaN"&&null!=d)?(i=new gt(y,a,c||h||0,0,i,(-1),a,(!1),0,p,d),i.xs0="none"!==d||"display"!==a&&a.indexOf("Style")===-1?d:p):Y("invalid "+a+" tween value: "+e[a]):(i=new gt(y,a,h,c-h,i,0,a,u!==!1&&("px"===m||"zIndex"===a),0,p,d),i.xs0=m)):i=yt(y,a,p,d,!0,null,i,0,o)),o&&i&&!i.plugin&&(i.plugin=o);return i},c.setRatio=function(t){var e,i,n,s=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;s;){if(e=s.c*t+s.s,s.r?e=Math.round(e):e<o&&e>-o&&(e=0),s.type)if(1===s.type)if(n=s.l,2===n)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2;else if(3===n)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3;else if(4===n)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4;else if(5===n)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4+s.xn4+s.xs5;else{for(i=s.xs0+e+s.xs1,n=1;n<s.l;n++)i+=s["xn"+n]+s["xs"+(n+1)];s.t[s.p]=i}else s.type===-1?s.t[s.p]=s.xs0:s.setRatio&&s.setRatio(t);else s.t[s.p]=e+s.xs0;s=s._next}else for(;s;)2!==s.type?s.t[s.p]=s.b:s.setRatio(t),s=s._next;else for(;s;){if(2!==s.type)if(s.r&&s.type!==-1)if(e=Math.round(s.s+s.c),s.type){if(1===s.type){for(n=s.l,i=s.xs0+e+s.xs1,n=1;n<s.l;n++)i+=s["xn"+n]+s["xs"+(n+1)];s.t[s.p]=i}}else s.t[s.p]=e+s.xs0;else s.t[s.p]=s.e;else s.setRatio(t);s=s._next}},c._enableTransforms=function(t){this._transform=this._transform||Nt(this._target,s,!0),this._transformType=this._transform.svg&&Tt||!t&&3!==this._transformType?2:3};var Yt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,i){var n=this._firstPT=new gt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=Yt,n.data=this},c._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},c._kill=function(e){var i,n,s,o=e;if(e.autoAlpha||e.alpha){o={};for(n in e)o[n]=e[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}return e.className&&(i=this._classNamePT)&&(s=i.xfirst,s&&s._prev?this._linkCSSP(s._prev,i._next,s._prev._prev):s===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,s._prev),this._classNamePT=null),t.prototype._kill.call(this,o)};var Wt=function(t,e,i){var n,s,o,a;if(t.slice)for(s=t.length;--s>-1;)Wt(t[s],e,i);else for(n=t.childNodes,s=n.length;--s>-1;)o=n[s],a=o.type,o.style&&(e.push(Q(o)),i&&i.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Wt(o,e,i)};return r.cascadeTo=function(t,i,n){var s,o,a,r,h=e.to(t,i,n),l=[h],c=[],u=[],p=[],d=e._internals.reservedProps;for(t=h._targets||h.target,Wt(t,c,p),h.render(i,!0,!0),Wt(t,u),h.render(0,!0,!0),h._enabled(!0),s=p.length;--s>-1;)if(o=tt(p[s],c[s],u[s]),o.firstMPT){o=o.difs;for(a in n)d[a]&&(o[a]=n[a]);r={};for(a in o)r[a]=c[s][a];l.push(e.fromTo(p[s],i,r,o))}return l},t.activate([r]),r},!0),function(){var t=a._gsDefine.plugin({propName:"roundProps",version:"1.5",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.r=1),t=t._next},i=t.prototype;i._onInitAllProps=function(){for(var t,i,n,s=this._tween,o=s.vars.roundProps.join?s.vars.roundProps:s.vars.roundProps.split(","),a=o.length,r={},h=s._propLookup.roundProps;--a>-1;)r[o[a]]=1;for(a=o.length;--a>-1;)for(t=o[a],i=s._firstPT;i;)n=i._next,i.pg?i.t._roundProps(r,!0):i.n===t&&(2===i.f&&i.t?e(i.t._firstPT):(this._add(i.t,t,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:s._firstPT===i&&(s._firstPT=n),i._next=i._prev=null,s._propLookup[t]=h)),i=n;return!1},i._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,!0),this._overwriteProps.push(e)}}(),function(){a._gsDefine.plugin({propName:"attr",API:2,version:"0.5.0",init:function(t,e,i){var n;if("function"!=typeof t.setAttribute)return!1;for(n in e)this._addTween(t,"setAttribute",t.getAttribute(n)+"",e[n]+"",n,!1,n),this._overwriteProps.push(n);return!0}})}(),a._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e,i){"object"!=typeof e&&(e={rotation:e}),this.finals={};var n,s,o,a,r,h,l=e.useRadians===!0?2*Math.PI:360,c=1e-6;for(n in e)"useRadians"!==n&&(h=(e[n]+"").split("_"),s=h[0],o=parseFloat("function"!=typeof t[n]?t[n]:t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]()),a=this.finals[n]="string"==typeof s&&"="===s.charAt(1)?o+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0,r=a-o,h.length&&(s=h.join("_"),s.indexOf("short")!==-1&&(r%=l,r!==r%(l/2)&&(r=r<0?r+l:r-l)),s.indexOf("_cw")!==-1&&r<0?r=(r+9999999999*l)%l-(r/l|0)*l:s.indexOf("ccw")!==-1&&r>0&&(r=(r-9999999999*l)%l-(r/l|0)*l)),(r>c||r<-c)&&(this._addTween(t,n,o,o+r,n),this._overwriteProps.push(n)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,a._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,s=a.GreenSockGlobals||a,o=s.com.greensock,r=2*Math.PI,h=Math.PI/2,l=o._class,c=function(e,i){var n=l("easing."+e,function(){},!0),s=n.prototype=new t;return s.constructor=n,s.getRatio=i,n},u=t.register||function(){},p=function(t,e,i,n,s){var o=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return u(o,t),o},d=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},f=function(e,i){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),s=n.prototype=new t;return s.constructor=n,s.getRatio=i,s.config=function(t){return new n(t)},n},m=p("Back",f("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),f("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),f("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),g=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),v=g.prototype=new t;return v.constructor=g,v.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},g.ease=new g(.7,.7),v.config=g.config=function(t,e,i){return new g(t,e,i)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),v=e.prototype=new t,v.constructor=e,v.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},v.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){e=e||{};for(var i,n,s,o,a,r,h=e.taper||"none",l=[],c=0,u=0|(e.points||20),p=u,f=e.randomize!==!1,m=e.clamp===!0,g=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)i=f?Math.random():1/u*p,n=g?g.getRatio(i):i,"none"===h?s=v:"out"===h?(o=1-i,s=o*o*v):"in"===h?s=i*i*v:i<.5?(o=2*i,s=o*o*.5*v):(o=2*(1-i),s=o*o*.5*v),f?n+=Math.random()*s-.5*s:p%2?n+=.5*s:n-=.5*s,m&&(n>1?n=1:n<0&&(n=0)),l[c++]={x:i,y:n};for(l.sort(function(t,e){return t.x-e.x}),r=new d(1,1,null),p=u;--p>-1;)a=l[p],r=new d(a.x,a.y,r);this._prev=new d(0,0,0!==r.t?r:r.next)},!0),v=i.prototype=new t,v.constructor=i,v.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},v.config=function(t){return new i(t)},i.ease=new i,p("Bounce",c("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=t<.5;return t=e?1-2*t:2*t-1,t=t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),p("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var s=l("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(t<1?t:1),this._p3=this._p2/r*(Math.asin(1/this._p1)||0),this._p2=r/this._p2},!0),o=s.prototype=new t;return o.constructor=s,o.getRatio=i,o.config=function(t,e){return new s(t,e)},s},p("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),n("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),p("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),p("Sine",c("SineOut",function(t){return Math.sin(t*h)}),c("SineIn",function(t){return-Math.cos(t*h)+1}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),u(s.SlowMo,"SlowMo","ease,"),u(i,"RoughEase","ease,"),u(e,"SteppedEase","ease,"),m},!0)}),a._gsDefine&&a._gsQueue.pop()(),function(o,a){"use strict";var r=o.GreenSockGlobals=o.GreenSockGlobals||o;if(!r.TweenLite){var h,l,c,u,p,d=function(t){var e,i=t.split("."),n=r;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},f=d("com.greensock"),m=1e-10,g=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},v=function(){},y=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),_={},w=function(o,h,l,c){this.sc=_[o]?_[o].sc:[],_[o]=this,this.gsClass=null,this.func=l;var u=[];this.check=function(p){for(var f,m,g,v,y,b=h.length,x=b;--b>-1;)(f=_[h[b]]||new w(h[b],[])).gsClass?(u[b]=f.gsClass,x--):p&&f.sc.push(this);if(0===x&&l)for(m=("com.greensock."+o).split("."),g=m.pop(),v=d(m.join("."))[g]=this.gsClass=l.apply(l,u),c&&(r[g]=v,y="undefined"!=typeof t&&t.exports,!y&&i(15)?(n=[],s=function(){return v}.apply(e,n),!(void 0!==s&&(t.exports=s))):o===a&&y&&(t.exports=v)),b=0;b<this.sc.length;b++)this.sc[b].check()},this.check(!0)},b=o._gsDefine=function(t,e,i,n){return new w(t,e,i,n)},x=f._class=function(t,e,i){return e=e||function(){},b(t,[],function(){return e},i),e};b.globals=r;var T=[0,0,1,1],C=[],S=x("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?T.concat(e):T},!0),M=S.map={},A=S.register=function(t,e,i,n){for(var s,o,a,r,h=e.split(","),l=h.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(o=h[l],s=n?x("easing."+o,null,!0):f.easing[o]||{},a=c.length;--a>-1;)r=c[a],M[o+"."+r]=M[r+o]=s[r]=t.getRatio?t:t[r]||new t};for(c=S.prototype,c._calcEnd=!1,c.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},h=["Linear","Quad","Cubic","Quart","Quint,Strong"],l=h.length;--l>-1;)c=h[l]+",Power"+l,A(new S(null,null,1,l),c,"easeOut",!0),A(new S(null,null,2,l),c,"easeIn"+(0===l?",easeNone":"")),A(new S(null,null,3,l),c,"easeInOut");M.linear=f.easing.Linear.easeIn,M.swing=f.easing.Quad.easeInOut;var O=x("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});c=O.prototype,c.addEventListener=function(t,e,i,n,s){s=s||0;var o,a,r=this._listeners[t],h=0;for(null==r&&(this._listeners[t]=r=[]),a=r.length;--a>-1;)o=r[a],o.c===e&&o.s===i?r.splice(a,1):0===h&&o.pr<s&&(h=a+1);r.splice(h,0,{c:e,s:i,up:n,pr:s}),this!==u||p||u.wake()},c.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},c.dispatchEvent=function(t){var e,i,n,s=this._listeners[t];if(s)for(e=s.length,i=this._eventTarget;--e>-1;)n=s[e],n&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var $=o.requestAnimationFrame,I=o.cancelAnimationFrame,B=Date.now||function(){return(new Date).getTime()},E=B();for(h=["ms","moz","webkit","o"],l=h.length;--l>-1&&!$;)$=o[h[l]+"RequestAnimationFrame"],I=o[h[l]+"CancelAnimationFrame"]||o[h[l]+"CancelRequestAnimationFrame"];x("Ticker",function(t,e){var i,n,s,o,a,r=this,h=B(),l=e!==!1&&$,c=500,d=33,f="tick",g=function(t){var e,l,u=B()-E;u>c&&(h+=u-d),E+=u,r.time=(E-h)/1e3,e=r.time-a,(!i||e>0||t===!0)&&(r.frame++,a+=e+(e>=o?.004:o-e),l=!0),t!==!0&&(s=n(g)),l&&r.dispatchEvent(f)};O.call(r),r.time=r.frame=0,r.tick=function(){g(!0)},r.lagSmoothing=function(t,e){c=t||1/m,d=Math.min(e,c,0)},r.sleep=function(){null!=s&&(l&&I?I(s):clearTimeout(s),n=v,s=null,r===u&&(p=!1))},r.wake=function(){null!==s?r.sleep():r.frame>10&&(E=B()-c+5),n=0===i?v:l&&$?$:function(t){return setTimeout(t,1e3*(a-r.time)+1|0)},r===u&&(p=!0),g(2)},r.fps=function(t){return arguments.length?(i=t,o=1/(i||60),a=this.time+o,void r.wake()):i},r.useRAF=function(t){return arguments.length?(r.sleep(),l=t,void r.fps(i)):l},r.fps(t),setTimeout(function(){l&&r.frame<5&&r.useRAF(!1)},1500)}),c=f.Ticker.prototype=new f.events.EventDispatcher,c.constructor=f.Ticker;var P=x("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,J){p||u.wake();var i=this.vars.useFrames?K:J;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});u=P.ticker=new f.Ticker,c=P.prototype,c._dirty=c._gc=c._initted=c._paused=!1,c._totalTime=c._time=0,c._rawPrevTime=-1,c._next=c._last=c._onUpdate=c._timeline=c.timeline=null,c._paused=!1;var k=function(){p&&B()-E>2e3&&u.wake(),setTimeout(k,2e3)};k(),c.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},c.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},c.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},c.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},c.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},c.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},c.render=function(t,e,i){},c.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},c.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},c._enabled=function(t,e){return p||u.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},c._kill=function(t,e){return this._enabled(!1,!1)},c.kill=function(t,e){return this._kill(t,e),this},c._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},c._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},c._callback=function(t){var e=this.vars;e[t].apply(e[t+"Scope"]||e.callbackScope||this,e[t+"Params"]||C)},c.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var s=this.vars;if(1===arguments.length)return s[t];null==e?delete s[t]:(s[t]=e,s[t+"Params"]=y(i)&&i.join("").indexOf("{self}")!==-1?this._swapSelfInParams(i):i,s[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},c.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},c.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},c.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},c.totalTime=function(t,e,i){if(p||u.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,s=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:s._time)-(this._reversed?n-t:t)/this._timeScale,s._dirty||this._uncache(!1),s._timeline)for(;s._timeline;)s._timeline._time!==(s._startTime+s._totalTime)/s._timeScale&&s.totalTime(s._totalTime,!0),s=s._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(z.length&&tt(),this.render(t,e,!1),z.length&&tt())}return this},c.progress=c.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},c.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},c.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},c.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||m,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},c.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},c.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(p||t||u.wake(),e=n.rawTime(),i=e-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var V=x("core.SimpleTimeline",function(t){P.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});c=V.prototype=new P,c.constructor=V,c.kill()._gc=!1,c._first=c._last=c._recent=null,c._sortChildren=!1,c.add=c.insert=function(t,e,i,n){var s,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),s=this._last,this._sortChildren)for(o=t._startTime;s&&s._startTime>o;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=s,this._recent=t,this._timeline&&this._uncache(!0),this},c._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},c.render=function(t,e,i){var n,s=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;s;)n=s._next,(s._active||t>=s._startTime&&!s._paused)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=n},c.rawTime=function(){return p||u.wake(),this._totalTime};var D=x("TweenLite",function(t,e,i){if(P.call(this,e,i),this.render=D.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:D.selector(t)||t;var n,s,a,r=t.jquery||t.length&&t!==o&&t[0]&&(t[0]===o||t[0].nodeType&&t[0].style&&!t.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?Z[D.defaultOverwrite]:"number"==typeof h?h>>0:Z[h],(r||t instanceof Array||t.push&&y(t))&&"number"!=typeof t[0])for(this._targets=a=g(t),this._propLookup=[],this._siblings=[],n=0;n<a.length;n++)s=a[n],s?"string"!=typeof s?s.length&&s!==o&&s[0]&&(s[0]===o||s[0].nodeType&&s[0].style&&!s.nodeType)?(a.splice(n--,1),this._targets=a=a.concat(g(s))):(this._siblings[n]=et(s,this,!1),1===h&&this._siblings[n].length>1&&nt(s,this,null,1,this._siblings[n])):(s=a[n--]=D.selector(s),"string"==typeof s&&a.splice(n+1,1)):a.splice(n--,1);else this._propLookup={},this._siblings=et(t,this,!1),1===h&&this._siblings.length>1&&nt(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-m,this.render(-this._delay))},!0),L=function(t){return t&&t.length&&t!==o&&t[0]&&(t[0]===o||t[0].nodeType&&t[0].style&&!t.nodeType)},N=function(t,e){var i,n={};for(i in t)G[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!W[i]||W[i]&&W[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};c=D.prototype=new P,c.constructor=D,c.kill()._gc=!1,c.ratio=0,c._firstPT=c._targets=c._overwrittenProps=c._startAt=null,c._notifyPluginsOfEnabled=c._lazy=!1,D.version="1.18.0",D.defaultEase=c._ease=new S(null,null,1,1),D.defaultOverwrite="auto",D.ticker=u,D.autoSleep=120,D.lagSmoothing=function(t,e){u.lagSmoothing(t,e)},D.selector=o.$||o.jQuery||function(t){var e=o.$||o.jQuery;return e?(D.selector=e,e(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var z=[],R={},H=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,F=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.blob?t?this.join(""):this.start:i.c*t+i.s,i.r?e=Math.round(e):e<n&&e>-n&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},j=function(t,e,i,n){var s,o,a,r,h,l,c,u=[t,e],p=0,d="",f=0;for(u.start=t,i&&(i(u),t=u[0],e=u[1]),
u.length=0,s=t.match(H)||[],o=e.match(H)||[],n&&(n._next=null,n.blob=1,u._firstPT=n),h=o.length,r=0;r<h;r++)c=o[r],l=e.substr(p,e.indexOf(c,p)-p),d+=l||!r?l:",",p+=l.length,f?f=(f+1)%5:"rgba("===l.substr(-5)&&(f=1),c===s[r]||s.length<=r?d+=c:(d&&(u.push(d),d=""),a=parseFloat(s[r]),u.push(a),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:a,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-a)||0,f:0,r:f&&f<4}),p+=c.length;return d+=e.substr(p),d&&u.push(d),u.setRatio=F,u},U=function(t,e,i,n,s,o,a,r){var h,l,c="get"===i?t[e]:i,u=typeof t[e],p="string"==typeof n&&"="===n.charAt(1),d={t:t,p:e,s:c,f:"function"===u,pg:0,n:s||e,r:o,pr:0,c:p?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-c||0};if("number"!==u&&("function"===u&&"get"===i&&(l=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),d.s=c=a?t[l](a):t[l]()),"string"==typeof c&&(a||isNaN(c))?(d.fp=a,h=j(c,n,r||D.defaultStringFilter,d),d={t:h,p:"setRatio",s:0,c:1,f:2,pg:0,n:s||e,pr:0}):p||(d.c=parseFloat(n)-parseFloat(c)||0)),d.c)return(d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d,d},Y=D._internals={isArray:y,isSelector:L,lazyTweens:z,blobDif:j},W=D._plugins={},q=Y.tweenLookup={},X=0,G=Y.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1},Z={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},K=P._rootFramesTimeline=new V,J=P._rootTimeline=new V,Q=30,tt=Y.lazyRender=function(){var t,e=z.length;for(R={};--e>-1;)t=z[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);z.length=0};J._startTime=u.time,K._startTime=u.frame,J._active=K._active=!0,setTimeout(tt,1),P._updateRoot=D.render=function(){var t,e,i;if(z.length&&tt(),J.render((u.time-J._startTime)*J._timeScale,!1,!1),K.render((u.frame-K._startTime)*K._timeScale,!1,!1),z.length&&tt(),u.frame>=Q){Q=u.frame+(parseInt(D.autoSleep,10)||120);for(i in q){for(e=q[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete q[i]}if(i=J._first,(!i||i._paused)&&D.autoSleep&&!K._first&&1===u._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||u.sleep()}}},u.addEventListener("tick",P._updateRoot);var et=function(t,e,i){var n,s,o=t._gsTweenID;if(q[o||(t._gsTweenID=o="t"+X++)]||(q[o]={target:t,tweens:[]}),e&&(n=q[o].tweens,n[s=n.length]=e,i))for(;--s>-1;)n[s]===e&&n.splice(s,1);return q[o].tweens},it=function(t,e,i,n){var s,o,a=t.vars.onOverwrite;return a&&(s=a(t,e,i,n)),a=D.onOverwrite,a&&(o=a(t,e,i,n)),s!==!1&&o!==!1},nt=function(t,e,i,n,s){var o,a,r,h;if(1===n||n>=4){for(h=s.length,o=0;o<h;o++)if((r=s[o])!==e)r._gc||r._kill(null,t,e)&&(a=!0);else if(5===n)break;return a}var l,c=e._startTime+m,u=[],p=0,d=0===e._duration;for(o=s.length;--o>-1;)(r=s[o])===e||r._gc||r._paused||(r._timeline!==e._timeline?(l=l||st(e,0,d),0===st(r,l,d)&&(u[p++]=r)):r._startTime<=c&&r._startTime+r.totalDuration()/r._timeScale>c&&((d||!r._initted)&&c-r._startTime<=2e-10||(u[p++]=r)));for(o=p;--o>-1;)if(r=u[o],2===n&&r._kill(i,t,e)&&(a=!0),2!==n||!r._firstPT&&r._initted){if(2!==n&&!it(r,e))continue;r._enabled(!1,!1)&&(a=!0)}return a},st=function(t,e,i){for(var n=t._timeline,s=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,s*=n._timeScale,n._paused)return-100;n=n._timeline}return o/=s,o>e?o-e:i&&o===e||!t._initted&&o-e<2*m?m:(o+=t.totalDuration()/t._timeScale/s)>e+m?0:o-e-m};c._init=function(){var t,e,i,n,s,o=this.vars,a=this._overwrittenProps,r=this._duration,h=!!o.immediateRender,l=o.ease;if(o.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),s={};for(n in o.startAt)s[n]=o.startAt[n];if(s.overwrite=!1,s.immediateRender=!0,s.lazy=h&&o.lazy!==!1,s.startAt=s.delay=null,this._startAt=D.to(this.target,0,s),h)if(this._time>0)this._startAt=null;else if(0!==r)return}else if(o.runBackwards&&0!==r)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(h=!1),i={};for(n in o)G[n]&&"autoCSS"!==n||(i[n]=o[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=h&&o.lazy!==!1,i.immediateRender=h,this._startAt=D.to(this.target,0,i),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof S?l:"function"==typeof l?new S(l,o.easeParams):M[l]||D.defaultEase:D.defaultEase,o.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a);if(e&&D._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},c._initProps=function(t,e,i,n){var s,a,r,h,l,c;if(null==t)return!1;R[t._gsTweenID]&&tt(),this.vars.css||t.style&&t!==o&&t.nodeType&&W.css&&this.vars.autoCSS!==!1&&N(this.vars,t);for(s in this.vars)if(c=this.vars[s],G[s])c&&(c instanceof Array||c.push&&y(c))&&c.join("").indexOf("{self}")!==-1&&(this.vars[s]=c=this._swapSelfInParams(c,this));else if(W[s]&&(h=new W[s])._onInitTween(t,this.vars[s],this)){for(this._firstPT=l={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:1,n:s,pg:1,pr:h._priority},a=h._overwriteProps.length;--a>-1;)e[h._overwriteProps[a]]=this._firstPT;(h._priority||h._onInitAllProps)&&(r=!0),(h._onDisable||h._onEnable)&&(this._notifyPluginsOfEnabled=!0),l._next&&(l._next._prev=l)}else e[s]=U.call(this,t,s,"get",c,s,0,null,this.vars.stringFilter);return n&&this._kill(n,t)?this._initProps(t,e,i,n):this._overwrite>1&&this._firstPT&&i.length>1&&nt(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,n)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(R[t._gsTweenID]=!0),r)},c.render=function(t,e,i){var n,s,o,a,r=this._time,h=this._duration,l=this._rawPrevTime;if(t>=h)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,s="onComplete",i=i||this._timeline.autoRemoveChildren),0===h&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||l<0||l===m&&"isPause"!==this.data)&&l!==t&&(i=!0,l>m&&(s="onReverseComplete")),this._rawPrevTime=a=!e||t||l===t?t:m);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==r||0===h&&l>0)&&(s="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(l!==m||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||l===t?t:m)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/h,u=this._easeType,p=this._easePower;(1===u||3===u&&c>=.5)&&(c=1-c),3===u&&(c*=2),1===p?c*=c:2===p?c*=c*c:3===p?c*=c*c*c:4===p&&(c*=c*c*c*c),1===u?this.ratio=1-c:2===u?this.ratio=c:t/h<.5?this.ratio=c/2:this.ratio=1-c/2}else this.ratio=this._ease.getRatio(t/h);if(this._time!==r||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=r,this._rawPrevTime=l,z.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/h):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==r&&t>=0&&(this._active=!0),0===r&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):s||(s="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==h||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==r||n)&&this._callback("onUpdate")),s&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s),0===h&&this._rawPrevTime===m&&a!==m&&(this._rawPrevTime=0)))}},c._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:D.selector(e)||e;var n,s,o,a,r,h,l,c,u,p=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((y(e)||L(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(h=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){r=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],s=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;r=this._propLookup,s=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(r){if(l=t||r,c=t!==s&&"all"!==s&&t!==r&&("object"!=typeof t||!t._tempKill),i&&(D.onOverwrite||this.vars.onOverwrite)){for(o in l)r[o]&&(u||(u=[]),u.push(o));if((u||!t)&&!it(this,i,e,u))return!1}for(o in l)(a=r[o])&&(p&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,h=!0),a.pg&&a.t._kill(l)&&(h=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete r[o]),c&&(s[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},c.invalidate=function(){return this._notifyPluginsOfEnabled&&D._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],P.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-m,this.render(-this._delay)),this},c._enabled=function(t,e){if(p||u.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=et(n[i],this,!0);else this._siblings=et(this.target,this,!0)}return P.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&D._onPluginEvent(t?"_onEnable":"_onDisable",this)},D.to=function(t,e,i){return new D(t,e,i)},D.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new D(t,e,i)},D.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new D(t,e,n)},D.delayedCall=function(t,e,i,n,s){return new D(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:s,overwrite:0})},D.set=function(t,e){return new D(t,0,e)},D.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:D.selector(t)||t;var i,n,s,o;if((y(t)||L(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(D.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(o=n[i],s=i;--s>-1;)o===n[s]&&n.splice(i,1)}else for(n=et(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},D.killTweensOf=D.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=D.getTweensOf(t,e),s=n.length;--s>-1;)n[s]._kill(i,t)};var ot=x("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=ot.prototype},!0);if(c=ot.prototype,ot.version="1.18.0",ot.API=2,c._firstPT=null,c._addTween=U,c.setRatio=F,c._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},c._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},D._onPluginEvent=function(t,e){var i,n,s,o,a,r=e._firstPT;if("_onInitAllProps"===t){for(;r;){for(a=r._next,n=s;n&&n.pr>r.pr;)n=n._next;(r._prev=n?n._prev:o)?r._prev._next=r:s=r,(r._next=n)?n._prev=r:o=r,r=a}r=e._firstPT=s}for(;r;)r.pg&&"function"==typeof r.t[t]&&r.t[t]()&&(i=!0),r=r._next;return i},ot.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===ot.API&&(W[(new t[e])._propName]=t[e]);return!0},b.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,s=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=x("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){ot.call(this,i,n),this._overwriteProps=s||[]},t.global===!0),r=a.prototype=new ot(i);r.constructor=a,a.API=t.API;for(e in o)"function"==typeof t[e]&&(r[o[e]]=t[e]);return a.version=t.version,ot.activate([a]),a},h=o._gsQueue){for(l=0;l<h.length;l++)h[l]();for(c in _)_[c].func||o.console.log("GSAP encountered missing dependency: com.greensock."+c)}p=!1}}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof o?o:this||window,"TweenMax")}).call(e,function(){return this}())},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,i){var n,s,o=i(17),a=i(20);!function(i,r,h){"use strict";function l(t){var e=arguments.length<=0||arguments[0]===h?{}:arguments[0];this.el=e.el===h||null===e.el?r.createElement("div"):e.elements,this.elements=e.elements===h||null===e.elements?[]:e.elements,this.aElements=[],this.isMobile=e.isMobile!==h&&null!==e.isMobile&&e.isMobile,this.aType={image:["gif","jpg","webp","png","svg"],video:["mp4"],iframe:[]},this.viewport={height:i.innerHeight||r.documentElement.clientHeight||r.body.clientHeight,width:i.innerWidth||r.documentElement.clientWidth||r.body.clientWidth},this.allLoaded=!1,this.ticketScroll=!1,this.raf=null,this.isBinded=!1,this.scrollY=i.scrollY||i.pageYOffset,this.handlers={onImageLoaded:m.bind(this),onScroll:T.bind(this),onUpdate:C.bind(this)}}l.EVENT={ELEMENT_LOADED:"onElementLoaded",COMPLETE:"onLazyLoadLoaded"},l.prototype.init=function(){this.scrollY=i.scrollY||r.documentElement.scrollTop;for(var t=this.elements.length-1;t>=0;t--){var e=c.call(this,this.elements[t],t,this.elements);e.error||this.aElements.push(e)}return this.elements=null,this.bindEvents(),this.load(),this},l.prototype.bindEvents=function(){return this.isBinded?this:(this.isBinded=!0,i.addEventListener("scroll",this.handlers.onScroll),this.raf=o(this.handlers.onUpdate),this)},l.prototype.unbindEvents=function(){return this.isBinded?(this.isBinded=!1,i.removeEventListener("scroll",this.handlers.onScroll),o.cancel(this.raf),this):this},l.prototype.reflow=function(t){var e=t!==h?t:null;this.scrollY=i.scrollY||r.documentElement.scrollTop;for(var n=this.aElements.length-1;n>=0;n--)null!==e?this.aElements[n].el===e&&this.reflow(this.aElements[n],!1):this.reflow(this.aElements[n],!1);return this},l.prototype.reset=function(t){for(var e=t!==h?t:null,i=this.aElements.length-1;i>=0;i--)null!==e?this.aElements[i].el===e&&b.call(this,this.aElements[i]):b.call(this,this.aElements[i]);return null===e&&(this.allLoaded=!1),this.bindEvents(),this},l.prototype.load=function(){for(var t=this.aElements.length-1;t>=0;t--){var e=this.aElements[t];if(x.call(this,e)&&!e.isLoaded&&!e.isLoading){var i=this.isMobile?e.typeMobile:e.type;switch(i){case"image":f.call(this,e);break;case"video":g.call(this,e);break;case"iframe":v.call(this,e)}}}return this},l.prototype.dispose=function(){this.unbindEvents();for(var t=this.aElements.length-1;t>=0;t--)b.call(this,this.aElements[t]);return this.aElements.length=0,this.aElements=[],this.el=null,this};var c=function(t,e,n){var s=u.call(this,t);return null===t.getAttribute("data-src")?(s.error=!0,s.errorMessage="no src provided",s.isLoaded=!0,s):(s.src=t.getAttribute("data-src").replace(" ",""),s.src="http"!==s.src.substr(0,4)&&"//"!==s.src.substr(0,2)?"/"===s.src.substr(0,1)?"//"+i.location.hostname+s.src:"//"+i.location.hostname+i.location.pathname+s.src:s.src,s.src=encodeURI(s.src),s.srcMobile=null!==t.getAttribute("data-src-m")?t.getAttribute("data-src-m").replace(" ",""):s.src,s.srcMobile="http"!==s.srcMobile.substr(0,4)&&"//"!==s.srcMobile.substr(0,2)?"/"===s.srcMobile.substr(0,1)?"//"+i.location.hostname+s.srcMobile:"//"+i.location.hostname+i.location.pathname+s.srcMobile:s.srcMobile,s.srcMobile=encodeURI(s.srcMobile),s.height=null!==t.getAttribute("data-height")?parseInt(t.getAttribute("data-height"),0):t.clientHeight,s.top=t.getBoundingClientRect().top+this.scrollY,s.type=null!==t.getAttribute("data-type")?d.call(this,t.getAttribute("data-type")):p.call(this,s.src),s.typeMobile=t.getAttribute("data-type-m")?d.call(this,t.getAttribute("data-type-m")):p.call(this,s.srcMobile),null===s.typeMobile&&s.src===s.srcMobile&&(s.typeMobile=s.type),null===s.type?(s.error=!0,s.errorMessage="no type recognized",s.isLoaded=!0,s):s)},u=function(t){return{container:t,src:null,error:!1,errorMessage:"",srcMobile:null,isLoaded:!1,isLoading:!1,isShown:!1,height:0,top:0,type:null,typeMobile:null}},p=function(t){var e=t.split(".").pop();e=e.split("?")[0].toLowerCase();for(var i in this.aType)for(var n=this.aType[i],s=n.length-1;s>=0;s--)if(n[s]===e)return i;return null},d=function(t){for(var e in this.aType)if(e===t.toLowerCase())return e;return null},f=function(t){t.xhr=null,t.isLoading=!0;var e=new Image,n=this.isMobile?t.srcMobile:t.src;t.el=e;var s=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);if(!s&&URL&&Blob&&XMLHttpRequest){var o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType="arraybuffer",t.xhr=o,o.onerror=function(i){e.addEventListener("onload",this.handlers.onImageLoaded(e,t)),e.src=n}.bind(this),o.onload=function(s){if(4===o.readyState)if(200===o.status){var a=n.split(".").pop();a=a.split("?")[0].toLowerCase();var r=new i.Uint8Array(o.response),h=new Blob([r],{type:"image/"+a}),l=URL.createObjectURL(h);e.addEventListener("onload",this.handlers.onImageLoaded(e,t)),e.src=l}else e.addEventListener("onload",this.handlers.onImageLoaded(e,t)),e.src=n}.bind(this),o.send()}else e.addEventListener("onload",this.handlers.onImageLoaded(e,t)),e.src=n},m=function(t,e){e.isLoaded=!0,e.isLoading=!1;var n=this.isMobile?e.srcMobile:e.src,s="http"!==n.substr(0,4)?i.location.protocol+n:n;e.el.setAttribute("data-pin-media",s),e.el.setAttribute("srcset",s),e.el.setAttribute("data-pin-url",i.location.pathname),URL&&URL.revokeObjectURL(t.src),null!==e.xhr&&(e.xhr=null),e.container.appendChild(e.el),_.call(this,e)},g=function(t){t.isLoading=!0;var e=r.createElement("video");t.el=e,e.autoplay=null===t.container.getAttribute("data-autoplay")||t.container.getAttribute("data-autoplay"),e.muted=null===t.container.getAttribute("data-muted")||t.container.getAttribute("data-muted"),e.loop=null===t.container.getAttribute("data-loop")||t.container.getAttribute("data-loop"),e.controls=null!==t.container.getAttribute("data-controls")&&t.container.getAttribute("data-controls"),e.src=this.isMobile?t.srcMobile:t.src,e.onloadedmetadata=function(){t.isLoaded=!0,t.isLoading=!1,e.onloadedmetadata=null,t.container.appendChild(e),_.call(this,t)}.bind(this)},v=function(t){if(t.isLoading=!0,t.xhr=null,XMLHttpRequest){var e=new XMLHttpRequest;e.open("GET",t.src,!0),e.responseType="document",t.xhr=e,e.onreadystatechange=function(i){4===e.readyState&&y.call(this,t)}.bind(this),e.send(null)}else y.call(this,t)},y=function(t){t.isLoaded=!0,t.isLoading=!1,null!==t.xhr&&(t.xhr=null);var e=r.createElement("iframe");e.src=t.src,t.container.appendChild(e),t.el=e,_.call(this,t)},_=function(t){var e=new a(l.EVENT.ELEMENT_LOADED,{detail:t});this.el.dispatchEvent(e),setTimeout(function(){t.container.classList.add("show"),t.container.classList.add("loaded"),t.isShown=!0}.bind(this),300),w.call(this)},w=function(){for(var t=!0,e=this.aElements.length-1;e>=0;e--)this.aElements[e].isLoaded||(t=!1);if(t){var i=new a(l.EVENT.COMPLETE);this.el.dispatchEvent(i),this.allLoaded=!0,this.unbindEvents()}},b=function(t){t.xhr!==h&&null!==t.xhr&&(t.xhr.abort(),t.xhr=null),t.isLoaded=!1,t.isLoading=!1,t.container.classList.remove("show"),t.container.classList.remove("loaded"),t.el!==h&&null!==t.el.parentNode&&t.el.parentNode.removeChild(t.el)},x=function(t){var e=t.top;return e<=this.viewport.height+this.scrollY&&e+t.height>=this.scrollY},T=function(t){this.ticketScroll=!0},C=function(t){this.allLoaded||(this.ticketScroll&&(this.ticketScroll=!1,this.scrollY=i.scrollY||i.pageYOffset,this.load()),this.raf=o(this.handlers.onUpdate))};n=[],s=function(){return l}.apply(e,n),!(s!==h&&(t.exports=s))}(window,document)},function(t,e,i){(function(e){for(var n=i(18),s="undefined"==typeof window?e:window,o=["moz","webkit"],a="AnimationFrame",r=s["request"+a],h=s["cancel"+a]||s["cancelRequest"+a],l=0;!r&&l<o.length;l++)r=s[o[l]+"Request"+a],h=s[o[l]+"Cancel"+a]||s[o[l]+"CancelRequest"+a];if(!r||!h){var c=0,u=0,p=[],d=1e3/60;r=function(t){if(0===p.length){var e=n(),i=Math.max(0,d-(e-c));c=i+e,setTimeout(function(){var t=p.slice(0);p.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(c)}catch(i){setTimeout(function(){throw i},0)}},Math.round(i))}return p.push({handle:++u,callback:t,cancelled:!1}),u},h=function(t){for(var e=0;e<p.length;e++)p[e].handle===t&&(p[e].cancelled=!0)}}t.exports=function(t){return r.call(s,t)},t.exports.cancel=function(){h.apply(s,arguments)},t.exports.polyfill=function(t){t||(t=s),t.requestAnimationFrame=r,t.cancelAnimationFrame=h}}).call(e,function(){return this}())},function(t,e,i){(function(e){(function(){var i,n,s,o,a,r;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(i()-a)/1e6},n=e.hrtime,i=function(){var t;return t=n(),1e9*t[0]+t[1]},o=i(),r=1e9*e.uptime(),a=o-r):Date.now?(t.exports=function(){return Date.now()-s},s=Date.now()):(t.exports=function(){return(new Date).getTime()-s},s=(new Date).getTime())}).call(this)}).call(e,i(19))},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function s(t){if(c===setTimeout)return setTimeout(t,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(u===clearTimeout)return clearTimeout(t);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{return u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}function a(){m&&d&&(m=!1,d.length?f=d.concat(f):g=-1,f.length&&r())}function r(){if(!m){var t=s(a);m=!0;for(var e=f.length;e;){for(d=f,f=[];++g<e;)d&&d[g].run();g=-1,e=f.length}d=null,m=!1,o(t)}}function h(t,e){this.fun=t,this.array=e}function l(){}var c,u,p=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(t){c=i}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(t){u=n}}();var d,f=[],m=!1,g=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];f.push(new h(t,e)),1!==f.length||m||s(r)},h.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e){(function(e){function i(){try{var t=new n("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(e){}return!1}var n=e.CustomEvent;t.exports=i()?n:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,e){var i=document.createEvent("CustomEvent");return e?i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):i.initCustomEvent(t,!1,!1,void 0),i}:function(t,e){var i=document.createEventObject();return i.type=t,e?(i.bubbles=Boolean(e.bubbles),i.cancelable=Boolean(e.cancelable),i.detail=e.detail):(i.bubbles=!1,i.cancelable=!1,i.detail=void 0),i}}).call(e,function(){return this}())},function(t,e){"use strict";var i=function(){this.appName="Zocdoc",this.isIE=!1,this.gaID="",this.baseUrl=window.location.origin||"http://"+window.location.host,this.root="",this.isRetina=!1,this.device=null,this.hasWEBGL=!0,this.breakPointMobile=722,this.isDevMode="http://dev.zocdoc.sdny.in"!=window.location.origin,this.folderPath=window.location.origin+"/wp-content/themes/zocdoc-careers/"};i.prototype.init=function(){Detectizr.detect()};t.exports=new i},function(t,e,i){(function(e,n){var s=i(21),o=(i(12),i(23),i(7),function(t,i){this.assetsImages=[],this.loadedAssets=0,this.assetsAreLoaded=!1,this.steps=[],this.assetsManager(t,i),e.View.call(this)});n.extend(o,e.View),n.extend(o.prototype,e.View.prototype),o.prototype.assetsManager=function(t,e){var i,o=[];n.each(t,function(n,a){for(var a=n.first;a<=n.end;a++)i=new Image,i.src=s.folderPath+"assets/images/"+n.path+"/"+n.name+a+n.format,this.steps.push(i.src),i.onload=function(){this.loadedAssets++,o=this.loadedAssets/t.length*100,100==o&&(this.assetsAreLoaded=!0,this.steps=[],e&&e())}.bind(this),i.onerror=function(){}.bind(this),a==n.end&&(this.assetsImages.push(this.steps),this.steps=[])}.bind(this))},t.exports=o}).call(e,i(2),i(3))},function(t,e,i){var n=i(12),s=function(){this.getScaledFontSize=function(t){var e,i,n,s=t.maxHeight instanceof Function?t.maxHeight.call(this):t.maxHeight;return t.currentHeight&&null!==s?t.currentHeight>s&&(e=s/t.currentHeight,i=e*t.currentFontSize,n=i>t.maxFont?t.maxFont:i<t.minFont?t.minFont:i):(e=t.maxWidth/t.currentWidth,i=e*t.currentFontSize,n=i>t.maxFont?t.maxFont:i<t.minFont?t.minFont:i),n},this.getMaxNumberInArray=function(t){return Math.max.apply(Math,t)},this.getRandomNumber=function(t,e,i){var n=Math.round(Math.random());void 0!=e&&e&&(n=!0);var s=Math.round(Math.random()*t);return void 0!=i&&s<i&&(s=i),n?s:-s},this.rgbToHex=function(t,e,i){return t=1==parseInt(t).toString(16).length?"0"+parseInt(t).toString(16):parseInt(t).toString(16),e=1==parseInt(e).toString(16).length?"0"+parseInt(e).toString(16):parseInt(e).toString(16),i=1==parseInt(i).toString(16).length?"0"+parseInt(i).toString(16):parseInt(i).toString(16),"#"+t+e+i},this.disappearPage=function(t){window.location.href=t},this.triggerEl=function(t,e){var i=t,s=t.getBoundingClientRect().top;return{el:i,y:s,visible:s>=-e&&s<=n.viewport.height,percentage:s>=-e&&s<=n.viewport.height?(-s+n.viewport.height)/(e+n.viewport.height):null,top:s,height:e}},this.loadYTAPI=function(t){if(window.onYouTubeIframeAPIReady)t();else{var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i),window.onYouTubeIframeAPIReady=function(){t.call(this)}.bind(this)}}};t.exports=new s},function(t,e,i){(function(e,n){var s=i(11),o=i(25),a=i(30),r=i(12),h=i(7),l=function(t,e){this.hasBeenPlayed=!1,this.$title=null,this.$description=null,this.$headerNavigation=null,this.isShown=!1,this.id="intro",this.events={click:"onClickContent","click .arrow":"onArrowClicked"},s.call(this,t,e)};e.extend(l,s),e.extend(l.prototype,s.prototype),l.prototype.init=function(){this.options.mainCanvasView.register(this.id,new o({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.intro,h.CANVAS_SHOWN,u.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.intro,h.CANVAS_HIDDEN,p.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.intro,h.LOADER_COMPLETE,c.bind(this)),s.prototype.init.call(this)};var c=function(){this.trigger(h.LOADER_COMPLETE)};l.prototype.animateZee=function(){this.options.mainCanvasView.aCanvasAnimViews.intro.generateImages(this.options.mainView.loader.assetsImages[0],this.options.mainCanvasView.aCanvasAnimViews.intro.rastersLoader,0,function(){this.options.mainCanvasView.aCanvasAnimViews.intro.manageStep(-1,"Loader",0,function(){this.options.mainCanvasView.aCanvasAnimViews.intro.hideZee(),this.show()}.bind(this))}.bind(this))},l.prototype.onClickContent=function(t){this.options.mainCanvasView.aCanvasAnimViews.intro.mouseDown({x:t.clientX,y:t.clientY})},l.prototype.onArrowClicked=function(){this.options.mainView.goToNextSection()},l.prototype.initDOM=function(){this.$title=this.$el.find("h2"),this.$description=this.$el.find("p"),this.$arrowCTA=this.$el.find(".arrow"),this.$headerNavigation=n(".page-header .navigation"),this.animateArrow(),s.prototype.initDOM.call(this)},l.prototype.setupDOM=function(){TweenMax.set(this.$title,{autoAlpha:0,y:40}),TweenMax.set(this.$description,{autoAlpha:0,y:40}),TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),n(this.$el).removeClass("hidden"),s.prototype.setupDOM.call(this)},l.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},l.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,0,{autoAlpha:1,display:"flex"},0),this.TL.show.to(this.$title,.5,{autoAlpha:1,y:0,ease:new Ease(a(.25,1,.5,1.25))},.4),this.TL.show.to(this.$description,.5,{autoAlpha:1,y:0,ease:new Ease(a(.25,1,.5,1.25))},.45)},l.prototype.show=function(){this.isLoaded&&this.TL&&this.TL.show&&(TweenMax.set(this.$el,{zIndex:30}),this.TL.show.play(0),this.options.mainCanvasView.showCanvas(this.id),"default"===r.breakpoint&&(this.menuIsFixed=!1,TweenMax.to(this.$headerNavigation,.4,{y:0,ease:Expo.easeOut})))},l.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.options.mainCanvasView.aCanvasAnimViews.intro.canAnimate=!0,this.trigger(h.BLOCK_SHOWN),this.isShown=!0,s.prototype.onShown.call(this)};var u=function(){this.trigger(h.CANVAS_SHOWN)};l.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$title,.5,{autoAlpha:0,y:-100,ease:Cubic.easeIn},.1),this.TL.hide.to(this.$description,.5,{autoAlpha:0,y:-80,ease:Cubic.easeIn},.15),this.TL.hide.to(this.$el,.5,{autoAlpha:0,display:"none",ease:Cubic.easeIn},.2)},l.prototype.hide=function(){"default"===r.breakpoint&&(this.menuIsFixed=!0,TweenMax.to(this.$headerNavigation,.4,{y:-64,ease:Expo.easeOut})),this.TL.hide.play(0),this.options.mainCanvasView.hideCanvas(this.id),this.options.mainCanvasView.aCanvasAnimViews.intro.canAnimate=!1},l.prototype.onHidden=function(){TweenMax.set(this.$el,{zIndex:0}),this.isShown=!1,this.trigger(h.BLOCK_HIDDEN),s.prototype.onHidden.call(this)};var p=function(){this.trigger(h.CANVAS_HIDDEN)};l.prototype.onResize=function(){"default"!==r.breakpoint||this.menuIsFixed||this.isShown?"sml"===r.breakpoint&&(this.menuIsFixed=!1,TweenMax.set(this.$headerNavigation,{y:0})):(this.menuIsFixed=!0,TweenMax.set(this.$headerNavigation,{y:-64})),s.prototype.onResize.call(this)},l.prototype.onUpdate=function(){},l.prototype.animateArrow=function(){TweenMax.fromTo(this.$arrowCTA,.6,{y:0},{y:5,ease:Power4.easeNone,repeat:-1,yoyo:!0})},l.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=l}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(29),o=i(13),a=(i(30),i(7)),r=i(12),h=function(t,e){
this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.indexLoader=0,this.rasters=[],this.isInit=!1,this.canAnimate=!1,this.scale=r.isMobile?640/r.viewport.height*.3:640/r.viewport.height*.7,o.call(this,t,e)};e.extend(h,o),e.extend(h.prototype,o.prototype),h.prototype.init=function(){if(this.paper=this.options.mainCanvasView.paper,this.itemsPosition=[],r.viewport.width>1500)var t=800;else if(r.viewport.width<1500&&r.viewport.width>922)var t=550;else var t=475;if(r.viewport.width>1500)var e=200;else if(r.viewport.width<1500&&r.viewport.width>922)var e=175;else var e=150;this.mainBlob=new s({scope:this,canvasView:this.mainCanvasView,color:"#d5b5fb",position:{x:"window.innerWidth / 2",y:"CV.isMobile ? window.innerHeight / 2 - 20 : window.innerHeight / 2"},size:{w:"window.innerWidth * 4",maxW:"window.innerWidth * 4"},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",orbit:{h:2,w:2},divide:2,multiply:.2}),this.controlBlob=new s({scope:this,canvasView:this.mainCanvasView,position:{x:"window.innerWidth / 2",y:"window.innerHeight / 2"},size:{w:t,maxW:t},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",orbit:{h:0,w:0}}),this.joinBlob=new s({scope:this,canvasView:this.mainCanvasView,color:"#fef25c",position:{x:"window.innerWidth / 2 + this.scope.controlBlob.path.bounds._width / 3",y:"window.innerHeight / 2 + this.scope.controlBlob.path.bounds._height / 2"},size:{w:"40",maxW:e},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",orbit:{h:2,w:2},text:{content:"Join us",color:"#0b215a",position:{x:"this.scope.joinBlob.position._x",y:"this.scope.joinBlob.position._y"}},divide:2,multiply:.2,canHover:!0,canClick:!0,goTo:"/about/careers-list"}),this.joinBlob.path.opacity=0,this.joinBlob.text.opacity=0,this.controlBlob.path.visible=!1,this.rastersLoader=[],o.prototype.init.call(this)},h.prototype.initTL=function(){this.initTLShow(),o.prototype.initTL.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),l.call(this);var t={width:this.mainBlob.path.bounds._width,y:this.mainBlob.path.position.y},e={width:this.joinBlob.path.bounds._width,y:this.joinBlob.path.position.y,opacity:this.joinBlob.path.opacity},i={opacity:0};if(r.viewport.width>1500)var n=800;else if(r.viewport.width<1500&&r.viewport.width>922)var n=550;else var n=450;if(r.viewport.width>1500)var s=200;else if(r.viewport.width<1500&&r.viewport.width>922)var s=175;else var s=150;this.TL.show.to(t,1,{width:n,y:"sml"===r.breakpoint?r.viewport.height/2-80:r.viewport.height/2,onUpdate:function(){var e=this.mainBlob.getScale({w:t.width},this.mainBlob.path);this.mainBlob.path.scale(e),this.mainBlob.path.position.y=t.y}.bind(this),onUpdateParams:["{self}"],ease:Elastic.easeOut.config(1,1.2)},0).to(e,.6,{width:s,y:this.joinBlob.path.position.y,opacity:1,y:r.isMobile?r.viewport.height/2+this.controlBlob.path.bounds._height/2-70:r.viewport.height/2+this.controlBlob.path.bounds._height/2-20,onUpdate:function(){var t=this.joinBlob.getScale({w:e.width},this.joinBlob.path);this.joinBlob.path.scale(t),this.joinBlob.path.position.y=e.y,this.joinBlob.text.position.y=e.y,this.joinBlob.path.opacity=e.opacity}.bind(this),onUpdateParams:["{self}"],ease:Elastic.easeOut.config(1,.75)},.8).to(i,.6,{opacity:1,onUpdate:function(){this.joinBlob.text.opacity=i.opacity}.bind(this),onUpdateParams:["{self}"]},.9)};var l=function(){var t=this.joinBlob.getScale({w:40},this.joinBlob.path);this.joinBlob.path.scale(t),this.joinBlob.path.opacity=0,this.joinBlob.path.visible=!0,this.joinBlob.path.position.x="default"===r.breakpoint?r.viewport.width/2+this.controlBlob.path.bounds._width/3+40:r.viewport.width/2,this.joinBlob.path.position.y=r.viewport.height/2+this.controlBlob.path.bounds._height/2+60};h.prototype.show=function(){this.TL.show&&this.killTL("show"),this.initTLShow(),TweenMax.set(this.mainCanvasView.options.el,{zIndex:0}),this.mainBlob.path.visible=!0,this.mainBlob.canAnimate=!1,this.joinBlob.canAnimate=!1,this.canAnimate=!1,setTimeout(function(){var t=new n.Rectangle(new n.Point(0,0),new n.Size(500,500)),e=new n.Shape.Rectangle(t);this.mainBlob.path.toShape(e)}.bind(this),600),this.TL.show&&this.TL.show.play(0)},h.prototype.onShown=function(){this.mainBlob.generateSettingsPoints(),this.joinBlob.generateSettingsPoints(),this.mainBlob.canAnimate=!0,this.joinBlob.canAnimate=!0,this.canAnimate=!0,this.isShown=!0,this.itemsPosition.push({name:"joinBlob",i:0,y:this.joinBlob.path.position.y,x:this.joinBlob.path.position.x,w:this.joinBlob.path.bounds._width,h:this.joinBlob.path.bounds._height}),this.trigger(a.CANVAS_SHOWN)},h.prototype.initTLHide=function(){this.mainBlob.canAnimate=!0,this.joinBlob.canAnimate=!0,this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)});var t={width:this.mainBlob.path.bounds._width,height:this.mainBlob.path.bounds._height,y:this.mainBlob.path.position.y},e={width:this.joinBlob.path.bounds._width,y:this.joinBlob.path.position.y},i={opacity:1};this.TL.hide.to(t,.8,{width:100,height:this.mainBlob.path.bounds._height+500,y:0-this.mainBlob.path.bounds._height,onUpdate:function(){var e=this.mainBlob.getScale({w:t.width},this.mainBlob.path);this.mainBlob.path.scale(e),this.mainBlob.path.position.y=t.y}.bind(this),onUpdateParams:["{self}"],ease:Power4.easeIn,onComplete:function(){this.mainBlob.path.visible=!1}.bind(this)},.15).to(e,.8,{width:100,y:0-this.joinBlob.path.bounds._width,onUpdate:function(){var t=this.joinBlob.getScale({w:e.width},this.joinBlob.path);this.joinBlob.path.scale(t),this.joinBlob.path.position.y=e.y}.bind(this),onUpdateParams:["{self}"],ease:Power4.easeIn},.1).to(i,.3,{opacity:0,onUpdate:function(){this.joinBlob.text.opacity=i.opacity}.bind(this),onUpdateParams:["{self}"]},0)},h.prototype.manageStep=function(t,e,i,n){this.rasterStep=this["rasters"+e],this["index"+e]=this["index"+e]-t,this.indexStep=this["index"+e],this.rasterStep[this.indexStep].visible=!0,this.rasterStep[this.indexStep+t]&&(this.rasterStep[this.indexStep+t].visible=!1),this.indexStep<this.rasterStep.length-1&&this.indexStep>0?setTimeout(function(){this.manageStep(t,e,i,n)}.bind(this),25):n()},h.prototype.generateImages=function(t,i,s,o){var a;this.rasters.push(e.each(t,function(t){a=new n.Raster(t),a.visible=!1,a.position=new n.Point(this.paper.view.size.width/2,this.paper.view.size.height/2+s),a.scale(this.scale),i.push(a)}.bind(this))),o()},h.prototype.hideZee=function(){var t={opacity:1,width:640/r.viewport.width/2};this.trigger(a.LOADER_COMPLETE),TweenMax.to(t,.3,{opacity:0,width:320/r.viewport.width/2,delay:.1,onUpdate:function(){this.rastersLoader[this.rastersLoader.length-1].opacity=t.opacity}.bind(this)})},h.prototype.hide=function(){this.mainBlob.canAnimate=!1,this.joinBlob.canAnimate=!1,this.canAnimate=!1,this.TL.hide&&this.killTL("hide"),this.initTLHide(),this.TL.hide&&this.TL.hide.play(0)},h.prototype.onHidden=function(){this.trigger(a.CANVAS_HIDDEN),this.joinBlob.path.opacity=0,this.joinBlob.path.visible=!1,this.mainBlob.generateSettingsPoints(),this.joinBlob.generateSettingsPoints(),this.mainBlob.path.visible=!1},h.prototype.animate=function(t){this.event=t,this.canAnimate&&!r.isMobile&&this.mainBlob.animate(t),this.canAnimate&&!r.isMobile&&this.joinBlob.animate(t)},h.prototype.mouseMove=function(t){if(this.isShown){var e=this.isItem(t.point);document.body.style.cursor=e||0==e?"pointer":"default"}},h.prototype.mouseDown=function(t){var e=this.isItem(t);(e||0==e)&&this.isShown&&"joinBlob"==this.itemsPosition[e].name&&(location.href="http://"+window.location.hostname+"/about/careers-list")},h.prototype.isItem=function(t){var i,n,s,o,a=null;return e.each(this.itemsPosition,function(e,r){i=e.y,n=e.x,s=e.w/2,o=e.h/2,t.y>i-o&&t.y<i+o&&t.x>n-s&&t.x<n+s&&(this.currentItem=e,a=r)}.bind(this)),a},h.prototype.onResize=function(){if(this.isShown){if(r.viewport.width>1500)var t=this.mainBlob.getScale({w:800},this.mainBlob.path);else if(r.viewport.width<1500&&r.viewport.width>922)var t=this.mainBlob.getScale({w:550},this.mainBlob.path);else var t=this.mainBlob.getScale({w:450},this.mainBlob.path);if(r.viewport.width>1500)var e=this.controlBlob.getScale({w:800},this.controlBlob.path);else if(r.viewport.width<1500&&r.viewport.width>922)var e=this.controlBlob.getScale({w:550},this.controlBlob.path);else var e=this.controlBlob.getScale({w:450},this.controlBlob.path);if(r.viewport.width>1500)var i=this.joinBlob.getScale({w:200},this.joinBlob.path);else if(r.viewport.width<1500&&r.viewport.width>922)var i=this.joinBlob.getScale({w:175},this.joinBlob.path);else var i=this.joinBlob.getScale({w:150},this.joinBlob.path);this.mainBlob.path.scale(t),this.controlBlob.path.scale(e),this.joinBlob.path.scale(i),"sml"===r.breakpoint?(this.mainBlob.path.position.x=r.viewport.width/2,this.mainBlob.path.position.y=r.viewport.height/2-80,this.controlBlob.path.position.x=r.viewport.width/2,this.controlBlob.path.position.y=r.viewport.height/2-80,this.joinBlob.path.position.x=r.viewport.width/2,this.joinBlob.path.position.y=r.viewport.height/2+this.controlBlob.path.bounds._height/2-40):(this.mainBlob.path.position.x=r.viewport.width/2,this.mainBlob.path.position.y=r.viewport.height/2,this.controlBlob.path.position.x=r.viewport.width/2,this.controlBlob.path.position.y=r.viewport.height/2,this.joinBlob.path.position.x=r.viewport.width/2+this.controlBlob.path.bounds._width/3+40,this.joinBlob.path.position.y=r.viewport.height/2+this.controlBlob.path.bounds._height/2-20),this.joinBlob.text.position.x=this.joinBlob.path.position._x,this.joinBlob.text.position.y=this.joinBlob.path.position._y,this.controlBlob.onResize(),this.mainBlob.onResize(),this.joinBlob.onResize()}},t.exports=h}).call(e,i(3),i(26))},function(t,e,i){var n,s;(function(o,a){var r=function(o,a){o=o||i(27);var h=o.window,l=o.document,c=new function(){function t(t,n,s,o,a){function l(i,l){l=l||(l=r(n,i))&&(l.get?l:l.value),"string"==typeof l&&"#"===l[0]&&(l=t[l.substring(1)]||l);var u,p="function"==typeof l,d=l,f=a||p&&!l.base?l&&l.get?i in t:t[i]:null;a&&f||(p&&f&&(l.base=f),p&&o!==!1&&(u=i.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(c[u[3].toLowerCase()+u[4]]=u[2]),d&&!p&&d.get&&"function"==typeof d.get&&e.isPlainObject(d)||(d={value:d,writable:!0}),(r(t,i)||{configurable:!0}).configurable&&(d.configurable=!0,d.enumerable=s),h(t,i,d))}var c={};if(n){for(var u in n)n.hasOwnProperty(u)&&!i.test(u)&&l(u);for(var u in c){var p=c[u],d=t["set"+p],f=t["get"+p]||d&&t["is"+p];!f||o!==!0&&0!==f.length||l(u,{get:f,set:d})}}return t}function e(){for(var t=0,e=arguments.length;t<e;t++){var i=arguments[t];i&&u(this,i)}return this}var i=/^(statics|enumerable|beans|preserve)$/,n=[],s=n.slice,o=Object.create,r=Object.getOwnPropertyDescriptor,h=Object.defineProperty,l=n.forEach||function(t,e){for(var i=0,n=this.length;i<n;i++)t.call(e,this[i],i,this)},c=function(t,e){for(var i in this)this.hasOwnProperty(i)&&t.call(e,this[i],i,this)},u=Object.assign||function(t){for(var e=1,i=arguments.length;e<i;e++){var n=arguments[e];for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t},p=function(t,e,i){if(t){var n=r(t,"length");(n&&"number"==typeof n.value?l:c).call(t,e,i=i||t)}return i};return t(e,{inject:function(e){if(e){var i=e.statics===!0?e:e.statics,n=e.beans,s=e.preserve;i!==e&&t(this.prototype,e,e.enumerable,n,s),t(this,i,!0,n,s)}for(var o=1,a=arguments.length;o<a;o++)this.inject(arguments[o]);return this},extend:function(){for(var e,i,n,s=this,a=0,r=arguments.length;a<r&&(!e||!i);a++)n=arguments[a],e=e||n.initialize,i=i||n.prototype;return e=e||function(){s.apply(this,arguments)},i=e.prototype=i||o(this.prototype),h(i,"constructor",{value:e,writable:!0,configurable:!0}),t(e,this,!0),arguments.length&&this.inject.apply(e,arguments),e.base=s,e}},!0).inject({initialize:e,set:e,inject:function(){for(var e=0,i=arguments.length;e<i;e++){var n=arguments[e];n&&t(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var t=o(this);return t.inject.apply(t,arguments)},each:function(t,e){return p(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:u,each:p,create:o,define:h,describe:r,clone:function(t){return u(new t.constructor,t)},isPlainObject:function(t){var i=null!=t&&t.constructor;return i&&(i===Object||i===e||"Object"===i.name)},pick:function(t,e){return t!==a?t:e},slice:function(t,e,i){return s.call(t,e,i)}}})};t.exports=c,c.inject({toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+c.each(this,function(t,e){if(!/^_/.test(e)){var i=typeof t;this.push(e+": "+("number"===i?f.instance.number(t):"string"===i?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return c.importJSON(t,this)},exportJSON:function(t){return c.exportJSON(this,t)},toJSON:function(){return c.serialize(this)},set:function(t,e){return t&&c.filter(this,t,e,this._prioritize),this},statics:{exports:{enumerable:!0},extend:function ct(){var t=ct.base.apply(this,arguments),e=t.prototype._class;return e&&!c.exports[e]&&(c.exports[e]=t),t},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)&&Array.isArray(e)){var i=t.length;if(i!==e.length)return!1;for(;i--;)if(!c.equals(t[i],e[i]))return!1}else{var n=Object.keys(t),i=n.length;if(i!==Object.keys(e).length)return!1;for(;i--;){var s=n[i];if(!e.hasOwnProperty(s)||!c.equals(t[s],e[s]))return!1}}return!0}return!1},read:function(t,e,i,n){if(this===c){var s=this.peek(t,e);return t.__index++,s}var o=this.prototype,r=o._readIndex,h=e||r&&t.__index||0,l=t.length,u=t[h];return n=n||l-h,u instanceof this||i&&i.readNull&&null==u&&n<=1?(r&&(t.__index=h+1),u&&i&&i.clone?u.clone():u):(u=c.create(o),r&&(u.__read=!0),u=u.initialize.apply(u,h>0||h+n<l?c.slice(t,h,h+n):t)||u,r&&(t.__index=h+u.__read,u.__read=a),u)},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,i,n){for(var s,o=[],a=e||0,r=n?a+n:t.length,h=a;h<r;h++)o.push(Array.isArray(s=t[h])?this.read(s,0,i):this.read(t,h,i,1));return o},readNamed:function(t,e,i,n,s){var o=this.getNamed(t,e),r=o!==a;if(r){var h=t._filtered;h||(h=t._filtered=c.create(t[0]),h._unfiltered=t[0]),h[e]=a}return this.read(r?[o]:t,i,n,s)},getNamed:function(t,e){var i=t[0];if(t._hasObject===a&&(t._hasObject=1===t.length&&c.isPlainObject(i)),t._hasObject)return e?i[e]:t._filtered||i},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,i,n){function s(n){if(!(i&&n in i||o&&n in o)){var s=e[n];s!==a&&(t[n]=s)}}var o;if(n){for(var r,h={},l=0,c=n.length;l<c;l++)(r=n[l])in e&&(s(r),h[r]=!0);o=h}return Object.keys(e._unfiltered||e).forEach(s),t},isPlainValue:function(t,e){return c.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,i,n){e=e||{};var s,o=!n;if(o&&(e.formatter=new f(e.precision),n={length:0,definitions:{},references:{},add:function(t,e){var i="#"+t._id,n=this.references[i];if(!n){this.length++;var s=e.call(t),o=t._class;o&&s[0]!==o&&s.unshift(o),this.definitions[i]=s,n=this.references[i]=[i]}return n}}),t&&t._serialize){s=t._serialize(e,n);var a=t._class;!a||t._compactSerialize||!o&&i||s[0]===a||s.unshift(a)}else if(Array.isArray(t)){s=[];for(var r=0,h=t.length;r<h;r++)s[r]=c.serialize(t[r],e,i,n)}else if(c.isPlainObject(t)){s={};for(var l=Object.keys(t),r=0,h=l.length;r<h;r++){var u=l[r];s[u]=c.serialize(t[u],e,i,n)}}else s="number"==typeof t?e.formatter.number(t,e.precision):t;return o&&n.length>0?[["dictionary",n.definitions],s]:s},deserialize:function(t,e,i,n,s){var o=t,a=!i,r=a&&t&&t.length&&"dictionary"===t[0][0];if(i=i||{},Array.isArray(t)){var h=t[0],l="dictionary"===h;if(1==t.length&&/^#/.test(h))return i.dictionary[h];h=c.exports[h],o=[];for(var u=h?1:0,p=t.length;u<p;u++)o.push(c.deserialize(t[u],e,i,l,r));if(h){var d=o;e?o=e(h,d,a||s):(o=c.create(h.prototype),h.apply(o,d))}}else if(c.isPlainObject(t)){o={},n&&(i.dictionary=o);for(var f in t)o[f]=c.deserialize(t[f],e,i)}return r?o[1]:o},exportJSON:function(t,e){var i=c.serialize(t,e);return e&&e.asString===!1?i:JSON.stringify(i)},importJSON:function(t,e){return c.deserialize("string"==typeof t?JSON.parse(t):t,function(t,i,n){var s=n&&e&&e.constructor===t,o=s?e:c.create(t.prototype);if(1===i.length&&o instanceof M&&(s||!(o instanceof O))){var a=i[0];c.isPlainObject(a)&&(a.insert=!1)}return(s?o.set:t).apply(o,i),s&&(e=null),o})},splice:function(t,e,i,n){var s=e&&e.length,o=i===a;i=o?t.length:i,i>t.length&&(i=t.length);for(var r=0;r<s;r++)e[r]._index=i+r;if(o)return t.push.apply(t,e),[];var h=[i,n];e&&h.push.apply(h,e);for(var l=t.splice.apply(t,h),r=0,c=l.length;r<c;r++)l[r]._index=a;for(var r=i+s,c=t.length;r<c;r++)t[r]._index=r;return l},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var u={on:function(t,e){if("string"!=typeof t)c.each(t,function(t,e){this.on(e,t)},this);else{var i=this._eventTypes,n=i&&i[t],s=this._callbacks=this._callbacks||{};s=s[t]=s[t]||[],s.indexOf(e)===-1&&(s.push(e),n&&n.install&&1===s.length&&n.install.call(this,t))}return this},off:function(t,e){if("string"!=typeof t)return void c.each(t,function(t,e){this.off(e,t)},this);var i,n=this._eventTypes,s=n&&n[t],o=this._callbacks&&this._callbacks[t];return o&&(!e||(i=o.indexOf(e))!==-1&&1===o.length?(s&&s.uninstall&&s.uninstall.call(this,t),delete this._callbacks[t]):i!==-1&&o.splice(i,1)),this},once:function(t,e){return this.on(t,function(){e.apply(this,arguments),this.off(t,e)})},emit:function(t,e){var i=this._callbacks&&this._callbacks[t];if(!i)return!1;var n=c.slice(arguments,1),s=e&&e.target&&!e.currentTarget;i=i.slice(),s&&(e.currentTarget=this);for(var o=0,a=i.length;o<a;o++)if(i[o].apply(this,n)===!1){e&&e.stop&&e.stop();break}return s&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,i=this._callbacks,n=t?"install":"uninstall";if(e)for(var s in i)if(i[s].length>0){var o=e[s],a=o&&o[n];a&&a.call(this,s)}},statics:{inject:function ut(t){var e=t._events;if(e){var i={};c.each(e,function(e,n){var s="string"==typeof e,o=s?e:n,a=c.capitalize(o),r=o.substring(2).toLowerCase();i[r]=s?{}:e,o="_"+o,t["get"+a]=function(){return this[o]},t["set"+a]=function(t){var e=this[o];e&&this.off(r,e),t&&this.on(r,t),this[o]=t}}),t._eventTypes=i}return ut.base.apply(this,arguments)}}},p=c.extend({_class:"PaperScope",initialize:function pt(){r=this,this.settings=new c({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this.palettes=[],this._id=pt._id++,pt._scopes[this._id]=this;var t=pt.prototype;if(!this.support){var e=at.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in e||"mozDash"in e,nativeBlendModes:rt.nativeModes},at.release(e)}if(!this.agent){var i=o.navigator.userAgent.toLowerCase(),n=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],s="darwin"===n?"mac":n,a=t.agent=t.browser={platform:s};s&&(a[s]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(t,e,i,n,s){if(!a.chrome){var o="opera"===e?n:/^(node|trident)$/.test(e)?s:i;a.version=o,a.versionNumber=parseFloat(o),e="trident"===e?"msie":e,a.name=e,a[e]=!0}}),a.chrome&&delete a.webkit,a.atom&&delete a.chrome}},version:"0.10.3",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){r.PaperScript.execute(t,this,e),K.updateFocus()},install:function(t){var e=this;c.each(["project","view","tool"],function(i){c.define(t,i,{configurable:!0,get:function(){return e[i]}})});for(var i in this)!/^_/.test(i)&&this[i]&&(t[i]=this[i])},setup:function(t){return r=this,this.project=new S(t),this},createCanvas:function(t,e){return at.getCanvas(t,e)},activate:function(){r=this},clear:function(){for(var t=this.projects,e=this.tools,i=this.palettes,n=t.length-1;n>=0;n--)t[n].remove();for(var n=e.length-1;n>=0;n--)e[n].remove();for(var n=i.length-1;n>=0;n--)i[n].remove()},remove:function(){this.clear(),delete p._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,i){return e[t](i)||e[t]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),d=c.extend(u,{initialize:function(t){this._scope=r,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(c.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),f=c.extend({initialize:function(t){this.precision=c.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,i){return this.number(t)+(i||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});f.instance=new f;var m=new function(){function t(t,e,i){return t<e?e:t>i?i:t}function e(t,e,i){function n(t){var e=134217729*t,i=t-e,n=i+e,s=t-n;return[n,s]}var s=e*e-t*i,a=e*e+t*i;if(3*o(s)<a){var r=n(t),h=n(e),l=n(i),c=e*e,u=h[0]*h[0]-c+2*h[0]*h[1]+h[1]*h[1],p=t*i,d=r[0]*l[0]-p+r[0]*l[1]+r[1]*l[0]+r[1]*l[1];s=c-p+(u-d)}return s}function i(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||t>1e8)?r(2,-Math.round(h(t))):0}var n=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],s=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],o=Math.abs,a=Math.sqrt,r=Math.pow,h=Math.log2||function(t){return Math.log(t)*Math.LOG2E},l=1e-12,c=1.12e-16;return{EPSILON:l,MACHINE_EPSILON:c,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(a(2)-1)/3,isZero:function(t){return t>=-l&&t<=l},clamp:t,integrate:function(t,e,i,o){for(var a=n[o-2],r=s[o-2],h=.5*(i-e),l=h+e,c=0,u=o+1>>1,p=1&o?r[c++]*t(l):0;c<u;){var d=h*a[c];p+=r[c++]*(t(l+d)+t(l-d))}return h*p},findRoot:function(e,i,n,s,a,r,h){for(var l=0;l<r;l++){var c=e(n),u=c/i(n),p=n-u;if(o(u)<h){n=p;break}c>0?(a=n,n=p<=s?.5*(s+a):p):(s=n,n=p>=a?.5*(s+a):p)}return t(n,s,a)},solveQuadratic:function(n,s,r,h,u,p){var d,f=1/0;if(o(n)<l){if(o(s)<l)return o(r)<l?-1:0;d=-r/s}else{s*=-.5;var m=e(n,s,r);if(m&&o(m)<c){var g=i(o(n),o(s),o(r));g&&(n*=g,s*=g,r*=g,m=e(n,s,r))}if(m>=-c){var v=m<0?0:a(m),y=s+(s<0?-v:v);0===y?(d=r/n,f=-d):(d=y/n,f=r/y)}}var _=0,w=null==u,b=u-l,x=p+l;return isFinite(d)&&(w||d>b&&d<x)&&(h[_++]=w?d:t(d,u,p)),f!==d&&isFinite(f)&&(w||f>b&&f<x)&&(h[_++]=w?f:t(f,u,p)),_},solveCubic:function(e,n,s,h,u,p,d){function f(t){g=t;var i=e*g;v=i+n,y=v*g+s,_=(i+v)*g+y,w=y*g+h}var g,v,y,_,w,b=i(o(e),o(n),o(s),o(h));if(b&&(e*=b,n*=b,s*=b,h*=b),o(e)<l)e=n,v=s,y=h,g=1/0;else if(o(h)<l)v=n,y=s,g=0;else{f(-(n/e)/3);var x=w/e,T=r(o(x),1/3),C=x<0?-1:1,S=-_/e,M=S>0?1.324717957244746*Math.max(T,a(S)):T,A=g-C*M;if(A!==g){do f(A),A=0===_?g:g-w/_/(1+c);while(C*A>C*g);o(e)*g*g>o(h/g)&&(y=-h/g,v=(y-s)/g)}}var O=m.solveQuadratic(e,v,y,u,p,d),$=null==p;return isFinite(g)&&(0===O||O>0&&g!==u[0]&&g!==u[1])&&($||g>p-l&&g<d+l)&&(u[O++]=$?g:t(g,p,d)),O}}},g={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},v=c.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var i=typeof t,n=this.__read,s=0;if("number"===i){var o="number"==typeof e;this._set(t,o?e:t),n&&(s=o?2:1)}else if("undefined"===i||null===t)this._set(0,0),n&&(s=null===t?1:0);else{var a="string"===i?t.split(/[\s,]+/)||[]:t;s=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"x"in a?this._set(a.x||0,a.y||0):"width"in a?this._set(a.width||0,a.height||0):"angle"in a?(this._set(a.length||0,0),this.setAngle(a.angle||0)):(this._set(0,0),s=0)}return n&&(this.__read=s),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new v(this.x,this.y)},toString:function(){var t=f.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var i=t/this.getLength();m.isZero(i)&&this.getAngle(),this._set(this.x*i,this.y*i)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=v.read(arguments),e=this.getLength()*t.getLength();if(m.isZero(e))return NaN;var i=this.dot(t)/e;return Math.acos(i<-1?-1:i>1?1:i)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=v.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=v.read(arguments),e=t.x-this.x,i=t.y-this.y,n=e*e+i*i,s=c.read(arguments);return s?n:Math.sqrt(n)},normalize:function(t){t===a&&(t=1);var e=this.getLength(),i=0!==e?t/e:0,n=new v(this.x*i,this.y*i);return i>=0&&(n._angle=this._angle),n},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var i=e?this.subtract(e):this,n=Math.sin(t),s=Math.cos(t);return i=new v(i.x*s-i.y*n,i.x*n+i.y*s),e?i.add(e):i},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=v.read(arguments);return new v(this.x+t.x,this.y+t.y)},subtract:function(){var t=v.read(arguments);return new v(this.x-t.x,this.y-t.y)},multiply:function(){var t=v.read(arguments);return new v(this.x*t.x,this.y*t.y)},divide:function(){var t=v.read(arguments);return new v(this.x/t.x,this.y/t.y)},modulo:function(){var t=v.read(arguments);return new v(this.x%t.x,this.y%t.y)},negate:function(){return new v((-this.x),(-this.y))},isInside:function(){return b.read(arguments).contains(this)},isClose:function(){var t=v.read(arguments),e=c.read(arguments);return this.getDistance(t)<=e},isCollinear:function(){var t=v.read(arguments);return v.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=v.read(arguments);return v.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=m.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=v.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=v.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=v.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new v(t.x*e,t.y*e)},statics:{min:function(){var t=v.read(arguments),e=v.read(arguments);return new v(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=v.read(arguments),e=v.read(arguments);return new v(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new v(Math.random(),Math.random())},isCollinear:function(t,e,i,n){return Math.abs(t*n-e*i)<=1e-8*Math.sqrt((t*t+e*e)*(i*i+n*n))},isOrthogonal:function(t,e,i,n){return Math.abs(t*i+e*n)<=1e-8*Math.sqrt((t*t+e*e)*(i*i+n*n))}}},c.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new v(e(this.x),e(this.y))}},{})),y=v.extend({initialize:function(t,e,i,n){this._x=t,this._y=e,this._owner=i,this._setter=n},_set:function(t,e,i){return this._x=t,this._y=e,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner.changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),_=c.extend({_class:"Size",_readIndex:!0,
initialize:function(t,e){var i=typeof t,n=this.__read,s=0;if("number"===i){var o="number"==typeof e;this._set(t,o?e:t),n&&(s=o?2:1)}else if("undefined"===i||null===t)this._set(0,0),n&&(s=null===t?1:0);else{var a="string"===i?t.split(/[\s,]+/)||[]:t;s=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"width"in a?this._set(a.width||0,a.height||0):"x"in a?this._set(a.x||0,a.y||0):(this._set(0,0),s=0)}return n&&(this.__read=s),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new _(this.width,this.height)},toString:function(){var t=f.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=_.read(arguments);return new _(this.width+t.width,this.height+t.height)},subtract:function(){var t=_.read(arguments);return new _(this.width-t.width,this.height-t.height)},multiply:function(){var t=_.read(arguments);return new _(this.width*t.width,this.height*t.height)},divide:function(){var t=_.read(arguments);return new _(this.width/t.width,this.height/t.height)},modulo:function(){var t=_.read(arguments);return new _(this.width%t.width,this.height%t.height)},negate:function(){return new _((-this.width),(-this.height))},isZero:function(){var t=m.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new _(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new _(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new _(Math.random(),Math.random())}}},c.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new _(e(this.width),e(this.height))}},{})),w=_.extend({initialize:function(t,e,i,n){this._width=t,this._height=e,this._owner=i,this._setter=n},_set:function(t,e,i){return this._width=t,this._height=e,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),b=c.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,i,n){var s,o=typeof t;if("number"===o?(this._set(t,e,i,n),s=4):"undefined"===o||null===t?(this._set(0,0,0,0),s=null===t?1:0):1===arguments.length&&(Array.isArray(t)?(this._set.apply(this,t),s=1):t.x!==a||t.width!==a?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),s=1):t.from===a&&t.to===a&&(this._set(0,0,0,0),c.filter(this,t),s=1)),s===a){var r,h,l=v.readNamed(arguments,"from"),u=c.peek(arguments),p=l.x,d=l.y;if(u&&u.x!==a||c.hasNamed(arguments,"to")){var f=v.readNamed(arguments,"to");r=f.x-p,h=f.y-d,r<0&&(p=f.x,r=-r),h<0&&(d=f.y,h=-h)}else{var m=_.read(arguments);r=m.width,h=m.height}this._set(p,d,r,h),s=arguments.__index}return this.__read&&(this.__read=s),this},set:"#initialize",_set:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},clone:function(){return new b(this.x,this.y,this.width,this.height)},equals:function(t){var e=c.isPlainValue(t)?b.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=f.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?v:y;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=v.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?_:w;return new e(this.width,this.height,this,"setSize")},setSize:function(){var t=_.read(arguments);this._fixX&&(this.x+=(this.width-t.width)*this._fixX),this._fixY&&(this.y+=(this.height-t.height)*this._fixY),this.width=t.width,this.height=t.height,this._fixW=1,this._fixH=1},getLeft:function(){return this.x},setLeft:function(t){this._fixW||(this.width-=t-this.x),this.x=t,this._fixX=0},getTop:function(){return this.y},setTop:function(t){this._fixH||(this.height-=t-this.y),this.y=t,this._fixY=0},getRight:function(){return this.x+this.width},setRight:function(t){this._fixX!==a&&1!==this._fixX&&(this._fixW=0),this._fixW?this.x=t-this.width:this.width=t-this.x,this._fixX=1},getBottom:function(){return this.y+this.height},setBottom:function(t){this._fixY!==a&&1!==this._fixY&&(this._fixH=0),this._fixH?this.y=t-this.height:this.height=t-this.y,this._fixY=1},getCenterX:function(){return this.x+.5*this.width},setCenterX:function(t){this.x=t-.5*this.width,this._fixX=.5},getCenterY:function(){return this.y+.5*this.height},setCenterY:function(t){this.y=t-.5*this.height,this._fixY=.5},getCenter:function(t){var e=t?v:y;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=v.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==a||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(b.read(arguments)):this._containsPoint(v.read(arguments))},_containsPoint:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e+t.width<=this.x+this.width&&i+t.height<=this.y+this.height},intersects:function(){var t=b.read(arguments);return t.x+t.width>this.x&&t.y+t.height>this.y&&t.x<this.x+this.width&&t.y<this.y+this.height},touches:function(){var t=b.read(arguments);return t.x+t.width>=this.x&&t.y+t.height>=this.y&&t.x<=this.x+this.width&&t.y<=this.y+this.height},intersect:function(){var t=b.read(arguments),e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),n=Math.min(this.x+this.width,t.x+t.width),s=Math.min(this.y+this.height,t.y+t.height);return new b(e,i,n-e,s-i)},unite:function(){var t=b.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),s=Math.max(this.y+this.height,t.y+t.height);return new b(e,i,n-e,s-i)},include:function(){var t=v.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x),s=Math.max(this.y+this.height,t.y);return new b(e,i,n-e,s-i)},expand:function(){var t=_.read(arguments),e=t.width,i=t.height;return new b(this.x-e/2,this.y-i/2,this.width+e,this.height+i)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===a?t:e)-this.height)}},c.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var i=t.join(""),n=/^[RL]/.test(i);e>=4&&(t[1]+=n?"Y":"X");var s=t[n?0:1],o=t[n?1:0],a="get"+s,r="get"+o,h="set"+s,l="set"+o,c="get"+i,u="set"+i;this[c]=function(t){var e=t?v:y;return new e(this[a](),this[r](),this,u)},this[u]=function(){var t=v.read(arguments);this[h](t.x),this[l](t.y)}},{beans:!0})),x=b.extend({initialize:function(t,e,i,n,s,o){this._set(t,e,i,n,!0),this._owner=s,this._setter=o},_set:function(t,e,i,n,s){return this._x=t,this._y=e,this._width=i,this._height=n,s||this._owner[this._setter](this),this}},new function(){var t=b.prototype;return c.each(["x","y","width","height"],function(t){var e=c.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(t){this[i]=t,this._dontNotify||this._owner[this._setter](this)}},c.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var i="set"+e;this[i]=function(){this._dontNotify=!0,t[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e.changeSelection&&e.changeSelection(2,t)}}))}),T=c.extend({_class:"Matrix",initialize:function dt(t,e){var i=arguments.length,n=!0;if(i>=6?this._set.apply(this,arguments):1===i||2===i?t instanceof dt?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,e):Array.isArray(t)?this._set.apply(this,e?t.concat([e]):t):n=!1:i?n=!1:this.reset(),!n)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,i,n,s,o,a){return this._a=t,this._b=e,this._c=i,this._d=n,this._tx=s,this._ty=o,a||this._changed(),this},_serialize:function(t,e){return c.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){return new T(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=f.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var i=this._owner;return!!i&&(i.transform(null,!0,c.pick(t,!0),e),this.isIdentity())},translate:function(){var t=v.read(arguments),e=t.x,i=t.y;return this._tx+=e*this._a+i*this._c,this._ty+=e*this._b+i*this._d,this._changed(),this},scale:function(){var t=v.read(arguments),e=v.read(arguments,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=v.read(arguments,1),i=e.x,n=e.y,s=Math.cos(t),o=Math.sin(t),a=i-i*s+n*o,r=n-i*o-n*s,h=this._a,l=this._b,c=this._c,u=this._d;return this._a=s*h+o*c,this._b=s*l+o*u,this._c=-o*h+s*c,this._d=-o*l+s*u,this._tx+=a*h+r*c,this._ty+=a*l+r*u,this._changed(),this},shear:function(){var t=v.read(arguments),e=v.read(arguments,0,{readNull:!0});e&&this.translate(e);var i=this._a,n=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*i,this._d+=t.x*n,e&&this.translate(e.negate()),this._changed(),this},skew:function(){var t=v.read(arguments),e=v.read(arguments,0,{readNull:!0}),i=Math.PI/180,n=new v(Math.tan(t.x*i),Math.tan(t.y*i));return this.shear(n,e)},append:function(t){if(t){var e=this._a,i=this._b,n=this._c,s=this._d,o=t._a,a=t._c,r=t._b,h=t._d,l=t._tx,c=t._ty;this._a=o*e+r*n,this._c=a*e+h*n,this._b=o*i+r*s,this._d=a*i+h*s,this._tx+=l*e+c*n,this._ty+=l*i+c*s,this._changed()}return this},prepend:function(t){if(t){var e=this._a,i=this._b,n=this._c,s=this._d,o=this._tx,a=this._ty,r=t._a,h=t._c,l=t._b,c=t._d,u=t._tx,p=t._ty;this._a=r*e+h*i,this._c=r*n+h*s,this._b=l*e+c*i,this._d=l*n+c*s,this._tx=r*o+h*a+u,this._ty=l*o+c*a+p,this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,i=this._c,n=this._d,s=this._tx,o=this._ty,a=t*n-e*i,r=null;return a&&!isNaN(a)&&isFinite(s)&&isFinite(o)&&(this._a=n/a,this._b=-e/a,this._c=-i/a,this._d=t/a,this._tx=(i*o-n*s)/a,this._ty=(e*s-t*o)/a,r=this),r},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new T(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,i){return arguments.length<3?this._transformPoint(v.read(arguments)):this._transformCoordinates(t,e,i)},_transformPoint:function(t,e,i){var n=t.x,s=t.y;return e||(e=new v),e._set(n*this._a+s*this._c+this._tx,n*this._b+s*this._d+this._ty,i)},_transformCoordinates:function(t,e,i){for(var n=0,s=2*i;n<s;n+=2){var o=t[n],a=t[n+1];e[n]=o*this._a+a*this._c+this._tx,e[n+1]=o*this._b+a*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,i=t.y,n=e+t.width,s=i+t.height,o=[e,i,n,i,n,s,e,s];return this._transformCoordinates(o,o,4)},_transformBounds:function(t,e,i){for(var n=this._transformCorners(t),s=n.slice(0,2),o=s.slice(),a=2;a<8;a++){var r=n[a],h=1&a;r<s[h]?s[h]=r:r>o[h]&&(o[h]=r)}return e||(e=new b),e._set(s[0],s[1],o[0]-s[0],o[1]-s[1],i)},inverseTransform:function(){return this._inverseTransform(v.read(arguments))},_inverseTransform:function(t,e,i){var n=this._a,s=this._b,o=this._c,a=this._d,r=this._tx,h=this._ty,l=n*a-s*o,c=null;if(l&&!isNaN(l)&&isFinite(r)&&isFinite(h)){var u=t.x-this._tx,p=t.y-this._ty;e||(e=new v),c=e._set((u*a-p*o)/l,(p*n-u*s)/l,i)}return c},decompose:function(){var t,e,i,n=this._a,s=this._b,o=this._c,a=this._d,r=n*a-s*o,h=Math.sqrt,l=Math.atan2,c=180/Math.PI;if(0!==n||0!==s){var u=h(n*n+s*s);t=Math.acos(n/u)*(s>0?1:-1),e=[u,r/u],i=[l(n*o+s*a,u*u),0]}else if(0!==o||0!==a){var p=h(o*o+a*a);t=Math.asin(o/p)*(a>0?1:-1),e=[r/p,p],i=[0,l(n*o+s*a,p*p)]}else t=0,i=e=[0,0];return{translation:this.getTranslation(),rotation:t*c,scaling:new v(e),skewing:new v(i[0]*c,i[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new v(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},c.each(["a","b","c","d","tx","ty"],function(t){var e=c.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(t){this[i]=t,this._changed()}},{})),C=c.extend({_class:"Line",initialize:function(t,e,i,n,s){var o=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=i,this._vy=n,o=s):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,o=i),o||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new v(this._px,this._py)},getVector:function(){return new v(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return C.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return C.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(C.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0))},isCollinear:function(t){return v.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return v.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,i,n,s,o,a,r,h,l){h||(i-=t,n-=e,a-=s,r-=o);var c=i*r-n*a;if(!m.isZero(c)){var u=t-s,p=e-o,d=(a*p-r*u)/c,f=(i*p-n*u)/c,g=1e-12,y=-g,_=1+g;if(l||y<d&&d<_&&y<f&&f<_)return l||(d=d<=0?0:d>=1?1:d),new v(t+d*i,e+d*n)}},getSide:function(t,e,i,n,s,o,a,r){a||(i-=t,n-=e);var h=s-t,l=o-e,c=h*n-l*i;return!r&&m.isZero(c)&&(c=(h*i+h*i)/(i*i+n*n),c>=0&&c<=1&&(c=0)),c<0?-1:c>0?1:0},getSignedDistance:function(t,e,i,n,s,o,a){return a||(i-=t,n-=e),0===i?n>0?s-t:t-s:0===n?i<0?o-e:e-o:((s-t)*n-(o-e)*i)/Math.sqrt(i*i+n*n)},getDistance:function(t,e,i,n,s,o,a){return Math.abs(C.getSignedDistance(t,e,i,n,s,o,a))}}}),S=d.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){d.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new X(null,null,this),this._view=K.create(this,t||at.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return c.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var n=this._changes;if(n&&e){var s=this._changesById,o=e._id,a=s[o];a?a.flags|=t:n.push(s[o]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function ft(){return!!ft.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new O({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({"class":B,match:function(i){var n=i._definition,s=n._id;return e[s]||(e[s]=!0,t.push(n)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var i in t){var n=t[i],s=n._selection;1&s&&n.isInserted()?e.push(n):s||this._updateSelection(n)}return e},_updateSelection:function(t){var e=t._id,i=this._selectionItems;t._selection?i[e]!==t&&(this._selectionCount++,i[e]=t):i[e]===t&&(this._selectionCount--,delete i[e])},selectAll:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(a,t)},insertLayer:function(t,e){if(e instanceof O){e._remove(!1,!0),c.splice(this._children,[e],t,0),e._setProject(this,!0);var i=e._name;i&&e.setName(i),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,i){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(a,new O(M.NO_INSERT),!0)).insertChild(t,e),i&&e.activate&&e.activate(),e},getItems:function(t){return M._getItems(this,t)},getItem:function(t){return M._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return c.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var i=e[t];if(i){for(var n in i){var s=i[n];for(var o in e){var a=e[o];a&&a!=i&&delete a[s._id]}s.remove()}e[t]=null}}},draw:function(t,e,i){this._updateVersion++,t.save(),e.applyToContext(t);for(var n=this._children,s=new c({offset:new v(0,0),pixelRatio:i,viewMatrix:e.isIdentity()?null:e,matrices:[new T],updateMatrix:!0}),o=0,a=n.length;o<a;o++)n[o].draw(t,s);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var r=this._selectionItems,h=this._scope.settings.handleSize,l=this._updateVersion;for(var u in r)r[u]._drawSelection(t,e,h,r,l);t.restore()}}}),M=c.extend(u,{statics:{extend:function mt(t){return t._serializeFields&&(t._serializeFields=c.set({},this.prototype._serializeFields,t._serializeFields)),mt.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new T,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return c.each(t,function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var i=t&&c.isPlainObject(t),n=i&&t.internal===!0,s=this._matrix=new T,o=i&&t.project||r.project,h=r.settings;return this._id=n?null:g.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&h.applyMatrix,e&&s.translate(e),s._owner=this,this._style=new X(o._currentStyle,this,o),n||i&&t.insert===!1||!h.insertItems&&(!i||t.insert!==!0)?this._setProject(o):(i&&t.parent||o)._insertItem(a,this,!0),i&&t!==M.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(t,e){function i(i){for(var o in i){var a=s[o];c.equals(a,"leading"===o?1.2*i.fontSize:i[o])||(n[o]=c.serialize(a,t,"data"!==o,e))}}var n={},s=this;return i(this._serializeFields),this instanceof A||i(this._style._defaults),[this._class,n]},_changed:function(t){var e=this._symbol,i=this._parent||e,n=this._project;8&t&&(this._bounds=this._position=this._decomposed=this._globalMatrix=a),i&&40&t&&M._clearBoundsCache(i),2&t&&M._clearBoundsCache(this),n&&n._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var i=e._children,n=e._namedChildren;(n[t]=n[t]||[]).push(this),t in i||(i[t]=this)}this._name=t||a,this._changed(128)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},c.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=c.capitalize(t),t="_"+t;this["get"+e]=function(){return this[t]},this["set"+e]=function(e){e!=this[t]&&(this[t]=e,this._changed("_locked"===t?128:129))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(129))}},changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,i=t.length;e<i;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setSelected(t);this.changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var i=0,n=t.length;i<n;i++)if(!t[i].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var i=0,n=e.length;i<n;i++)e[i].setFullySelected(t);this.changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=this._position,i=t?v:y;if(!e){var n=this._pivot;e=this._position=n?this._matrix._transformPoint(n):this.getBounds().getCenter(!0)}return new i(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(v.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(){var t=this._pivot;return t?new y(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=v.read(arguments,0,{clone:!0,readNull:!0}),this._position=a}},c.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(e){return this.getBounds(e,t)}},{beans:!0,getBounds:function(t,e){var i=e||t instanceof T,n=c.set({},i?e:t,this._boundsOptions);n.stroke&&!this.getStrokeScaling()||(n.cacheItem=this);var s=this._getCachedBounds(i&&t,n);return arguments.length?s:new x(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var t=b.read(arguments),e=this.getBounds(),i=this._matrix,n=new T,s=t.getCenter();n.translate(s),t.width==e.width&&t.height==e.height||(i.isInvertible()||(i.set(i._backup||(new T).translate(i.getTranslation())),e=this.getBounds()),n.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),s=e.getCenter(),n.translate(-s.x,-s.y),this.transform(n)},_getBounds:function(t,e){var i=this._children;return i&&i.length?(M._updateBoundsCache(this,e.cacheItem),M._getBounds(i,t,e)):new b},_getCachedBounds:function(t,e){t=t&&t._orNullIfIdentity();var i=e.internal,n=e.cacheItem,s=i?null:this._matrix._orNullIfIdentity(),o=n&&(!t||t.equals(s))&&[e.stroke?1:0,e.handle?1:0,i?1:0].join("");if(M._updateBoundsCache(this._parent||this._symbol,n),o&&this._bounds&&o in this._bounds)return this._bounds[o].rect.clone();var a=this._getBounds(t||s,e);if(o){this._bounds||(this._bounds={});this._bounds[o]={rect:a.clone(),internal:e.internal}}return a},_getStrokeMatrix:function(t,e){var i=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,n=i?i.getViewMatrix().invert():t;return n&&n._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var i=e._id,n=t._boundsCache=t._boundsCache||{ids:{},list:[]};n.ids[i]||(n.list.push(e),n.ids[i]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=a;for(var i=0,n=e.list,s=n.length;i<s;i++){var o=n[i];o!==t&&(o._bounds=o._position=a,o._boundsCache&&M._clearBoundsCache(o))}}},_getBounds:function(t,e,i){var n=1/0,s=-n,o=n,a=s;i=i||{};for(var r=0,h=t.length;r<h;r++){var l=t[r];if(l._visible&&!l.isEmpty()){var c=l._getCachedBounds(e&&e.appended(l._matrix),i);n=Math.min(c.x,n),o=Math.min(c.y,o),s=Math.max(c.x+c.width,s),a=Math.max(c.y+c.height,a)}}return isFinite(n)?new b(n,o,s-n,a-o):new b}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var i=this._decomposed;this.rotate(t-e),i&&(i.rotation=t,this._decomposed=i)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new y(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=v.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var i=this._decomposed;this.scale(e.x/t.x,e.y/t.y),i&&(i.scaling=e,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix,i=this._project._updateVersion;if(e&&e._updateVersion!==i&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();var n=this._parent;n&&e.prepend(n.getGlobalMatrix(!0)),e._updateVersion=i}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var i=this._children,n=0,s=i&&i.length;n<s;n++)i[n]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function gt(t){gt.base.call(this,t);for(var e=this._children,i=0,n=e&&e.length;i<n;i++)e[i]._installEvents(t)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof O)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return c.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(M.NO_INSERT),i=this._children,n=c.pick(t?t.insert:a,t===a||t===!0),s=c.pick(t?t.deep:a,!0);i&&e.copyAttributes(this),i&&!s||e.copyContent(this),i||e.copyAttributes(this),n&&e.insertAbove(this);var o=this._name,r=this._parent;if(o&&r){for(var i=r._children,h=o,l=1;i[o];)o=h+" "+l++;o!==h&&e.setName(o)}return e},copyContent:function(t){for(var e=t._children,i=0,n=e&&e.length;i<n;i++)this.addChild(e[i].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],n=0,s=i.length;n<s;n++){var o=i[n];t.hasOwnProperty(o)&&(this[o]=t[o])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var a=t._data,r=t._name;this._data=a?c.clone(a):null,r&&this.setName(r)},rasterize:function(t,e){var i=this.getStrokeBounds(),n=(t||this.getView().getResolution())/72,s=i.getTopLeft().floor(),o=i.getBottomRight().ceil(),r=new _(o.subtract(s)),h=new I(M.NO_INSERT);if(!r.isZero()){var l=at.getCanvas(r.multiply(n)),u=l.getContext("2d"),p=(new T).scale(n).translate(s.negate());u.save(),p.applyToContext(u),this.draw(u,new c({matrices:[p]})),u.restore(),h.setCanvas(l)}return h.transform((new T).translate(s.add(r.divide(2))).scale(1/n)),(e===a||e)&&h.insertAbove(this),h},contains:function(){return!!this._contains(this._matrix._inverseTransform(v.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var i=e.length-1;i>=0;i--)if(e[i].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return b.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new z.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof M&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){return this._hitTest(v.read(arguments),P.getOptions(arguments))}function e(){var t=v.read(arguments),e=P.getOptions(arguments),i=[];return this._hitTest(t,c.set({all:i},e)),i}function i(t,e,i,n){var s=this._children;if(s)for(var o=s.length-1;o>=0;o--){var a=s[o],r=a!==n&&a._hitTest(t,e,i);if(r&&!e.all)return r}return null}return S.inject({hitTest:t,hitTestAll:e,_hitTest:i}),{hitTest:t,hitTestAll:e,_hitTestChildren:i}},{_hitTest:function(t,e,i){function n(t){return t&&d&&!d(t)&&(t=null),t&&e.all&&e.all.push(t),t}function s(e,i){var n=l["get"+i]();if(t.subtract(n).divide(h).length<=1)return new P(e,f,{name:c.hyphenate(i),point:n})}if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var o=this._matrix,a=i?i.appended(o):this.getGlobalMatrix().prepend(this.getView()._matrix),r=Math.max(e.tolerance,1e-12),h=e._tolerancePadding=new _(z._getStrokePadding(r,o.inverted()._shiftless()));if(t=o._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(h.multiply(2))._containsPoint(t))return null;var l,u,p=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==c.hyphenate(this._class)||e["class"]&&!(this instanceof e["class"])),d=e.match,f=this;if(p&&(e.center||e.bounds)&&this._parent){if(l=this.getInternalBounds(),e.center&&(u=s("center","Center")),!u&&e.bounds)for(var m=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],g=0;g<8&&!u;g++)u=s("bounds",m[g]);
u=n(u)}return u||(u=this._hitTestChildren(t,e,a)||p&&n(this._hitTestSelf(t,e,a,this.getStrokeScaling()?null:a.inverted()._shiftless()))||null),u&&u.point&&(u.point=o.transform(u.point)),u},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new P("fill",this)},matches:function(t,e){function i(t,e){for(var n in t)if(t.hasOwnProperty(n)){var s=t[n],o=e[n];if(c.isPlainObject(s)&&c.isPlainObject(o)){if(!i(s,o))return!1}else if(!c.equals(s,o))return!1}return!0}var n=typeof t;if("object"===n){for(var s in t)if(t.hasOwnProperty(s)&&!this.matches(s,t[s]))return!1;return!0}if("function"===n)return t(this);if("match"===t)return e(this);var o=/^(empty|editable)$/.test(t)?this["is"+c.capitalize(t)]():"type"===t?c.hyphenate(this._class):this[t];if("class"===t){if("function"==typeof e)return this instanceof e;o=this._class}if("function"==typeof e)return!!e(o);if(e){if(e.test)return e.test(o);if(c.isPlainObject(e))return i(e,o)}return c.equals(o,e)},getItems:function(t){return M._getItems(this,t,this._matrix)},getItem:function(t){return M._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function vt(t,e,i,n,s){if(!n){var o="object"==typeof e&&e,a=o&&o.overlapping,r=o&&o.inside,h=a||r,l=h&&b.read([h]);n={items:[],recursive:o&&o.recursive!==!1,inside:!!r,overlapping:!!a,rect:l,path:a&&new z.Rectangle({rectangle:l,insert:!1})},o&&(e=c.filter({},e,{recursive:!0,inside:!0,overlapping:!0}))}var u=t._children,p=n.items,l=n.rect;i=l&&(i||new T);for(var d=0,f=u&&u.length;d<f;d++){var m=u[d],g=i&&i.appended(m._matrix),v=!0;if(l){var h=m.getBounds(g);if(!l.intersects(h))continue;l.contains(h)||n.overlapping&&(h.contains(l)||n.path.intersects(m,g))||(v=!1)}if(v&&m.matches(e)&&(p.push(m),s))break;if(n.recursive!==!1&&vt(m,e,g,n,s),s&&p.length>0)break}return p}}},{importJSON:function(t){var e=c.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(a,t)},insertChild:function(t,e){var i=e?this.insertChildren(t,[e]):null;return i&&i[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var i=this._children;if(i&&e&&e.length>0){e=c.slice(e);for(var n=e.length-1;n>=0;n--){var s=e[n];s?s._remove(!1,!0):e.splice(n,1)}c.splice(i,e,t,0);for(var o=this._project,a=o._changes,n=0,r=e.length;n<r;n++){var s=e[n],h=s._name;s._parent=this,s._setProject(o,!0),h&&s.setName(h),a&&this._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var i=t&&t._getOwner(),n=t!==this&&i?this:null;return n&&(n._remove(!1,!0),i._insertItem(t._index+e,n)),n},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(a,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",copyTo:function(t){return t._insertItem(a,this.clone(!1))},reduce:function(t){var e=this._children;if(e&&1===e.length){var i=e[0].reduce(t);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,i=t._namedChildren,n=this._name,s=i[n],o=s?s.indexOf(this):-1;o!==-1&&(e[n]==this&&delete e[n],s.splice(o,1),s.length?e[n]=s[0]:delete i[n])}},_remove:function(t,e){var i=this._getOwner(),n=this._project,s=this._index;return!!i&&(this._name&&this._removeNamed(),null!=s&&(n._activeLayer===this&&(n._activeLayer=this.getNextSibling()||this.getPreviousSibling()),c.splice(i._children,null,s,1)),this._installEvents(!1),t&&n._changes&&this._changed(5),e&&i._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=c.pick(e,this._children.length);for(var i=c.splice(this._children,null,t,e-t),n=i.length-1;n>=0;n--)i[n]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(){var t=this._children;return!t||!t.length},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do e.unshift(t);while(t=t._parent);return e}for(var i=e(this),n=e(t),s=0,o=Math.min(i.length,n.length);s<o;s++)if(i[s]!=n[s])return i[s]._index<n[s]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},c.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var i=(e?c:v).read(arguments),n=v.read(arguments,0,{readNull:!0});return this.transform((new T)[t](i,n||this.getPosition(!0)))}},{translate:function(){var t=new T;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,i,n){t&&t.isIdentity()&&(t=null);var s=this._matrix,o=(e||this._applyMatrix)&&(!s.isIdentity()||t||e&&i&&this._children);if(!t&&!o)return this;if(t&&(!t.isInvertible()&&s.isInvertible()&&(s._backup=s.getValues()),s.prepend(t)),o=o&&this._transformContent(s,i,n)){var a=this._pivot,r=this._style,h=r.getFillColor(!0),l=r.getStrokeColor(!0);a&&s._transformPoint(a,a,!0),h&&h.transform(s),l&&l.transform(s),s.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var c=this._bounds,u=this._position;this._changed(9);var p=c&&t&&t.decompose();if(p&&!p.shearing&&p.rotation%90===0){for(var d in c){var f=c[d];if(o||!f.internal){var m=f.rect;t._transformBounds(m,m)}}var g=this._boundsGetter,m=c[g&&g.getBounds||g||"getBounds"];m&&(this._position=m.getCenter(!0)),this._bounds=c}else t&&u&&(this._position=t._transformPoint(u,u));return this},_transformContent:function(t,e,i){var n=this._children;if(n){for(var s=0,o=n.length;s<o;s++)n[s].transform(t,!0,e,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(v.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(v.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(v.read(arguments))},localToParent:function(){return this._matrix._transformPoint(v.read(arguments))},fitBounds:function(t,e){t=b.read(arguments);var i=this.getBounds(),n=i.height/i.width,s=t.height/t.width,o=(e?n>s:n<s)?t.width/i.width:t.height/i.height,a=new b(new v,new _(i.width*o,i.height*o));a.setCenter(t.getCenter()),this.setBounds(a)}}),{_setStyles:function(t,e,i){var n=this._style;if(n.hasFill()&&(t.fillStyle=n.getFillColor().toCanvasStyle(t)),n.hasStroke()){t.strokeStyle=n.getStrokeColor().toCanvasStyle(t),t.lineWidth=n.getStrokeWidth();var s=n.getStrokeJoin(),o=n.getStrokeCap(),a=n.getMiterLimit();if(s&&(t.lineJoin=s),o&&(t.lineCap=o),a&&(t.miterLimit=a),r.support.nativeDash){var h=n.getDashArray(),l=n.getDashOffset();h&&h.length&&("setLineDash"in t?(t.setLineDash(h),t.lineDashOffset=l):(t.mozDash=h,t.mozDashOffset=l))}}if(n.hasShadow()){var c=e.pixelRatio||1,u=i._shiftless().prepend((new T).scale(c,c)),p=u.transform(new v(n.getShadowBlur(),0)),d=u.transform(this.getShadowOffset());t.shadowColor=n.getShadowColor().toCanvasStyle(t),t.shadowBlur=p.getLength(),t.shadowOffsetX=d.x,t.shadowOffsetY=d.y}},draw:function(t,e,i){var n=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var s=e.matrices,o=e.viewMatrix,a=this._matrix,r=s[s.length-1].appended(a);if(r.isInvertible()){o=o?o.appended(r):r,s.push(r),e.updateMatrix&&(r._updateVersion=n,this._globalMatrix=r);var h,l,c,u=this._blendMode,p=this._opacity,d="normal"===u,f=rt.nativeModes[u],m=d&&1===p||e.dontStart||e.clip||(f||d&&p<1)&&this._canComposite(),g=e.pixelRatio||1;if(!m){var v=this.getStrokeBounds(o);if(!v.width||!v.height)return;c=e.offset,l=e.offset=v.getTopLeft().floor(),h=t,t=at.getContext(v.getSize().ceil().add(1).multiply(g)),1!==g&&t.scale(g,g)}t.save();var y=i?i.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&o,_=!m&&e.clipItem,w=!y||_;if(m?(t.globalAlpha=p,f&&(t.globalCompositeOperation=u)):w&&t.translate(-l.x,-l.y),w&&(m?a:o).applyToContext(t),_&&e.clipItem.draw(t,e.extend({clip:!0})),y){t.setTransform(g,0,0,g,0,0);var b=e.offset;b&&t.translate(-b.x,-b.y)}this._draw(t,e,o,y),t.restore(),s.pop(),e.clip&&!e.dontFinish&&t.clip(),m||(rt.process(u,t,h,p,l.subtract(c).multiply(g)),at.release(t),e.offset=c)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof R)return e._isUpdated(t);var i=this._updateVersion===t;return!i&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,i=!0),i},_drawSelection:function(t,e,i,n,s){var o=this._selection,a=1&o,r=2&o||a&&this._selectBounds,h=4&o;if(this._drawSelected||(a=!1),(a||r||h)&&this._isUpdated(s)){var l,c=this.getSelectedColor(!0)||(l=this.getLayer())&&l.getSelectedColor(!0),u=e.appended(this.getGlobalMatrix(!0)),p=i/2;if(t.strokeStyle=t.fillStyle=c?c.toCanvasStyle(t):"#009dec",a&&this._drawSelected(t,u,n),h){var d=this.getPosition(!0),f=d.x,m=d.y;t.beginPath(),t.arc(f,m,p,0,2*Math.PI,!0),t.stroke();for(var g=[[0,-1],[1,0],[0,1],[-1,0]],v=p,y=i+1,_=0;_<4;_++){var w=g[_],b=w[0],x=w[1];t.moveTo(f+b*v,m+x*v),t.lineTo(f+b*y,m+x*y),t.stroke()}}if(r){var T=u._transformCorners(this.getInternalBounds());t.beginPath();for(var _=0;_<8;_++)t[_?"lineTo":"moveTo"](T[_],T[++_]);t.closePath(),t.stroke();for(var _=0;_<8;_++)t.fillRect(T[_]-p,T[++_]-p,i,i)}}},_canComposite:function(){return!1}},c.each(["down","drag","up","move"],function(t){this["removeOn"+c.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var i="mouse"+e,n=this._project,s=n._removeSets=n._removeSets||{};s[i]=s[i]||{},s[i][this._id]=this}return this}})),A=M.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function yt(t){yt.base.call(this,t),1026&t&&(this._clipItem=a)},_getClipItem:function(){var t=this._clipItem;if(t===a){t=null;for(var e=this._children,i=0,n=e.length;i<n;i++)if(e[i]._clipMask){t=e[i];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function _t(t,e){var i=this._getClipItem();return i?i._getCachedBounds(t&&t.appended(i._matrix),c.set({},e,{stroke:!1})):_t.base.call(this,t,e)},_hitTestChildren:function wt(t,e,i){var n=this._getClipItem();return(!n||n.contains(t))&&wt.base.call(this,t,e,i,n)},_draw:function(t,e){var i=e.clip,n=!i&&this._getClipItem();e=e.extend({clipItem:n,clip:!1}),i?(t.beginPath(),e.dontStart=e.dontFinish=!0):n&&n.draw(t,e.extend({clip:!0}));for(var s=this._children,o=0,a=s.length;o<a;o++){var r=s[o];r!==n&&r.draw(t,e)}}}),O=A.extend({_class:"Layer",initialize:function(){A.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function bt(){return this._parent?bt.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),$=M.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t){this._initialize(t)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&c.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new w(t.width,t.height,this,"setSize")},setSize:function(){var t=_.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,i=t.width,n=t.height;"rectangle"===e?this._radius.set(_.min(this._radius,t.divide(2))):"circle"===e?(i=n=(i+n)/2,this._radius=i/2):"ellipse"===e&&this._radius._set(i/2,n/2),this._size._set(i,n),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new w(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var i=2*t;this._radius=t,this._size._set(i,i)}else if(t=_.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t),"rectangle"===e){var i=_.max(this._size,t.multiply(2));this._size.set(i)}else"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new(z[c.capitalize(this._type)])({center:new v,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),r.settings.applyMatrix&&e.setApplyMatrix(!0),(t===a||t)&&e.insertAbove(this),e},toShape:"#clone",_draw:function(t,e,i,n){var s=this._style,o=s.hasFill(),a=s.hasStroke(),r=e.dontFinish||e.clip,h=!n;if(o||a||r){var l=this._type,c=this._radius,u="circle"===l;if(e.dontStart||t.beginPath(),h&&u)t.arc(0,0,c,0,2*Math.PI,!0);else{var p=u?c:c.width,d=u?c:c.height,f=this._size,m=f.width,g=f.height;if(h&&"rectangle"===l&&0===p&&0===d)t.rect(-m/2,-g/2,m,g);else{var v=m/2,y=g/2,_=.44771525016920644,w=p*_,b=d*_,x=[-v,-y+d,-v,-y+b,-v+w,-y,-v+p,-y,v-p,-y,v-w,-y,v,-y+b,v,-y+d,v,y-d,v,y-b,v-w,y,v-p,y,-v+p,y,-v+w,y,-v,y-b,-v,y-d];n&&n.transform(x,x,32),t.moveTo(x[0],x[1]),t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]),v!==p&&t.lineTo(x[8],x[9]),t.bezierCurveTo(x[10],x[11],x[12],x[13],x[14],x[15]),y!==d&&t.lineTo(x[16],x[17]),t.bezierCurveTo(x[18],x[19],x[20],x[21],x[22],x[23]),v!==p&&t.lineTo(x[24],x[25]),t.bezierCurveTo(x[26],x[27],x[28],x[29],x[30],x[31])}}t.closePath()}r||!o&&!a||(this._setStyles(t,e,i),o&&(t.fill(s.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var i=new b(this._size).setCenter(0,0),n=this._style,s=e.stroke&&n.hasStroke()&&n.getStrokeWidth();return t&&(i=t._transformBounds(i)),s?i.expand(z._getStrokePadding(s,this._getStrokeMatrix(t,e))):i}},new function(){function t(t,e,i){var n=t._radius;if(!n.isZero())for(var s=t._size.divide(2),o=1;o<=4;o++){var a=new v(o>1&&o<4?-1:1,o>2?-1:1),r=a.multiply(s),h=r.subtract(a.multiply(n)),l=new b(i?r.add(a.multiply(i)):r,h);if(l.contains(e))return{point:h,quadrant:o}}}function e(t,e,i,n){var s=t.divide(e);return(!n||s.isInQuadrant(n))&&s.subtract(s.normalize()).multiply(e).divide(i).length<=1}return{_contains:function i(e){if("rectangle"===this._type){var n=t(this,e);return n?e.subtract(n.point).divide(this._radius).getLength()<=1:i.base.call(this,e)}return e.divide(this.size).getLength()<=.5},_hitTestSelf:function n(i,s,o,a){var r=!1,h=this._style,l=s.stroke&&h.hasStroke(),c=s.fill&&h.hasFill();if(l||c){var u=this._type,p=this._radius,d=l?h.getStrokeWidth()/2:0,f=s._tolerancePadding.add(z._getStrokePadding(d,!h.getStrokeScaling()&&a));if("rectangle"===u){var m=f.multiply(2),g=t(this,i,m);if(g)r=e(i.subtract(g.point),p,f,g.quadrant);else{var v=new b(this._size).setCenter(0,0),y=v.expand(m),_=v.expand(m.negate());r=y._containsPoint(i)&&!_._containsPoint(i)}}else r=e(i,p,f)}return r?new P(l?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(t,e,i,n,s){var o=new $(c.getNamed(s));return o._type=t,o._size=i,o._radius=n,o.translate(e)}return{Circle:function(){var e=v.readNamed(arguments,"center"),i=c.readNamed(arguments,"radius");return t("circle",e,new _(2*i),i,arguments)},Rectangle:function(){var e=b.readNamed(arguments,"rectangle"),i=_.min(_.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return t("rectangle",e.getCenter(!0),e.getSize(!0),i,arguments)},Ellipse:function(){var e=$._readEllipse(arguments),i=e.radius;return t("ellipse",e.center,i.multiply(2),i,arguments)},_readEllipse:function(t){var e,i;if(c.hasNamed(t,"radius"))e=v.readNamed(t,"center"),i=_.readNamed(t,"radius");else{var n=b.readNamed(t,"rectangle");e=n.getCenter(!0),i=n.getSize(!0).divide(2)}return{center:e,radius:i}}}}}),I=M.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],initialize:function(t,e){if(!this._initialize(t,e!==a&&v.read(arguments,1))){var i="string"==typeof t?l.getElementById(t):t;i?this.setImage(i):this.setSource(t)}this._size||(this._size=new _,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,i=t._canvas;if(e)this._setImage(e);else if(i){var n=at.getCanvas(t._size);n.getContext("2d").drawImage(i,0,0),this._setImage(n)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new w(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=_.read(arguments);if(!t.equals(this._size))if(t.width>0&&t.height>0){var e=this.getElement();this._setImage(at.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&at.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new v(0,0).transform(t),i=new v(1,0).transform(t).subtract(e),n=new v(0,1).transform(t).subtract(e);return new _(72/i.getLength(),72/n.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){function e(t){var e=i.getView(),n=t&&t.type||"load";e&&i.responds(n)&&(r=e._scope,i.emit(n,new Q(t)))}var i=this;this._setImage(t),this._loaded?setTimeout(e,0):t&&Z.add(t,{load:function(n){i._setImage(t),e(n)},error:e})},_setImage:function(t){this._canvas&&at.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new _(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var t=at.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){at.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new o.Image,i=this._crossOrigin;i&&(e.crossOrigin=i),e.src=t,this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=b.read(arguments),e=at.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=b.read(arguments),e=new I(M.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(t){var e=v.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,i;if(t?t instanceof N?(i=t,e=t.getBounds()):"object"==typeof t&&("width"in t?e=new b(t):"x"in t&&(e=new b(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var n=32,s=Math.min(e.width,n),o=Math.min(e.height,n),a=I._sampleContext;a?a.clearRect(0,0,n+1,n+1):a=I._sampleContext=at.getContext(new _(n)),a.save();var r=(new T).scale(s/e.width,o/e.height).translate(-e.x,-e.y);r.applyToContext(a),i&&i.draw(a,new c({clip:!0,matrices:[r]})),this._matrix.applyToContext(a);var h=this.getElement(),l=this._size;h&&a.drawImage(h,-l.width/2,-l.height/2),a.restore();for(var u=a.getImageData(.5,.5,Math.ceil(s),Math.ceil(o)).data,p=[0,0,0],d=0,f=0,m=u.length;f<m;f+=4){var g=u[f+3];d+=g,g/=255,p[0]+=u[f]*g,p[1]+=u[f+1]*g,p[2]+=u[f+2]*g}for(var f=0;f<3;f++)p[f]/=d;return d?Y.read(p):null},getPixel:function(){var t=v.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new Y("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=v.read(arguments),e=Y.read(arguments),i=e._convert("rgb"),n=e._alpha,s=this.getContext(!0),o=s.createImageData(1,1),a=o.data;a[0]=255*i[0],a[1]=255*i[1],a[2]=255*i[2],a[3]=null!=n?255*n:255,s.putImageData(o,t.x,t.y)},createImageData:function(){var t=_.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=b.read(arguments);return t.isEmpty()&&(t=new b(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=v.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var i=new b(this._size).setCenter(0,0);return t?t._transformBounds(i):i},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new P("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),B=M.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==a&&v.read(arguments,1))||this.setDefinition(t instanceof E?t:new E(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(t),e)},_hitTestSelf:function(t,e,i,n){var s=this._definition._item._hitTest(t,e,i);return s&&(s.item=this),s},_draw:function(t,e){this._definition._item.draw(t,e)}}),E=c.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=g.get(),this.project=r.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,function(){return c.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&M._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new v),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new B(this,t)},clone:function(){return new E(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),P=c.extend({_class:"HitResult",initialize:function(t,e,i){this.type=t,this.item=e,i&&(i.enumerable=!0,this.inject(i))},statics:{getOptions:function(t){var e=t&&c.read(t);return c.set({type:null,tolerance:r.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),k=c.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,i,n,s,o){var r,h,l,c,u=arguments.length;u>0&&(null==t||"object"==typeof t?1===u&&t&&"point"in t?(r=t.point,h=t.handleIn,l=t.handleOut,c=t.selection):(r=t,h=e,l=i,c=n):(r=[t,e],h=i!==a?[i,n]:null,l=s!==a?[s,o]:null)),new V(r,this,"_point"),new V(h,this,"_handleIn"),new V(l,this,"_handleOut"),c&&this.setSelection(c)},_serialize:function(t,e){var i=this._point,n=this._selection,s=n||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return n&&s.push(n),c.serialize(s,t,!0,e)},_changed:function(t){var e=this._path;if(e){var i,n=e._curves,s=this._index;n&&(t&&t!==this._point&&t!==this._handleIn||!(i=s>0?n[s-1]:e._closed?n[n.length-1]:null)||i._changed(),t&&t!==this._point&&t!==this._handleOut||!(i=n[s])||i._changed()),e._changed(25)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(v.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(v.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(v.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,i=this._path;this._selection=t=t||0,i&&t!==e&&(i._updateSelection(this,e,t),i._changed(129))},changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this.changeSelection(7,t)},getIndex:function(){return this._index!==a?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new L(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,i){var n=t||{},s=n.type,o=n.factor,r=this.getPrevious(),h=this.getNext(),l=(r||this)._point,c=this._point,u=(h||this)._point,p=l.getDistance(c),d=c.getDistance(u);if(s&&"catmull-rom"!==s){if("geometric"!==s)throw new Error("Smoothing method '"+s+"' not supported.");if(r&&h){var f=l.subtract(u),m=o===a?.4:o,g=m*p/(p+d);e||this.setHandleIn(f.multiply(g)),i||this.setHandleOut(f.multiply(g-m))}}else{var y=o===a?.5:o,_=Math.pow(p,y),w=_*_,b=Math.pow(d,y),x=b*b;if(!e&&r){var T=2*x+3*b*_+w,C=3*b*(b+_);this.setHandleIn(0!==C?new v((x*l._x+T*c._x-w*u._x)/C-c._x,(x*l._y+T*c._y-w*u._y)/C-c._y):new v)}if(!i&&h){var T=2*w+3*_*b+x,C=3*_*(_+b);this.setHandleOut(0!==C?new v((w*u._x+T*c._x-x*l._x)/C-c._x,(w*u._y+T*c._y-x*l._y)/C-c._y):new v)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,i=t.clone();t.set(e),e.set(i)},reversed:function(){return new k(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new k(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,i){var n=1-i,s=i,o=t._point,a=e._point,r=t._handleIn,h=e._handleIn,l=e._handleOut,c=t._handleOut;this._point._set(n*o._x+s*a._x,n*o._y+s*a._y,!0),this._handleIn._set(n*r._x+s*h._x,n*r._y+s*h._y,!0),this._handleOut._set(n*c._x+s*l._x,n*c._y+s*l._y,!0),this._changed()},_transformCoordinates:function(t,e,i){var n=this._point,s=i&&this._handleIn.isZero()?null:this._handleIn,o=i&&this._handleOut.isZero()?null:this._handleOut,a=n._x,r=n._y,h=2;return e[0]=a,e[1]=r,s&&(e[h++]=s._x+a,e[h++]=s._y+r),o&&(e[h++]=o._x+a,e[h++]=o._y+r),t&&(t._transformCoordinates(e,e,h/2),a=e[0],r=e[1],i?(n._x=a,n._y=r,h=2,s&&(s._x=e[h++]-a,s._y=e[h++]-r),o&&(o._x=e[h++]-a,o._y=e[h++]-r)):(s||(e[h++]=a,e[h++]=r),o||(e[h++]=a,e[h++]=r))),e}}),V=v.extend({initialize:function(t,e,i){var n,s,o;if(t)if((n=t[0])!==a)s=t[1];else{var r=t;(n=r.x)===a&&(r=v.read(arguments),n=r.x),s=r.y,o=r.selected}else n=s=0;this._x=n,this._y=s,this._owner=e,e[i]=this,o&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=m.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner.changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),D=c.extend({_class:"Curve",beans:!0,initialize:function(t,e,i,n,s,o,a,r){var h,l,c,u,p,d,f=arguments.length;3===f?(this._path=t,h=e,l=i):f?1===f?"segment1"in t?(h=new k(t.segment1),l=new k(t.segment2)):"point1"in t?(c=t.point1,p=t.handle1,d=t.handle2,u=t.point2):Array.isArray(t)&&(c=[t[0],t[1]],u=[t[6],t[7]],p=[t[2]-t[0],t[3]-t[1]],d=[t[4]-t[6],t[5]-t[7]]):2===f?(h=new k(t),l=new k(e)):4===f?(c=t,p=e,d=i,u=n):8===f&&(c=[t,e],u=[a,r],p=[i-t,n-e],d=[s-a,o-r]):(h=new k,l=new k),this._segment1=h||new k(c,null,p),this._segment2=l||new k(u,d,null)},_serialize:function(t,e){return c.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=a},clone:function(){return new D(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return D.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,i=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(i)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(v.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(v.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(v.read(arguments));
},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(v.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle2().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return D.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],i=0;i<8;i+=2)e.push(new v(t[i],t[i+1]));return e}},{getLength:function(){return null==this._length&&(this._length=D.getLength(this.getValues(),0,1)),this._length},getArea:function(){return D.getArea(this.getValues())},getLine:function(){return new C(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new D(D.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return D.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var i=1e-8,n=1-i,s=null;if(t>=i&&t<=n){var o=D.subdivide(this.getValues(),t),a=o[0],r=o[1],h=e||this.hasHandles(),l=this._segment1,c=this._segment2,u=this._path;h&&(l._handleOut._set(a[2]-a[0],a[3]-a[1]),c._handleIn._set(r[4]-r[6],r[5]-r[7]));var p=a[6],d=a[7],f=new k(new v(p,d),h&&new v(a[4]-p,a[5]-d),h&&new v(r[2]-p,r[3]-d));u?(u.insert(l._index+1,f),s=this.getNext()):(this._segment2=f,this._changed(),s=new D(f,c))}return s},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===a?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===a?.5:e?t:this.getTimeAt(t))},reversed:function(){return new D(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,i,n){var s=t._point,o=t._handleOut,a=e._handleIn,r=e._point,h=s.x,l=s.y,c=r.x,u=r.y,p=n?[h,l,h,l,c,u,c,u]:[h,l,h+o._x,l+o._y,c+a._x,u+a._y,c,u];return i&&i._transformCoordinates(p,p,4),p},subdivide:function(t,e){var i=t[0],n=t[1],s=t[2],o=t[3],r=t[4],h=t[5],l=t[6],c=t[7];e===a&&(e=.5);var u=1-e,p=u*i+e*s,d=u*n+e*o,f=u*s+e*r,m=u*o+e*h,g=u*r+e*l,v=u*h+e*c,y=u*p+e*f,_=u*d+e*m,w=u*f+e*g,b=u*m+e*v,x=u*y+e*w,T=u*_+e*b;return[[i,n,p,d,y,_,x,T],[x,T,w,b,g,v,l,c]]},getMonoCurves:function(t,e){var i=[],n=e?0:1,s=t[n+0],o=t[n+2],a=t[n+4],r=t[n+6];if(s>=o==o>=a&&o>=a==a>=r||D.isStraight(t))i.push(t);else{var h=3*(o-a)-s+r,l=2*(s+a)-4*o,c=o-s,u=1e-8,p=1-u,d=[],f=m.solveQuadratic(h,l,c,d,u,p);if(f){d.sort();var g=d[0],v=D.subdivide(t,g);i.push(v[0]),f>1&&(g=(d[1]-g)/(1-g),v=D.subdivide(v[1],g),i.push(v[0])),i.push(v[1])}else i.push(t)}return i},solveCubic:function(t,e,i,n,s,o){var a=t[e],r=t[e+2],h=t[e+4],l=t[e+6],c=0;if(!(a<i&&l<i&&r<i&&h<i||a>i&&l>i&&r>i&&h>i)){var u=3*(r-a),p=3*(h-r)-u,d=l-a-u-p;c=m.solveCubic(d,p,u,a-i,n,s,o)}return c},getTimeOf:function(t,e){var i=new v(t[0],t[1]),n=new v(t[6],t[7]),s=1e-12,o=1e-7,a=e.isClose(i,s)?0:e.isClose(n,s)?1:null;if(null===a)for(var r=[e.x,e.y],h=[],l=0;l<2;l++)for(var c=D.solveCubic(t,l,r[l],h,0,1),u=0;u<c;u++){var p=h[u];if(e.isClose(D.getPoint(t,p),o))return p}return e.isClose(i,o)?0:e.isClose(n,o)?1:null},getNearestTime:function(t,e){function i(i){if(i>=0&&i<=1){var n=e.getDistance(D.getPoint(t,i),!0);if(n<p)return p=n,d=i,!0}}if(D.isStraight(t)){var n=t[0],s=t[1],o=t[6],a=t[7],r=o-n,h=a-s,l=r*r+h*h;if(0===l)return 0;var c=((e.x-n)*r+(e.y-s)*h)/l;return c<1e-12?0:c>.999999999999?1:D.getTimeOf(t,new v(n+c*r,s+c*h))}for(var u=100,p=1/0,d=0,f=0;f<=u;f++)i(f/u);for(var m=1/(2*u);m>1e-8;)i(d-m)||i(d+m)||(m/=2);return d},getPart:function(t,e,i){var n=e>i;if(n){var s=e;e=i,i=s}return e>0&&(t=D.subdivide(t,e)[1]),i<1&&(t=D.subdivide(t,(i-e)/(1-e))[0]),n?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var i=t[0],n=t[1],s=t[2],o=t[3],a=t[4],r=t[5],h=t[6],l=t[7],c=3*s-2*i-h,u=3*o-2*n-l,p=3*a-2*h-i,d=3*r-2*l-n;return Math.max(c*c,p*p)+Math.max(u*u,d*d)<=16*e*e},getArea:function(t){var e=t[0],i=t[1],n=t[2],s=t[3],o=t[4],a=t[5],r=t[6],h=t[7];return 3*((h-i)*(n+o)-(r-e)*(s+a)+s*(e-o)-n*(i-a)+h*(o+e/3)-r*(a+i/3))/20},getBounds:function(t){for(var e=t.slice(0,2),i=e.slice(),n=[0,0],s=0;s<2;s++)D._addBounds(t[s],t[s+2],t[s+4],t[s+6],s,0,e,i,n);return new b(e[0],e[1],i[0]-e[0],i[1]-e[1])},_addBounds:function(t,e,i,n,s,o,a,r,h){function l(t,e){var i=t-e,n=t+e;i<a[s]&&(a[s]=i),n>r[s]&&(r[s]=n)}o/=2;var c=a[s]-o,u=r[s]+o;if(t<c||e<c||i<c||n<c||t>u||e>u||i>u||n>u)if(e<t!=e<n&&i<t!=i<n)l(t,o),l(n,o);else{var p=3*(e-i)-t+n,d=2*(t+i)-4*e,f=e-t,g=m.solveQuadratic(p,d,f,h),v=1e-8,y=1-v;l(n,0);for(var _=0;_<g;_++){var w=h[_],b=1-w;v<=w&&w<=y&&l(b*b*b*t+3*b*b*w*e+3*b*w*w*i+w*w*w*n,o)}}}}},c.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=z[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),c.each({isStraight:function(t,e,i,n){if(e.isZero()&&i.isZero())return!0;var s=n.subtract(t);if(s.isZero())return!1;if(s.isCollinear(e)&&s.isCollinear(i)){var o=new C(t,n),a=1e-7;if(o.getDistance(t.add(e))<a&&o.getDistance(n.add(i))<a){var r=s.dot(s),h=s.dot(e)/r,l=s.dot(i)/r;return h>=0&&h<=1&&l<=0&&l>=-1}}return!1},isLinear:function(t,e,i,n){var s=n.subtract(t).divide(3);return e.equals(s)&&i.negate().equals(s)}},function(t,e){this[e]=function(e){var i=this._segment1,n=this._segment2;return t(i._point,i._handleOut,n._handleIn,n._point,e)},this.statics[e]=function(e,i){var n=e[0],s=e[1],o=e[6],a=e[7];return t(new v(n,s),new v(e[2]-n,e[3]-s),new v(e[4]-o,e[5]-a),new v(o,a),i)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new L(this,t):null},getTimeAt:function(t,e){return D.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(v.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return D.getTimeOf(this.getValues(),v.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=v.read(arguments),e=this.getValues(),i=D.getNearestTime(e,t),n=D.getPoint(e,i);return new L(this,i,n,null,t.getDistance(n))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return c.each(t,function(t){this[t+"At"]=function(e,i){var n=this.getValues();return D[t](n,i?e:D.getTimeAt(n,e))},this[t+"AtTime"]=function(e){return D[t](this.getValues(),e)}},{statics:{_evaluateMethods:t}})},new function(){function t(t){var e=t[0],i=t[1],n=t[2],s=t[3],o=t[4],a=t[5],r=t[6],h=t[7],l=9*(n-o)+3*(r-e),c=6*(e+o)-12*n,u=3*(n-e),p=9*(s-a)+3*(h-i),d=6*(i+a)-12*s,f=3*(s-i);return function(t){var e=(l*t+c)*t+u,i=(p*t+d)*t+f;return Math.sqrt(e*e+i*i)}}function e(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function i(t,e,i,n){if(null==e||e<0||e>1)return null;var s=t[0],o=t[1],a=t[2],r=t[3],h=t[4],l=t[5],c=t[6],u=t[7],p=m.isZero;p(a-s)&&p(r-o)&&(a=s,r=o),p(h-c)&&p(l-u)&&(h=c,l=u);var d,f,g=3*(a-s),y=3*(h-a)-g,_=c-s-g-y,w=3*(r-o),b=3*(l-r)-w,x=u-o-w-b;if(0===i)d=0===e?s:1===e?c:((_*e+y)*e+g)*e+s,f=0===e?o:1===e?u:((x*e+b)*e+w)*e+o;else{var T=1e-8,C=1-T;if(e<T?(d=g,f=w):e>C?(d=3*(c-h),f=3*(u-l)):(d=(3*_*e+2*y)*e+g,f=(3*x*e+2*b)*e+w),n){0===d&&0===f&&(e<T||e>C)&&(d=h-a,f=l-r);var S=Math.sqrt(d*d+f*f);S&&(d/=S,f/=S)}if(3===i){var h=6*_*e+2*y,l=6*x*e+2*b,M=Math.pow(d*d+f*f,1.5);d=0!==M?(d*l-f*h)/M:0,f=0}}return 2===i?new v(f,(-d)):new v(d,f)}return{statics:{classify:function(t){function e(t,e,i){var n=e!==a,s=n&&e>0&&e<1,o=n&&i>0&&i<1;return!n||(s||o)&&("loop"!==t||s&&o)||(t="arch",s=o=!1),{type:t,roots:s||o?s&&o?e<i?[e,i]:[i,e]:[s?e:i]:null}}var i=t[0],n=t[1],s=t[2],o=t[3],r=t[4],h=t[5],l=t[6],c=t[7],u=i*(c-h)+n*(r-l)+l*h-c*r,p=s*(n-c)+o*(l-i)+i*c-n*l,d=r*(o-n)+h*(i-s)+s*n-o*i,f=3*d,g=f-p,v=g-p+u,y=Math.sqrt(v*v+g*g+f*f),_=0!==y?1/y:0,w=m.isZero,b="serpentine";if(v*=_,g*=_,f*=_,w(v))return w(g)?e(w(f)?"line":"quadratic"):e(b,f/(3*g));var x=3*g*g-4*v*f;if(w(x))return e("cusp",g/(2*v));var T=x>0?Math.sqrt(x/3):Math.sqrt(-x),C=2*v;return e(x>0?b:"loop",(g+T)/C,(g-T)/C)},getLength:function(i,n,s,o){if(n===a&&(n=0),s===a&&(s=1),D.isStraight(i)){var r=i;s<1&&(r=D.subdivide(r,s)[0],n/=s),n>0&&(r=D.subdivide(r,n)[1]);var h=r[6]-r[0],l=r[7]-r[1];return Math.sqrt(h*h+l*l)}return m.integrate(o||t(i),n,s,e(n,s))},getTimeAt:function(i,n,s){function o(t){return v+=m.integrate(p,s,t,e(s,t)),s=t,v-n}if(s===a&&(s=n<0?1:0),0===n)return s;var r=Math.abs,h=1e-12,l=n>0,c=l?s:0,u=l?1:s,p=t(i),d=D.getLength(i,c,u,p),f=r(n)-d;if(r(f)<h)return l?u:c;if(f>h)return null;var g=n/d,v=0;return m.findRoot(o,p,s+g,c,u,32,1e-12)},getPoint:function(t,e){return i(t,e,0,!1)},getTangent:function(t,e){return i(t,e,1,!0)},getWeightedTangent:function(t,e){return i(t,e,1,!1)},getNormal:function(t,e){return i(t,e,2,!0)},getWeightedNormal:function(t,e){return i(t,e,2,!1)},getCurvature:function(t,e){return i(t,e,3,!1).x},getPeaks:function(t){var e=t[0],i=t[1],n=t[2],s=t[3],o=t[4],a=t[5],r=t[6],h=t[7],l=-e+3*n-3*o+r,c=3*e-6*n+3*o,u=-3*e+3*n,p=-i+3*s-3*a+h,d=3*i-6*s+3*a,f=-3*i+3*s,g=1e-8,v=1-g,y=[];return m.solveCubic(9*(l*l+p*p),9*(l*c+d*p),2*(c*c+d*d)+3*(u*l+f*p),u*c+d*f,y,g,v),y.sort()}}}},new function(){function t(t,e,i,n,s,o,a,r,h){var l=!h&&i.getPrevious()===o,c=!h&&i!==o&&i.getNext()===o,u=1e-8,p=1-u;if(null==n&&(n=i.getTimeOf(s)),null!==n&&n>=(l?u:0)&&n<=(c?p:1)&&(null==a&&(a=o.getTimeOf(r)),null!==a&&a>=(c?u:0)&&a<=(l?p:1))){var d=new L(i,n,s||i.getPointAtTime(n),h),f=new L(o,a,r||o.getPointAtTime(a),h);d._intersection=f,f._intersection=d,e&&!e(d)||L.insert(t,d,!0)}}function e(s,o,a,r,h,l,c,u,p,d,f,m,g){if(++p>=4096||++u>=40)return p;var v,y,_=1e-9,w=o[0],b=o[1],x=o[6],T=o[7],S=C.getSignedDistance,M=S(w,b,x,T,o[2],o[3]),A=S(w,b,x,T,o[4],o[5]),O=M*A>0?.75:4/9,$=O*Math.min(0,M,A),I=O*Math.max(0,M,A),B=S(w,b,x,T,s[0],s[1]),E=S(w,b,x,T,s[2],s[3]),P=S(w,b,x,T,s[4],s[5]),k=S(w,b,x,T,s[6],s[7]),V=i(B,E,P,k),L=V[0],N=V[1];if(0===M&&0===A&&0===B&&0===E&&0===P&&0===k||null==(v=n(L,N,$,I))||null==(y=n(L.reverse(),N.reverse(),$,I)))return p;var z=d+(f-d)*v,R=d+(f-d)*y;if(Math.max(g-m,R-z)<_){var H=(z+R)/2,F=(m+g)/2;t(h,l,c?r:a,c?F:H,null,c?a:r,c?H:F,null)}else if(s=D.getPart(s,v,y),y-v>.8)if(R-z>g-m){var j=D.subdivide(s,.5),H=(z+R)/2;p=e(o,j[0],r,a,h,l,!c,u,p,m,g,z,H),p=e(o,j[1],r,a,h,l,!c,u,p,m,g,H,R)}else{var j=D.subdivide(o,.5),F=(m+g)/2;p=e(j[0],s,r,a,h,l,!c,u,p,m,F,z,R),p=e(j[1],s,r,a,h,l,!c,u,p,F,g,z,R)}else p=g-m>=_?e(o,s,r,a,h,l,!c,u,p,m,g,z,R):e(s,o,a,r,h,l,c,u,p,z,R,m,g);return p}function i(t,e,i,n){var s,o=[0,t],a=[1/3,e],r=[2/3,i],h=[1,n],l=e-(2*t+n)/3,c=i-(t+2*n)/3;if(l*c<0)s=[[o,a,h],[o,r,h]];else{var u=l/c;s=[u>=2?[o,a,h]:u<=.5?[o,r,h]:[o,a,r,h],[o,h]]}return(l||c)<0?s.reverse():s}function n(t,e,i,n){return t[0][1]<i?s(t,!0,i):e[0][1]>n?s(e,!1,n):t[0][0]}function s(t,e,i){for(var n=t[0][0],s=t[0][1],o=1,a=t.length;o<a;o++){var r=t[o][0],h=t[o][1];if(e?h>=i:h<=i)return h===i?r:n+(i-s)*(r-n)/(h-s);n=r,s=h}return null}function o(t,e,i,n,s){var o=m.isZero;if(o(n)&&o(s)){var a=D.getTimeOf(t,new v(e,i));return null===a?[]:[a]}for(var r=Math.atan2(-s,n),h=Math.sin(r),l=Math.cos(r),c=[],u=[],p=0;p<8;p+=2){var d=t[p]-e,f=t[p+1]-i;c.push(d*l-f*h,d*h+f*l)}return D.solveCubic(c,1,0,u,0,1),u}function a(e,i,n,s,a,r,h){for(var l=i[0],c=i[1],u=i[6],p=i[7],d=o(e,l,c,u-l,p-c),f=0,m=d.length;f<m;f++){var g=d[f],v=D.getPoint(e,g),y=D.getTimeOf(i,v);if(null!==y){var _=D.getPoint(i,y);t(a,r,h?s:n,h?y:g,h?_:v,h?n:s,h?g:y,h?v:_)}}}function r(e,i,n,s,o,a){var r=C.intersect(e[0],e[1],e[6],e[7],i[0],i[1],i[6],i[7]);r&&t(o,a,n,null,r,s,null,r)}function h(i,n,s,o,h,l){var c=1e-12,p=Math.min,d=Math.max;if(d(i[0],i[2],i[4],i[6])+c>p(n[0],n[2],n[4],n[6])&&p(i[0],i[2],i[4],i[6])-c<d(n[0],n[2],n[4],n[6])&&d(i[1],i[3],i[5],i[7])+c>p(n[1],n[3],n[5],n[7])&&p(i[1],i[3],i[5],i[7])-c<d(n[1],n[3],n[5],n[7])){var f=u(i,n);if(f)for(var m=0;m<2;m++){var g=f[m];t(h,l,s,g[0],null,o,g[1],null,!0)}else{var v=D.isStraight(i),y=D.isStraight(n),_=v&&y,w=v&&!y;(_?r:v||y?a:e)(w?n:i,w?i:n,w?o:s,w?s:o,h,l,w,0,0,0,1,0,1)}}return h}function l(e,i,n,s){var o=D.classify(e);if("loop"===o.type){var a=o.roots;t(n,s,i,a[0],null,i,a[1],null)}return n}function c(t,e,i,n,s,o){var a=!e;a&&(e=t);for(var r,c,u=t.length,p=e.length,d=[],f=[],m=0;m<p;m++)d[m]=e[m].getValues(s);for(var m=0;m<u;m++){var g=t[m],v=a?d[m]:g.getValues(n),y=g.getPath();y!==c&&(c=y,r=[],f.push(r)),a&&l(v,g,r,i);for(var _=a?m+1:0;_<p;_++){if(o&&r.length)return r;h(v,d[_],g,e[_],r,i)}}r=[];for(var m=0,w=f.length;m<w;m++)r.push.apply(r,f[m]);return r}function u(t,e){function i(t){var e=t[6]-t[0],i=t[7]-t[1];return e*e+i*i}var n=Math.abs,s=C.getDistance,o=1e-8,a=1e-7,r=D.isStraight(t),h=D.isStraight(e),l=r&&h,c=i(t)<i(e),u=c?e:t,p=c?t:e,d=u[0],f=u[1],m=u[6]-d,g=u[7]-f;if(s(d,f,m,g,p[0],p[1],!0)<a&&s(d,f,m,g,p[6],p[7],!0)<a)!l&&s(d,f,m,g,u[2],u[3],!0)<a&&s(d,f,m,g,u[4],u[5],!0)<a&&s(d,f,m,g,p[2],p[3],!0)<a&&s(d,f,m,g,p[4],p[5],!0)<a&&(r=h=l=!0);else if(l)return null;if(r^h)return null;for(var y=[t,e],_=[],w=0;w<4&&_.length<2;w++){var b=1&w,x=1^b,T=w>>1,S=D.getTimeOf(y[b],new v(y[x][T?6:0],y[x][T?7:1]));if(null!=S){var M=b?[T,S]:[S,T];(!_.length||n(M[0]-_[0][0])>o&&n(M[1]-_[0][1])>o)&&_.push(M)}if(w>2&&!_.length)break}if(2!==_.length)_=null;else if(!l){var A=D.getPart(t,_[0][0],_[1][0]),O=D.getPart(e,_[0][1],_[1][1]);(n(O[2]-A[2])>a||n(O[3]-A[3])>a||n(O[4]-A[4])>a||n(O[5]-A[5])>a)&&(_=null)}return _}return{getIntersections:function(t){var e=this.getValues(),i=t&&t!==this&&t.getValues();return i?h(e,i,this,t,[]):l(e,this,[])},statics:{getOverlaps:u,getIntersections:c,getCurveLineIntersections:o}}}),L=c.extend({_class:"CurveLocation",initialize:function(t,e,i,n,s){if(e>=.99999999){var o=t.getNext();o&&(e=0,t=o)}this._setCurve(t),this._time=e,this._point=i||t.getPointAtTime(e),this._overlap=n,this._distance=s,this._intersection=this._next=this._previous=null},_setCurve:function(t){var e=t._path;this._path=e,this._version=e?e._version:0,this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){this._setCurve(t.getCurve()),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),i=this.getTime();0===i?t=e._segment1:1===i?t=e._segment2:null!=i&&(t=e.getPartLength(0,i)<e.getPartLength(i,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){function t(t){var e=t&&t.getCurve();if(e&&null!=(i._time=e.getTimeOf(i._point)))return i._setCurve(e),e}var e=this._path,i=this;return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),i=this.getIndex();if(e&&null!=i)for(var n=e.getCurves(),s=0;s<i;s++)t+=n[s].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),i=this.getTime();this._curveOffset=t=null!=i&&e&&e.getPartLength(0,i)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,i=t&&t.splitAtTime(this.getTime());return i&&this._setSegment(e.getLastSegment()),i},equals:function(t,e){var i=this===t;if(!i&&t instanceof L){var n=this.getCurve(),s=t.getCurve(),o=n._path,a=s._path;if(o===a){var r=Math.abs,h=1e-7,l=r(this.getOffset()-t.getOffset()),c=!e&&this._intersection,u=!e&&t._intersection;i=(l<h||o&&r(o.getLength()-l)<h)&&(!c&&!u||c&&u&&c.equals(u,!0))}}return i},toString:function(){var t=[],e=this.getPoint(),i=f.instance;e&&t.push("point: "+e);var n=this.getIndex();null!=n&&t.push("index: "+n);var s=this.getTime();return null!=s&&t.push("time: "+i.number(s)),null!=this._distance&&t.push("distance: "+i.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),i=t.getCurve();return!(e.isStraight()&&i.isStraight()&&e.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){function t(t,e){var i=t.getValues(),n=D.classify(i).roots||D.getPeaks(i),s=n.length,o=e&&s>1?n[s-1]:s>0?n[0]:.5;d.push(D.getLength(i,e?o:0,e?1:o)/2)}function e(t,e,i){return e<i?t>e&&t<i:t>e||t<i}var i=this._intersection;if(!i)return!1;var n=this.getTime(),s=i.getTime(),o=1e-8,a=1-o,r=n>=o&&n<=a,h=s>=o&&s<=a;if(r&&h)return!this.isTouching();var l=this.getCurve(),c=n<o?l.getPrevious():l,u=i.getCurve(),p=s<o?u.getPrevious():u;if(n>a&&(l=l.getNext()),s>a&&(u=u.getNext()),!(c&&l&&p&&u))return!1;var d=[];r||(t(c,!0),t(l,!1)),h||(t(p,!0),t(u,!1));var f=this.getPoint(),m=Math.min.apply(Math,d),g=r?l.getTangentAtTime(n):l.getPointAt(m).subtract(f),v=r?g.negate():c.getPointAt(-m).subtract(f),y=h?u.getTangentAtTime(s):u.getPointAt(m).subtract(f),_=h?y.negate():p.getPointAt(-m).subtract(f),w=v.getAngle(),b=g.getAngle(),x=_.getAngle(),T=y.getAngle();return!!(r?e(w,x,T)^e(b,x,T)&&e(w,T,x)^e(b,T,x):e(x,w,b)^e(T,w,b)&&e(x,b,w)^e(T,b,w))},hasOverlap:function(){return!!this._overlap}},c.each(D._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var t=this.getCurve(),i=this.getTime();return null!=i&&t&&t[e](i,!0)}},{preserve:!0}),new function(){function t(t,e,i){function n(i,n){for(var o=i+n;o>=-1&&o<=s;o+=n){var a=t[(o%s+s)%s];if(!e.getPoint().isClose(a.getPoint(),1e-7))break;if(e.equals(a))return a}return null}for(var s=t.length,o=0,a=s-1;o<=a;){var r,h=o+a>>>1,l=t[h];if(i&&(r=e.equals(l)?l:n(h,-1)||n(h,1)))return e._overlap&&(r._overlap=r._intersection._overlap=!0),r;var c=e.getPath(),u=l.getPath(),p=c!==u?c._id-u._id:e.getIndex()+e.getTime()-(l.getIndex()+l.getTime());p<0?a=h-1:o=h+1}return t.splice(o,0,e),e}return{statics:{insert:t,expand:function(e){for(var i=e.slice(),n=e.length-1;n>=0;n--)t(i,e[n]._intersection,!1);return i}}}}),N=M.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,i,n;if(c.isPlainObject(t)?(i=t.segments,e=t.pathData):Array.isArray(t)?i=t:"string"==typeof t&&(e=t),i){var s=i[0];n=s&&Array.isArray(s[0])}else e&&(n=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var o=n?R:z;return new o(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){function e(t,e){var i=+n[t];return r&&(i+=h[e]),i}function i(t){return new v(e(t,"x"),e(t+1,"y"))}var n,s,o,a=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),r=!1,h=new v,l=new v;this.clear();for(var c=0,u=a&&a.length;c<u;c++){var p=a[c],d=p[0],f=d.toLowerCase();n=p.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var m=n&&n.length;switch(r=d===f,"z"!==s||/[mz]/.test(f)||this.moveTo(h),f){case"m":case"l":for(var g="m"===f,y=0;y<m;y+=2)this[g?"moveTo":"lineTo"](h=i(y)),g&&(l=h,g=!1);o=h;break;case"h":case"v":var w="h"===f?"x":"y";h=h.clone();for(var y=0;y<m;y++)h[w]=e(y,w),this.lineTo(h);o=h;break;case"c":for(var y=0;y<m;y+=6)this.cubicCurveTo(i(y),o=i(y+2),h=i(y+4));break;case"s":for(var y=0;y<m;y+=4)this.cubicCurveTo(/[cs]/.test(s)?h.multiply(2).subtract(o):h,o=i(y),h=i(y+2)),s=f;break;case"q":for(var y=0;y<m;y+=4)this.quadraticCurveTo(o=i(y),h=i(y+2));break;case"t":for(var y=0;y<m;y+=2)this.quadraticCurveTo(o=/[qt]/.test(s)?h.multiply(2).subtract(o):h,h=i(y)),s=f;break;case"a":for(var y=0;y<m;y+=7)this.arcTo(h=i(y+5),new _((+n[y]),(+n[y+1])),+n[y+2],+n[y+4],+n[y+3]);break;case"z":this.closePath(1e-12),h=l}s=f}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,i,n){var s=this===t||!t,o=this._matrix._orNullIfIdentity(),a=s?o:(i||t._matrix)._orNullIfIdentity();return s||this.getBounds(o).touches(t.getBounds(a))?D.getIntersections(this.getCurves(),!s&&t.getCurves(),e,o,a,n):[]},getCrossings:function(t){return this.getIntersections(t,function(t){return t.hasOverlap()||t.isCrossing()})},getNearestLocation:function(){for(var t=v.read(arguments),e=this.getCurves(),i=1/0,n=null,s=0,o=e.length;s<o;s++){var a=e[s].getNearestLocation(t);a._distance<i&&(i=a._distance,n=a)}return n},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,i){var n=!this._children,s=n?"_segments":"_children",o=t[s],a=e[s],r=this[s];if(!o||!a||o.length!==a.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var h=r.length,l=a.length;if(h<l)for(var c=n?k:z,u=h;u<l;u++)this.add(new c);else h>l&&this[n?"removeSegments":"removeChildren"](l,h);for(var u=0;u<l;u++)r[u].interpolate(o[u],a[u],i);n&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var i=this._children||[this],n=t._children?t._children.slice():[t],s=i.length,o=n.length,a=[],r=0;e=!0;for(var h=s-1;h>=0&&e;h--){var l=i[h];e=!1;for(var c=o-1;c>=0&&!e;c--)l.compare(n[c])&&(a[c]||(a[c]=!0,r++),e=!0)}e=e&&r===o}return e}}),z=N.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=Array.isArray(t)?"object"==typeof t[0]?t:arguments:!t||t.size!==a||t.x===a&&t.point===a?null:arguments;e&&e.length>0?this.setSegments(e):(this._curves=a,this._segmentSelection=0,e||"string"!=typeof t||(this.setPathData(t),t=null)),this._initialize(!e&&t)},_equals:function(t){return this._closed===t._closed&&c.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function xt(t){if(xt.base.call(this,t),8&t){if(this._length=this._area=a,16&t)this._version++;else if(this._curves)for(var e=0,i=this._curves.length;e<i;e++)this._curves[e]._changed()}else 32&t&&(this._bounds=a)},getStyle:function(){var t=this._parent;return(t instanceof R?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),i=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=a,i){var n=t[i-1];"boolean"==typeof n&&(this.setClosed(n),i--),this._add(k.readList(t,0,{},i))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var i=this._countCurves();t=this._curves=new Array(i);for(var n=0;n<i;n++)t[n]=new D(this,e[n],e[n+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new D(this,this._segments[e-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(t,e){function i(e,i){if(e._transformCoordinates(t,m),n=m[0],s=m[1],g)v.push("M"+d.pair(n,s)),g=!1;else if(r=m[2],h=m[3],r===n&&h===s&&l===o&&c===a){if(!i){var u=n-o,p=s-a;v.push(0===u?"v"+d.number(p):0===p?"h"+d.number(u):"l"+d.pair(u,p))}}else v.push("c"+d.pair(l-o,c-a)+" "+d.pair(r-o,h-a)+" "+d.pair(n-o,s-a));o=n,a=s,l=m[4],c=m[5]}var n,s,o,a,r,h,l,c,u=this._segments,p=u.length,d=new f(e),m=new Array(6),g=!0,v=[];if(!p)return"";for(var y=0;y<p;y++)i(u[y]);return this._closed&&p>0&&(i(u[0],!0),v.push("z")),v.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,i=new Array(6),n=0,s=e.length;n<s;n++)e[n]._transformCoordinates(t,i,!0);return!0},_add:function(t,e){for(var i=this._segments,n=this._curves,s=t.length,o=null==e,e=o?i.length:e,a=0;a<s;a++){var r=t[a];r._path&&(r=t[a]=r.clone()),r._path=this,r._index=e+a,r._selection&&this._updateSelection(r,0,r._selection)}if(o)i.push.apply(i,t);else{i.splice.apply(i,[e,0].concat(t));for(var a=e+s,h=i.length;a<h;a++)i[a]._index=a}if(n){var l=this._countCurves(),c=e>0&&e+s-1===l?e-1:e,u=c,p=Math.min(c+s,l);t._curves&&(n.splice.apply(n,[c,0].concat(t._curves)),u+=t._curves.length);for(var a=u;a<p;a++)n.splice(a,0,new D(this,null,null));this._adjustCurves(c,p)}return this._changed(25),t},_adjustCurves:function(t,e){for(var i,n=this._segments,s=this._curves,o=t;o<e;o++)i=s[o],i._path=this,i._segment1=n[o],i._segment2=n[o+1]||n[0],i._changed();(i=s[this._closed&&!t?n.length-1:t-1])&&(i._segment2=n[t]||n[0],i._changed()),(i=s[e])&&(i._segment1=n[e],i._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){return arguments.length>1&&"number"!=typeof t?this._add(k.readList(arguments)):this._add([k.read(arguments)])[0]},insert:function(t,e){return arguments.length>2&&"number"!=typeof e?this._add(k.readList(arguments,1),t):this._add([k.read(arguments,1)],t)[0]},addSegment:function(){return this._add([k.read(arguments)])[0]},insertSegment:function(t){return this._add([k.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(k.readList(t))},insertSegments:function(t,e){return this._add(k.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,i){t=t||0,e=c.pick(e,this._segments.length);var n=this._segments,s=this._curves,o=n.length,a=n.splice(t,e-t),r=a.length;if(!r)return a;for(var h=0;h<r;h++){var l=a[h];l._selection&&this._updateSelection(l,l._selection,0),l._index=l._path=null}for(var h=t,u=n.length;h<u;h++)n[h]._index=h;if(s){for(var p=t>0&&e===o+(this._closed?1:0)?t-1:t,s=s.splice(p,r),h=s.length-1;h>=0;h--)s[h]._path=null;i&&(a._curves=s.slice(1)),this._adjustCurves(p,p)}return this._changed(25),a},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){var e=this._segments,i=this._closed;t=0;for(var n=0,s=e.length;n<s;n++){var o=n+1===s;t+=D.getArea(D.getValues(e[n],e[o?0:n+1],null,o&&!i))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function Tt(t){1&t||this._selectSegments(!1),Tt.base.call(this,t)},_selectSegments:function(t){var e=this._segments,i=e.length,n=t?7:0;this._segmentSelection=n*i;for(var s=0;s<i;s++)e[s]._selection=n},_updateSelection:function(t,e,i){t._selection=i;var n=this._segmentSelection+=i-e;n>0&&this.setSelected(!0)},divideAt:function(t){var e,i=this.getLocationAt(t);return i&&(e=i.getCurve().divideAt(i.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),i=e&&e.index,n=e&&e.time,s=1e-8,o=1-s;n>o&&(i++,n=0);var a=this.getCurves();if(i>=0&&i<a.length){n>=s&&a[i++].divideAtTime(n);var r,h=this.removeSegments(i,this._segments.length,!0);return this._closed?(this.setClosed(!1),r=this):(r=new z(M.NO_INSERT),r.insertAbove(this),r.copyAttributes(this)),r._add(h,0),this.addSegment(h[0]),r}return null},split:function(t,e){var i,n=e===a?t:(i=this.getCurves()[t])&&i.getLocationAtTime(e);return null!=n?this.splitAt(n):null},join:function(t,e){var i=e||0;if(t&&t!==this){var n=t._segments,s=this.getLastSegment(),o=t.getLastSegment();if(!o)return this;s&&s._point.isClose(o._point,i)&&t.reverse();var a=t.getFirstSegment();if(s&&s._point.isClose(a._point,i))s.setHandleOut(a._handleOut),this._add(n.slice(1));else{var r=this.getFirstSegment();r&&r._point.isClose(a._point,i)&&t.reverse(),o=t.getLastSegment(),r&&r._point.isClose(o._point,i)?(r.setHandleIn(o._handleIn),this._add(n.slice(0,n.length-1),0)):this._add(n.slice())}t._closed&&this._add([n[0]]),t.remove()}var h=this.getFirstSegment(),l=this.getLastSegment();return h!==l&&h._point.isClose(l._point,i)&&(h.setHandleIn(l._handleIn),l.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),i=t&&t.simplify,n=i?1e-7:0,s=e.length-1;s>=0;s--){var o=e[s];!o.hasHandles()&&(!o.hasLength(n)||i&&o.isCollinear(o.getNext()))&&o.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var i=this._segments[t],n=i._handleIn;i._handleIn=i._handleOut,i._handleOut=n,i._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new H(this,t||.25,256,(!0)),i=e.parts,n=i.length,s=[],o=0;o<n;o++)s.push(new k(i[o].curve.slice(0,2)));!this._closed&&n>0&&s.push(new k(i[n-1].curve.slice(6))),this.setSegments(s)},simplify:function(t){var e=new F(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){function e(t,e){var n=t&&t.index;if(null!=n){var s=t.path;if(s&&s!==i)throw new Error(t._class+" "+n+" of "+s+" is not part of "+i);e&&t instanceof D&&n++}else n="number"==typeof t?t:e;return Math.min(n<0&&h?n%r:n<0?n+r:n,r-1)}var i=this,n=t||{},s=n.type||"asymmetric",o=this._segments,r=o.length,h=this._closed,l=h&&n.from===a&&n.to===a,c=e(n.from,0),u=e(n.to,r-1);if(c>u)if(h)c-=r;else{var p=c;c=u,u=p}if(/^(?:asymmetric|continuous)$/.test(s)){var d="asymmetric"===s,f=Math.min,m=u-c+1,g=m-1,v=l?f(m,4):1,y=v,_=v,w=[];if(h||(y=f(1,c),_=f(1,r-u-1)),g+=y+_,g<=1)return;for(var b=0,x=c-y;b<=g;b++,x++)w[b]=o[(x<0?x+r:x)%r]._point;for(var T=w[0]._x+2*w[1]._x,C=w[0]._y+2*w[1]._y,S=2,M=g-1,A=[T],O=[C],$=[S],I=[],B=[],b=1;b<g;b++){var E=b<M,P=E?1:d?1:2,k=E?4:d?2:7,V=E?4:d?3:8,L=E?2:d?0:1,N=P/S;S=$[b]=k-N,
T=A[b]=V*w[b]._x+L*w[b+1]._x-N*T,C=O[b]=V*w[b]._y+L*w[b+1]._y-N*C}I[M]=A[M]/$[M],B[M]=O[M]/$[M];for(var b=g-2;b>=0;b--)I[b]=(A[b]-I[b+1])/$[b],B[b]=(O[b]-B[b+1])/$[b];I[g]=(3*w[g]._x-I[M])/2,B[g]=(3*w[g]._y-B[M])/2;for(var b=y,z=g-_,x=c;b<=z;b++,x++){var R=o[x<0?x+r:x],H=R._point,F=I[b]-H._x,j=B[b]-H._y;(l||b<z)&&R.setHandleOut(F,j),(l||b>y)&&R.setHandleIn(-F,-j)}}else for(var b=c;b<=u;b++)o[b<0?b+r:b].smooth(n,!l&&b===c,!l&&b===u)},toShape:function(t){function e(t,e){var i=c[t],n=i.getNext(),s=c[e],o=s.getNext();return i._handleOut.isZero()&&n._handleIn.isZero()&&s._handleOut.isZero()&&o._handleIn.isZero()&&n._point.subtract(i._point).isCollinear(o._point.subtract(s._point))}function i(t){var e=c[t],i=e.getPrevious(),n=e.getNext();return i._handleOut.isZero()&&e._handleIn.isZero()&&e._handleOut.isZero()&&n._handleIn.isZero()&&e._point.subtract(i._point).isOrthogonal(n._point.subtract(e._point))}function n(t){var e=c[t],i=e.getNext(),n=e._handleOut,s=i._handleIn,o=.5522847498307936;if(n.isOrthogonal(s)){var a=e._point,r=i._point,h=new C(a,n,(!0)).intersect(new C(r,s,(!0)),!0);return h&&m.isZero(n.getLength()/h.subtract(a).getLength()-o)&&m.isZero(s.getLength()/h.subtract(r).getLength()-o)}return!1}function s(t,e){return c[t]._point.getDistance(c[e]._point)}if(!this._closed)return null;var o,r,h,l,c=this._segments;if(!this.hasHandles()&&4===c.length&&e(0,2)&&e(1,3)&&i(1)?(o=$.Rectangle,r=new _(s(0,3),s(0,1)),l=c[1]._point.add(c[2]._point).divide(2)):8===c.length&&n(0)&&n(2)&&n(4)&&n(6)&&e(1,5)&&e(3,7)?(o=$.Rectangle,r=new _(s(1,6),s(0,3)),h=r.subtract(new _(s(0,7),s(1,2))).divide(2),l=c[3]._point.add(c[4]._point).divide(2)):4===c.length&&n(0)&&n(1)&&n(2)&&n(3)&&(m.isZero(s(0,2)-s(1,3))?(o=$.Circle,h=s(0,2)/2):(o=$.Ellipse,h=new _(s(2,0)/2,s(3,1)/2)),l=c[1]._point),o){var u=this.getPosition(!0),p=new o({center:u,size:r,radius:h,insert:!1});return p.copyAttributes(this,!0),p._matrix.prepend(this._matrix),p.rotate(l.subtract(u).getAngle()+90),(t===a||t)&&p.insertAbove(this),p}return null},toPath:"#clone",compare:function Ct(t){if(!t||t instanceof R)return Ct.base.call(this,t);var e=this.getCurves(),i=t.getCurves(),n=e.length,s=i.length;if(!n||!s)return n==s;for(var o,a,r=e[0].getValues(),h=[],l=0,c=0,u=0;u<s;u++){var p=i[u].getValues();h.push(p);var d=D.getOverlaps(r,p);if(d){o=!u&&d[0][0]>0?s-1:u,a=d[0][1];break}}for(var f,m=Math.abs,g=1e-8,p=h[o];r&&p;){var d=D.getOverlaps(r,p);if(d){var v=d[0][0];if(m(v-c)<g){c=d[1][0],1===c&&(r=++l<n?e[l].getValues():null,c=0);var y=d[0][1];if(m(y-a)<g){if(f||(f=[o,y]),a=d[1][1],1===a&&(++o>=s&&(o=0),p=h[o]||i[o].getValues(),a=0),!r)return f[0]===o&&f[1]===a;continue}}}break}return!1},_hitTestSelf:function(t,e,i,n){function s(e,i){return t.subtract(e).divide(i).length<=1}function o(t,i,n){if(!e.selected||i.isSelected()){var o=t._point;if(i!==o&&(i=i.add(o)),s(i,b))return new P(n,m,{segment:t,point:i})}}function a(t,i){return(i||e.segments)&&o(t,t._point,"segment")||!i&&e.handles&&(o(t,t._handleIn,"handle-in")||o(t,t._handleOut,"handle-out"))}function r(t){p.add(t)}function h(e){var i=_||e._index>0&&e._index<y-1;if("round"===(i?l:c))return s(e._point,b);if(p=new z({internal:!0,closed:!0}),i?e.isSmooth()||z._addBevelJoin(e,l,S,u,null,n,r,!0):"square"===c&&z._addSquareCap(e,c,S,null,n,r,!0),!p.isEmpty()){var o;return p.contains(t)||(o=p.getNearestLocation(t))&&s(o.getPoint(),w)}}var l,c,u,p,d,f,m=this,g=this.getStyle(),v=this._segments,y=v.length,_=this._closed,w=e._tolerancePadding,b=w,x=e.stroke&&g.hasStroke(),T=e.fill&&g.hasFill(),C=e.curves,S=x?g.getStrokeWidth()/2:T&&e.tolerance>0||C?0:null;if(null!==S&&(S>0?(l=g.getStrokeJoin(),c=g.getStrokeCap(),u=g.getMiterLimit(),b=b.add(z._getStrokePadding(S,n))):l=c="round"),!e.ends||e.segments||_){if(e.segments||e.handles)for(var M=0;M<y;M++)if(f=a(v[M]))return f}else if(f=a(v[0],!0)||a(v[y-1],!0))return f;if(null!==S){if(d=this.getNearestLocation(t)){var A=d.getTime();0===A||1===A&&y>1?h(d.getSegment())||(d=null):s(d.getPoint(),b)||(d=null)}if(!d&&"miter"===l&&y>1)for(var M=0;M<y;M++){var O=v[M];if(t.getDistance(O._point)<=u*S&&h(O)){d=O.getLocation();break}}}return!d&&T&&this._contains(t)||d&&!x&&!C?new P("fill",this):d?new P(x?"stroke":"curve",this,{location:d,point:d.getPoint()}):null}},c.each(D._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this.getLocationAt(e);return i&&i[t]()}},{beans:!1,getLocationOf:function(){for(var t=v.read(arguments),e=this.getCurves(),i=0,n=e.length;i<n;i++){var s=e[i].getLocationOf(t);if(s)return s}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"==typeof t){for(var e=this.getCurves(),i=0,n=0,s=e.length;n<s;n++){var o=i,a=e[n];if(i+=a.getLength(),i>t)return a.getLocationAt(t-o)}if(e.length>0&&t<=this.getLength())return new L(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null}}),new function(){function t(t,e,i,n){function s(e){var i=h[e],n=h[e+1];o==i&&a==n||(t.beginPath(),t.moveTo(o,a),t.lineTo(i,n),t.stroke(),t.beginPath(),t.arc(i,n,r,0,2*Math.PI,!0),t.fill())}for(var o,a,r=n/2,h=new Array(6),l=0,c=e.length;l<c;l++){var u=e[l],p=u._selection;if(u._transformCoordinates(i,h),o=h[0],a=h[1],2&p&&s(2),4&p&&s(4),t.fillRect(o-r,a-r,n,n),!(1&p)){var d=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(o-r+1,a-r+1,n-2,n-2),t.fillStyle=d}}}function e(t,e,i){function n(e){if(i)e._transformCoordinates(i,f),s=f[0],o=f[1];else{var n=e._point;s=n._x,o=n._y}if(m)t.moveTo(s,o),m=!1;else{if(i)h=f[2],l=f[3];else{var p=e._handleIn;h=s+p._x,l=o+p._y}h===s&&l===o&&c===a&&u===r?t.lineTo(s,o):t.bezierCurveTo(c,u,h,l,s,o)}if(a=s,r=o,i)c=f[4],u=f[5];else{var p=e._handleOut;c=a+p._x,u=r+p._y}}for(var s,o,a,r,h,l,c,u,p=e._segments,d=p.length,f=new Array(6),m=!0,g=0;g<d;g++)n(p[g]);e._closed&&d>0&&n(p[0])}return{_draw:function(t,i,n,s){function o(t){return p[(t%d+d)%d]}var a=i.dontStart,h=i.dontFinish||i.clip,l=this.getStyle(),c=l.hasFill(),u=l.hasStroke(),p=l.getDashArray(),d=!r.support.nativeDash&&u&&p&&p.length;if(a||t.beginPath(),(c||u&&!d||h)&&(e(t,this,s),this._closed&&t.closePath()),!h&&(c||u)&&(this._setStyles(t,i,n),c&&(t.fill(l.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),u)){if(d){a||t.beginPath();var f,m=new H(this,.25,32,(!1),s),g=m.length,v=-l.getDashOffset(),y=0;for(v%=g;v>0;)v-=o(y--)+o(y--);for(;v<g;)f=v+o(y++),(v>0||f>0)&&m.drawPart(t,Math.max(v,0),Math.max(f,0)),v=f+o(y++)}t.stroke()}},_drawSelected:function(i,n){i.beginPath(),e(i,this,n),i.stroke(),t(i,this._segments,n,r.settings.handleSize)}}},new function(){function t(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new k(v.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new k(v.read(arguments))])},cubicCurveTo:function(){var e=v.read(arguments),i=v.read(arguments),n=v.read(arguments),s=t(this);s.setHandleOut(e.subtract(s._point)),this._add([new k(n,i.subtract(n))])},quadraticCurveTo:function(){var e=v.read(arguments),i=v.read(arguments),n=t(this)._point;this.cubicCurveTo(e.add(n.subtract(e).multiply(1/3)),e.add(i.subtract(e).multiply(1/3)),i)},curveTo:function(){var e=v.read(arguments),i=v.read(arguments),n=c.pick(c.read(arguments),.5),s=1-n,o=t(this)._point,a=e.subtract(o.multiply(s*s)).subtract(i.multiply(n*n)).divide(2*n*s);if(a.isNaN())throw new Error("Cannot put a curve through points with parameter = "+n);this.quadraticCurveTo(a,i)},arcTo:function(){var e,i,n,s,o,a=Math.abs,r=Math.sqrt,h=t(this),l=h._point,u=v.read(arguments),p=c.peek(arguments),d=c.pick(p,!0);if("boolean"==typeof d)var f=l.add(u).divide(2),e=f.add(f.subtract(l).rotate(d?-90:90));else if(c.remain(arguments)<=2)e=u,u=v.read(arguments);else{var g=_.read(arguments),y=m.isZero;if(y(g.width)||y(g.height))return this.lineTo(u);var w=c.read(arguments),d=!!c.read(arguments),b=!!c.read(arguments),f=l.add(u).divide(2),x=l.subtract(f).rotate(-w),S=x.x,M=x.y,A=a(g.width),O=a(g.height),$=A*A,I=O*O,B=S*S,E=M*M,P=r(B/$+E/I);if(P>1&&(A*=P,O*=P,$=A*A,I=O*O),P=($*I-$*E-I*B)/($*E+I*B),a(P)<1e-12&&(P=0),P<0)throw new Error("Cannot create an arc with the given arguments");i=new v(A*M/O,-O*S/A).multiply((b===d?-1:1)*r(P)).rotate(w).add(f),o=(new T).translate(i).rotate(w).scale(A,O),s=o._inverseTransform(l),n=s.getDirectedAngle(o._inverseTransform(u)),!d&&n>0?n-=360:d&&n<0&&(n+=360)}if(e){var V=new C(l.add(e).divide(2),e.subtract(l).rotate(90),(!0)),D=new C(e.add(u).divide(2),u.subtract(e).rotate(90),(!0)),L=new C(l,u),N=L.getSide(e);if(i=V.intersect(D,!0),!i){if(!N)return this.lineTo(u);throw new Error("Cannot create an arc with the given arguments")}s=l.subtract(i),n=s.getDirectedAngle(u.subtract(i));var z=L.getSide(i);0===z?n=N*a(n):N===z&&(n+=n<0?360:-360)}for(var R=1e-12,H=a(n),F=H>=360?4:Math.ceil((H-R)/90),j=n/F,U=j*Math.PI/360,Y=4/3*Math.sin(U)/(1+Math.cos(U)),W=[],q=0;q<=F;q++){var x=u,X=null;if(q<F&&(X=s.rotate(90).multiply(Y),o?(x=o._transformPoint(s),X=o._transformPoint(s.add(X)).subtract(x)):x=i.add(s)),q){var G=s.rotate(-90).multiply(Y);o&&(G=o._transformPoint(s.add(G)).subtract(x)),W.push(new k(x,G,X))}else h.setHandleOut(X);s=s.rotate(j)}this._add(W)},lineBy:function(){var e=v.read(arguments),i=t(this)._point;this.lineTo(i.add(e))},curveBy:function(){var e=v.read(arguments),i=v.read(arguments),n=c.read(arguments),s=t(this)._point;this.curveTo(s.add(e),s.add(i),n)},cubicCurveBy:function(){var e=v.read(arguments),i=v.read(arguments),n=v.read(arguments),s=t(this)._point;this.cubicCurveTo(s.add(e),s.add(i),s.add(n))},quadraticCurveBy:function(){var e=v.read(arguments),i=v.read(arguments),n=t(this)._point;this.quadraticCurveTo(n.add(e),n.add(i))},arcBy:function(){var e=t(this)._point,i=e.add(v.read(arguments)),n=c.pick(c.peek(arguments),!0);"boolean"==typeof n?this.arcTo(i,n):this.arcTo(i,e.add(v.read(arguments)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var i=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return z[i](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,i,n,s,o){function a(t){t._transformCoordinates(n,h);for(var e=0;e<2;e++)D._addBounds(l[e],l[e+4],h[e+2],h[e],e,o?o[e]:0,c,u,p);var i=l;l=h,h=i}var r=t[0];if(!r)return new b;for(var h=new Array(6),l=r._transformCoordinates(n,new Array(6)),c=l.slice(0,2),u=c.slice(),p=new Array(2),d=1,f=t.length;d<f;d++)a(t[d]);return e&&a(r),new b(c[0],c[1],u[0]-c[0],u[1]-c[1])},getStrokeBounds:function(t,e,i,n,s){function o(t){f=f.include(t)}function a(t){f=f.unite(w.setCenter(t._point.transform(n)))}function r(t,e){"round"===e||t.isSmooth()?a(t):z._addBevelJoin(t,e,m,y,n,p,o)}function h(t,e){"round"===e?a(t):z._addSquareCap(t,e,m,n,p,o)}var l=i.getStyle(),c=l.hasStroke(),u=l.getStrokeWidth(),p=c&&i._getStrokeMatrix(n,s),d=c&&z._getStrokePadding(u,p),f=z.getBounds(t,e,i,n,s,d);if(!c)return f;for(var m=u/2,g=l.getStrokeJoin(),v=l.getStrokeCap(),y=l.getMiterLimit(),w=new b(new _(d)),x=t.length-(e?0:1),T=1;T<x;T++)r(t[T],g);return e?r(t[0],g):x>0&&(h(t[0],v),h(t[t.length-1],v)),f},_getStrokePadding:function(t,e){if(!e)return[t,t];var i=new v(t,0).transform(e),n=new v(0,t).transform(e),s=i.getAngleInRadians(),o=i.getLength(),a=n.getLength(),r=Math.sin(s),h=Math.cos(s),l=Math.tan(s),c=Math.atan2(a*l,o),u=Math.atan2(a,l*o);return[Math.abs(o*Math.cos(c)*h+a*Math.sin(c)*r),Math.abs(a*Math.sin(u)*h+o*Math.cos(u)*r)]},_addBevelJoin:function(t,e,i,n,s,o,a,r){var h=t.getCurve(),l=h.getPrevious(),c=h.getPoint1().transform(s),u=l.getNormalAtTime(1).multiply(i).transform(o),p=h.getNormalAtTime(0).multiply(i).transform(o);if(u.getDirectedAngle(p)<0&&(u=u.negate(),p=p.negate()),r&&a(c),a(c.add(u)),"miter"===e){var d=new C(c.add(u),new v((-u.y),u.x),(!0)).intersect(new C(c.add(p),new v((-p.y),p.x),(!0)),!0);d&&c.getDistance(d)<=n*i&&a(d)}a(c.add(p))},_addSquareCap:function(t,e,i,n,s,o,a){var r=t._point.transform(n),h=t.getLocation(),l=h.getNormal().multiply(i).transform(s);"square"===e&&(a&&(o(r.subtract(l)),o(r.add(l))),r=r.add(l.rotate(0===h.getTime()?-90:90))),o(r.add(l)),o(r.subtract(l))},getHandleBounds:function(t,e,i,n,s){var o,a,r=i.getStyle(),h=s.stroke&&r.hasStroke();if(h){var l=i._getStrokeMatrix(n,s),c=r.getStrokeWidth()/2,u=c;"miter"===r.getStrokeJoin()&&(u=c*r.getMiterLimit()),"square"===r.getStrokeCap()&&(u=Math.max(u,c*Math.SQRT2)),o=z._getStrokePadding(c,l),a=z._getStrokePadding(u,l)}for(var p=new Array(6),d=1/0,f=-d,m=d,g=f,v=0,y=t.length;v<y;v++){var _=t[v];_._transformCoordinates(n,p);for(var w=0;w<6;w+=2){var x=w?o:a,T=x?x[0]:0,C=x?x[1]:0,S=p[w],M=p[w+1],A=S-T,O=S+T,$=M-C,I=M+C;A<d&&(d=A),O>f&&(f=O),$<m&&(m=$),I>g&&(g=I)}}return new b(d,m,f-d,g-m)}}});z.inject({statics:new function(){function t(t,e,i){var n=c.getNamed(i),s=new z(n&&n.insert===!1&&M.NO_INSERT);return s._add(t),s._closed=e,s.set(n)}function e(e,i,s){for(var o=new Array(4),a=0;a<4;a++){var r=n[a];o[a]=new k(r._point.multiply(i).add(e),r._handleIn.multiply(i),r._handleOut.multiply(i))}return t(o,!0,s)}var i=.5522847498307936,n=[new k([-1,0],[0,i],[0,-i]),new k([0,-1],[-i,0],[i,0]),new k([1,0],[0,-i],[0,i]),new k([0,1],[i,0],[-i,0])];return{Line:function(){return t([new k(v.readNamed(arguments,"from")),new k(v.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var t=v.readNamed(arguments,"center"),i=c.readNamed(arguments,"radius");return e(t,new _(i),arguments)},Rectangle:function(){var e,n=b.readNamed(arguments,"rectangle"),s=_.readNamed(arguments,"radius",0,{readNull:!0}),o=n.getBottomLeft(!0),a=n.getTopLeft(!0),r=n.getTopRight(!0),h=n.getBottomRight(!0);if(!s||s.isZero())e=[new k(o),new k(a),new k(r),new k(h)];else{s=_.min(s,n.getSize(!0).divide(2));var l=s.width,c=s.height,u=l*i,p=c*i;e=[new k(o.add(l,0),null,[-u,0]),new k(o.subtract(0,c),[0,p]),new k(a.add(0,c),null,[0,-p]),new k(a.add(l,0),[-u,0],null),new k(r.subtract(l,0),null,[u,0]),new k(r.add(0,c),[0,-p],null),new k(h.subtract(0,c),null,[0,p]),new k(h.subtract(l,0),[u,0])]}return t(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=$._readEllipse(arguments);return e(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=v.readNamed(arguments,"from"),e=v.readNamed(arguments,"through"),i=v.readNamed(arguments,"to"),n=c.getNamed(arguments),s=new z(n&&n.insert===!1&&M.NO_INSERT);return s.moveTo(t),s.arcTo(e,i),s.set(n)},RegularPolygon:function(){for(var e=v.readNamed(arguments,"center"),i=c.readNamed(arguments,"sides"),n=c.readNamed(arguments,"radius"),s=360/i,o=i%3===0,a=new v(0,o?-n:n),r=o?-1:.5,h=new Array(i),l=0;l<i;l++)h[l]=new k(e.add(a.rotate((l+r)*s)));return t(h,!0,arguments)},Star:function(){for(var e=v.readNamed(arguments,"center"),i=2*c.readNamed(arguments,"points"),n=c.readNamed(arguments,"radius1"),s=c.readNamed(arguments,"radius2"),o=360/i,a=new v(0,(-1)),r=new Array(i),h=0;h<i;h++)r[h]=new k(e.add(a.rotate(o*h).multiply(h%2?s:n)));return t(r,!0,arguments)}}}});var R=N.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function St(t,e){var i=e,n=i[0];n&&"number"==typeof n[0]&&(i=[i]);for(var s=e.length-1;s>=0;s--){var o=i[s];i!==e||o instanceof z||(i=c.slice(i)),Array.isArray(o)?i[s]=new z({segments:o,insert:!1}):o instanceof R&&(i.splice.apply(i,[s,1].concat(o.removeChildren())),o.remove())}return St.base.call(this,t,i)},reduce:function Mt(t){for(var e=this._children,i=e.length-1;i>=0;i--){var n=e[i].reduce(t);n.isEmpty()&&n.remove()}if(!e.length){var n=new z(M.NO_INSERT);return n.copyAttributes(this),n.insertAbove(this),this.remove(),n}return Mt.base.call(this)},isClosed:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],i=0,n=t.length;i<n;i++)e.push.apply(e,t[i].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getArea();return e},getLength:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();return e},getPathData:function(t,e){for(var i=this._children,n=[],s=0,o=i.length;s<o;s++){var a=i[s],r=a._matrix;n.push(a.getPathData(t&&!r.isIdentity()?t.appended(r):t,e))}return n.join("")},_hitTestChildren:function At(t,e,i){return At.base.call(this,t,e["class"]===z||"path"===e.type?e:c.set({},e,{fill:!1}),i)},_draw:function(t,e,i,n){var s=this._children;if(s.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var o=0,a=s.length;o<a;o++)s[o].draw(t,e,n);if(!e.clip){this._setStyles(t,e,i);var r=this._style;r.hasFill()&&(t.fill(r.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),r.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,i){for(var n=this._children,s=0,o=n.length;s<o;s++){var a=n[s],r=a._matrix;i[a._id]||a._drawSelected(t,r.isIdentity()?e:e.appended(r))}}},new function(){function t(t,e){var i=t._children;if(e&&!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return c.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var i=t(this,!0);i[e].apply(i,arguments)}},{moveTo:function(){var e=t(this),i=e&&e.isEmpty()?e:new z(M.NO_INSERT);i!==e&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var e=t(this,!0),i=e&&e.getLastSegment(),n=v.read(arguments);this.moveTo(i?n.add(i._point):n)},closePath:function(e){t(this,!0).closePath(e)}})},c.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var i,n=this._children,s=0,o=n.length;s<o;s++)i=n[s][t](e)||i;return i}},{}));N.inject(new function(){function t(t,e){var i=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return e?i.resolveCrossings().reorient("nonzero"===i.getFillRule(),!0):i}function e(t,e,i,n,s,o){var a=new t(M.NO_INSERT);return a.addChildren(e,!0),i&&(a=a.reduce({simplify:!0})),o&&o.insert===!1||a.insertAbove(s&&n.isSibling(s)&&n.getIndex()<s.getIndex()?s:n),a.copyAttributes(n,!0),a}function i(i,s,o,a){function l(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];w.push.apply(w,n._segments),b.push.apply(b,n.getCurves()),n._overlapsOnly=!0}}if(a&&a.stroke&&/^(subtract|intersect)$/.test(o))return n(i,s,"subtract"===o);var c=t(i,!0),d=s&&i!==s&&t(s,!0),f=v[o];f[o]=!0,d&&(f.subtract||f.exclude)^(d.isClockwise()^c.isClockwise())&&d.reverse();var m,g=h(L.expand(c.getCrossings(d))),y=c._children||[c],_=d&&(d._children||[d]),w=[],b=[];if(g.length){l(y),_&&l(_);for(var x=0,T=g.length;x<T;x++)u(g[x]._segment,c,d,b,f);for(var x=0,T=w.length;x<T;x++){var C=w[x],S=C._intersection;C._winding||u(C,c,d,b,f),S&&S._overlap||(C._path._overlapsOnly=!1)}m=p(w,f)}else m=r(_?y.concat(_):y.slice(),function(t){return!!f[t]});return e(R,m,!0,i,s,a)}function n(i,n,s){function o(t){if(r.contains(t.getPointAt(t.getLength()/2))^s)return l.unshift(t),!0}for(var a=t(i),r=t(n),h=a.getCrossings(r),l=[],c=h.length-1;c>=0;c--){var u=h[c].split();u&&(o(u)&&u.getFirstSegment().setHandleIn(0,0),a.getLastSegment().setHandleOut(0,0))}return o(a),e(A,l,!1,i,n)}function s(t,e){for(var i=t;i;){if(i===e)return;i=i._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;t._next=e,e._previous=t}}function o(t){for(var e=t.length-1;e>=0;e--)t[e].clearHandles()}function r(t,e,i){var n=t&&t.length;if(n){var s=c.each(t,function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}},{}),o=t.slice().sort(function(t,e){return g(e.getArea())-g(t.getArea())}),a=o[0];null==i&&(i=a.isClockwise());for(var r=0;r<n;r++){for(var h=o[r],l=s[h._id],u=h.getInteriorPoint(),p=0,d=r-1;d>=0;d--){var f=o[d];if(f.contains(u)){var m=s[f._id];p=m.winding,l.winding+=p,l.container=m.exclude?m.container:f;break}}if(e(l.winding)===e(p))l.exclude=!0,t[l.index]=null;else{var v=l.container;h.setClockwise(v?!v.isClockwise():i)}}}return t}function h(t,e,i){function n(t){return t._path._id+"."+t._segment1._index}for(var a,r,h,l=e&&[],c=1e-8,u=1-c,p=!1,d=i||[],f=i&&{},m=(i&&i.length)-1;m>=0;m--){var g=i[m];g._path&&(f[n(g)]=!0)}for(var m=t.length-1;m>=0;m--){var v,y=t[m],_=y._time,w=_,b=e&&!e(y),g=y._curve;if(g&&(g!==r?(p=!g.hasHandles()||f&&f[n(g)],a=[],h=null,r=g):h>=c&&(_/=h)),b)a&&a.push(y);else{if(e&&l.unshift(y),h=w,_<c)v=g._segment1;else if(_>u)v=g._segment2;else{var x=g.divideAtTime(_,!0);p&&d.push(g,x),v=x._segment1;for(var T=a.length-1;T>=0;T--){var C=a[T];C._time=(C._time-_)/(1-_)}}y._setSegment(v);var S=v._intersection,M=y._intersection;if(S){s(S,M);for(var A=S;A;)s(A._intersection,S),A=A._next}else v._intersection=M}}return i||o(d),l||t}function l(t,e,i,n,s){function o(o){var a=o[u+0],h=o[u+6];if(!(v<d(a,h)||v>f(a,h))){var p=o[c+0],g=o[c+2],y=o[c+4],A=o[c+6];if(a===h)return void((p<b&&A>w||A<b&&p>w)&&(C=!0));var O=v===a?0:v===h?1:w>f(p,g,y,A)||b<d(p,g,y,A)?1:1===D.solveCubic(o,u,v,M,0,1)?M[0]:.5,$=0===O?p:1===O?A:D.getPoint(o,O)[i?"y":"x"],I=a>h?1:-1,B=r[u]>r[u+6]?1:-1,E=r[c+6];return v!==a?($<w?x+=I:$>b?T+=I:C=!0,$>m-_&&$<m+_&&(S/=2)):(I!==B?p<w?x+=I:p>b&&(T+=I):p!=E&&(E<b&&$>b?(T+=I,C=!0):E>w&&$<w&&(x+=I,C=!0)),S=0),r=o,!s&&$>w&&$<b&&0===D.getTangent(o,O)[i?"x":"y"]&&l(t,e,i?0:1,n,!0)}}function a(t){var e=t[u+0],n=t[u+2],s=t[u+4],a=t[u+6];if(v<=f(e,n,s,a)&&v>=d(e,n,s,a))for(var r,h=t[c+0],l=t[c+2],p=t[c+4],m=t[c+6],g=w>f(h,l,p,m)||b<d(h,l,p,m)?[t]:D.getMonoCurves(t,i),y=0,_=g.length;y<_;y++)if(r=o(g[y]))return r}for(var r,h,c=i?1:0,u=1^c,p=[t.x,t.y],m=p[c],v=p[u],y=1e-9,_=1e-6,w=m-y,b=m+y,x=0,T=0,C=!1,S=1,M=[],A=0,O=e.length;A<O;A++){var $,I=e[A],B=I._path,E=I.getValues();if(!(A&&e[A-1]._path===B||(r=null,B._closed||(h=D.getValues(B.getLastCurve().getSegment2(),I.getSegment1(),null,!n),h[u]!==h[u+6]&&(r=h)),r))){r=E;for(var P=B.getLastCurve();P&&P!==I;){var k=P.getValues();if(k[u]!==k[u+6]){r=k;break}P=P.getPrevious()}}if($=a(E))return $;if(A+1===O||e[A+1]._path!==B){if(h&&($=a(h)))return $;h=null}}return x=g(x),T=g(T),{winding:f(x,T),windingL:x,windingR:T,quality:S,onPath:C}}function u(t,e,i,n,s){var o,a=[],r=t,h=0;do{var c=t.getCurve(),u=c.getLength();a.push({segment:t,curve:c,length:u}),h+=u,t=t.getNext()}while(t&&!t._intersection&&t!==r);for(var p=[.5,.25,.75],d={winding:0,quality:0},o=d,f=1e-8,v=1-f,y=0;y<p.length&&o.quality<.5;y++)for(var u=h*p[y],_=0,w=a.length;_<w;_++){var b=a[_],x=b.length;if(u<=x){var c=b.curve,T=c._path,C=T._parent,S=m.clamp(c.getTimeAt(u),f,v),M=c.getPointAtTime(S),A=g(c.getTangentAtTime(S).normalize().y)<Math.SQRT1_2?1:0;C instanceof R&&(T=C);var O=s.subtract&&i&&(T===e&&i._getWinding(M,A,!0).winding||T===i&&!e._getWinding(M,A,!0).winding)?d:l(M,n,A,!0);O.quality>o.quality&&(o=O);break}u-=x}for(var _=a.length-1;_>=0;_--)a[_].segment._winding=o}function p(t,e){function i(t){var i;return!(!t||t._visited||e&&(!e[(i=t._winding||{}).winding]||e.unite&&2===i.winding&&i.windingL&&i.windingR))}function n(t){if(t)for(var e=0,i=a.length;e<i;e++)if(t===a[e])return!0;return!1}function s(t){for(var e=t._segments,i=0,n=e.length;i<n;i++)e[i]._visited=!0}function o(t,e){function s(s,o){for(;s&&s!==o;){var r=s._segment,l=r._path,c=r.getNext()||l&&l.getFirstSegment(),u=c&&c._intersection;r!==t&&(n(r)||n(c)||c&&i(r)&&(i(c)||u&&i(u._segment)))&&h.push(r),e&&a.push(r),s=s._next}}var o=t._intersection,r=o,h=[];if(e&&(a=[t]),o){for(s(o);o&&o._prev;)o=o._prev;s(o,r)}return h}var a,r=[];t.sort(function(t,e){var i=t._intersection,n=e._intersection,s=!(!i||!i._overlap),o=!(!n||!n._overlap),a=t._path,r=e._path;return s^o?s?1:-1:!i^!n?i?1:-1:a!==r?a._id-r._id:t._index-e._index});for(var h=0,l=t.length;h<l;h++){var c,u,p,d=t[h],f=i(d),m=null,g=!1,v=!0,y=[];if(f&&d._path._overlapsOnly){var _=d._path,w=d._intersection._segment._path;_.compare(w)&&(_.getArea()&&r.push(_.clone(!1)),s(_),s(w),f=!1)}for(;f;){var b=!m,x=o(d,b),T=x.shift(),g=!b&&(n(d)||n(T)),C=!g&&T;if(b&&(m=new z(M.NO_INSERT),c=null),g){(d.isFirst()||d.isLast())&&(v=d._path._closed),d._visited=!0;break}if(C&&c&&(y.push(c),c=null),c||(C&&x.push(d),c={start:m._segments.length,crossings:x,visited:u=[],handleIn:p}),C&&(d=T),!i(d)){m.removeSegments(c.start);for(var S=0,A=u.length;S<A;S++)u[S]._visited=!1;u.length=0;do d=c&&c.crossings.shift(),d||(c=y.pop(),c&&(u=c.visited,p=c.handleIn));while(c&&!i(d));if(!d)break}var O=d.getNext();m.add(new k(d._point,p,O&&d._handleOut)),d._visited=!0,u.push(d),d=O||d._path.getFirstSegment(),p=O&&O._handleIn}g&&(v&&(m.firstSegment.setHandleIn(p),m.setClosed(v)),0!==m.getArea()&&r.push(m))}return r}var d=Math.min,f=Math.max,g=Math.abs,v={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};return{_getWinding:function(t,e,i){return l(t,this.getCurves(),e,i)},unite:function(t,e){return i(this,t,"unite",e)},intersect:function(t,e){return i(this,t,"intersect",e)},subtract:function(t){return i(this,t,"subtract")},exclude:function(t,e){return i(this,t,"exclude",e)},divide:function(t,i){return e(A,[this.subtract(t,i),this.intersect(t,i)],!0,this,t,i)},resolveCrossings:function(){function t(t){var e=t&&t._intersection;return e&&e._overlap}var e=this._children,i=e||[this],n=!1,s=!1,a=this.getIntersections(null,function(t){return t.hasOverlap()&&(n=!0)||t.isCrossing()&&(s=!0)}),r=n&&s&&[];if(a=L.expand(a),n)for(var l=h(a,function(t){return t.hasOverlap()},r),u=l.length-1;u>=0;u--){var d=l[u]._segment,f=d.getPrevious(),m=d.getNext();t(f)&&t(m)&&(d.remove(),f._handleOut._set(0,0),m._handleIn._set(0,0),f===d||f.getCurve().hasLength()||(m._handleIn.set(f._handleIn),f.remove()))}s&&(h(a,n&&function(t){var e=t.getCurve(),i=t.getSegment(),n=t._intersection,s=n._curve,o=n._segment;return!!(e&&s&&e._path&&s._path)||(i&&(i._intersection=null),void(o&&(o._intersection=null)))},r),r&&o(r),i=p(c.each(i,function(t){this.push.apply(this,t._segments)},[])));var g,v=i.length;return v>1&&e?(i!==e&&this.setChildren(i),g=this):1!==v||e||(i[0]!==this&&this.setSegments(i[0].removeSegments()),g=this),g||(g=new R(M.NO_INSERT),g.addChildren(i),g=g.reduce(),g.copyAttributes(this),this.replaceWith(g)),g},reorient:function(t,e){var i=this._children;return i&&i.length?this.setChildren(r(this.removeChildren(),function(e){return!!(t?e:1&e)},e)):e!==a&&this.setClockwise(e),this},getInteriorPoint:function(){var t=this.getBounds(),e=t.getCenter(!0);if(!this.contains(e)){for(var i=this.getCurves(),n=e.y,s=[],o=[],a=0,r=i.length;a<r;a++){var h=i[a].getValues(),l=h[1],c=h[3],u=h[5],p=h[7];if(n>=d(l,c,u,p)&&n<=f(l,c,u,p))for(var m=D.getMonoCurves(h),g=0,v=m.length;g<v;g++){var y=m[g],_=y[1],w=y[7];if(_!==w&&(n>=_&&n<=w||n>=w&&n<=_)){var b=n===_?y[0]:n===w?y[6]:1===D.solveCubic(y,1,n,o,0,1)?D.getPoint(y,o[0]).x:(y[0]+y[6])/2;s.push(b)}}}s.length>1&&(s.sort(function(t,e){return t-e}),e.x=(s[0]+s[1])/2)}return e}}});var H=c.extend({_class:"PathFlattener",initialize:function(t,e,i,n,s){function o(t,e){var i=D.getValues(t,e,s);h.push(i),a(i,t._index,0,1)}function a(t,i,s,o){if(!(o-s>u)||n&&D.isStraight(t)||D.isFlatEnough(t,e||.25)){var r=t[6]-t[0],h=t[7]-t[1],p=Math.sqrt(r*r+h*h);p>0&&(c+=p,l.push({offset:c,curve:t,index:i,time:o}))}else{var d=D.subdivide(t,.5),f=(s+o)/2;a(d[0],i,s,f),a(d[1],i,f,o)}}for(var r,h=[],l=[],c=0,u=1/(i||32),p=t._segments,d=p[0],f=1,m=p.length;f<m;f++)r=p[f],o(d,r),d=r;t._closed&&o(r,p[0]),this.curves=h,this.parts=l,this.length=c,this.index=0},_get:function(t){for(var e,i=this.parts,n=i.length,s=this.index;e=s,s&&!(i[--s].offset<t););for(;e<n;e++){var o=i[e];if(o.offset>=t){this.index=e;var a=i[e-1],r=a&&a.index===o.index?a.time:0,h=a?a.offset:0;return{index:o.index,time:r+(o.time-r)*(t-h)/(o.offset-h)}}}return{index:i[n-1].index,time:1}},drawPart:function(t,e,i){for(var n=this._get(e),s=this._get(i),o=n.index,a=s.index;o<=a;o++){var r=D.getPart(this.curves[o],o===n.index?n.time:0,o===s.index?s.time:1);o===n.index&&t.moveTo(r[0],r[1]),t.bezierCurveTo.apply(t,r.slice(2))}}},c.each(D._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this._get(e);return D[t](this.curves[i.index],i.time)}},{})),F=c.extend({initialize:function(t){for(var e,i=this.points=[],n=t._segments,s=t._closed,o=0,a=n.length;o<a;o++){var r=n[o].point;e&&e.equals(r)||i.push(e=r.clone())}s&&(i.unshift(i[i.length-1]),i.push(i[1])),this.closed=s},fit:function(t){var e=this.points,i=e.length,n=null;return i>0&&(n=[new k(e[0])],i>1&&(this.fitCubic(n,t,0,i-1,e[1].subtract(e[0]),e[i-2].subtract(e[i-1])),this.closed&&(n.shift(),n.pop()))),n},fitCubic:function(t,e,i,n,s,o){var a=this.points;if(n-i===1){var r=a[i],h=a[n],l=r.getDistance(h)/3;return void this.addCurve(t,[r,r.add(s.normalize(l)),h.add(o.normalize(l)),h])}for(var c,u=this.chordLengthParameterize(i,n),p=Math.max(e,e*e),d=!0,f=0;f<=4;f++){var m=this.generateBezier(i,n,u,s,o),g=this.findMaxError(i,n,m,u);if(g.error<e&&d)return void this.addCurve(t,m);if(c=g.index,g.error>=p)break;d=this.reparameterize(i,n,u,m),p=g.error}var v=a[c-1].subtract(a[c+1]);this.fitCubic(t,e,i,c,s,v),this.fitCubic(t,e,c,n,v.negate(),o)},addCurve:function(t,e){var i=t[t.length-1];i.setHandleOut(e[1].subtract(e[0])),t.push(new k(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,i,n,s){for(var o=1e-12,a=Math.abs,r=this.points,h=r[t],l=r[e],c=[[0,0],[0,0]],u=[0,0],p=0,d=e-t+1;p<d;p++){var f=i[p],m=1-f,g=3*f*m,v=m*m*m,y=g*m,_=g*f,w=f*f*f,b=n.normalize(y),x=s.normalize(_),T=r[t+p].subtract(h.multiply(v+y)).subtract(l.multiply(_+w));c[0][0]+=b.dot(b),c[0][1]+=b.dot(x),c[1][0]=c[0][1],c[1][1]+=x.dot(x),u[0]+=b.dot(T),u[1]+=x.dot(T)}var C,S,M=c[0][0]*c[1][1]-c[1][0]*c[0][1];if(a(M)>o){var A=c[0][0]*u[1]-c[1][0]*u[0],O=u[0]*c[1][1]-u[1]*c[0][1];C=O/M,S=A/M}else{var $=c[0][0]+c[0][1],I=c[1][0]+c[1][1];C=S=a($)>o?u[0]/$:a(I)>o?u[1]/I:0}var B,E,P=l.getDistance(h),k=o*P;if(C<k||S<k)C=S=P/3;else{var V=l.subtract(h);B=n.normalize(C),E=s.normalize(S),B.dot(V)-E.dot(V)>P*P&&(C=S=P/3,B=E=null)}return[h,h.add(B||n.normalize(C)),l.add(E||s.normalize(S)),l]},reparameterize:function(t,e,i,n){for(var s=t;s<=e;s++)i[s-t]=this.findRoot(n,this.points[s],i[s-t]);for(var s=1,o=i.length;s<o;s++)if(i[s]<=i[s-1])return!1;return!0},findRoot:function(t,e,i){for(var n=[],s=[],o=0;o<=2;o++)n[o]=t[o+1].subtract(t[o]).multiply(3);for(var o=0;o<=1;o++)s[o]=n[o+1].subtract(n[o]).multiply(2);var a=this.evaluate(3,t,i),r=this.evaluate(2,n,i),h=this.evaluate(1,s,i),l=a.subtract(e),c=r.dot(r)+l.dot(h);return m.isZero(c)?i:i-l.dot(r)/c},evaluate:function(t,e,i){for(var n=e.slice(),s=1;s<=t;s++)for(var o=0;o<=t-s;o++)n[o]=n[o].multiply(1-i).add(n[o+1].multiply(i));return n[0]},chordLengthParameterize:function(t,e){for(var i=[0],n=t+1;n<=e;n++)i[n-t]=i[n-t-1]+this.points[n].getDistance(this.points[n-1]);for(var n=1,s=e-t;n<=s;n++)i[n]/=i[s];return i},findMaxError:function(t,e,i,n){for(var s=Math.floor((e-t+1)/2),o=0,a=t+1;a<e;a++){var r=this.evaluate(3,i,n[a-t]),h=r.subtract(this.points[a]),l=h.x*h.x+h.y*h.y;l>=o&&(o=l,s=a)}return{error:o,index:s}}}),j=M.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&c.isPlainObject(t)&&t.x===a&&t.y===a;this._initialize(e&&t,!e&&v.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",
setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),U=j.extend({_class:"PointText",initialize:function(){j.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new y(t.x,t.y,this,"setPoint")},setPoint:function(){var t=v.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,i){if(this._content){this._setStyles(t,e,i);var n=this._lines,s=this._style,o=s.hasFill(),a=s.hasStroke(),r=s.getLeading(),h=t.shadowColor;t.font=s.getFontStyle(),t.textAlign=s.getJustification();for(var l=0,c=n.length;l<c;l++){t.shadowColor=h;var u=n[l];o&&(t.fillText(u,0,0),t.shadowColor="rgba(0,0,0,0)"),a&&t.strokeText(u,0,0),t.translate(0,r)}}},_getBounds:function(t,e){var i=this._style,n=this._lines,s=n.length,o=i.getJustification(),a=i.getLeading(),r=this.getView().getTextWidth(i.getFontStyle(),n),h=0;"left"!==o&&(h-=r/("center"===o?2:1));var l=new b(h,s?-.75*a:0,r,s*a);return t?t._transformBounds(l,l):l}}),Y=c.extend(new function(){function t(t){var i,n=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(n){i=[0,0,0];for(var o=0;o<3;o++){var a=n[o+1];i[o]=parseInt(1==a.length?a+a:a,16)/255}}else if(n=t.match(/^rgba?\((.*)\)$/)){i=n[1].split(",");for(var o=0,r=i.length;o<r;o++){var a=+i[o];i[o]=o<3?a/255:a}}else if(h){var l=s[t];if(!l){e||(e=at.getContext(1,1),e.globalCompositeOperation="copy"),e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var c=e.getImageData(0,0,1,1).data;l=s[t]=[c[0]/255,c[1]/255,c[2]/255]}i=l.slice()}else i=[0,0,0];return i}var e,i={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},n={},s={},o=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],a={"rgb-hsb":function(t,e,i){var n=Math.max(t,e,i),s=Math.min(t,e,i),o=n-s,a=0===o?0:60*(n==t?(e-i)/o+(e<i?6:0):n==e?(i-t)/o+2:(t-e)/o+4);return[a,0===n?0:o/n,n]},"hsb-rgb":function(t,e,i){t=(t/60%6+6)%6;var n=Math.floor(t),s=t-n,n=o[n],a=[i,i*(1-e),i*(1-e*s),i*(1-e*(1-s))];return[a[n[0]],a[n[1]],a[n[2]]]},"rgb-hsl":function(t,e,i){var n=Math.max(t,e,i),s=Math.min(t,e,i),o=n-s,a=0===o,r=a?0:60*(n==t?(e-i)/o+(e<i?6:0):n==e?(i-t)/o+2:(t-e)/o+4),h=(n+s)/2,l=a?0:h<.5?o/(n+s):o/(2-n-s);return[r,l,h]},"hsl-rgb":function(t,e,i){if(t=(t/360%1+1)%1,0===e)return[i,i,i];for(var n=[t+1/3,t,t-1/3],s=i<.5?i*(1+e):i+e-i*e,o=2*i-s,a=[],r=0;r<3;r++){var h=n[r];h<0&&(h+=1),h>1&&(h-=1),a[r]=6*h<1?o+6*(s-o)*h:2*h<1?s:3*h<2?o+(s-o)*(2/3-h)*6:o}return a},"rgb-gray":function(t,e,i){return[.2989*t+.587*e+.114*i]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return c.each(i,function(t,e){n[e]=[],c.each(t,function(t,s){var o=c.capitalize(t),a=/^(hue|saturation)$/.test(t),r=n[e][s]="gradient"===t?function(t){var e=this._components[0];return t=W.read(Array.isArray(t)?t:arguments,0,{readNull:!0}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===e?function(){return v.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t};this["get"+o]=function(){return this._type===e||a&&/^hs[bl]$/.test(this._type)?this._components[s]:this._convert(e)[s]},this["set"+o]=function(t){this._type===e||a&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(e),this._properties=i[e],this._type=e),this._components[s]=r.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function r(e){var s,o,a,h,l=arguments,u=this.__read,p=0;Array.isArray(e)&&(l=e,e=l[0]);var d=null!=e&&typeof e;if("string"===d&&e in i&&(s=e,e=l[1],Array.isArray(e)?(o=e,a=l[2]):(u&&(p=1),l=c.slice(l,1),d=typeof e)),!o){if(h="number"===d?l:"object"===d&&null!=e.length?e:null){s||(s=h.length>=3?"rgb":"gray");var f=i[s].length;a=h[f],u&&(p+=h===arguments?f+(null!=a?1:0):1),h.length>f&&(h=c.slice(h,0,f))}else if("string"===d)s="rgb",o=t(e),4===o.length&&(a=o[3],o.length--);else if("object"===d)if(e.constructor===r){if(s=e._type,o=e._components.slice(),a=e._alpha,"gradient"===s)for(var m=1,g=o.length;m<g;m++){var v=o[m];v&&(o[m]=v.clone())}}else if(e.constructor===W)s="gradient",h=l;else{s="hue"in e?"lightness"in e?"hsl":"hsb":"gradient"in e||"stops"in e||"radial"in e?"gradient":"gray"in e?"gray":"rgb";var y=i[s],_=n[s];this._components=o=[];for(var m=0,g=y.length;m<g;m++){var w=e[y[m]];null==w&&!m&&"gradient"===s&&"stops"in e&&(w={stops:e.stops,radial:e.radial}),w=_[m].call(this,w),null!=w&&(o[m]=w)}a=e.alpha}u&&s&&(p=1)}if(this._type=s||"rgb",!o){this._components=o=[];for(var _=n[this._type],m=0,g=_.length;m<g;m++){var w=_[m].call(this,h&&h[m]);null!=w&&(o[m]=w)}}return this._components=o,this._properties=i[this._type],this._alpha=a,u&&(this.__read=p),this},set:"#initialize",_serialize:function(t,e){var i=this.getComponents();return c.serialize(/^(gray|rgb)$/.test(this._type)?i:[this._type].concat(i),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(t){var e;return this._type===t?this._components.slice():(e=a[this._type+"-"+t])?e.apply(this,this._components):a["rgb-"+t].apply(this,a[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new Y(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=i[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=c.isPlainValue(t,!0)?Y.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&c.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],i="gradient"===this._type,n=f.instance,s=0,o=t.length;s<o;s++){var a=this._components[s];null!=a&&e.push(t[s]+": "+(i?a:n.number(a)))}return null!=this._alpha&&e.push("alpha: "+n.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(t<0?0:t>1?1:t))}var i=this._convert("rgb"),n=t||null==this._alpha?1:this._alpha;return i=[e(i[0]),e(i[1]),e(i[2])],n<1&&i.push(n<0?0:n),t?"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).slice(1):(4==i.length?"rgba(":"rgb(")+i.join(",")+")"},toCanvasStyle:function(t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var e,i=this._components,n=i[0],s=n._stops,o=i[1],a=i[2];if(n._radial){var r=a.getDistance(o),h=i[3];if(h){var l=h.subtract(o);l.getLength()>r&&(h=o.add(l.normalize(r-.1)))}var c=h||o;e=t.createRadialGradient(c.x,c.y,0,o.x,o.y,r)}else e=t.createLinearGradient(o.x,o.y,a.x,a.y);for(var u=0,p=s.length;u<p;u++){var d=s[u],f=d._offset;e.addColorStop(null==f?u/(p-1):f,d._color.toCanvasStyle())}return this._canvasStyle=e},transform:function(t){if("gradient"===this._type){for(var e=this._components,i=1,n=e.length;i<n;i++){var s=e[i];t._transformPoint(s,s,!0)}this._changed()}},statics:{_types:i,random:function(){var t=Math.random;return new Y(t(),t(),t())}}})},new function(){var t={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}};return c.each(t,function(t,e){this[e]=function(e){e=Y.read(arguments);for(var i=this._type,n=this._components,s=e._convert(i),o=0,a=n.length;o<a;o++)s[o]=t(n[o],s[o]);return new Y(i,s,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})}),W=c.extend({_class:"Gradient",initialize:function(t,e){this._id=g.get(),t&&c.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,function(){return c.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=a))},clone:function(){for(var t=[],e=0,i=this._stops.length;e<i;e++)t[e]=this._stops[e].clone();return new W(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var i=0,n=e.length;i<n;i++)e[i]._owner=a;e=this._stops=q.readList(t,0,{clone:!0});for(var i=0,n=e.length;i<n;i++)e[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,i=t._stops,n=e.length;if(n===i.length){for(var s=0;s<n;s++)if(!e[s].equals(i[s]))return!1;return!0}}return!1}}),q=c.extend({_class:"GradientStop",initialize:function(t,e){var i=t,n=e;"object"==typeof t&&e===a&&(Array.isArray(t)&&"number"!=typeof t[0]?(i=t[0],n=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(i=t.color,n=t.offset||t.rampPoint||0)),this.setColor(i),this.setOffset(n)},clone:function(){return new q(this._color.clone(),this._offset)},_serialize:function(t,e){var i=this._color,n=this._offset;return c.serialize(null==n?[i]:[i,n],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(65)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){var t=Y.read(arguments,0,{clone:!0});t&&(t._owner=this),this._color=t,this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),X=c.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new v,selectedColor:null},e=c.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),i=c.set({},e,{fillColor:new Y}),n={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},o={_class:"Style",beans:!0,initialize:function(n,s,o){this._values={},this._owner=s,this._project=s&&s._project||o||r.project,this._defaults=!s||s instanceof A?e:s instanceof j?i:t,n&&this.set(n)}};return c.each(e,function(t,e){var i=/Color$/.test(e),r="shadowOffset"===e,h=c.capitalize(e),l=n[e],u="set"+h,p="get"+h;o[u]=function(t){var n=this._owner,s=n&&n._children;if(s&&s.length>0&&!(n instanceof R))for(var o=0,r=s.length;o<r;o++)s[o]._style[u](t);else if(e in this._defaults){var h=this._values[e];h!==t&&(i&&(h&&h._owner!==a&&(h._owner=a),t&&t.constructor===Y&&(t._owner&&(t=t.clone()),t._owner=n)),this._values[e]=t,n&&n._changed(l||65))}},o[p]=function(t){var n,s=this._owner,o=s&&s._children;if(e in this._defaults&&(!o||!o.length||t||s instanceof R)){var n=this._values[e];if(n===a)n=this._defaults[e],n&&n.clone&&(n=n.clone());else{var h=i?Y:r?v:null;!h||n&&n.constructor===h||(this._values[e]=n=h.read([n],0,{readNull:!0,clone:!0}),n&&i&&(n._owner=s))}}else if(o)for(var l=0,u=o.length;l<u;l++){var d=o[l]._style[p]();if(l){if(!c.equals(n,d))return a}else n=d}return n},s[p]=function(t){return this._style[p](t)},s[u]=function(t){this._style[u](t)}}),c.each({Font:"FontFamily",WindingRule:"FillRule"},function(t,e){var i="get"+e,n="set"+e;o[i]=s[i]="#get"+t,o[n]=s[n]="#set"+t}),M.inject(s),o},{set:function(t){this._values={};var e=t instanceof X,i=e?t._values:t;if(i)for(var n in i)if(n in this._defaults){var s=i[n];this[n]=s&&e&&s.clone?s.clone():s}},equals:function(t){function e(t,e,i){var n=t._values,s=e._values,o=e._defaults;for(var r in n){var h=n[r],l=s[r];if(!(i&&r in s||c.equals(h,l===a?o[r]:l)))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function Ot(){var t=Ot.base.call(this),e=this.getFontSize();return/pt|em|%|px/.test(e)&&(e=this.getView().getPixelSize(e)),null!=t?t:1.2*e}}),G=new function(){function t(t,e,i,n){for(var s=["","webkit","moz","Moz","ms","o"],o=e[0].toUpperCase()+e.substring(1),a=0;a<6;a++){var r=s[a],h=r?r+o:e;if(h in t){if(!i)return t[h];t[h]=n;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,i=e&&e.defaultView;return i&&i.getComputedStyle(t,"")},getBounds:function(t,e){var i,n=t.ownerDocument,s=n.body,o=n.documentElement;try{i=t.getBoundingClientRect()}catch(a){i={left:0,top:0,width:0,height:0}}var r=i.left-(o.clientLeft||s.clientLeft||0),h=i.top-(o.clientTop||s.clientTop||0);if(!e){var l=n.defaultView;r+=l.pageXOffset||o.scrollLeft||s.scrollLeft,h+=l.pageYOffset||o.scrollTop||s.scrollTop}return new b(r,h,i.width,i.height)},getViewportBounds:function(t){var e=t.ownerDocument,i=e.defaultView,n=e.documentElement;return new b(0,0,i.innerWidth||n.clientWidth,i.innerHeight||n.clientHeight)},getOffset:function(t,e){return G.getBounds(t,e).getPoint()},getSize:function(t){return G.getBounds(t,!0).getSize()},isInvisible:function(t){return G.getSize(t).equals(new _(0,0))},isInView:function(t){return!G.isInvisible(t)&&G.getViewportBounds(t).intersects(G.getBounds(t,!0))},isInserted:function(t){return l.body.contains(t)},getPrefixed:function(e,i){return e&&t(e,i)},setPrefixed:function(e,i,n){if("object"==typeof i)for(var s in i)t(e,s,!0,i[s]);else t(e,i,!0,n)}}},Z={add:function(t,e){if(t)for(var i in e)for(var n=e[i],s=i.split(/[\s,]+/g),o=0,a=s.length;o<a;o++)t.addEventListener(s[o],n,!1)},remove:function(t,e){if(t)for(var i in e)for(var n=e[i],s=i.split(/[\s,]+/g),o=0,a=s.length;o<a;o++)t.removeEventListener(s[o],n,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new v(e.pageX||e.clientX+l.documentElement.scrollLeft,e.pageY||e.clientY+l.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return Z.getPoint(t).subtract(G.getOffset(e||Z.getTarget(t)))}};Z.requestAnimationFrame=new function(){function t(){var e=s;s=[];for(var o=0,a=e.length;o<a;o++)e[o]();n=i&&s.length,n&&i(t)}var e,i=G.getPrefixed(h,"requestAnimationFrame"),n=!1,s=[];return function(o){s.push(o),i?n||(i(t),n=!0):e||(e=setInterval(t,1e3/60))}};var K=c.extend(u,{_class:"View",initialize:function $t(t,e){function i(t){return e[t]||parseInt(e.getAttribute(t),10)}function n(){var t=G.getSize(e);return t.isNaN()||t.isZero()?new _(i("width"),i("height")):t}var s;if(h&&e){this._id=e.getAttribute("id"),null==this._id&&e.setAttribute("id",this._id="view-"+$t._id++),Z.add(e,this._viewEvents);var o="none";if(G.setPrefixed(e.style,{userDrag:o,userSelect:o,touchCallout:o,contentZooming:o,tapHighlightColor:"rgba(0,0,0,0)"}),p.hasAttribute(e,"resize")){var a=this;Z.add(h,this._windowEvents={resize:function(){a.setViewSize(n())}})}if(s=n(),p.hasAttribute(e,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var c=this._stats.domElement,u=c.style,d=G.getOffset(e);u.position="absolute",u.left=d.x+"px",u.top=d.y+"px",l.body.appendChild(c)}}else s=new _(e),e=null;this._project=t,this._scope=t._scope,this._element=e,this._pixelRatio||(this._pixelRatio=h&&h.devicePixelRatio||1),this._setElementSize(s.width,s.height),this._viewSize=s,$t._views.push(this),$t._viewsById[this._id]=this,(this._matrix=new T)._owner=this,$t._focused||($t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={"native":{},virtual:{}},this._autoUpdate=!r.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;K._focused===this&&(K._focused=null),K._views.splice(K._views.indexOf(this),1),delete K._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),Z.remove(this._element,this._viewEvents),Z.remove(h,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:c.each(M._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;Z.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;G.getPrefixed(l,"hidden")&&"true"!==p.getAttribute(e,"keepalive")||!G.isInView(e)||t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){r=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new c({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var i=this._frameItems;e?(i[t._id]={item:t,time:0,count:0},1===++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete i[t._id],0===--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var i=this._frameItems[e];i.item.emit("frame",new c(t,{time:i.time+=t.delta,count:i.count++}))}},_changed:function(){this._project._changed(2049),this._bounds=this._decomposed=a},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new w(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=_.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var i=this._element;i&&(i.width!==t&&(i.width=t),i.height!==e&&(i.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new b(new v,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return G.isInView(this._element)},isInserted:function(){return G.isInserted(this._element)},getPixelSize:function(t){var e,i=this._element;if(i){var n=i.parentNode,s=l.createElement("div");s.style.fontSize=t,n.appendChild(s),e=parseFloat(G.getStyles(s).fontSize),n.removeChild(s)}else e=parseFloat(e);return e},getTextWidth:function(t,e){return 0}},c.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var i=(e?c:v).read(arguments),n=v.read(arguments,0,{readNull:!0});return this.transform((new T)[t](i,n||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new T;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=v.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose(),e=t&&t.scaling;return e?(e.x+e.y)/2:0},setZoom:function(t){this.transform((new T).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){var t=this._decompose();return t&&t.rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return e?new y(e.x,e.y,this,"setScaling"):a},setScaling:function(){var t=this.getScaling(),e=v.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(v.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(v.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(v.read(arguments))},getEventPoint:function(t){return this.viewToProject(Z.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){l&&"string"==typeof e&&(e=l.getElementById(e));var i=h?J:K;return new i(t,e)}}},new function(){function t(t){var e=Z.getTarget(t);return e.getAttribute&&K._viewsById[e.getAttribute("id")]}function e(){var t=K._focused;if(!t||!t.isVisible())for(var e=0,i=K._views.length;e<i;e++)if((t=K._views[e]).isVisible()){K._focused=a=t;break}}function i(t,e,i){t._handleMouseEvent("mousemove",e,i)}function n(t,e,i,n,s,o,a){function r(t,i){if(t.responds(i)){if(h||(h=new it(i,n,s,e||t,o?s.subtract(o):null)),t.emit(i,h)&&(A=!0,h.prevented&&(O=!0),h.stopped))return l=!0}else{var a=$[i];if(a)return r(t,a)}}for(var h,l=!1;t&&t!==a&&!r(t,i);)t=t._parent;return l}function s(t,e,i,s,o,a){return t._project.removeOn(i),O=A=!1,T&&n(T,null,i,s,o,a)||e&&e!==T&&!e.isDescendant(T)&&n(e,null,$[i]||i,s,o,a,T)||n(t,T||e||t,i,s,o,a)}if(h){var o,a,c,u,p,d=!1,f=!1,m=h.navigator;m.pointerEnabled||m.msPointerEnabled?(c="pointerdown MSPointerDown",u="pointermove MSPointerMove",p="pointerup pointercancel MSPointerUp MSPointerCancel"):(c="touchstart",u="touchmove",p="touchend touchcancel","ontouchstart"in h&&m.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(c+=" mousedown",u+=" mousemove",p+=" mouseup"));var g={},v={mouseout:function(t){var e=K._focused,n=Z.getRelatedTarget(t);if(e&&(!n||"HTML"===n.nodeName)){var s=Z.getOffset(t,e._element),o=s.x,a=Math.abs,r=a(o),h=1<<25,l=r-h;s.x=a(l)<r?l*(o<0?-1:1):o,i(e,t,e.viewToProject(s))}},scroll:e};g[c]=function(e){var i=K._focused=t(e);d||(d=!0,i._handleMouseEvent("mousedown",e))},v[u]=function(n){var s=K._focused;if(!f){var r=t(n);r?s!==r&&(s&&i(s,n),o||(o=s),s=K._focused=a=r):a&&a===s&&(o&&!o.isInserted()&&(o=null),s=K._focused=o,o=null,e())}s&&i(s,n)},v[c]=function(){f=!0},v[p]=function(t){var e=K._focused;e&&d&&e._handleMouseEvent("mouseup",t),f=d=!1},Z.add(l,v),Z.add(h,{load:e});var y,_,w,b,x,T,C,S,M,A=!1,O=!1,$={doubleclick:"click",mousedrag:"mousemove"},I=!1,B={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:g,_handleMouseEvent:function(t,e,i){function o(t){return a.virtual[t]||c.responds(t)||l&&l.responds(t)}var a=this._itemEvents,r=a["native"][t],h="mousemove"===t,l=this._scope.tool,c=this;h&&d&&o("mousedrag")&&(t="mousedrag"),i||(i=this.getEventPoint(e));var u=this.getBounds().contains(i),p=r&&u&&c._project.hitTest(i,{tolerance:0,fill:!0,stroke:!0}),f=p&&p.item||null,m=!1,g={};g[t.substr(5)]=!0,r&&f!==x&&(x&&n(x,null,"mouseleave",e,i),f&&n(f,null,"mouseenter",e,i),x=f),I^u&&(n(this,null,u?"mouseenter":"mouseleave",e,i),y=u?this:null,m=!0),!u&&!g.drag||i.equals(w)||(s(this,f,h?t:"mousemove",e,i,w),m=!0),I=u,(g.down&&u||g.up&&_)&&(s(this,f,t,e,i,_),g.down?(M=f===C&&Date.now()-S<300,b=C=f,T=!O&&f,_=i):g.up&&(O||f!==b||(S=Date.now(),s(this,f,M?"doubleclick":"click",e,i,_),M=!1),b=T=null),I=!1,m=!0),w=i,m&&l&&(A=l._handleMouseEvent(t,e,i,g)||A),(A&&!g.move||g.down&&o("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(t,e,i,n){function s(s){s.responds(t)&&(r=a,s.emit(t,o=o||new tt(t,e,i,n)))}var o,a=this._scope,h=a.tool;this.isVisible()&&(s(this),h&&h.responds(t)&&s(h))},_countItemEvent:function(t,e){var i=this._itemEvents,n=i["native"],s=i.virtual;for(var o in B)n[o]=(n[o]||0)+(B[o][t]||0)*e;s[t]=(s[t]||0)+e},statics:{updateFocus:e}}}}),J=K.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof h.HTMLCanvasElement)){var i=_.read(arguments,1);if(i.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+c.slice(arguments,1));e=at.getCanvas(i)}var n=this._context=e.getContext("2d");if(n.save(),this._pixelRatio=1,!/^off|false$/.test(p.getAttribute(e,"hidpi"))){var s=h.devicePixelRatio||1,o=G.getPrefixed(n,"backingStorePixelRatio")||1;this._pixelRatio=s/o}K.call(this,t,e),this._needsUpdate=!0},remove:function It(){return this._context.restore(),It.base.call(this)},_setElementSize:function Bt(t,e){var i=this._pixelRatio;if(Bt.base.call(this,t*i,e*i),1!==i){var n=this._element,s=this._context;if(!p.hasAttribute(n,"resize")){var o=n.style;o.width=t+"px",o.height=e+"px"}s.restore(),s.save(),s.scale(i,i)}},getPixelSize:function Et(t){var e,i=r.agent;if(i&&i.firefox)e=Et.base.call(this,t);else{var n=this._context,s=n.font;n.font=t+" serif",e=parseFloat(n.font),n.font=s}return e},getTextWidth:function(t,e){var i=this._context,n=i.font,s=0;i.font=t;for(var o=0,a=e.length;o<a;o++)s=Math.max(s,i.measureText(e[o]).width);return i.font=n,s},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,i=this._viewSize;return e.clearRect(0,0,i.width+1,i.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Q=c.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return et.modifiers}}),tt=Q.extend({_class:"KeyEvent",initialize:function(t,e,i,n){this.type=t,this.event=e,this.key=i,this.character=n},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),et=new function(){function t(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e?String.fromCharCode(t.keyCode):e,s[e]||(e.length>1?c.hyphenate(e):e.toLowerCase())}function e(t,n,s,o){var h,l=K._focused;if(a[n]=t,t?u[n]=s:delete u[n],n.length>1&&(h=c.camelize(n))in p){p[h]=t;var d=r&&r.agent;if("meta"===h&&d&&d.mac)if(t)i={};else{for(var f in i)f in u&&e(!1,f,i[f],o);i=null}}else t&&i&&(i[n]=s);l&&l._handleKeyEvent(t?"keydown":"keyup",o,n,s)}var i,n,s={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},o={tab:"\t",space:" ",enter:"\r"},a={},u={},p=new c({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=r&&r.agent;return t&&t.mac?this.meta:this.control}}});return Z.add(l,{keydown:function(i){var s=t(i),a=r&&r.agent;s.length>1||a&&a.chrome&&(i.altKey||a.mac&&i.metaKey||!a.mac&&i.ctrlKey)?e(!0,s,o[s]||(s.length>1?"":s),i):n=s},keypress:function(i){if(n){var s=t(i),o=i.charCode,a=o>=32?String.fromCharCode(o):s.length>1?"":s;s!==n&&(s=a.toLowerCase()),e(!0,s,a,i),n=null}},keyup:function(i){var n=t(i);n in u&&e(!1,n,u[n],i)}}),Z.add(h,{blur:function(t){for(var i in u)e(!1,i,u[i],t)}}),{modifiers:p,isDown:function(t){return!!a[t]}}},it=Q.extend({_class:"MouseEvent",initialize:function(t,e,i,n,s){this.type=t,this.event=e,this.point=i,this.target=n,this.delta=s},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),nt=Q.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,i){this.tool=t,this.type=e,this.event=i},_choosePoint:function(t,e){return t?t:e?e.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,i=e._parent;/^(Group|CompoundPath)$/.test(i._class);)e=i,i=i._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),st=d.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){d.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,i,n){function s(t,e){var s=i,o=a?p._point:p._downPoint||s;if(a){if(p._moveCount&&s.equals(o))return!1;if(o&&(null!=t||null!=e)){var r=s.subtract(o),h=r.getLength();if(h<(t||0))return!1;e&&(s=o.add(r.normalize(Math.min(h,e))))}p._moveCount++}return p._point=s,p._lastPoint=o||s,n.down&&(p._moveCount=-1,p._downPoint=s,p._downCount++),!0}function o(){h&&(u=p.emit(t,new nt(p,t,e))||u)}r=this._scope,n.drag&&!this.responds(t)&&(t="mousemove");var a=n.move||n.drag,h=this.responds(t),l=this.minDistance,c=this.maxDistance,u=!1,p=this;if(n.down)s(),o();else if(n.up)s(null,c),o();else if(h)for(;s(l,c);)o();return u}}),ot={request:function(t){var e=new o.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,c.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var i=e.status;0===i||200===i?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var i=e.status,n='Could not load "'+t.url+'" (Status: '+i+")";if(!t.onError)throw new Error(n);t.onError(n,i)},e.send(null)}},at={canvases:[],getCanvas:function(t,e){if(!h)return null;var i,n=!0;"object"==typeof t&&(e=t.height,t=t.width),this.canvases.length?i=this.canvases.pop():(i=l.createElement("canvas"),n=!1);var s=i.getContext("2d");if(!s)throw new Error("Canvas "+i+" is unable to provide a 2D context.");
return i.width===t&&i.height===e?n&&s.clearRect(0,0,t+1,e+1):(i.width=t,i.height=e),s.save(),i},getContext:function(t,e){var i=this.getCanvas(t,e);return i?i.getContext("2d"):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},rt=new function(){function t(t,e,i){return.2989*t+.587*e+.114*i}function e(e,i,n,s){var o=s-t(e,i,n);d=e+o,f=i+o,m=n+o;var s=t(d,f,m),a=g(d,f,m),r=v(d,f,m);if(a<0){var h=s-a;d=s+(d-s)*s/h,f=s+(f-s)*s/h,m=s+(m-s)*s/h}if(r>255){var l=255-s,c=r-s;d=s+(d-s)*l/c,f=s+(f-s)*l/c,m=s+(m-s)*l/c}}function i(t,e,i){return v(t,e,i)-g(t,e,i)}function n(t,e,i,n){var s,o=[t,e,i],a=v(t,e,i),r=g(t,e,i);r=r===t?0:r===e?1:2,a=a===t?0:a===e?1:2,s=0===g(r,a)?1===v(r,a)?2:1:0,o[a]>o[r]?(o[s]=(o[s]-o[r])*n/(o[a]-o[r]),o[a]=n):o[s]=o[a]=0,o[r]=0,d=o[0],f=o[1],m=o[2]}var s,o,a,r,h,l,u,p,d,f,m,g=Math.min,v=Math.max,y=Math.abs,_={multiply:function(){d=h*s/255,f=l*o/255,m=u*a/255},screen:function(){d=h+s-h*s/255,f=l+o-l*o/255,m=u+a-u*a/255},overlay:function(){d=h<128?2*h*s/255:255-2*(255-h)*(255-s)/255,f=l<128?2*l*o/255:255-2*(255-l)*(255-o)/255,m=u<128?2*u*a/255:255-2*(255-u)*(255-a)/255},"soft-light":function(){var t=s*h/255;d=t+h*(255-(255-h)*(255-s)/255-t)/255,t=o*l/255,f=t+l*(255-(255-l)*(255-o)/255-t)/255,t=a*u/255,m=t+u*(255-(255-u)*(255-a)/255-t)/255},"hard-light":function(){d=s<128?2*s*h/255:255-2*(255-s)*(255-h)/255,f=o<128?2*o*l/255:255-2*(255-o)*(255-l)/255,m=a<128?2*a*u/255:255-2*(255-a)*(255-u)/255},"color-dodge":function(){d=0===h?0:255===s?255:g(255,255*h/(255-s)),f=0===l?0:255===o?255:g(255,255*l/(255-o)),m=0===u?0:255===a?255:g(255,255*u/(255-a))},"color-burn":function(){d=255===h?255:0===s?0:v(0,255-255*(255-h)/s),f=255===l?255:0===o?0:v(0,255-255*(255-l)/o),m=255===u?255:0===a?0:v(0,255-255*(255-u)/a)},darken:function(){d=h<s?h:s,f=l<o?l:o,m=u<a?u:a},lighten:function(){d=h>s?h:s,f=l>o?l:o,m=u>a?u:a},difference:function(){d=h-s,d<0&&(d=-d),f=l-o,f<0&&(f=-f),m=u-a,m<0&&(m=-m)},exclusion:function(){d=h+s*(255-h-h)/255,f=l+o*(255-l-l)/255,m=u+a*(255-u-u)/255},hue:function(){n(s,o,a,i(h,l,u)),e(d,f,m,t(h,l,u))},saturation:function(){n(h,l,u,i(s,o,a)),e(d,f,m,t(h,l,u))},luminosity:function(){e(h,l,u,t(s,o,a))},color:function(){e(s,o,a,t(h,l,u))},add:function(){d=g(h+s,255),f=g(l+o,255),m=g(u+a,255)},subtract:function(){d=v(h-s,0),f=v(l-o,0),m=v(u-a,0)},average:function(){d=(h+s)/2,f=(l+o)/2,m=(u+a)/2},negation:function(){d=255-y(255-s-h),f=255-y(255-o-l),m=255-y(255-a-u)}},w=this.nativeModes=c.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),b=at.getContext(1,1);b&&(c.each(_,function(t,e){var i="darken"===e,n=!1;b.save();try{b.fillStyle=i?"#300":"#a00",b.fillRect(0,0,1,1),b.globalCompositeOperation=e,b.globalCompositeOperation===e&&(b.fillStyle=i?"#a00":"#300",b.fillRect(0,0,1,1),n=b.getImageData(0,0,1,1).data[0]!==i?170:51)}catch(s){}b.restore(),w[e]=n}),at.release(b)),this.process=function(t,e,i,n,c){var g=e.canvas,v="normal"===t;if(v||w[t])i.save(),i.setTransform(1,0,0,1,0,0),i.globalAlpha=n,v||(i.globalCompositeOperation=t),i.drawImage(g,c.x,c.y),i.restore();else{var y=_[t];if(!y)return;for(var b=i.getImageData(c.x,c.y,g.width,g.height),x=b.data,T=e.getImageData(0,0,g.width,g.height).data,C=0,S=x.length;C<S;C+=4){s=T[C],h=x[C],o=T[C+1],l=x[C+1],a=T[C+2],u=x[C+2],r=T[C+3],p=x[C+3],y();var M=r*n/255,A=1-M;x[C]=M*d+A*h,x[C+1]=M*f+A*l,x[C+2]=M*m+A*u,x[C+3]=r*n+A*p}i.putImageData(b,c.x,c.y)}}},ht=new function(){function t(t,e,s){return i(l.createElementNS(n,t),e,s)}function e(t,e){var i=a[e],n=i?t.getAttributeNS(i,e):t.getAttribute(e);return"null"===n?null:n}function i(t,e,i){for(var n in e){var s=e[n],o=a[n];"number"==typeof s&&i&&(s=i.number(s)),o?t.setAttributeNS(o,n,s):t.setAttribute(n,s)}return t}var n="http://www.w3.org/2000/svg",s="http://www.w3.org/2000/xmlns",o="http://www.w3.org/1999/xlink",a={href:o,xlink:s,xmlns:s+"/","xmlns:xlink":s+"/"};return{svg:n,xmlns:s,xlink:o,create:t,get:e,set:i}},lt=c.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{"true":"none","false":"non-scaling-stroke"},function(t,e){return!e&&(t instanceof N||t instanceof $||t instanceof j)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var i=c.capitalize(e),n=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:n,fromSVG:n&&c.each(n,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+i,set:"set"+i}},{});return new function(){function t(t,e,i){var n=new c,s=t.getTranslation();if(e){t=t._shiftless();var o=t._inverseTransform(s);n[i?"cx":"x"]=o.x,n[i?"cy":"y"]=o.y,s=null}if(!t.isIdentity()){var a=t.decompose();if(a){var r=[],h=a.rotation,l=a.scaling,u=a.skewing;s&&!s.isZero()&&r.push("translate("+w.point(s)+")"),h&&r.push("rotate("+w.number(h)+")"),m.isZero(l.x-1)&&m.isZero(l.y-1)||r.push("scale("+w.point(l)+")"),u&&u.x&&r.push("skewX("+w.number(u.x)+")"),u&&u.y&&r.push("skewY("+w.number(u.y)+")"),n.transform=r.join(" ")}else n.transform="matrix("+t.getValues().join(",")+")"}return n}function e(e,i){for(var n=t(e._matrix),s=e._children,o=ht.create("g",n,w),a=0,r=s.length;a<r;a++){var h=s[a],l=y(h,i);if(l)if(h.isClipMask()){var c=ht.create("clipPath");c.appendChild(l),d(h,c,"clip"),ht.set(o,{"clip-path":"url(#"+c.id+")"})}else o.appendChild(l)}return o}function i(e,i){var n=t(e._matrix,!0),s=e.getSize(),o=e.getImage();return n.x-=s.width/2,n.y-=s.height/2,n.width=s.width,n.height=s.height,n.href=i.embedImages===!1&&o&&o.src||e.toDataURL(),ht.create("image",n,w)}function n(e,i){var n=i.matchShapes;if(n){var o=e.toShape(!1);if(o)return s(o,i)}var a,r=e._segments,h=r.length,l=t(e._matrix);if(n&&h>=2&&!e.hasHandles())if(h>2){a=e._closed?"polygon":"polyline";for(var c=[],u=0;u<h;u++)c.push(w.point(r[u]._point));l.points=c.join(" ")}else{a="line";var p=r[0]._point,d=r[1]._point;l.set({x1:p.x,y1:p.y,x2:d.x,y2:d.y})}else a="path",l.d=e.getPathData(null,i.precision);return ht.create(a,l,w)}function s(e){var i=e._type,n=e._radius,s=t(e._matrix,!0,"rectangle"!==i);if("rectangle"===i){i="rect";var o=e._size,a=o.width,r=o.height;s.x-=a/2,s.y-=r/2,s.width=a,s.height=r,n.isZero()&&(n=null)}return n&&("circle"===i?s.r=n:(s.rx=n.width,s.ry=n.height)),ht.create(i,s,w)}function a(e,i){var n=t(e._matrix),s=e.getPathData(null,i.precision);return s&&(n.d=s),ht.create("path",n,w)}function r(e,i){var n=t(e._matrix,!0),s=e._definition,o=p(s,"symbol"),a=s._item,r=a.getBounds();return o||(o=ht.create("symbol",{viewBox:w.rectangle(r)}),o.appendChild(y(a,i)),d(s,o,"symbol")),n.href="#"+o.id,n.x+=r.x,n.y+=r.y,n.width=r.width,n.height=r.height,n.overflow="visible",ht.create("use",n,w)}function h(t){var e=p(t,"color");if(!e){var i,n=t.getGradient(),s=n._radial,o=t.getOrigin(),a=t.getDestination();if(s){i={cx:o.x,cy:o.y,r:o.getDistance(a)};var r=t.getHighlight();r&&(i.fx=r.x,i.fy=r.y)}else i={x1:o.x,y1:o.y,x2:a.x,y2:a.y};i.gradientUnits="userSpaceOnUse",e=ht.create((s?"radial":"linear")+"Gradient",i,w);for(var h=n._stops,l=0,c=h.length;l<c;l++){var u=h[l],f=u._color,m=f.getAlpha(),g=u._offset;i={offset:null==g?l/(c-1):g},f&&(i["stop-color"]=f.toCSS(!0)),m<1&&(i["stop-opacity"]=m),e.appendChild(ht.create("stop",i,w))}d(t,e,"color")}return"url(#"+e.id+")"}function l(e){var i=ht.create("text",t(e._matrix,!0),w);return i.textContent=e._content,i}function u(t,e,i){var n={},s=!i&&t.getParent(),o=[];return null!=t._name&&(n.id=t._name),c.each(lt,function(e){var i=e.get,a=e.type,r=t[i]();if(e.exportFilter?e.exportFilter(t,r):!s||!c.equals(s[i](),r)){if("color"===a&&null!=r){var l=r.getAlpha();l<1&&(n[e.attribute+"-opacity"]=l)}"style"===a?o.push(e.attribute+": "+r):n[e.attribute]=null==r?"none":"color"===a?r.gradient?h(r,t):r.toCSS(!0):"array"===a?r.join(","):"lookup"===a?e.toSVG[r]:r}}),o.length&&(n.style=o.join(";")),1===n.opacity&&delete n.opacity,t._visible||(n.visibility="hidden"),ht.set(e,n,w)}function p(t,e){return x||(x={ids:{},svgs:{}}),t&&x.svgs[e+"-"+(t._id||t.__id||(t.__id=g.get("svg")))]}function d(t,e,i){x||p();var n=x.ids[i]=(x.ids[i]||0)+1;e.id=i+"-"+n,x.svgs[i+"-"+(t._id||t.__id)]=e}function v(t,e){var i=t,n=null;if(x){i="svg"===t.nodeName.toLowerCase()&&t;for(var s in x.svgs)n||(i||(i=ht.create("svg"),i.appendChild(t)),n=i.insertBefore(ht.create("defs"),i.firstChild)),n.appendChild(x.svgs[s]);x=null}return e.asString?(new o.XMLSerializer).serializeToString(i):i}function y(t,e,i){var n=C[t._class],s=n&&n(t,e);if(s){var o=e.onExport;o&&(s=o(t,s,e)||s);var a=JSON.stringify(t._data);a&&"{}"!==a&&"null"!==a&&s.setAttribute("data-paper-data",a)}return s&&u(t,s,i)}function _(t){return t||(t={}),w=new f(t.precision),t}var w,x,C={Group:e,Layer:e,Raster:i,Path:n,Shape:s,CompoundPath:a,SymbolItem:r,PointText:l};M.inject({exportSVG:function(t){return t=_(t),v(y(this,t,!0),t)}}),S.inject({exportSVG:function(e){e=_(e);var i=this._children,n=this.getView(),s=c.pick(e.bounds,"view"),o=e.matrix||"view"===s&&n._matrix,a=o&&T.read([o]),r="view"===s?new b([0,0],n.getViewSize()):"content"===s?M._getBounds(i,a,{stroke:!0}):b.read([s],0,{readNull:!0}),h={version:"1.1",xmlns:ht.svg,"xmlns:xlink":ht.xlink};r&&(h.width=r.width,h.height=r.height,(r.x||r.y)&&(h.viewBox=w.rectangle(r)));var l=ht.create("svg",h,w),u=l;a&&!a.isIdentity()&&(u=l.appendChild(ht.create("g",t(a),w)));for(var p=0,d=i.length;p<d;p++)u.appendChild(y(i[p],e,!0));return v(l,e)}})},new function(){function t(t,e,i,n,s){var o=ht.get(t,e),a=null==o?n?null:i?"":0:i?o:parseFloat(o);return/%\s*$/.test(o)?a/100*(s?1:O[/x|^width/.test(e)?"width":"height"]):a}function e(e,i,n,s,o){return i=t(e,i||"x",!1,s,o),n=t(e,n||"y",!1,s,o),!s||null!=i&&null!=n?new v(i,n):null}function i(e,i,n,s,o){return i=t(e,i||"width",!1,s,o),n=t(e,n||"height",!1,s,o),!s||null!=i&&null!=n?new _(i,n):null}function n(t,e,i){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?w(t)||t:"lookup"===e?i[t]:t}function s(t,e,i,n){var s=t.childNodes,o="clippath"===e,a="defs"===e,r=new A,h=r._project,l=h._currentStyle,c=[];if(o||a||(r=y(r,t,n),h._currentStyle=r._style.clone()),n)for(var u=t.querySelectorAll("defs"),p=0,d=u.length;p<d;p++)x(u[p],i,!1);for(var p=0,d=s.length;p<d;p++){var f,m=s[p];1!==m.nodeType||/^defs$/i.test(m.nodeName)||!(f=x(m,i,!1))||f instanceof E||c.push(f)}return r.addChildren(c),o&&(r=y(r.reduce(),t,n)),h._currentStyle=l,(o||a)&&(r.remove(),r=null),r}function u(t,e){for(var i=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),n=[],s=0,o=i.length;s<o;s+=2)n.push(new v(parseFloat(i[s]),parseFloat(i[s+1])));var a=new z(n);return"polygon"===e&&a.closePath(),a}function p(t){return N.create(t.getAttribute("d"))}function d(i,n){var s,o=(t(i,"href",!0)||"").substring(1),a="radialgradient"===n;if(o)s=B[o].getGradient(),s._radial^a&&(s=s.clone(),s._radial=a);else{for(var r=i.childNodes,h=[],l=0,c=r.length;l<c;l++){var u=r[l];1===u.nodeType&&h.push(y(new q,u))}s=new W(h,a)}var p,d,f,m="userSpaceOnUse"!==t(i,"gradientUnits",!0);a?(p=e(i,"cx","cy",!1,m),d=p.add(t(i,"r",!1,!1,m),0),f=e(i,"fx","fy",!0,m)):(p=e(i,"x1","y1",!1,m),d=e(i,"x2","y2",!1,m));var g=y(new Y(s,p,d,f),i);return g._scaleToBounds=m,null}function f(t,e,i,n){if(t.transform){for(var s=(n.getAttribute(i)||"").split(/\)\s*/g),o=new T,a=0,r=s.length;a<r;a++){var h=s[a];if(!h)break;for(var l=h.split(/\(\s*/),c=l[0],u=l[1].split(/[\s,]+/g),p=0,d=u.length;p<d;p++)u[p]=parseFloat(u[p]);switch(c){case"matrix":o.append(new T(u[0],u[1],u[2],u[3],u[4],u[5]));break;case"rotate":o.rotate(u[0],u[1],u[2]);break;case"translate":o.translate(u[0],u[1]);break;case"scale":o.scale(u);break;case"skewX":o.skew(u[0],0);break;case"skewY":o.skew(0,u[0])}}t.transform(o)}}function m(t,e,i){var n="fill-opacity"===i?"getFillColor":"getStrokeColor",s=t[n]&&t[n]();s&&s.setAlpha(parseFloat(e))}function g(t,e,i){var n=t.attributes[e],s=n&&n.value;if(!s){var o=c.camelize(e);s=t.style[o],s||i.node[o]===i.parent[o]||(s=i.node[o])}return s?"none"===s?null:s:a}function y(t,e,i){var n=e.parentNode,s={node:G.getStyles(e)||{},parent:!i&&!/^defs$/i.test(n.tagName)&&G.getStyles(n)||{}};return c.each(k,function(i,n){var o=g(e,n,s);t=o!==a&&i(t,o,n,e,s)||t}),t}function w(t){var e=t&&t.match(/\((?:["'#]*)([^"')]+)/),i=e&&e[1],n=i&&B[h?i.replace(h.location.href.split("#")[0]+"#",""):i];return n&&n._scaleToBounds&&(n=n.clone(),n._scaleToBounds=!0),n}function x(t,e,n){var s,o,a,h=t.nodeName.toLowerCase(),u="#document"!==h,p=l.body;n&&u&&(O=i(t,null,null,!0)||r.getView().getSize(),s=ht.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),o=t.parentNode,a=t.nextSibling,s.appendChild(t),p.appendChild(s));var d=r.settings,f=d.applyMatrix,m=d.insertItems;d.applyMatrix=!1,d.insertItems=!1;var g=P[h],v=g&&g(t,h,e,n)||null;if(d.insertItems=m,d.applyMatrix=f,v){!u||v instanceof A||(v=y(v,t,n));var _=e.onImport,w=u&&t.getAttribute("data-paper-data");_&&(v=_(t,v,e)||v),e.expandShapes&&v instanceof $&&(v.remove(),v=v.toPath()),w&&(v._data=JSON.parse(w))}return s&&(p.removeChild(s),o&&(a?o.insertBefore(t,a):o.appendChild(t))),n&&(B={},v&&c.pick(e.applyMatrix,f)&&v.matrix.apply(!0,!0)),v}function C(t,e,i){function n(n){try{var l="object"==typeof n?n:(new o.DOMParser).parseFromString(n,"image/svg+xml");if(!l.nodeName)throw l=null,new Error("Unsupported SVG source: "+t);r=h,c=x(l,e,!0),e&&e.insert===!1||i._insertItem(a,c);var u=e.onLoad;u&&u(c,n)}catch(p){s(p)}}function s(t,i){var n=e.onError;if(!n)throw new Error(t);n(t,i)}if(!t)return null;e="function"==typeof e?{onLoad:e}:e||{};var h=r,c=null;if("string"!=typeof t||/^.*</.test(t)){if("undefined"!=typeof File&&t instanceof File){var u=new FileReader;return u.onload=function(){n(u.result)},u.onerror=function(){s(u.error)},u.readAsText(t)}n(t)}else{var p=l.getElementById(t);p?n(p):ot.request({url:t,async:!0,onLoad:n,onError:s})}return c}var O,B={},P={"#document":function(t,e,i,n){for(var s=t.childNodes,o=0,a=s.length;o<a;o++){var r=s[o];if(1===r.nodeType)return x(r,i,n)}},g:s,svg:s,clippath:s,polygon:u,polyline:u,path:p,lineargradient:d,radialgradient:d,image:function(n){var s=new I(t(n,"href",!0));return s.on("load",function(){var t=i(n);this.setSize(t);var s=this._matrix._transformPoint(e(n).add(t.divide(2)));this.translate(s)}),s},symbol:function(t,e,i,n){return new E(s(t,e,i,n),(!0))},defs:s,use:function(i){var n=(t(i,"href",!0)||"").substring(1),s=B[n],o=e(i);return s?s instanceof E?s.place(o):s.clone().translate(o):null},circle:function(i){return new $.Circle(e(i,"cx","cy"),t(i,"r"))},ellipse:function(t){return new $.Ellipse({center:e(t,"cx","cy"),radius:i(t,"rx","ry")})},rect:function(t){return new $.Rectangle(new b(e(t),i(t)),i(t,"rx","ry"))},line:function(t){return new z.Line(e(t,"x1","y1"),e(t,"x2","y2"))},text:function(t){var i=new U(e(t).add(e(t,"dx","dy")));return i.setContent(t.textContent.trim()||""),i}},k=c.set(c.each(lt,function(t){this[t.attribute]=function(e,i){if(e[t.set]&&(e[t.set](n(i,t.type,t.fromSVG)),"color"===t.type)){var s=e[t.get]();if(s){if(s._scaleToBounds){var o=e.getBounds();s.transform((new T).translate(o.getPoint()).scale(o.getSize()))}e instanceof $&&s.transform((new T).translate(e.getPosition(!0).negate()))}}}},{}),{id:function(t,e){B[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){var i=w(e);if(i){if(i=i.clone(),i.setClipMask(!0),!(t instanceof A))return new A(i,t);t.insertChild(0,i)}},gradientTransform:f,transform:f,"fill-opacity":m,"stroke-opacity":m,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var i=e.match(/(.*)%$/);t.setOffset(i?i[1]/100:parseFloat(e))}},viewBox:function(t,e,s,o,a){var r,h,l=new b(n(e,"array")),c=i(o,null,null,!0);if(t instanceof A){var u=c?c.divide(l.getSize()):1,h=(new T).scale(u).translate(l.getPoint().negate());r=t}else t instanceof E&&(c&&l.setSize(c),r=t._item);if(r){if("visible"!==g(o,"overflow",a)){var p=new $.Rectangle(l);p.setClipMask(!0),r.addChild(p)}h&&r.transform(h)}}});M.inject({importSVG:function(t,e){return C(t,e,this)}}),S.inject({importSVG:function(t,e){return this.activate(),C(t,e,this)}})},c.exports.PaperScript=function(){function e(t,e,i){var n=w[e];if(t&&t[n]){var s=t[n](i);return"!="===e?!s:s}switch(e){case"+":return t+i;case"-":return t-i;case"*":return t*i;case"/":return t/i;case"%":return t%i;case"==":return t==i;case"!=":return t!=i}}function i(t,e){var i=b[t];if(i&&e&&e[i])return e[i]();switch(t){case"+":return+e;case"-":return-e}}function n(t,e){return y.acorn.parse(t,e)}function s(t,e){function i(t){for(var e=0,i=f.length;e<i;e++){var n=f[e];if(n[0]>=t)break;t+=n[1]}return t}function s(e){return t.substring(i(e.range[0]),i(e.range[1]))}function a(e,n){return t.substring(i(e.range[1]),i(n.range[0]))}function c(e,n){for(var s=i(e.range[0]),o=i(e.range[1]),a=0,r=f.length-1;r>=0;r--)if(s>f[r][0]){a=r+1;break}f.splice(a,0,[s,n.length-o+s]),t=t.substring(0,s)+n+t.substring(o)}function u(t,e){if(t){for(var i in t)if("range"!==i&&"loc"!==i){var n=t[i];if(Array.isArray(n))for(var o=0,r=n.length;o<r;o++)u(n[o],t);else n&&"object"==typeof n&&u(n,t)}switch(t.type){case"UnaryExpression":if(t.operator in b&&"Literal"!==t.argument.type){var h=s(t.argument);c(t,'$__("'+t.operator+'", '+h+")")}break;case"BinaryExpression":if(t.operator in w&&"Literal"!==t.left.type){var l=s(t.left),p=s(t.right),d=a(t.left,t.right),f=t.operator;c(t,"__$__("+l+","+d.replace(new RegExp("\\"+f),'"'+f+'"')+", "+p+")")}break;case"UpdateExpression":case"AssignmentExpression":var m=e&&e.type;if(!("ForStatement"===m||"BinaryExpression"===m&&/^[=!<>]/.test(e.operator)||"MemberExpression"===m&&e.computed))if("UpdateExpression"===t.type){var h=s(t.argument),g="__$__("+h+', "'+t.operator[0]+'", 1)',v=h+" = "+g;t.prefix||"AssignmentExpression"!==m&&"VariableDeclarator"!==m||(s(e.left||e.id)===h&&(v=g),v=h+"; "+v),c(t,v)}else if(/^.=$/.test(t.operator)&&"Literal"!==t.left.type){var l=s(t.left),p=s(t.right),g=l+" = __$__("+l+', "'+t.operator[0]+'", '+p+")";c(t,/^\(.*\)$/.test(s(t))?"("+g+")":g)}}}}function p(t){var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=(Math.abs(t)<<1)+(t<0?1:0);t||!e;){var n=31&t;t>>=5,t&&(n|=32),e+=i[n]}return e}if(!t)return"";e=e||{};var d,f=[],m=e.url||"",g=r.agent,v=g.versionNumber,y=!1,_=e.sourceMaps,x=e.source||t,T=/\r\n|\n|\r/gm,C=e.offset||0;if(_&&(g.chrome&&v>=30||g.webkit&&v>=537.76||g.firefox&&v>=23||g.node)){if(g.node)C-=2;else if(h&&m&&!h.location.href.indexOf(m)){var S=l.getElementsByTagName("html")[0].innerHTML;C=S.substr(0,S.indexOf(t)+1).match(T).length+1}y=C>0&&!(g.chrome&&v>=36||g.safari&&v>=600||g.firefox&&v>=40||g.node);var M=["AA"+p(y?0:C)+"A"];M.length=(t.match(T)||[]).length+1+(y?C:0),d={version:3,file:m,names:[],mappings:M.join(";AACA"),sourceRoot:"",sources:[m],sourcesContent:[x]}}return u(n(t,{ranges:!0})),d&&(y&&(t=new Array(C+1).join("\n")+t),/^(inline|both)$/.test(_)&&(t+="\n//# sourceMappingURL=data:application/json;base64,"+o.btoa(unescape(encodeURIComponent(JSON.stringify(d))))),t+="\n//# sourceURL="+(m||"paperscript")),{url:m,source:x,code:t,map:d}}function a(t,n,o){function a(e,i){for(var n in e)!i&&/^_/.test(n)||!new RegExp("([\\b\\s\\W]|^)"+n.replace(/\$/g,"\\$")+"\\b").test(t)||(m.push(n),g.push(e[n]))}r=n;var h,u=n.getView(),p=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(t)&&!/\bnew\s+Tool\b/.test(t)?new st:null,d=p?p._events:[],f=["onFrame","onResize"].concat(d),m=[],g=[],y="object"==typeof t?t:s(t,o);t=y.code,a({__$__:e,$__:i,paper:n,view:u,tool:p},!0),a(n),f=c.each(f,function(e){new RegExp("\\s+"+e+"\\b").test(t)&&(m.push(e),this.push(e+": "+e))},[]).join(", "),f&&(t+="\nreturn { "+f+" };");var _=r.agent;if(l&&(_.chrome||_.firefox&&_.versionNumber<40)){var w=l.createElement("script"),b=l.head||l.getElementsByTagName("head")[0];_.firefox&&(t="\n"+t),w.appendChild(l.createTextNode("paper._execute = function("+m+") {"+t+"\n}")),b.appendChild(w),h=r._execute,delete r._execute,b.removeChild(w)}else h=Function(m,t);var x=h.apply(n,g)||{};return c.each(d,function(t){var e=x[t];e&&(p[t]=e)}),u&&(x.onResize&&u.setOnResize(x.onResize),u.emit("resize",{size:u.size,delta:new v}),x.onFrame&&u.setOnFrame(x.onFrame),u.requestUpdate()),y}function u(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&"true"!==p.getAttribute(t,"ignore")){var e=p.getAttribute(t,"canvas"),i=l.getElementById(e),n=t.src||t.getAttribute("data-src"),s=p.hasAttribute(t,"async"),o="data-paper-scope";if(!i)throw new Error('Unable to find canvas with id "'+e+'"');var r=p.get(i.getAttribute(o))||(new p).setup(i);return i.setAttribute(o,r._id),n?ot.request({url:n,async:s,mimeType:"text/plain",onLoad:function(t){a(t,r,n)}}):a(t.innerHTML,r,t.baseURI),t.setAttribute("data-paper-ignore","true"),r}}function d(){c.each(l&&l.getElementsByTagName("script"),u)}function f(t){return t?u(t):d()}var m,g,y=this;!function(e,i){return"object"==typeof m&&"object"==typeof t?i(m):"function"==typeof g&&g.amd?g(["exports"],i):void i(e.acorn||(e.acorn={}))}(this,function(t){"use strict";function e(t){ut=t||{};for(var e in mt)Object.prototype.hasOwnProperty.call(ut,e)||(ut[e]=mt[e]);ft=ut.sourceFile||null}function i(t,e){var i=gt(pt,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=vt,n}function n(t){function e(t){if(1==t.length)return i+="return str === "+JSON.stringify(t[0])+";";i+="switch(str){";for(var e=0;e<t.length;++e)i+="case "+JSON.stringify(t[e])+":";i+="return true}return false;"}t=t.split(" ");var i="",n=[];t:for(var s=0;s<t.length;++s){for(var o=0;o<n.length;++o)if(n[o][0].length==t[s].length){n[o].push(t[s]);continue t}n.push([t[s]])}if(n.length>3){n.sort(function(t,e){return e.length-t.length}),i+="switch(str.length){";for(var s=0;s<n.length;++s){var a=n[s];i+="case "+a[0].length+":",e(a)}i+="}"}else e(t);return new Function("str",i)}function s(){this.line=St,this.column=vt-Mt}function o(){St=1,vt=Mt=0,Ct=!0,l()}function a(t,e){_t=vt,ut.locations&&(bt=new s),xt=t,l(),Tt=e,Ct=t.beforeExpr}function r(){var t=ut.onComment&&ut.locations&&new s,e=vt,n=pt.indexOf("*/",vt+=2);if(n===-1&&i(vt-2,"Unterminated comment"),vt=n+2,ut.locations){Ze.lastIndex=e;for(var o;(o=Ze.exec(pt))&&o.index<vt;)++St,Mt=o.index+o[0].length}ut.onComment&&ut.onComment(!0,pt.slice(e+2,n),e,vt,t,ut.locations&&new s)}function h(){for(var t=vt,e=ut.onComment&&ut.locations&&new s,i=pt.charCodeAt(vt+=2);vt<dt&&10!==i&&13!==i&&8232!==i&&8233!==i;)++vt,i=pt.charCodeAt(vt);ut.onComment&&ut.onComment(!1,pt.slice(t+2,vt),t,vt,e,ut.locations&&new s)}function l(){for(;vt<dt;){var t=pt.charCodeAt(vt);if(32===t)++vt;else if(13===t){++vt;var e=pt.charCodeAt(vt);10===e&&++vt,ut.locations&&(++St,Mt=vt)}else if(10===t||8232===t||8233===t)++vt,ut.locations&&(++St,Mt=vt);else if(t>8&&t<14)++vt;else if(47===t){var e=pt.charCodeAt(vt+1);if(42===e)r();else{if(47!==e)break;h()}}else if(160===t)++vt;else{if(!(t>=5760&&Ue.test(String.fromCharCode(t))))break;++vt}}}function c(){var t=pt.charCodeAt(vt+1);return t>=48&&t<=57?C(!0):(++vt,a(we))}function u(){var t=pt.charCodeAt(vt+1);return Ct?(++vt,b()):61===t?w(Ce,2):w(xe,1)}function p(){var t=pt.charCodeAt(vt+1);return 61===t?w(Ce,2):w(De,1)}function d(t){var e=pt.charCodeAt(vt+1);return e===t?w(124===t?Ae:Oe,2):61===e?w(Ce,2):w(124===t?$e:Be,1)}function f(){var t=pt.charCodeAt(vt+1);return 61===t?w(Ce,2):w(Ie,1)}function m(t){var e=pt.charCodeAt(vt+1);return e===t?45==e&&62==pt.charCodeAt(vt+2)&&Ge.test(pt.slice(Ot,vt))?(vt+=3,h(),l(),_()):w(Se,2):61===e?w(Ce,2):w(Ve,1)}function g(t){var e=pt.charCodeAt(vt+1),i=1;return e===t?(i=62===t&&62===pt.charCodeAt(vt+2)?3:2,61===pt.charCodeAt(vt+i)?w(Ce,i+1):w(ke,i)):33==e&&60==t&&45==pt.charCodeAt(vt+2)&&45==pt.charCodeAt(vt+3)?(vt+=4,h(),l(),_()):(61===e&&(i=61===pt.charCodeAt(vt+2)?3:2),w(Pe,i))}function v(t){var e=pt.charCodeAt(vt+1);return 61===e?w(Ee,61===pt.charCodeAt(vt+2)?3:2):w(61===t?Te:Me,1)}function y(t){switch(t){case 46:return c();case 40:return++vt,a(me);case 41:return++vt,a(ge);case 59:return++vt,a(ye);case 44:return++vt,a(ve);case 91:return++vt,a(ue);case 93:return++vt,a(pe);case 123:return++vt,a(de);case 125:return++vt,a(fe);case 58:return++vt,a(_e);case 63:return++vt,a(be);case 48:var e=pt.charCodeAt(vt+1);if(120===e||88===e)return T();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return C(!1);case 34:case 39:return S(t);case 47:return u(t);case 37:case 42:return p();case 124:case 38:return d(t);case 94:return f();case 43:case 45:return m(t);case 60:case 62:return g(t);case 61:case 33:return v(t);case 126:return w(Me,1)}return!1}function _(t){if(t?vt=yt+1:yt=vt,ut.locations&&(wt=new s),t)return b();if(vt>=dt)return a(Nt);var e=pt.charCodeAt(vt);if(Ke(e)||92===e)return O();var n=y(e);if(n===!1){var o=String.fromCharCode(e);if("\\"===o||qe.test(o))return O();i(vt,"Unexpected character '"+o+"'")}return n}function w(t,e){var i=pt.slice(vt,vt+e);vt+=e,a(t,i)}function b(){for(var t,e,n="",s=vt;;){vt>=dt&&i(s,"Unterminated regular expression");var o=pt.charAt(vt);if(Ge.test(o)&&i(s,"Unterminated regular expression"),t)t=!1;else{if("["===o)e=!0;else if("]"===o&&e)e=!1;else if("/"===o&&!e)break;t="\\"===o}++vt}var n=pt.slice(s,vt);++vt;var r=A();r&&!/^[gmsiy]*$/.test(r)&&i(s,"Invalid regexp flag");try{var h=new RegExp(n,r)}catch(l){l instanceof SyntaxError&&i(s,l.message),i(l)}return a(Vt,h)}function x(t,e){for(var i=vt,n=0,s=0,o=null==e?1/0:e;s<o;++s){var a,r=pt.charCodeAt(vt);if(a=r>=97?r-97+10:r>=65?r-65+10:r>=48&&r<=57?r-48:1/0,a>=t)break;++vt,n=n*t+a}return vt===i||null!=e&&vt-i!==e?null:n}function T(){vt+=2;var t=x(16);return null==t&&i(yt+2,"Expected hexadecimal number"),Ke(pt.charCodeAt(vt))&&i(vt,"Identifier directly after number"),a(kt,t)}function C(t){var e=vt,n=!1,s=48===pt.charCodeAt(vt);t||null!==x(10)||i(e,"Invalid number"),46===pt.charCodeAt(vt)&&(++vt,x(10),n=!0);var o=pt.charCodeAt(vt);69!==o&&101!==o||(o=pt.charCodeAt(++vt),43!==o&&45!==o||++vt,null===x(10)&&i(e,"Invalid number"),n=!0),Ke(pt.charCodeAt(vt))&&i(vt,"Identifier directly after number");var r,h=pt.slice(e,vt);return n?r=parseFloat(h):s&&1!==h.length?/[89]/.test(h)||Et?i(e,"Invalid number"):r=parseInt(h,8):r=parseInt(h,10),a(kt,r)}function S(t){vt++;for(var e="";;){vt>=dt&&i(yt,"Unterminated string constant");var n=pt.charCodeAt(vt);if(n===t)return++vt,a(Dt,e);if(92===n){n=pt.charCodeAt(++vt);var s=/^[0-7]+/.exec(pt.slice(vt,vt+3));for(s&&(s=s[0]);s&&parseInt(s,8)>255;)s=s.slice(0,-1);if("0"===s&&(s=null),++vt,s)Et&&i(vt-2,"Octal literal in strict mode"),e+=String.fromCharCode(parseInt(s,8)),vt+=s.length-1;else switch(n){case 110:e+="\n";break;case 114:e+="\r";break;case 120:e+=String.fromCharCode(M(2));break;case 117:e+=String.fromCharCode(M(4));break;case 85:e+=String.fromCharCode(M(8));break;case 116:e+="\t";break;case 98:e+="\b";break;case 118:e+="\x0B";break;case 102:e+="\f";break;case 48:e+="\0";break;case 13:10===pt.charCodeAt(vt)&&++vt;case 10:ut.locations&&(Mt=vt,++St);break;default:e+=String.fromCharCode(n)}}else 13!==n&&10!==n&&8232!==n&&8233!==n||i(yt,"Unterminated string constant"),e+=String.fromCharCode(n),++vt}}function M(t){var e=x(16,t);return null===e&&i(yt,"Bad character escape sequence"),e}function A(){Ne=!1;for(var t,e=!0,n=vt;;){var s=pt.charCodeAt(vt);if(Je(s))Ne&&(t+=pt.charAt(vt)),++vt;else{if(92!==s)break;Ne||(t=pt.slice(n,vt)),Ne=!0,117!=pt.charCodeAt(++vt)&&i(vt,"Expecting Unicode escape sequence \\uXXXX"),++vt;var o=M(4),a=String.fromCharCode(o);a||i(vt-1,"Invalid Unicode escape"),(e?Ke(o):Je(o))||i(vt-4,"Invalid Unicode escape"),t+=a}e=!1}return Ne?t:pt.slice(n,vt)}function O(){var t=A(),e=Lt;return!Ne&&je(t)&&(e=ce[t]),a(e,t)}function $(){At=yt,Ot=_t,$t=bt,_()}function I(t){if(Et=t,vt=yt,ut.locations)for(;vt<Mt;)Mt=pt.lastIndexOf("\n",Mt-2)+1,--St;l(),_()}function B(){this.type=null,this.start=yt,this.end=null}function E(){this.start=wt,this.end=null,null!==ft&&(this.source=ft)}function P(){var t=new B;return ut.locations&&(t.loc=new E),ut.directSourceFile&&(t.sourceFile=ut.directSourceFile),ut.ranges&&(t.range=[yt,0]),t}function k(t){var e=new B;return e.start=t.start,ut.locations&&(e.loc=new E,e.loc.start=t.loc.start),ut.ranges&&(e.range=[t.range[0],0]),e}function V(t,e){return t.type=e,t.end=Ot,ut.locations&&(t.loc.end=$t),ut.ranges&&(t.range[1]=Ot),t}function D(t){return ut.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value}function L(t){if(xt===t)return $(),!0}function N(){return!ut.strictSemicolons&&(xt===Nt||xt===fe||Ge.test(pt.slice(Ot,yt)))}function z(){L(ye)||N()||H()}function R(t){xt===t?$():H()}function H(){i(yt,"Unexpected token")}function F(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&i(t.start,"Assigning to rvalue"),Et&&"Identifier"===t.type&&Fe(t.name)&&i(t.start,"Assigning to "+t.name+" in strict mode")}function j(t){At=Ot=vt,ut.locations&&($t=new s),It=Et=null,Bt=[],_();var e=t||P(),i=!0;for(t||(e.body=[]);xt!==Nt;){var n=U();e.body.push(n),i&&D(n)&&I(!0),i=!1}return V(e,"Program")}function U(){(xt===xe||xt===Ce&&"/="==Tt)&&_(!0);var t=xt,e=P();switch(t){case zt:case Ft:$();var n=t===zt;L(ye)||N()?e.label=null:xt!==Lt?H():(e.label=ct(),z());for(var s=0;s<Bt.length;++s){var o=Bt[s];if(null==e.label||o.name===e.label.name){if(null!=o.kind&&(n||"loop"===o.kind))break;if(e.label&&n)break}}return s===Bt.length&&i(e.start,"Unsyntactic "+t.keyword),V(e,n?"BreakStatement":"ContinueStatement");case jt:return $(),z(),V(e,"DebuggerStatement");case Yt:return $(),Bt.push(Qe),e.body=U(),Bt.pop(),R(ie),e.test=Y(),z(),V(e,"DoWhileStatement");case Xt:if($(),Bt.push(Qe),R(me),xt===ye)return q(e,null);if(xt===ee){var a=P();return $(),G(a,!0),V(a,"VariableDeclaration"),1===a.declarations.length&&L(le)?X(e,a):q(e,a)}var a=Z(!1,!0);return L(le)?(F(a),X(e,a)):q(e,a);case Gt:return $(),ht(e,!0);case Zt:return $(),e.test=Y(),e.consequent=U(),e.alternate=L(Wt)?U():null,V(e,"IfStatement");case Kt:return It||ut.allowReturnOutsideFunction||i(yt,"'return' outside of function"),$(),L(ye)||N()?e.argument=null:(e.argument=Z(),z()),V(e,"ReturnStatement");case Jt:$(),e.discriminant=Y(),e.cases=[],R(de),Bt.push(ti);for(var r,h;xt!=fe;)if(xt===Rt||xt===Ut){var l=xt===Rt;r&&V(r,"SwitchCase"),e.cases.push(r=P()),r.consequent=[],$(),l?r.test=Z():(h&&i(At,"Multiple default clauses"),h=!0,r.test=null),R(_e)}else r||H(),r.consequent.push(U());return r&&V(r,"SwitchCase"),$(),Bt.pop(),V(e,"SwitchStatement");case Qt:return $(),Ge.test(pt.slice(Ot,yt))&&i(Ot,"Illegal newline after throw"),e.argument=Z(),z(),V(e,"ThrowStatement");case te:if($(),e.block=W(),e.handler=null,xt===Ht){var c=P();$(),R(me),c.param=ct(),Et&&Fe(c.param.name)&&i(c.param.start,"Binding "+c.param.name+" in strict mode"),R(ge),c.guard=null,c.body=W(),e.handler=V(c,"CatchClause")}return e.guardedHandlers=Pt,e.finalizer=L(qt)?W():null,e.handler||e.finalizer||i(e.start,"Missing catch or finally clause"),V(e,"TryStatement");case ee:return $(),G(e),z(),V(e,"VariableDeclaration");case ie:return $(),e.test=Y(),Bt.push(Qe),e.body=U(),Bt.pop(),V(e,"WhileStatement");case ne:return Et&&i(yt,"'with' in strict mode"),$(),e.object=Y(),e.body=U(),V(e,"WithStatement");case de:return W();case ye:return $(),V(e,"EmptyStatement");default:var u=Tt,p=Z();if(t===Lt&&"Identifier"===p.type&&L(_e)){for(var s=0;s<Bt.length;++s)Bt[s].name===u&&i(p.start,"Label '"+u+"' is already declared");
var d=xt.isLoop?"loop":xt===Jt?"switch":null;return Bt.push({name:u,kind:d}),e.body=U(),Bt.pop(),e.label=p,V(e,"LabeledStatement")}return e.expression=p,z(),V(e,"ExpressionStatement")}}function Y(){R(me);var t=Z();return R(ge),t}function W(t){var e,i=P(),n=!0,s=!1;for(i.body=[],R(de);!L(fe);){var o=U();i.body.push(o),n&&t&&D(o)&&(e=s,I(s=!0)),n=!1}return s&&!e&&I(!1),V(i,"BlockStatement")}function q(t,e){return t.init=e,R(ye),t.test=xt===ye?null:Z(),R(ye),t.update=xt===ge?null:Z(),R(ge),t.body=U(),Bt.pop(),V(t,"ForStatement")}function X(t,e){return t.left=e,t.right=Z(),R(ge),t.body=U(),Bt.pop(),V(t,"ForInStatement")}function G(t,e){for(t.declarations=[],t.kind="var";;){var n=P();if(n.id=ct(),Et&&Fe(n.id.name)&&i(n.id.start,"Binding "+n.id.name+" in strict mode"),n.init=L(Te)?Z(!0,e):null,t.declarations.push(V(n,"VariableDeclarator")),!L(ve))break}return t}function Z(t,e){var i=K(e);if(!t&&xt===ve){var n=k(i);for(n.expressions=[i];L(ve);)n.expressions.push(K(e));return V(n,"SequenceExpression")}return i}function K(t){var e=J(t);if(xt.isAssign){var i=k(e);return i.operator=Tt,i.left=e,$(),i.right=K(t),F(e),V(i,"AssignmentExpression")}return e}function J(t){var e=Q(t);if(L(be)){var i=k(e);return i.test=e,i.consequent=Z(!0),R(_e),i.alternate=Z(!0,t),V(i,"ConditionalExpression")}return e}function Q(t){return tt(et(),-1,t)}function tt(t,e,i){var n=xt.binop;if(null!=n&&(!i||xt!==le)&&n>e){var s=k(t);s.left=t,s.operator=Tt;var o=xt;$(),s.right=tt(et(),n,i);var a=V(s,o===Ae||o===Oe?"LogicalExpression":"BinaryExpression");return tt(a,e,i)}return t}function et(){if(xt.prefix){var t=P(),e=xt.isUpdate;return t.operator=Tt,t.prefix=!0,Ct=!0,$(),t.argument=et(),e?F(t.argument):Et&&"delete"===t.operator&&"Identifier"===t.argument.type&&i(t.start,"Deleting local variable in strict mode"),V(t,e?"UpdateExpression":"UnaryExpression")}for(var n=it();xt.postfix&&!N();){var t=k(n);t.operator=Tt,t.prefix=!1,t.argument=n,F(n),$(),n=V(t,"UpdateExpression")}return n}function it(){return nt(st())}function nt(t,e){if(L(we)){var i=k(t);return i.object=t,i.property=ct(!0),i.computed=!1,nt(V(i,"MemberExpression"),e)}if(L(ue)){var i=k(t);return i.object=t,i.property=Z(),i.computed=!0,R(pe),nt(V(i,"MemberExpression"),e)}if(!e&&L(me)){var i=k(t);return i.callee=t,i.arguments=lt(ge,!1),nt(V(i,"CallExpression"),e)}return t}function st(){switch(xt){case oe:var t=P();return $(),V(t,"ThisExpression");case Lt:return ct();case kt:case Dt:case Vt:var t=P();return t.value=Tt,t.raw=pt.slice(yt,_t),$(),V(t,"Literal");case ae:case re:case he:var t=P();return t.value=xt.atomValue,t.raw=xt.keyword,$(),V(t,"Literal");case me:var e=wt,i=yt;$();var n=Z();return n.start=i,n.end=_t,ut.locations&&(n.loc.start=e,n.loc.end=bt),ut.ranges&&(n.range=[i,_t]),R(ge),n;case ue:var t=P();return $(),t.elements=lt(pe,!0,!0),V(t,"ArrayExpression");case de:return at();case Gt:var t=P();return $(),ht(t,!1);case se:return ot();default:H()}}function ot(){var t=P();return $(),t.callee=nt(st(),!0),L(me)?t.arguments=lt(ge,!1):t.arguments=Pt,V(t,"NewExpression")}function at(){var t=P(),e=!0,n=!1;for(t.properties=[],$();!L(fe);){if(e)e=!1;else if(R(ve),ut.allowTrailingCommas&&L(fe))break;var s,o={key:rt()},a=!1;if(L(_e)?(o.value=Z(!0),s=o.kind="init"):ut.ecmaVersion>=5&&"Identifier"===o.key.type&&("get"===o.key.name||"set"===o.key.name)?(a=n=!0,s=o.kind=o.key.name,o.key=rt(),xt!==me&&H(),o.value=ht(P(),!1)):H(),"Identifier"===o.key.type&&(Et||n))for(var r=0;r<t.properties.length;++r){var h=t.properties[r];if(h.key.name===o.key.name){var l=s==h.kind||a&&"init"===h.kind||"init"===s&&("get"===h.kind||"set"===h.kind);l&&!Et&&"init"===s&&"init"===h.kind&&(l=!1),l&&i(o.key.start,"Redefinition of property")}}t.properties.push(o)}return V(t,"ObjectExpression")}function rt(){return xt===kt||xt===Dt?st():ct(!0)}function ht(t,e){xt===Lt?t.id=ct():e?H():t.id=null,t.params=[];var n=!0;for(R(me);!L(ge);)n?n=!1:R(ve),t.params.push(ct());var s=It,o=Bt;if(It=!0,Bt=[],t.body=W(!0),It=s,Bt=o,Et||t.body.body.length&&D(t.body.body[0]))for(var a=t.id?-1:0;a<t.params.length;++a){var r=a<0?t.id:t.params[a];if((He(r.name)||Fe(r.name))&&i(r.start,"Defining '"+r.name+"' in strict mode"),a>=0)for(var h=0;h<a;++h)r.name===t.params[h].name&&i(r.start,"Argument name clash in strict mode")}return V(t,e?"FunctionDeclaration":"FunctionExpression")}function lt(t,e,i){for(var n=[],s=!0;!L(t);){if(s)s=!1;else if(R(ve),e&&ut.allowTrailingCommas&&L(t))break;i&&xt===ve?n.push(null):n.push(Z(!0))}return n}function ct(t){var e=P();return t&&"everywhere"==ut.forbidReserved&&(t=!1),xt===Lt?(!t&&(ut.forbidReserved&&(3===ut.ecmaVersion?ze:Re)(Tt)||Et&&He(Tt))&&pt.slice(yt,_t).indexOf("\\")==-1&&i(yt,"The keyword '"+Tt+"' is reserved"),e.name=Tt):t&&xt.keyword?e.name=xt.keyword:H(),Ct=!1,$(),V(e,"Identifier")}t.version="0.5.0";var ut,pt,dt,ft;t.parse=function(t,i){return pt=String(t),dt=pt.length,e(i),o(),j(ut.program)};var mt=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},gt=t.getLineInfo=function(t,e){for(var i=1,n=0;;){Ze.lastIndex=n;var s=Ze.exec(t);if(!(s&&s.index<e))break;++i,n=s.index+s[0].length}return{line:i,column:e-n}};t.tokenize=function(t,i){function n(t){return Ot=_t,_(t),s.start=yt,s.end=_t,s.startLoc=wt,s.endLoc=bt,s.type=xt,s.value=Tt,s}pt=String(t),dt=pt.length,e(i),o();var s={};return n.jumpTo=function(t,e){if(vt=t,ut.locations){St=1,Mt=Ze.lastIndex=0;for(var i;(i=Ze.exec(pt))&&i.index<t;)++St,Mt=i.index+i[0].length}Ct=e,l()},n};var vt,yt,_t,wt,bt,xt,Tt,Ct,St,Mt,At,Ot,$t,It,Bt,Et,Pt=[],kt={type:"num"},Vt={type:"regexp"},Dt={type:"string"},Lt={type:"name"},Nt={type:"eof"},zt={keyword:"break"},Rt={keyword:"case",beforeExpr:!0},Ht={keyword:"catch"},Ft={keyword:"continue"},jt={keyword:"debugger"},Ut={keyword:"default"},Yt={keyword:"do",isLoop:!0},Wt={keyword:"else",beforeExpr:!0},qt={keyword:"finally"},Xt={keyword:"for",isLoop:!0},Gt={keyword:"function"},Zt={keyword:"if"},Kt={keyword:"return",beforeExpr:!0},Jt={keyword:"switch"},Qt={keyword:"throw",beforeExpr:!0},te={keyword:"try"},ee={keyword:"var"},ie={keyword:"while",isLoop:!0},ne={keyword:"with"},se={keyword:"new",beforeExpr:!0},oe={keyword:"this"},ae={keyword:"null",atomValue:null},re={keyword:"true",atomValue:!0},he={keyword:"false",atomValue:!1},le={keyword:"in",binop:7,beforeExpr:!0},ce={"break":zt,"case":Rt,"catch":Ht,"continue":Ft,"debugger":jt,"default":Ut,"do":Yt,"else":Wt,"finally":qt,"for":Xt,"function":Gt,"if":Zt,"return":Kt,"switch":Jt,"throw":Qt,"try":te,"var":ee,"while":ie,"with":ne,"null":ae,"true":re,"false":he,"new":se,"in":le,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":oe,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0}},ue={type:"[",beforeExpr:!0},pe={type:"]"},de={type:"{",beforeExpr:!0},fe={type:"}"},me={type:"(",beforeExpr:!0},ge={type:")"},ve={type:",",beforeExpr:!0},ye={type:";",beforeExpr:!0},_e={type:":",beforeExpr:!0},we={type:"."},be={type:"?",beforeExpr:!0},xe={binop:10,beforeExpr:!0},Te={isAssign:!0,beforeExpr:!0},Ce={isAssign:!0,beforeExpr:!0},Se={postfix:!0,prefix:!0,isUpdate:!0},Me={prefix:!0,beforeExpr:!0},Ae={binop:1,beforeExpr:!0},Oe={binop:2,beforeExpr:!0},$e={binop:3,beforeExpr:!0},Ie={binop:4,beforeExpr:!0},Be={binop:5,beforeExpr:!0},Ee={binop:6,beforeExpr:!0},Pe={binop:7,beforeExpr:!0},ke={binop:8,beforeExpr:!0},Ve={binop:9,prefix:!0,beforeExpr:!0},De={binop:10,beforeExpr:!0};t.tokTypes={bracketL:ue,bracketR:pe,braceL:de,braceR:fe,parenL:me,parenR:ge,comma:ve,semi:ye,colon:_e,dot:we,question:be,slash:xe,eq:Te,name:Lt,eof:Nt,num:kt,regexp:Vt,string:Dt};for(var Le in ce)t.tokTypes["_"+Le]=ce[Le];var Ne,ze=n("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Re=n("class enum extends super const export import"),He=n("implements interface let package private protected public static yield"),Fe=n("eval arguments"),je=n("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Ue=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ye="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",We="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",qe=new RegExp("["+Ye+"]"),Xe=new RegExp("["+Ye+We+"]"),Ge=/[\n\r\u2028\u2029]/,Ze=/\r\n|[\n\r\u2028\u2029]/g,Ke=t.isIdentifierStart=function(t){return t<65?36===t:t<91||(t<97?95===t:t<123||t>=170&&qe.test(String.fromCharCode(t)))},Je=t.isIdentifierChar=function(t){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||t>=170&&Xe.test(String.fromCharCode(t))))},Qe={kind:"loop"},ti={kind:"switch"}});var w={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},b={"-":"__negate","+":null},x=c.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(t){this["__"+t]="#"+t},{});return v.inject(x),_.inject(x),Y.inject(x),h&&("complete"===l.readyState?setTimeout(d):Z.add(h,{load:d})),{compile:s,execute:a,load:f,parse:n}}.call(this),r=new(p.inject(c.exports,{enumerable:!0,Base:c,Numerical:m,Key:et,DomEvent:Z,DomElement:G,document:l,window:h,Symbol:E,PlacedSymbol:B})),r.agent.node&&i(28)(r),n=r,s="function"==typeof n?n.call(e,i,e,t):n,!(s!==a&&(t.exports=s)),r}.call(this,"object"==typeof self?self:null)}).call(e,i(1),i(3))},function(t,e){},function(t,e){},function(module,exports,__webpack_require__){(function(Backbone,_,paper,$){var Config=__webpack_require__(21),CV=__webpack_require__(12),Tools=__webpack_require__(23),EVENT=__webpack_require__(7),Blob=function(blob){this.canvasView=blob.canvasView,this.paper=blob.canvasView.paper?blob.canvasView.paper:blob.paper,this.scope=blob.scope,this.blob=blob,this.radiusMultiplicator=blob.radiusMultiplicator?blob.radiusMultiplicator:.4,this.radius=blob.radius?blob.radius:Math.min(this.paper.view.size.width,this.paper.view.size.height)/2*this.radiusMultiplicator,this.mouseForce=blob.mouseForce?blob.mouseForce:.2,this.orbit=blob.orbit?blob.orbit:{h:0,w:0},this.rotate=blob.rotate?blob.rotate:null,this.Angle=0,this.img=blob.img?blob.img:null,this.index=blob.index?blob.index:null,this.bgImg=blob.bgImg?blob.bgImg:null,this.bgColor=blob.bgColor?blob.bgColor:null,this.content=blob.text?blob.text:null,this.multipleContent=blob.multipleContent?blob.multipleContent:null,this.size=blob.size?blob.size:null,this.divide=blob.divide?blob.divide:2,this.multiply=blob.multiply?blob.multiply:.2,this.typeID=blob.typeID?blob.typeID:"NA",this.position={x:blob.position.x,y:blob.position.y},this.blobColor=blob.color?blob.color:"#03215B",this.aGroupElements=[],this.resizeTO=null,this.posX=blob.position.x?eval(blob.position.x):this.paper.view.size.width/2,this.posY=blob.position.y?eval(blob.position.y):this.paper.view.size.height/2,this.canHover=!!blob.canHover&&blob.canHover,this.canClick=!!blob.canClick&&blob.canClick,this.canTrigger=!!blob.canTrigger&&blob.canTrigger,this.goTo=blob.goTo?blob.goTo:null,this.figures=[],this.build(this.radius,blob.path,blob.color,this.posX,this.posY,blob.size,blob.img,blob.bgImg,blob.text,blob.rectangle,blob.bgColor,blob.rotate,blob.multipleContent),Backbone.View.call(this)};_.extend(Blob,Backbone.View),_.extend(Blob.prototype,Backbone.View.prototype),Blob.prototype.build=function(radius,path,color,posX,posY,size,img,bgImg,text,rectangle,bgColor,rotate,multipleContent){this.path=new paper.Path(path),this.path.position.x=text&&CV.isMobile||text&&CV.viewport.width<Config.breakPointMobile?this.paper.view.size.width/2+(this.orbit.w+this.orbit.w*Math.cos(this.Angle*Math.PI/180)):eval(this.position.x)-(this.orbit.w+this.orbit.w*Math.cos(this.Angle*Math.PI/180)),this.path.position.y=eval(this.position.y)-(this.orbit.h+this.orbit.h*Math.sin(this.Angle*Math.PI/180)),this.path.fillColor=color?color:"#03215B",this.path.selected=!1,this.threshold=1*radius,this.path.flatten(1.5*radius),this.defaultScale=this.getScale(size,this.path),this.path.scale(this.defaultScale),this.path.smooth(),this.index||(this.path.name="blob"+this.index),this.figures.push(this.path),rotate&&this.path.rotate(rotate,this.anchor),this.els=[],this.els.push(this.path),bgImg&&(this.bgRaster=new this.paper.Raster({source:bgImg.url}),this.bgRaster.visible=!1,this.bgRectangle=new paper.Rectangle(new paper.Point(0,0),new paper.Point(this.paper.view.size.width,this.paper.view.size.height)),this.bgRaster.on("load",function(){this.bgRaster.position=new paper.Point(posX,posY),this.defaultBgImgScale=this.getScale(bgImg.size,this.bgRaster),this.bgRaster.scale(this.defaultBgImgScale),this.figures.push(this.bgRaster),bgImg.layer&&(this.rectangle=new paper.Path.Rectangle(this.bgRectangle),this.rectangle.fillColor=bgImg.layer.color,this.rectangle.opacity=bgImg.layer.opacity,this.rectangle.selected=!1,this.bgImgGroup=new paper.Group([this.bgRaster,this.rectangle]),this.bgImgGroup.blendMode="source-out",this.figures.push(this.bgRectangle),this.figures.push(this.rectangle),this.figures.push(this.bgImgGroup),this.bgImgGroup.opacity=0,this.trigger(EVENT.BLOB_IMG_LOADED))}.bind(this))),img&&(this.raster=new this.paper.Raster({source:img}),this.raster.on("load",function(){this.raster.position=new paper.Point(posX,posY),this.defaultImgScale=this.getScale(size,this.raster)+.2,this.raster.scale(this.defaultImgScale)}.bind(this)),this.figures.push(this.raster),this.els.push(this.raster)),text&&(this.text=new paper.PointText,this.text.justification="center",this.text.style={fontFamily:"sharp-sans-bold",fontSize:CV.isMobile?20:28,fillColor:text.color},this.text.content=text.content,this.text.position=new paper.Point(this.path.bounds._x+this.path.bounds._width/2,this.path.bounds._y+this.path.bounds._height/2),this.figures.push(this.text),this.els.push(this.text)),rectangle&&(this.bgRectangle=new paper.Rectangle(new paper.Point(0,0),new paper.Size(this.paper.view.size.width,this.paper.view.size.height)),this.rectangle=new paper.Path.Rectangle(this.bgRectangle),this.rectangle.fillColor=rectangle.color,this.rectangle.opacity=rectangle.opacity,this.rectangle.selected=!1,this.figures.push(this.bgRectangle),this.figures.push(this.rectangle),this.els.push(this.rectangle)),bgColor?(this.bgRectangle=new paper.Rectangle(new paper.Point(0,0),new paper.Size(this.paper.view.size.width+10,this.paper.view.size.height+10)),this.rectanglePath=new paper.Path.Rectangle(this.bgRectangle),this.rectanglePath.selected=!1,this.compoundPath=new paper.CompoundPath({children:[this.rectanglePath,this.path],fillColor:bgColor}),this.figures.push(this.bgRectangle),this.figures.push(this.rectanglePath)):(this.group=new this.paper.Group(this.els),this.img&&(this.group.clipped=!0)),this.controlCircle=this.path.clone(),this.controlCircle.fullySelected=!1,this.controlCircle.visible=!1,this.generateSettingsPoints(),this.bindEvents(),this.onResize()},Blob.prototype.remove=function(t){_.each(this.figures,function(e,i){e.remove?e.remove():e=null,this.figures.length-1===i&&t()}.bind(this))},Blob.prototype.generateContent=function(t,e){var i=t?t:16,n=e?e:40;this.title=new paper.PointText,this.title.justification="center",this.title.style={fontFamily:"sharp-sans-bold",fontSize:i,fillColor:this.multipleContent.color},this.title.content=this.multipleContent.title,this.title.position=new paper.Point(this.path.bounds._x+this.path.bounds._width/2,this.path.bounds._y+this.path.bounds._height+n),this.subtitle=new paper.PointText,this.subtitle.justification="center",this.subtitle.style={fontFamily:"kievit-slab-pro-book",fontSize:14,fillColor:this.multipleContent.color},this.subtitle.content=this.multipleContent.subtitle,this.subtitle.position=new paper.Point(this.path.bounds._x+this.path.bounds._width/2,this.title.bounds._y+this.title.bounds._height+10),this.subtitle.opacity=0,this.title.opacity=0,this.figures.push(this.title),this.figures.push(this.subtitle),this.els.push(this.title),this.els.push(this.subtitle)},Blob.prototype.bindEvents=function(){this.path.onMouseEnter=this.onMouseEnter.bind(this)},Blob.prototype.onMouseEnter=function(){},Blob.prototype.onMouseLeave=function(){},Blob.prototype.triggerBlob=function(t){var e={blobX:0,blobY:0,blobColor:this.blobColor};TweenLite.to(e,.2,{blobX:Tools.getRandomNumber(-3,3),blobY:2,blobColor:t,ease:Power1.easeOut,onUpdate:$.proxy(this.animateTriggerBlob,this),onUpdateParams:[e,["blobX","blobY","blobColor"]]})},Blob.prototype.animateTriggerBlob=function(t){this.path.fillColor=t.blobColor,CV.isMobile||CV.isTablet||(this.path.segments[0].point.y+=t.blobY,this.path.segments[0].point.x+=t.blobX,this.path.smooth())},Blob.prototype.generateSettingsPoints=function(){this.controlCircle.remove(),this.controlCircle=null,this.settingsPoints=[],_.each(this.path.segments,function(t,e){this.settingsPoints[e]={relativeX:t.point.x-this.paper.view.center.x,relativeY:t.point.y-this.paper.view.center.y,offsetX:this.radius/200,offsetY:this.radius/200,momentum:new paper.Point(0,0)}}.bind(this)),this.controlCircle=this.path.clone(),this.controlCircle.fullySelected=!1,this.controlCircle.visible=!1,this.text&&(this.text.position=new paper.Point(this.path.bounds._x+this.path.bounds._width/2,this.path.bounds._y+this.path.bounds._height/2)),this.canAnimate=!0},Blob.prototype.animate=function(t){this.canAnimate&&(this.path.smooth(),_.each(this.path.segments,function(e,i){var n=this.settingsPoints[i],s=new paper.Point;s=this.controlCircle.segments[i].point;var o=this.canvasView.mousePoint.subtract(s),a=this.canvasView.mousePoint.getDistance(s),r=a<this.threshold?(a-this.threshold)*this.mouseForce:0,h=0!==a?new paper.Point(-o.x/a*r/5,-o.y/a*r/5):new paper.Point(0,0),l=s.add(h),c=e.point.subtract(l);n.momentum=n.momentum.subtract(c.divide(this.divide)),n.momentum=n.momentum.multiply(this.multiply);var u=n.offsetX/4,p=n.offsetY/4,d=Math.sin(t.time+2*i),f=Math.cos(t.time+2*i);n.momentum=n.momentum.add(new this.paper.Point(f*-u,d*-p)),e.point=e.point.add(n.momentum)}.bind(this)),this.Angle=this.Angle++>360?0:this.Angle++)},Blob.prototype.getScale=function(size,container){var containerSize=container.bounds?container.bounds:container.size;if(size.w){var scale=eval(size.w)/container.bounds._width;size.h&&scale*container.bounds._height<size.h&&(scale=size.h/container.bounds._height),scale*container.bounds._width>size.maxW&&(scale=eval(size.maxW)/container.bounds._width)}else scale=eval(size.h)/containerSize._height;return scale},Blob.prototype.onResize=function(){this.canResize=!0,this.canAnimate=!1,this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){this.onResizeEnd()}.bind(this),300)},Blob.prototype.onResizeEnd=function(){this.generateSettingsPoints()},module.exports=Blob}).call(exports,__webpack_require__(2),__webpack_require__(3),__webpack_require__(26),__webpack_require__(1))},function(t,e,i){var n,n;!function(e){t.exports=e()}(function(){return function t(e,i,s){function o(r,h){if(!i[r]){if(!e[r]){var l="function"==typeof n&&n;if(!h&&l)return n(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[r]={exports:{}};e[r][0].call(u.exports,function(t){var i=e[r][1][t];return o(i?i:t)},u,u.exports,t,e,i,s)}return i[r].exports}for(var a="function"==typeof n&&n,r=0;r<s.length;r++)o(s[r]);return o}({1:[function(t,e,i){function n(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function o(t){return 3*t}function a(t,e,i){return((n(e,i)*t+s(e,i))*t+o(e))*t}function r(t,e,i){return 3*n(e,i)*t*t+2*s(e,i)*t+o(e)}function h(t,e,i,n,s){var o,r,h=0;do r=e+(i-e)/2,o=a(r,n,s)-t,o>0?i=r:e=r;while(Math.abs(o)>p&&++h<d);return r}function l(t,e,i,n){for(var s=0;c>s;++s){var o=r(e,i,n);if(0===o)return e;var h=a(e,i,n)-t;e-=h/o}return e}var c=4,u=.001,p=1e-7,d=10,f=11,m=1/(f-1),g="function"==typeof Float32Array;e.exports=function(t,e,i,n){function s(e){for(var n=0,s=1,a=f-1;s!==a&&o[s]<=e;++s)n+=m;--s;var c=(e-o[s])/(o[s+1]-o[s]),p=n+c*m,d=r(p,t,i);return d>=u?l(e,p,t,i):0===d?p:h(e,n,n+m,t,i)}if(!(t>=0&&1>=t&&i>=0&&1>=i))throw new Error("bezier x values must be in [0, 1] range");var o=g?new Float32Array(f):new Array(f);if(t!==e||i!==n)for(var c=0;f>c;++c)o[c]=a(c*m,t,i);return function(o){return t===e&&i===n?o:0===o?0:1===o?1:a(s(o),e,n)}}},{}]},{},[1])(1)})},function(t,e,i){(function(e,n){var s=i(11),o=i(32),a=i(35),r=i(37),h=i(30),l=i(12),c=i(7),u=i(23),p=function(t,e){this.canUpdate=!0,this.$videoContainer=null,this.videoPlayer=null,this.$overlay=null,this.videoIsPlaying=!1,this.storyCanvasView=null,this.missionId="mission",this.storyId="story",this.imgURL=null,this.isOverlayActive=!1,this.videoLoaded=!1,this.playerIsLoaded=this.playerIsLoaded.bind(this),s.call(this,t,e)};e.extend(p,s),e.extend(p.prototype,s.prototype),p.prototype.init=function(){this.options.mainCanvasView.register(this.missionId,new r({mainCanvasView:this.options.mainCanvasView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.mission,c.CANVAS_SHOWN,d.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.mission,c.CANVAS_HIDDEN,f.bind(this)),s.prototype.init.call(this)},p.prototype.initDOM=function(){this.$videoContainer=this.$el.find(".video-container"),this.$overlay=this.$el.find(".story-video-overlay"),this.$videoCanvas=this.$el.find("#overlay-canvas"),this.$title=this.$el.find(".story-content h2"),this.$description=this.$el.find(".story-content p"),this.$button=this.$el.find(".mask-wrapper"),this.$backButton=this.$el.find(".btn-back"),this.$button[0].addEventListener("click",n.proxy(this.showOverlay,this),!1),this.$backButton[0].addEventListener("click",n.proxy(this.hideOverlay,this),!1),this.imgURL=this.$el[0].dataset.src,s.prototype.initDOM.call(this)},p.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),TweenMax.set(this.$title,{autoAlpha:0,y:25}),TweenMax.set(this.$description,{autoAlpha:0,y:25}),TweenMax.set(this.$button,{autoAlpha:0,y:25}),TweenLite.set(this.$overlay,{autoAlpha:0,ease:Cubic.easeOut}),n(this.$el).removeClass("hidden"),s.prototype.setupDOM.call(this)},p.prototype.onDOMInit=function(){this.storyCanvasView=new a({el:this.$videoCanvas[0],imgURL:this.imgURL},null),this.storyCanvasView.init(),s.prototype.onDOMInit.call(this)},p.prototype.initTLShow=function(){if(this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),"default"===l.breakpoint)var t=0;else var t=.5;this.TL.show.to(this.$el,t,{autoAlpha:1,display:"flex",ease:Power4.easeOut},.1).to(this.$title,.5,{autoAlpha:1,y:0,ease:Power4.easeOut},.8).to(this.$description,.5,{autoAlpha:1,y:0,ease:Power4.easeOut},.85).to(this.$button,.5,{autoAlpha:1,y:0,ease:Power4.easeOut},.9)},p.prototype.show=function(){this.TL.show.play(0),"default"===l.breakpoint&&this.options.mainCanvasView.showCanvas(this.missionId)},p.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(c.BLOCK_SHOWN),"sml"===l.breakpoint&&this.trigger(c.CANVAS_SHOWN),s.prototype.onShown.call(this)};var d=function(){this.trigger(c.CANVAS_SHOWN)};p.prototype.initTLHide=function(){if(this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),"default"===l.breakpoint)var t="+=1",e=.1;else var t=.5,e=.5;this.TL.hide.to(this.$title,.5,{autoAlpha:0,y:-20,ease:new Ease(h(.25,1,.5,1.25))},.2).to(this.$description,.5,{autoAlpha:0,y:-20,ease:new Ease(h(.25,1,.5,1.25))},.3).to(this.$button,.5,{autoAlpha:0,y:-20,ease:new Ease(h(.25,1,.5,1.25))},.4).to(this.$el,e,{autoAlpha:0,display:"none",ease:new Ease(h(.25,1,.5,1.25))},t)},p.prototype.hide=function(){"default"===l.breakpoint?this.options.mainCanvasView.hideCanvas(this.missionId):this.TL.hide.play(0)},p.prototype.onHidden=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),TweenMax.set(this.$title,{autoAlpha:0,y:-20}),TweenMax.set(this.$description,{autoAlpha:0,y:-20}),TweenMax.set(this.$button,{autoAlpha:0,y:-20}),this.trigger(c.BLOCK_HIDDEN),"sml"===l.breakpoint&&this.trigger(c.CANVAS_HIDDEN),s.prototype.onHidden.call(this)};var f=function(){this.onHidden(),this.trigger(c.CANVAS_HIDDEN)};p.prototype.onUpdate=function(){s.prototype.onUpdate.call(this)},p.prototype.showOverlay=function(){TweenMax.set([this.options.mainView.$canvas,this.$videoCanvas],{pointerEvents:"none"}),TweenMax.set(this.$el[0],{zIndex:"initial"}),this.videoLoaded?(this.trigger(c.STORY_OVERLAY_SHOWN),this.isOverlayActive=!0,TweenLite.to(this.$overlay,.3,{autoAlpha:1,delay:.1,onComplete:function(){this.videoPlayer.togglePlay(),this.videoIsPlaying=!0}.bind(this)})):u.loadYTAPI(function(){this.initVideo()}.bind(this))},p.prototype.initVideo=function(){this.videoIsPlaying=!0,this.videoPlayer=new o({el:this.$videoContainer,hasCustomControls:!0,callback:this.playerIsLoaded},null),this.videoPlayer.init()},p.prototype.playerIsLoaded=function(){this.videoLoaded=!0,this.trigger(c.STORY_OVERLAY_SHOWN),this.isOverlayActive=!0,TweenLite.to(this.$overlay,.3,{autoAlpha:1,delay:0,onComplete:function(){this.videoPlayer.togglePlay(),this.videoIsPlaying=!0}.bind(this)})},p.prototype.hideOverlay=function(){TweenMax.set([this.options.mainView.$canvas,this.$videoCanvas],{pointerEvents:"auto"}),this.videoPlayer&&this.videoPlayer.stop(),this.videoIsPlaying=!1,TweenLite.to(this.$overlay,.15,{autoAlpha:0,onComplete:function(){this.isOverlayActive=!1,TweenMax.set(this.$el[0],{zIndex:9}),this.trigger(c.STORY_OVERLAY_HIDDEN)}.bind(this)})},p.prototype.onResize=function(){this.storyCanvasView&&this.storyCanvasView.onResize(),s.prototype.onResize.call(this)},p.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=p}).call(e,i(3),i(1))},function(t,e,i){(function(e){var n=i(13),s=i(7),o=i(12),a=i(33),r=function(t,e){this.YTPlayer=null,this.togglePoster=!!t.togglePoster&&t.togglePoster,this.$poster=null,this.$overlay=null,this.$YTPlayerContainer=null,this.$controlsContainer=null,this.callback=t.callback?t.callback:null,this.hasCustomControls=!!t.hasCustomControls&&t.hasCustomControls,this.autoPlay=!!t.autoPlay&&t.autoPlay,n.call(this,t,e)};e.extend(r,n),e.extend(r.prototype,n.prototype),r.prototype.initDOM=function(){this.$mask=this.$el.find(".mask"),this.$poster=this.$el.find(".poster"),this.$overlay=this.$el.find(".overlay-content"),this.$title=this.$el.find(".overlay-content h3"),this.$subtitle=this.$el.find(".overlay-content p"),this.$button=this.$el.find(".overlay-content button"),this.$YTPlayerContainer=this.$el.find(".yt-player"),this.$elsText=[this.$title,this.$subtitle],this.$elsContent=[this.$title,this.$subtitle,this.$button],this.hasCustomControls&&(this.$controlsContainer=this.$el.find(".custom-video-controls-container")),n.prototype.initDOM.call(this)},r.prototype.onDOMInit=function(){h.call(this),n.prototype.onDOMInit.call(this)},r.prototype.bindEvents=function(){this.listenToOnce(this.YTPlayer,s.READY,l.bind(this)),this.listenTo(this.YTPlayer,s.ON_END,c.bind(this)),n.prototype.bindEvents.call(this)},r.prototype.show=function(){n.prototype.show.call(this)},r.prototype.hide=function(){n.prototype.hide.call(this)},r.prototype.togglePlay=function(t){var e=!(!t||!t.cssMask)&&t.cssMask;this.YTPlayer&&(e&&this.toggleMask(),this.YTPlayer.togglePlay())},r.prototype.pause=function(t){var e=!(!t||!t.cssMask)&&t.cssMask;this.YTPlayer&&(e&&this.toggleMask({forceShow:!0}),this.YTPlayer.pause())},r.prototype.play=function(t){var e=!(!t||!t.cssMask)&&t.cssMask;this.YTPlayer&&(e&&this.toggleMask(),this.YTPlayer.play())},r.prototype.toggleMask=function(t){var e=!(!t||!t.forceShow)&&t.forceShow;if(this.$mask){var i="hide";this.YTPlayer.isPlaying||1==e?(this.$mask.removeClass(i),(o.isMobile||o.isTablet)&&(TweenMax.set(this.$mask,{zIndex:5}),TweenMax.set(this.$overlay,{zIndex:5}))):(this.$mask.addClass(i),(o.isMobile||o.isTablet)&&(TweenMax.set(this.$mask,{zIndex:0}),TweenMax.set(this.$overlay,{zIndex:0})))}},r.prototype.stop=function(){this.YTPlayer&&this.YTPlayer.stop()};var h=function(){this.YTPlayer=new a,this.YTPlayer.init({id:this.$YTPlayerContainer.attr("id"),youtubeID:this.$YTPlayerContainer.attr("data-youtubeid"),noInit:!0,$YTPlayerContainer:this.$YTPlayerContainer,hasCustomControls:this.hasCustomControls,$controlsContainer:this.$controlsContainer,$poster:this.$poster,$overlay:this.$overlay,$elsText:this.$elsText,$button:this.$button,$elsContent:this.$elsContent,$mask:this.$mask,togglePoster:this.togglePoster})},l=function(){this.callback&&this.callback(),this.callback=null,this.autoPlay&&this.YTPlayer.togglePlay(),this.trigger(s.READY)},c=function(){this.toggleMask({forceShow:!0}),this.trigger(s.ON_END)};r.prototype.dispose=function(){this.YTPlayer.dispose(),this.YTPlayer=null,this.stopListening(),n.prototype.dispose.call(this)},t.exports=r}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(13),o=i(7),a=i(12),r=i(34),h=function(t,e){this.config={},this.player=null,this.isPlaying=!1,this.isInit=!1,this.isInitializing=!1,this.currentTime=0,this.quality=100,this.state=0,this.iframe=null,this.hasCustomControls=null,this.customControlsView=null,s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.init=function(t){return this.config=t,this.config.youtubeID?(this.quality=this.config.quality||100,this.customPlayer=this.config.customPlayer||!0,this.hasCustomControls=this.config.hasCustomControls||!1,this.config.hasCustomControls&&v.call(this),l.call(this),void u.call(this)):null};var l=function(){},c=function(){},u=function(){if(!this.isInitializing){if(this.isInitializing=!0,null!=this.player)return null;var t=this.customPlayer?0:1,e={autoplay:0,controls:t,showinfo:0,modestbranding:1,iv_load_policy:3};this.player=new YT.Player(this.config.id,{height:this.config.height||"100%",width:this.config.width||"100%",videoId:this.config.youtubeID,playerVars:this.config.playerVars||e,events:{onReady:n.proxy(p,this),onStateChange:n.proxy(d,this),onPlaybackQualityChange:n.proxy(f,this),onError:n.proxy(m,this)}})}},p=function(){this.player.setPlaybackQuality(this.quality),this.isInit=!0,this.isInitializing=!1,this.duration=this.player.getDuration(),this.config.hasCustomControls&&this.customControlsView.setDuration(this.duration),this.trigger(o.READY)},d=function(t){this.state=t.data,this.trigger(o.STATE_CHANGE,t),this.noRAF=2==this.state||0==this.state,this.isPlaying=1==this.state,this.isBuffering=3==this.state,0==this.state?(this.trigger(o.ON_END,{mediaID:this.config.youtubeID}),w.call(this),this.stop()):this.state<=2?1==this.state?(this.duration=this.player.getDuration(),this.onUpdate(),this.trigger(o.ON_PLAY,{
mediaID:this.config.youtubeID}),b.call(this)):(this.trigger(o.ON_PAUSE,{mediaID:this.config.youtubeID}),w.call(this)):g.call(this)},f=function(t){this.quality=t.data,this.trigger(o.QUALITY_CHANGE,t)},m=function(t){switch(t.data){case 2:break;case 5:break;case 100:break;case 101:break;case 150:}},g=function(){},v=function(){this.config.hasCustomControls&&(this.customControlsView=new r({el:this.config.$controlsContainer},null),this.customControlsView.init(),y.call(this))},y=function(){this.listenTo(this.customControlsView,o.ON_FULLSCREEN,this.toggleFullScreen.bind(this)),this.listenTo(this.customControlsView,o.ON_TOGGLE_PLAY,this.togglePlay.bind(this)),this.listenTo(this.customControlsView,o.ON_SEEK,this.onSeek.bind(this))},_=function(){this.stopListening(this.customControlsView,o.ON_FULLSCREEN,this.toggleFullScreen.bind(this)),this.stopListening(this.customControlsView,o.ON_TOGGLE_PLAY,this.togglePlay.bind(this)),this.stopListening(this.customControlsView,o.ON_SEEK,this.onSeek.bind(this))};h.prototype.toggleFullScreen=function(){this.iframe=this.player.a;var t=this.iframe.requestFullScreen||this.iframe.mozRequestFullScreen||this.iframe.webkitRequestFullScreen||this.iframe.msRequestFullscreen;t&&t.bind(this.iframe)()},h.prototype.togglePlay=function(){return a.isMobile||a.isTablet?void b.call(this):void(this.isPlaying?this.pause():this.play())},h.prototype.onMouseEnter=function(){this.mouseIsHover||(document.body.style.cursor="pointer",this.mouseIsHover=!0)},h.prototype.onMouseLeave=function(){this.mouseIsHover&&(document.body.style.cursor="default",this.posterIsVisibile&&!this.textIsVisible&&(this.textIsVisible=!0,TweenMax.staggerTo(this.config.$elsText,.3,{autoAlpha:1,ease:Cubic.easeOut},.1)),this.mouseIsHover=!1)},h.prototype.play=function(){!this.player||!this.isInit||this.isBuffering||this.isPlaying||a.isMobile||a.isTablet||(this.player.playVideo(),x.call(this),this.config.hasCustomControls&&(this.customControlsView.isPlaying=!0))},h.prototype.pause=function(){this.player&&this.isInit&&!this.isBuffering&&this.isPlaying&&(this.player.pauseVideo(),T.call(this),this.config.hasCustomControls&&(this.customControlsView.isPlaying=!1))},h.prototype.stop=function(){this.player&&this.isInit&&(this.player.stopVideo(),T.call(this),this.config.hasCustomControls&&(this.customControlsView.isPlaying=!1),w.call(this))};var w=function(){this.config.$poster&&(this.config.togglePoster&&TweenLite.to(this.config.$poster,.3,{autoAlpha:1,ease:Cubic.easeOut}),this.config.$elsContent&&(a.isMobile||a.isTablet?TweenMax.staggerTo(this.config.$elsContent,.3,{autoAlpha:1,display:"block",ease:Cubic.easeOut},.1):TweenMax.staggerTo(this.config.$button,.3,{autoAlpha:1,ease:Cubic.easeOut},.1),this.posterIsVisibile=!0))},b=function(){this.config.$poster&&(TweenLite.to(this.config.$poster,.3,{autoAlpha:0,ease:Cubic.easeOut}),this.config.$elsContent&&(TweenMax.staggerTo(this.config.$elsContent,.3,{autoAlpha:0,ease:Cubic.easeOut},.1,function(){(a.isMobile||a.isTablet)&&TweenMax.set(this.config.$elsContent,{display:"none"})}.bind(this)),this.posterIsVisibile=!1,this.textIsVisible=!1))},x=function(){this.hasCustomControls&&this.customControlsView.togglePlayBtn()},T=function(){this.hasCustomControls&&this.customControlsView.resetPlayBtn()};h.prototype.currentTime=function(t){if(this.player&&this.isInit)return t?void this.player.seekTo(t):this.player.getCurrentTime()},h.prototype.bufferedPercent=function(){return this.player&&this.isInit?this.player.getVideoLoadedFraction():null},h.prototype.onSeek=function(t){if(this.player&&this.isInit){var e=this.duration*t.pct;this.player.seekTo(e),this.play()}},h.prototype.onUpdate=function(){this.player&&this.isInit&&(C.call(this),this.noRAF||window.requestAnimationFrame(this.onUpdate.bind(this)))};var C=function(){this.hasCustomControls&&this.duration&&(this.currentTime=this.player.getCurrentTime(),this.customControlsView.setCurrentPctPlayed(this.currentTime/this.duration),this.customControlsView.updateDuration(this.currentTime))};h.prototype.dispose=function(){this.noRAF=!0,this.player=null,this.isInit=!1,this.hasCustomControls||(_.call(this),this.customControlsView.dispose()),this.customControlsView=null,c.call(this),this.config.$poster=null,this.config.$YTPlayerContainer=null,this.config.$controlsContainer=null,this.config=null},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(13),o=i(7),a=function(t,e){this.events={"click .timeline":"onTimelineClick","click .btn-play, .btn-pause ":"togglePlay","click .btn-fullscreen":"toggleFullScreen"},this.$timeline=null,this.$currentTime=null,this.$playBtn=null,this.$pauseBtn=null,this.$elapsed=null,this.$duration=null,this.isPlaying=!1,s.call(this,t,e)};e.extend(a,s),e.extend(a.prototype,s.prototype),a.prototype.initDOM=function(){this.$timeline=this.$el.find(".timeline"),this.$currentTime=this.$timeline.find(".current-time"),this.$playBtn=this.$el.find(".btn-play"),this.$pauseBtn=this.$el.find(".btn-pause"),this.$elapsed=this.$el.find(".elapsed-time"),this.$duration=this.$el.find(".total-time")},a.prototype.initPlay=function(){this.isPlaying||(this.isPlaying=!0)},a.prototype.togglePlay=function(){this.trigger(o.ON_TOGGLE_PLAY)},a.prototype.toggleFullScreen=function(){this.trigger(o.ON_FULLSCREEN)},a.prototype.togglePlayBtn=function(){n(this.$pauseBtn).toggleClass("active"),n(this.$playBtn).toggleClass("active")},a.prototype.resetPlayBtn=function(){n(this.$pauseBtn).removeClass("active"),n(this.$playBtn).addClass("active")},a.prototype.onTimelineClick=function(t){this.trigger(o.ON_SEEK,{pct:(t.pageX-this.$el.offset().left)/parseInt(this.$timeline.width(),10)})},a.prototype.setCurrentPctPlayed=function(t){TweenLite.set(this.$currentTime,{x:(100*t).toFixed(2)+"%",force3D:!0})},a.prototype.setDuration=function(t){this.$elapsed[0]&&(this.$elapsed[0].textContent="00:00",this.$duration[0].textContent=this.toHHMMSS(t).toString())},a.prototype.updateDuration=function(t){this.$elapsed[0]&&(this.$elapsed[0].textContent=this.toHHMMSS(t).toString())},a.prototype.toHHMMSS=function(t){var e=parseInt(t,10),i=Math.floor(e/3600),n=Math.floor((e-3600*i)/60),s=e-3600*i-60*n;return i=i<10?"0"+i:i,n=n<10?"0"+n:n,s=s<10?"0"+s:s,n+":"+s},a.prototype.dispose=function(){this.$timeline=null,this.$currentTime=null,this.$playBtn=null,AbstractDOMView.prototype.dispose.call(this)},t.exports=a}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(29),o=i(36),a=i(7),r=i(12),h=function(t,e){this.TL={},this.imgURL=t.imgURL,o.call(this,t,e)};e.extend(h,o),e.extend(h.prototype,o.prototype),h.prototype.init=function(){this.paper=new n.PaperScope,this.paper.setup(this.options.el),this.tool=new this.paper.Tool,this.mousePoint=new n.Point((-500),(-500)),r.viewport.width>1500?this.blobMaxSize=700:r.viewport.width<1500&&r.viewport.width>922?this.blobMaxSize=550:this.blobMaxSize=.75*r.viewport.width,this.mainBlob=new s({scope:this,canvasView:this,path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",position:{x:"this.paper.view.size.width / 2",y:"this.paper.view.size.height / 2"},size:{w:this.blobMaxSize,maxW:this.blobMaxSize},orbit:{h:3,w:3},divide:3,multiply:.3,bgImg:{url:this.imgURL,size:{w:r.viewport.width,h:r.viewport.height},layer:{color:"black",opacity:.8}},canHover:!0}),this.imgLoaded=!1,this.mainBlob.canAnimate=!1,this.listenTo(this.mainBlob,a.BLOB_IMG_LOADED,l.bind(this)),o.prototype.init.call(this)};var l=function(){this.imgLoaded=!0,this.mainBlob.bgRaster.visible=!0,this.mainBlob.bgImgGroup.opacity=1};h.prototype.onResize=function(){if(this.mainBlob&&this.imgLoaded){if(this.mainBlob.bgRaster.bounds.width=r.viewport.width+20,this.mainBlob.bgRaster.bounds.height=r.viewport.height+20,this.mainBlob.rectangle.bounds.width=r.viewport.width+20,this.mainBlob.rectangle.bounds.height=r.viewport.height+20,this.mainBlob.rectangle.position.x=r.viewport.width/2,this.mainBlob.rectangle.position.y=r.viewport.height/2,this.mainBlob.bgRaster.position.x=r.viewport.width/2,this.mainBlob.bgRaster.position.y=r.viewport.height/2,this.mainBlob.path.position.x=r.viewport.width/2,this.mainBlob.path.position.y=r.viewport.height/2,r.viewport.width>1500)var t=700;else if(r.viewport.width<1500&&r.viewport.width>922)var t=550;else var t=.75*r.viewport.width;var e=this.mainBlob.getScale({w:t},this.mainBlob.path);this.mainBlob.path.scale(e),this.mainBlob.onResize()}},t.exports=h}).call(e,i(3),i(26))},function(t,e,i){(function(e){var n=i(13),s=(i(12),function(t,e){this.options=t});e.extend(s,n),e.extend(s.prototype,n.prototype),s.prototype.init=function(){this.bindEvents()},s.prototype.bindEvents=function(){},s.prototype.onResize=function(){},s.prototype.animate=function(){},s.prototype.dispose=function(){},t.exports=s}).call(e,i(3))},function(t,e,i){(function(e){var n=i(29),s=i(13),o=(i(30),i(7)),a=i(12),r=function(t,e){this.mainCanvasView=t.mainCanvasView,this.canAnimate=!1,this.hideDirection=null,s.call(this,t,e)};e.extend(r,s),e.extend(r.prototype,s.prototype),r.prototype.init=function(){"default"===a.breakpoint?this.blobMaxSize=2.5*window.innerWidth:this.blobMaxSize=2.5*window.innerHeight,this.mainBlob=new n({scope:this,canvasView:this.mainCanvasView,bgColor:"#F1F1F9",position:{x:"this.paper.view.size.width / 2",y:"this.paper.view.size.height"},size:{w:"window.innerWidth * 0.2",maxW:"window.innerWidth * 1.2"},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",orbit:{h:2,w:2}}),this.mainBlob.path.visible=!1,this.mainBlob.rectanglePath.visible=!1,this.mainBlob.canAnimate=!1,s.prototype.init.call(this)},r.prototype.initTL=function(){this.initTLShow(),s.prototype.initTL.call(this)},r.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.resetBlob();var t={width:this.mainBlob.path.bounds._width,y:this.mainBlob.path.position.y};this.TL.show.to(t,.8,{width:this.blobMaxSize,y:a.viewport.height,onUpdate:function(){var e=this.mainBlob.getScale({w:t.width},this.mainBlob.path);this.mainBlob.path.scale(e)}.bind(this),onUpdateParams:["{self}"],ease:Power2.easeInOut},0)},r.prototype.show=function(){this.TL.show&&this.killTL("show"),this.initTLShow(),TweenMax.set(this.mainCanvasView.options.el,{zIndex:30}),this.mainBlob.path.visible=!0,this.mainBlob.rectanglePath.visible=!0,this.TL.show&&this.TL.show.play(0)},r.prototype.onShown=function(){TweenMax.set(this.mainCanvasView.options.el,{zIndex:0}),this.mainBlob.generateSettingsPoints(),this.trigger(o.CANVAS_SHOWN)},r.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)});var t={width:this.mainBlob.path.bounds._width,y:this.mainBlob.path.position.y};this.TL.hide.to(t,.9,{width:.4*window.innerWidth,onUpdate:function(){var e=this.mainBlob.getScale({w:t.width},this.mainBlob.path);this.mainBlob.path.scale(e)}.bind(this),onUpdateParams:["{self}"],ease:Sine.easeOut},0).to(t,1.1,{y:0-this.mainBlob.path.bounds._height,onUpdate:function(){this.mainBlob.path.position.y=t.y}.bind(this),onUpdateParams:["{self}"],ease:Sine.easeInOut},"-=0.6")},r.prototype.hide=function(){this.TL.hide&&this.killTL("hide"),this.initTLHide(),TweenMax.set(this.mainCanvasView.options.el,{zIndex:30}),"DOWN"===a.scrollYDirection?this.hideDirection=0-this.mainBlob.path.bounds._height:this.hideDirection=a.viewport.height+this.mainBlob.path.bounds._height,this.TL.hide&&this.TL.hide.play(0)},r.prototype.onHidden=function(){TweenMax.set(this.mainCanvasView.options.el,{zIndex:0}),this.resetBlob(),this.mainBlob.path.visible=!1,this.mainBlob.rectanglePath.visible=!1,this.trigger(o.CANVAS_HIDDEN),this.mainBlob.generateSettingsPoints()},r.prototype.resetBlob=function(){this.mainBlob.path.position.y=a.viewport.height;var t=this.mainBlob.getScale({w:.2*a.viewport.width},this.mainBlob.path);this.mainBlob.path.scale(t)},r.prototype.animate=function(){},r.prototype.onResize=function(){this.mainBlob.rectanglePath.bounds.width=a.viewport.width+20,this.mainBlob.rectanglePath.bounds.height=a.viewport.height+20,this.mainBlob.rectanglePath.position.x=a.viewport.width/2,this.mainBlob.rectanglePath.position.y=a.viewport.height/2,this.mainBlob.path.position.x=a.viewport.width/2;var t=this.mainBlob.getScale({w:this.blobMaxSize},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.onResize()},t.exports=r}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(11),o=i(32),a=(i(39),i(12)),r=i(7),h=i(23),l=(i(21),function(t,e){this.canUpdate=!0,this.$videoContainers=null,this.aVideoPlayers=[],this.$canvasElements=null,this.aCanvasElements=[],this.elementIndex=0,this.canvasHeight=null,this.currentVideoIndex=0,this.scrollOffset=null,this.descriptions=[],this.height=0,this.canScroll=!0,this.id="values",this.events={"click .video-container":"onVideoClick","mouseenter .mask":"onMouseEnterMask","mouseleave .mask":"onMouseLeaveMask"},this.currentIndexMenu=0,s.call(this,t,e)});e.extend(l,s),e.extend(l.prototype,s.prototype),l.prototype.init=function(){s.prototype.init.call(this)},l.prototype.initDOM=function(){this.$videoContainers=this.$el.find(".video-container"),this.$valuesContainers=this.$el.find(".value-video"),this.$posters=this.$el.find(".poster img"),this.$title=this.$el.find("h2"),this.$blocksValuesEls=this.$el.find(".video-container"),this.$menu=this.$el.find(".value-title-wrapper")[0];var t;e.each(this.$valuesContainers,function(e){var i=n(e).attr("data-description");t=i.replace(/<\/?p[^>]*>/g,""),this.descriptions.push(t)}.bind(this)),this.hBlock=n(this.$el).height(),this.wBlock=n(this.$el).width(),this.indexVideo=0,s.prototype.initDOM.call(this)},l.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),n(this.$el).removeClass("hidden"),s.prototype.setupDOM.call(this)},l.prototype.onDOMInit=function(){h.loadYTAPI(function(){this.initVideos()}.bind(this)),s.prototype.onDOMInit.call(this)},l.prototype.onMouseEnterMask=function(t){t.target.parentElement.classList.contains("no-video-player")||TweenMax.to(this.$posters[parseInt(n(t.currentTarget).attr("data-id"))],.8,{scale:1.05,ease:Expo.easeOut})},l.prototype.onMouseLeaveMask=function(t){t.target.parentElement.classList.contains("no-video-player")||TweenMax.to(this.$posters[parseInt(n(t.currentTarget).attr("data-id"))],.8,{scale:1,ease:Expo.easeOut})},l.prototype.onVideoClick=function(t){t.target.parentElement.classList.contains("custom-video-controls-container")||t.target.parentElement.classList.contains("no-video-player")||this.playVideo(parseInt(n(t.currentTarget).attr("data-id")))},l.prototype.playVideo=function(t){e.each(this.aVideoPlayers,function(e){e.id===t?(this.currentVideoIndex=e.id,e.isInit?c(e.player):(e.player.init(),e.isInit=!0,this.listenToOnce(e.player,r.READY,c.bind(this,e.player)),this.listenTo(e.player,r.ON_END,u.bind(this,e.player)))):u(e.player)}.bind(this))},l.prototype.playerEnded=function(){},l.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.5,{autoAlpha:1,display:"block"},0),this.TL.show.staggerFromTo(this.$videoContainers,.6,{opacity:0,y:100},{opacity:1,ease:Expo.easeOut,y:0,scale:1},.05,.5),this.TL.show.fromTo(this.$title,.4,{opacity:0,y:50},{opacity:1,y:0,ease:Expo.easeOut},.4)},l.prototype.show=function(){setTimeout(function(){this.TL.show.play(0)}.bind(this),0)},l.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.hBlock=n(this.$el).height(),TweenMax.set(this.options.mainView.$canvas,{display:"none",zIndex:0}),TweenMax.set(this.options.mainCanvasView.options.el,{zIndex:0}),a.mainView.setNormalScrollBehavior(),this.trigger(r.BLOCK_SHOWN),this.trigger(r.CANVAS_SHOWN),s.prototype.onShown.call(this)},l.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$videoContainers,.5,{opacity:0,y:-200,ease:Power4.easeIn},0).to(this.$title,.5,{opacity:0,y:-50,ease:Power4.easeIn},0).to(this.$el,.3,{autoAlpha:0,display:"none"},"-=0.1")},l.prototype.hide=function(){TweenMax.set(this.options.mainView.$canvas,{display:"block"}),e.each(this.aVideoPlayers,function(t){t.player.YTPlayer&&t.player.YTPlayer.isPlaying&&t.player.stop()}.bind(this)),this.TL.hide.play(0)},l.prototype.onHidden=function(){this.trigger(r.BLOCK_HIDDEN),this.trigger(r.CANVAS_HIDDEN),a.mainView.setNormalScrollBehavior(!1),s.prototype.onHidden.call(this)};var c=function(t){if(t.YTPlayer.isPlaying)return void t.pause({cssMask:!1});if(t.togglePlay({cssMask:!0}),!a.isMobile){var e=n(t.el).find(".custom-video-controls-container"),i=n(t.el).find(".description");e.removeClass("hidden"),i.addClass("hidden")}},u=function(t){if(t.pause({cssMask:!0}),!a.isMobile){var e=n(t.el).find(".custom-video-controls-container"),i=n(t.el).find(".description");e.addClass("hidden"),i.removeClass("hidden")}};l.prototype.onResize=function(){this.hBlock=n(this.$el).height(),s.prototype.onResize.call(this)},l.prototype.dispose=function(){s.prototype.dispose.call(this)},l.prototype.onUpdate=function(){a.isScrolling&&(this.percentage=(a.scrollY+a.viewport.height)/this.hBlock,a.viewport.width>920?(TweenMax.to(this.$valuesContainers[0],.2,{y:this.percentage*-100,ease:Linear.easeNone,delay:.2}),TweenMax.to(this.$valuesContainers[1],.2,{y:this.percentage*-150,ease:Linear.easeNone,delay:.2}),TweenMax.to(this.$valuesContainers[2],.2,{y:this.percentage*-100,ease:Linear.easeNone,delay:.2}),TweenMax.to(this.$valuesContainers[3],.2,{y:this.percentage*-150,ease:Linear.easeNone,delay:.2}),TweenMax.to(this.$valuesContainers[4],.2,{y:this.percentage*-100,ease:Linear.easeNone,delay:.2}),TweenMax.to(this.$valuesContainers[5],.2,{y:this.percentage*-150,ease:Linear.easeNone,delay:.2}),TweenMax.to(this.$valuesContainers[6],.2,{y:this.percentage*-100,ease:Linear.easeNone,delay:.2})):TweenMax.set(this.$valuesContainers,{y:0}),s.prototype.onUpdate.call(this))},l.prototype.initVideos=function(){var t;e.each(this.$videoContainers,function(e,i){t=new o({el:e,hasCustomControls:!0,onVideoEnd:this.playerEnded,togglePoster:!0},null),this.aVideoPlayers.push({id:i,player:t,isInit:!1})}.bind(this))},t.exports=l}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(29),o=i(13),a=i(7),r=i(12),h=(i(23),function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.$valuesContainers=null,this.canvasHeight=0,this.canvasWidth=0,this.blockConfig=[],this.descriptions=[],this.isShown=!1,this.blobs=[],this.itemsPosition=[],o.call(this,t,e)});e.extend(h,o),e.extend(h.prototype,o.prototype),h.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,o.prototype.init.call(this)},h.prototype.onDOMInit=function(){this.buildBlobs(),o.prototype.onDOMInit.call(this)},h.prototype.buildBlobs=function(){this.bgRectangle=new n.Rectangle(new n.Point(0,0),new n.Size(this.paper.view.size.width+10,this.paper.view.size.height+10)),this.rectanglePath=new n.Path.Rectangle(this.bgRectangle),this.paths=["M71.4,39.9c26.3-0.3,73.5-6.5,104.9,3.9c18.2,6.1,21.6,18.5,22.4,41c0,0,7,36.1-16.9,58.6c-12.2,11.5-43.3,7.8-74.3,7.2c-36-0.9-48.3,4.8-85.9-2.6c-22.9-4.5-19.9-27.2-20.4-61.4c-1-23.4,6.3-33.7,17.4-40C31.8,39.2,52.5,41.6,71.4,39.9z","M131.5,150.4c-21.9-0.1-67.8,6.7-99.1-3.7c-18.2-6.1-31.5-18-32.3-40.4c0,0-0.9-29.9,24-50c13-10.5,33.2-18.3,64.2-17.8c36,0.9,63.5-0.6,82.1,5.9c19,6.6,28.9,21.5,29.3,55.7c1,23.4-5.9,35.3-16.9,41.6C169.6,149.1,150.4,148.7,131.5,150.4z","M131.3,147.6c-21.9-0.1-74.1,9.6-105.4-0.8c-18.2-6.1-25-18.1-25.8-40.5c0,0-2.1-32.1,22.8-52.2c13-10.5,34.6-12.6,65.6-12c36,0.9,65.7-2.2,84.4,4.3c19,6.6,26.4,19.6,26.9,53.8c1,23.4-5.6,37.3-16.7,43.5C169.9,151.1,150.2,145.9,131.3,147.6z","M70.5,41c26.3-0.3,74.5-7.7,105.8,2.7c18.2,6.1,21.6,18.5,22.4,41c0,0,7,36.1-16.9,58.6c-12.2,11.5-67.2,10.1-98.3,9.5c-36-0.9-48.6,0.4-67.1-6.6c-14.3-5.4-14.7-20.8-15.1-55c-1-23.4,6.1-36.2,17.2-42.4C31.7,41.3,51.5,42.7,70.5,41z","M131.5,150.4c-21.9-0.1-76.6,7.5-107.9-2.9c-18.2-6.1-21.6-18.5-22.4-41c0,0-0.7-37.5,24.2-57.6c13-10.5,59.9-11.1,91-10.5c36,0.9,48.6-0.4,67.1,6.6c14.3,5.4,14.7,20.8,15.1,55c1,23.4-6.1,36.2-17.2,42.4C168.2,149.9,150.4,148.7,131.5,150.4z","M133,151.8c-21.9-0.1-72.2,6.5-103.5-3.9C11.2,141.8,0.8,128.7,0,106.2c0,0-3.5-31.5,21.4-51.6c13-10.5,35.8-16.7,66.8-16.2c36,0.9,65.5-1.3,84.2,5.1c19,6.6,26.8,22.2,27.3,56.5c1,23.4-5.9,35.3-16.9,41.6C169.6,149.1,151.9,150.1,133,151.8z","M131.5,150.4c-21.9-0.1-67.8,6.7-99.1-3.7c-18.2-6.1-31.5-18-32.3-40.4c0,0-0.9-29.9,24-50c13-10.5,33.2-18.3,64.2-17.8c36,0.9,63.5-0.6,82.1,5.9c19,6.6,28.9,21.5,29.3,55.7c1,23.4-5.9,35.3-16.9,41.6C169.6,149.1,150.4,148.7,131.5,150.4z"];var t=0,i=0,o=null,a="default"===r.breakpoint?.25*window.innerWidth:.65*window.innerWidth;e.each(this.$valuesContainers,function(e,n){o=e.getBoundingClientRect(),t=o.left,i=o.top;var h=/<br[^>]*>/gi;this.blobs.push(new s({index:n,scope:this,canvasView:this.mainCanvasView,path:this.paths[n],position:{x:t,y:i},canHover:!0,size:{w:a,maxW:"window.innerWidth * 0.8"},orbit:{h:2,w:2},multipleContent:{title:this.descriptions[n].replace(h,"\n"),subtitle:null,color:"#052449"}})),r.isMobile?this.blobs[n].path.bounds.height=200:this.blobs[n].path.bounds.width=.2*r.viewport.width,this.blobs[n].path.position.x=o.left+o.width/2,this.blobs[n].path.position.y=o.top+this.blobs[n].path.bounds._height/2,this.itemsPosition.push({name:"blob"+n,i:n,isBig:!1,y:this.blobs[n].path.position.y,x:this.blobs[n].path.position.x,w:this.blobs[n].path.bounds._width,h:this.blobs[n].path.bounds._height})}.bind(this)),this.compoundPath=new n.CompoundPath({children:[this.rectanglePath,this.blobs[0].path,this.blobs[1].path,this.blobs[2].path,this.blobs[3].path,this.blobs[4].path,this.blobs[5].path,this.blobs[6].path],fillColor:"#7ce2f7"}),e.each(this.blobs,function(t){t.generateContent(22,70),t.title.opacity=0}.bind(this)),this.compoundPath.visible=!1,this.compoundPath.opacity=0},h.prototype.initTL=function(){this.initTLShow(),o.prototype.initTL.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)});var t={opacity:0};this.TL.show.to(t,.5,{opacity:1,onUpdate:function(){this.compoundPath.opacity=t.opacity}.bind(this),onUpdateParams:["{self}"]},.1)},h.prototype.bindEvents=function(){},h.prototype.mouseMove=function(t){var e=this.isItem(t.point),i=e||0==e?"pointer":"default";TweenMax.set(this.options.mainCanvasView.options.el,{cursor:i})},h.prototype.mouseDown=function(t){var e=this.isItem(t.point);if((e||0==e)&&this.isShown){if(this.currentItem.isBig){this.currentItem.isBig=!1,this.blobs[this.currentItem.i].canAnimate=!1;var i={width:this.blobs[this.currentItem.i].path.bounds._width,x:this.blobs[this.currentItem.i].path.position.x};TweenMax.to(i,.5,{width:.2*r.viewport.width,x:this.blobs[this.currentItem.i].path.position.x+.005*r.viewport.width,ease:Expo.easeOut,onUpdate:function(){this.blobs[this.currentItem.i].path.bounds.width=i.width,this.blobs[this.currentItem.i].path.position.x=i.x}.bind(this),onComplete:function(){this.blobs[this.currentItem.i].canAnimate=!0}.bind(this)})}else{this.currentItem.isBig=!0,this.blobs[this.currentItem.i].canAnimate=!1;var i={width:this.blobs[this.currentItem.i].path.bounds._width,x:this.blobs[this.currentItem.i].path.position.x};TweenMax.to(i,.5,{width:.27*r.viewport.width,x:this.blobs[this.currentItem.i].path.position.x-.005*r.viewport.width,ease:Expo.easeOut,onUpdate:function(){this.blobs[this.currentItem.i].path.bounds.width=i.width,this.blobs[this.currentItem.i].path.position.x=i.x}.bind(this)})}this.trigger(a.CANVAS_MASK_OVERLAY_CLICKED,{index:e})}},h.prototype.isItem=function(t){var i,n,s,o,a=null;return e.each(this.itemsPosition,function(e,r){i=e.y,n=e.x,s=e.w/2,o=e.h/2,t.y>i-o&&t.y<i+o&&t.x>n-s&&t.x<n+s&&(this.currentItem=e,a=r)}.bind(this)),a},h.prototype.show=function(){this.compoundPath.visible=!0,TweenMax.set(this.mainCanvasView.options.el,{zIndex:0}),TweenMax.set(this.mainCanvasView.options.el,{position:"absolute",height:this.canvasHeight}),this.onResize(),this.rectanglePath.bounds.width=r.viewport.width,this.rectanglePath.bounds.height=this.canvasHeight,e.each(this.blobs,function(t,e){t.generateSettingsPoints(),e==this.blobs.length-1&&(this.canAnimate=!0)}.bind(this));var t={opacity:0};TweenMax.to(t,.3,{opacity:1,delay:.65,ease:Expo.easeOut,onUpdate:function(){e.each(this.blobs,function(e){e.title.opacity=t.opacity}.bind(this))}.bind(this)}),this.TL.show&&this.TL.show.play(0)},h.prototype.onShown=function(){this.trigger(a.CANVAS_SHOWN),this.isShown=!0,this.TL.hide&&(this.TL.hide={}),this.initTLHide()},h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:function(){this.onHidden()}.bind(this)});var t={opacity:1};this.TL.hide.to(t,.5,{opacity:0,onUpdate:function(){this.compoundPath.opacity=t.opacity}.bind(this),onUpdateParams:["{self}"]},.1)},h.prototype.hide=function(){e.each(this.blobs,function(t,e){t.title.opacity=0,e==this.blobs.length-1&&(this.canAnimate=!1)}.bind(this));var t={opacity:1};TweenMax.to(t,{opacity:0,onUpdate:function(){e.each(this.blobs,function(e){e.title.opacity=t.opacity}.bind(this))}}),this.TL.hide&&this.TL.hide.play(0)},h.prototype.onHidden=function(){this.isShown=!1,this.compoundPath.visible=!1,TweenMax.set(this.mainCanvasView.options.el,{position:"fixed",height:"100%"}),this.rectanglePath.bounds.width=r.viewport.width,this.rectanglePath.bounds.height=this.canvasHeight,this.trigger(a.CANVAS_HIDDEN),this.TL.show&&(this.TL.show={}),this.initTLShow()},h.prototype.animate=function(t){},h.prototype.onResize=function(){if(this.blobs[0]&&!r.isMobile&&this.isShown){this.compoundPath.children[0].bounds.width=r.viewport.width,this.compoundPath.children[0].bounds.height=this.canvasHeight;var t,i="default"===r.breakpoint?.19*window.innerWidth:.65*window.innerWidth,n=0,s=0;this.itemsPosition=[],e.each(this.$valuesContainers,function(e,o){t=e.getBoundingClientRect(),this.blobs[o].canAnimate=!1,n=t.left,s=t.top;var a=this.blobs[o].getScale({w:i},this.blobs[o].path);this.blobs[o].path.scale(a),this.blobs[o].path.position.x=t.left+t.width/2,this.blobs[o].path.position.y=t.top+this.blobs[o].path.bounds._height/2,this.blobs[o].title.position.x=this.blobs[o].path.bounds._x+this.blobs[o].path.bounds._width/2,this.blobs[o].title.position.y=this.blobs[o].path.bounds._y+this.blobs[o].path.bounds._height+70,this.itemsPosition.push({name:"blob"+o,i:o,isBig:!1,y:this.blobs[o].path.position.y,x:this.blobs[o].path.position.x,w:this.blobs[o].path.bounds._width,h:this.blobs[o].path.bounds._height}),this.blobs[o].generateSettingsPoints(),this.blobs[o].onResize()}.bind(this)),o.prototype.onResize.call(this)}},t.exports=h}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(12),a=i(7),r=i(30),h=function(t,e){this.canUpdate=!0,this.currentFirstRound=-1,this.currentSecondRound=-1,this.currentThirdRound=-1,this.currentPop=0,"default"===o.breakpoint?this.canScroll=!1:this.canScroll=!0,s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.initDOM=function(){this.$title=this.$el.find("h2"),this.$roundsAnimateFirst=this.$el.find(".typing-0 .round-animate"),this.$roundsAnimateSecond=this.$el.find(".typing-1 .round-animate"),this.$roundsAnimateThird=this.$el.find(".typing-2 .round-animate"),this.$title=this.$el.find("h2"),this.$blocks=this.$el.find(".patient-block"),this.$blocksContent=this.$el.find(".content-block"),this.$blockPatients=this.$el.find(".patients-content"),this.$roundsBlocks=this.$el.find(".round-animate"),this.$quotes=this.$el.find(".quote"),this.$imgs=this.$el.find(".img"),this.$texts=this.$el.find(".text"),this.$imgsProfiles=this.$el.find(".type img"),this.$jobsProfiles=this.$el.find(".type p .job"),this.$namesProfiles=this.$el.find(".type p .name"),s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){this.hBlock=n(this.$el).height(),TweenMax.set(this.$title,{autoAlpha:0,y:20}),TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),n(this.$el).removeClass("hidden"),s.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0}),this.TL.show.to(this.$el,0,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0).to(this.$title,.5,{autoAlpha:1,y:0,ease:new Ease(r(.25,1,.5,1.25))},.1)},h.prototype.show=function(){setTimeout(function(){this.animatePops(),"sml"===o.breakpoint&&o.mainView.setNormalScrollBehavior()}.bind(this),700),this.TL.show.play(0)},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(a.BLOCK_SHOWN),this.trigger(a.CANVAS_SHOWN),s.prototype.onShown.call(this)},h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$title,.3,{autoAlpha:0,y:-20,ease:new Ease(r(.25,1,.5,1.25))},0).to(this.$el,.2,{autoAlpha:0,display:"none",ease:new Ease(r(.25,1,.5,1.25))},.05)},h.prototype.onHidden=function(){this.trigger(a.BLOCK_HIDDEN),this.trigger(a.CANVAS_HIDDEN),o.mainView.setNormalScrollBehavior(!1),TweenMax.set(this.$title,{autoAlpha:0,y:20}),TweenMax.set(this.$el,{autoAlpha:0}),this.resetPopBlocks(),s.prototype.onHidden.call(this)},h.prototype.onResize=function(){if(this.hBlock=n(this.$el).height(),"default"===o.breakpoint){var t=n(this.$quotes[this.currentPop]).height()>290?n(this.$quotes[this.currentPop]).height():290,e=290;this.canScroll=!1}else{var t="auto",e="auto";this.canScroll=!0}for(var i=0;i<this.$quotes.length;i++)TweenMax.set(this.$quotes[i],{width:e,height:t});s.prototype.onResize.call(this)},h.prototype.dispose=function(){s.prototype.dispose.call(this)},h.prototype.animateRounds=function(t,e){},h.prototype.resetPopBlocks=function(){this.currentPop=0,clearTimeout(this.timeOut),this.quoteAnimation&&this.quoteAnimation.kill(),this.imageAnimation&&this.imageAnimation.kill(),this.textAnimation&&this.textAnimation.kill(),this.imgProfileAnimation&&this.imgProfileAnimation.kill(),this.nameProfileAnimation&&this.nameProfileAnimation.kill(),this.jobProfileAnimation&&this.jobProfileAnimation.kill(),n(this.$quotes).removeAttr("style"),n(this.$namesProfiles).removeAttr("style"),n(this.$jobsProfiles).removeAttr("style"),n(this.$imgsProfiles).removeAttr("style")},h.prototype.animatePops=function(){this.currentPop==this.$blocks.length&&this.resetPopBlocks();var t=0,e=.4;if(TweenMax.set(this.$quotes[this.currentPop],{opacity:1,delay:t}),this.timeOut=setTimeout(function(){this.currentPop+=1,this.$blocks.length>this.currentPop?this.animatePops():this.onShown()}.bind(this),500),"default"===o.breakpoint)var i=n(this.$quotes[this.currentPop]).height()>290?n(this.$quotes[this.currentPop]).height():290,s=290;else var i="auto",s="auto";this.quoteAnimation=TweenMax.fromTo(this.$quotes[this.currentPop],e,{width:0,height:0},{width:s,height:i,ease:Expo.easeOut,delay:t}),this.imageAnimation=TweenMax.fromTo(this.$imgs[this.currentPop],e,{opacity:0,scale:.1},{opacity:1,scale:1,ease:Expo.easeOut,delay:t+.1}),this.textAnimation=TweenMax.fromTo(this.$texts[this.currentPop],e,{opacity:0,x:-50},{opacity:1,x:0,ease:Expo.easeOut,delay:t+.15}),this.imgProfileAnimation=TweenMax.fromTo(this.$imgsProfiles[this.currentPop],e,{opacity:0,scale:.1},{opacity:1,scale:1,ease:Expo.easeOut,delay:t+.2}),this.nameProfileAnimation=TweenMax.fromTo(this.$namesProfiles[this.currentPop],e,{opacity:0,x:-30},{opacity:1,x:0,ease:Expo.easeOut,delay:t+.2}),this.jobProfileAnimation=TweenMax.fromTo(this.$jobsProfiles[this.currentPop],e,{opacity:0,left:-30},{opacity:1,left:0,ease:Expo.easeOut,delay:t+.25})},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(11),o=i(12),a=i(7),r=i(30),h=function(t,e){s.call(this,t,e),this.$title=this.$el.find("h2"),this.$subtitle=this.$el.find("h3"),this.$perksBlock=this.$el.find(".perk-block"),
this.canScroll=!0};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.initDOM=function(){s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){this.hBlock=n(this.$el).height(),TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),TweenMax.set(this.$title,{autoAlpha:0,y:20}),TweenMax.set(this.$subtitle,{autoAlpha:0,y:20}),TweenMax.set(this.$perksBlock,{autoAlpha:0,y:100}),n(this.$el).removeClass("hidden"),s.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,0,{autoAlpha:1,display:"block"},0).to(this.$title,.3,{autoAlpha:1,y:0,ease:new Ease(r(.25,1,.5,1.25))},0).to(this.$subtitle,.3,{autoAlpha:1,y:0,ease:new Ease(r(.25,1,.5,1.25))},.1).staggerTo(this.$perksBlock,.6,{autoAlpha:1,y:0,delay:.2,ease:Expo.easeOut},.05)},h.prototype.show=function(){this.TL.show&&this.TL.show.play(0),s.prototype.show.call(this)},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),o.mainView.setNormalScrollBehavior(),this.hBlock=n(this.$el).height(),this.trigger(a.BLOCK_SHOWN),this.trigger(a.CANVAS_SHOWN),s.prototype.onShown.call(this)},h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$title,.3,{autoAlpha:0,y:-20,ease:Expo.easeOut},0).to(this.$subtitle,.3,{autoAlpha:0,y:-20,ease:Expo.easeOut},0).to(this.$perksBlock,.6,{autoAlpha:0,y:-200,ease:Power4.easeIn},0).to(this.$el,0,{autoAlpha:0,display:"none"},1)},h.prototype.hide=function(){o.mainView.setNormalScrollBehavior(!1),this.TL.hide&&this.TL.hide.play(0)},h.prototype.reset=function(){TweenMax.set(this.$el,{autoAlpha:0}),TweenMax.set(this.$title,{autoAlpha:0,y:20}),TweenMax.set(this.$subtitle,{autoAlpha:0,y:20}),TweenMax.set(this.$perksBlock,{autoAlpha:0,y:40})},h.prototype.onHidden=function(){this.trigger(a.BLOCK_HIDDEN),this.trigger(a.CANVAS_HIDDEN),TweenMax.set(this.options.mainView.$bodyHtml,{scrollTo:0}),s.prototype.onHidden.call(this)},h.prototype.onResize=function(){this.hBlock=n(this.$el).height(),s.prototype.onResize.call(this)},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(11),o=i(43),a=(i(30),i(12)),r=i(7),h=function(t,e){this.canScroll=!0,this.id="join",this.imgURL=null,this.$title=null,this.$description=null,this.events={"click .main-content":"onClickContent"},s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.initDOM=function(){this.imgURL=this.$el[0].dataset.src,this.options.mainCanvasView.register(this.id,new o({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView,imgURL:this.imgURL},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.join,r.CANVAS_SHOWN,l.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.join,r.CANVAS_HIDDEN,c.bind(this)),this.$content=this.$el.find(".join-content"),this.$title=this.$el.find(".join-content h2"),this.$description=this.$el.find(".join-content p"),this.$description=this.$el.find(".join-content p"),this.$cover=this.$el.find(".main-content .cover"),this.$layer=this.$el.find(".main-content .layer"),this.$footerContainer=this.$el.find(".footer-container")[0],n(this.$footerContainer).append(this.options.mainView.$footer),this.hBlock=n(this.$el).height()+n(this.options.mainView.$footer).height(),this.wBlock=n(this.$el).width(),s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,y:20,display:"none"}),TweenMax.set(this.$title,{autoAlpha:0,y:20}),TweenMax.set(this.$description,{autoAlpha:0}),n(this.$el).removeClass("hidden"),s.prototype.setupDOM.call(this)},h.prototype.onClickContent=function(t){this.options.mainCanvasView.aCanvasAnimViews.join.mouseDown({x:t.clientX,y:t.clientY})},h.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,0,{autoAlpha:1,display:"flex",x:0,y:0},0).fromTo(this.$cover,1.2,{opacity:0,scale:1.2},{opacity:1,scale:1,ease:Expo.easeOut},.1).fromTo(this.$layer,1.2,{opacity:0},{opacity:1,ease:Expo.easeOut},.1).fromTo(this.$title,.6,{autoAlpha:0,y:100},{autoAlpha:1,y:0,ease:Expo.easeOut},.4).fromTo(this.$description,.5,{autoAlpha:0,y:75},{autoAlpha:1,y:0,ease:Expo.easeOut},.6)},h.prototype.show=function(){a.mainView.calculateScrollY(),TweenMax.set(this.options.mainView.$canvas,{zIndex:10,delay:.1}),TweenMax.set(this.options.mainCanvasView.options.el,{y:0}),this.TL.show&&this.TL.show.play(0),a.isMobile||a.isTablet?(TweenMax.set(n("#page-footer"),{display:"block"}),a.mainView.setNormalScrollBehavior(),this.trigger(r.CANVAS_SHOWN)):this.options.mainCanvasView.showCanvas(this.id),s.prototype.show.call(this)},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.isShown=!0,a.isMobile||a.isTablet||e.delay(function(){TweenMax.set(n("#page-footer"),{display:"block"}),a.mainView.setNormalScrollBehavior()}.bind(this),350),this.trigger(r.BLOCK_SHOWN),s.prototype.onShown.call(this)};var l=function(){this.trigger(r.CANVAS_SHOWN)};h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0}),this.TL.hide.to(this.$title,.5,{autoAlpha:0,y:-40,ease:Expo.easeOut},.1).to(this.$description,.5,{autoAlpha:0,y:-40,ease:Expo.easeOut,onComplete:this.onHidden.bind(this)},.15).to(this.$el,.5,{autoAlpha:0,display:"none"},0)},h.prototype.hide=function(){this.TL.hide&&this.TL.hide.play(0),a.isMobile||a.isTablet?this.trigger(r.CANVAS_HIDDEN):this.options.mainCanvasView.hideCanvas(this.id),s.prototype.hide.call(this)},h.prototype.onHidden=function(){this.trigger(r.BLOCK_HIDDEN),this.isShown=!1,a.mainView.setNormalScrollBehavior(!1),TweenMax.set(n("#page-footer"),{display:"none"}),TweenMax.set(this.options.mainView.$canvas,{zIndex:1}),s.prototype.onHidden.call(this)};var c=function(){this.trigger(r.CANVAS_HIDDEN)};h.prototype.onResize=function(){this.hBlock=n(this.$el).height()+n(this.options.mainView.$footer).height(),s.prototype.onResize.call(this)},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e){var n=i(29),s=i(13),o=(i(30),i(7)),a=i(12),r=function(t,e){this.imgURL=t.imgURL,this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.canAnimate=!1,s.call(this,t,e)};e.extend(r,s),e.extend(r.prototype,s.prototype),r.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.itemsPosition=[],this.maxOverlayBlobWidth="default"===a.breakpoint?2*window.innerWidth:2*window.innerHeight;var t="default"===a.breakpoint?700:1.2*window.innerWidth;if(a.viewport.width>1500)var e=200;else if(a.viewport.width<1500&&a.viewport.width>922)var e=175;else var e=150;this.mainBlob=new n({scope:this,canvasView:this.mainCanvasView,path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",bgColor:"#fa6876",position:{x:"window.innerWidth * .5",y:"window.innerHeight * .5"},size:{w:t,maxW:t},orbit:{h:2,w:2},divide:2,multiply:.2}),this.joinBlob=new n({scope:this,canvasView:this.mainCanvasView,color:"#fef25c",position:{x:"window.innerWidth / 2 + this.scope.mainBlob.path.bounds._width / 3",y:"window.innerHeight / 2 + this.scope.mainBlob.path.bounds._height / 2 - 20"},size:{w:"window.innerWidth * .4",maxW:e},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",orbit:{h:0,w:0},text:{content:"Join us",color:"#0b215a",position:{x:"this.scope.joinBlob.position._x",y:"this.scope.joinBlob.position._y"}},divide:2,multiply:.2,canHover:!0,canClick:!0,goTo:"/about/careers-list"}),this.overlayBlob=new n({scope:this,canvasView:this.mainCanvasView,path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",color:"#f1f1f9",position:{x:a.viewport.width/2,y:a.viewport.height/2},size:{w:this.maxOverlayBlobWidth,maxW:this.maxOverlayBlobWidth}}),this.mainBlob.path.visible=!1,this.overlayBlob.path.visible=!1,this.overlayBlob.path.opacity=0,this.mainBlob.rectanglePath.opacity=0,this.joinBlob.path.opacity=0,this.joinBlob.text.opacity=0,this.mainBlob.canAnimate=!1,this.joinBlob.canAnimate=!1,s.prototype.init.call(this)},r.prototype.initTL=function(){this.initTLShow(),s.prototype.initTL.call(this)},r.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)});var t={opacity:this.mainBlob.path.opacity},e={opacity:this.joinBlob.path.opacity},i={opacity:this.joinBlob.path.opacity},n={y:this.overlayBlob.path.position.y,w:this.overlayBlob.path.bounds.width};this.TL.show.to(n,1,{y:-this.overlayBlob.path.bounds.height/2-a.viewport.height/2,w:.4*a.viewport.width,onUpdate:function(){this.overlayBlob.path.position.y=n.y;var t=this.overlayBlob.getScale({w:n.w},this.overlayBlob.path);this.overlayBlob.path.scale(t)}.bind(this),ease:Cubic.easeOut},0).to(t,.6,{opacity:1,onUpdate:function(){this.mainBlob.path.opacity=t.opacity,this.mainBlob.rectanglePath.opacity=t.opacity}.bind(this),ease:Elastic.easeOut.config(.7,.7)},0).to(e,.6,{opacity:1,onUpdate:function(){this.joinBlob.path.opacity=e.opacity}.bind(this),ease:Expo.easeOut},0).to(i,.6,{opacity:1,onUpdate:function(){this.joinBlob.text.opacity=i.opacity,TweenMax.set(this.mainCanvasView.options.el,{y:-a.scrollY})}.bind(this)},0)},r.prototype.show=function(){this.onResize(),this.isShown=!1,TweenMax.set(this.mainCanvasView.options.el,{zIndex:1,y:0}),this.mainBlob.path.visible=!0,this.mainBlob.path.opacity=1,this.overlayBlob.path.visible=!0,this.overlayBlob.path.opacity=1,this.mainBlob.canAnimate=!1,this.joinBlob.canAnimate=!1,this.canAnimate=!1,this.joinBlob.path.visible=!0,this.joinBlob.path.opacity=0,this.joinBlob.text.opacity=0,this.TL.show&&this.TL.show.play(0)},r.prototype.onShown=function(){this.trigger(o.CANVAS_SHOWN),this.isShown=!0,this.TL.hide&&(this.TL.hide={}),this.initTLHide(),this.mainBlob.canAnimate=!0,this.joinBlob.canAnimate=!0,this.canAnimate=!0,this.itemsPosition.push({name:"joinBlob",i:0,y:this.joinBlob.path.position.y,x:this.joinBlob.path.position.x,w:this.joinBlob.path.bounds._width,h:this.joinBlob.path.bounds._height}),this.onResize()},r.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)});var t={y:this.overlayBlob.path.position.y,w:this.overlayBlob.path.bounds.width};this.TL.hide.to(t,1,{y:a.viewport.height/2,w:this.maxOverlayBlobWidth,onUpdate:function(){this.overlayBlob.path.position.y=t.y,this.overlayBlob.path.position.x=a.viewport.width/2;var e=this.overlayBlob.getScale({w:t.w},this.overlayBlob.path);this.overlayBlob.path.scale(e)}.bind(this),ease:Expo.easeOut},0)},r.prototype.hide=function(){TweenMax.set(this.mainCanvasView.options.el,{y:0}),this.mainBlob.canAnimate=!1,this.joinBlob.canAnimate=!1,this.canAnimate=!1,this.TL.hide&&this.TL.hide.play(0)},r.prototype.onHidden=function(){this.mainBlob.path.opacity=0,this.mainBlob.rectanglePath.opacity=0,this.joinBlob.text.opacity=0,this.mainBlob.path.visible=!1,this.joinBlob.path.visible=!1,this.overlayBlob.path.visible=!1,this.mainBlob.generateSettingsPoints(),this.joinBlob.generateSettingsPoints(),this.isShown=!1,this.trigger(o.CANVAS_HIDDEN)},r.prototype.mouseMove=function(t){if(this.isShown){var e=this.isItem(t.point);document.body.style.cursor=e||0==e?"pointer":"default"}},r.prototype.mouseDown=function(t){var e=this.isItem(t);(e||0==e)&&this.isShown&&"joinBlob"==this.itemsPosition[e].name&&(location.href="http://"+window.location.hostname+"/about/careers-list")},r.prototype.isItem=function(t){var i,n,s,o,a=null;return e.each(this.itemsPosition,function(e,r){i=e.y,n=e.x,s=e.w/2,o=e.h/2,t.y>i-o&&t.y<i+o&&t.x>n-s&&t.x<n+s&&(this.currentItem=e,a=r)}.bind(this)),a},r.prototype.animate=function(t){!this.canAnimate||a.isMobile||a.isTablet||TweenMax.set(this.mainCanvasView.options.el,{y:-a.scrollY,force3D:!0}),!this.canAnimate||a.isMobile||a.isTablet||this.mainBlob.animate(t),!this.canAnimate||a.isMobile||a.isTablet||this.joinBlob.animate(t)},r.prototype.onResize=function(){this.mainBlob.rectanglePath.bounds.width=a.viewport.width+20,this.mainBlob.rectanglePath.bounds.height=a.viewport.height+20,this.mainBlob.rectanglePath.position.x=a.viewport.width/2,this.mainBlob.rectanglePath.position.y=a.viewport.height/2,this.mainBlob.path.position.x=a.viewport.width/2,this.mainBlob.path.position.y=a.isMobile?a.viewport.height/2-40:a.viewport.height/2;var t;t=a.isMobile&&window.matchMedia("(orientation: landscape)").matches?this.mainBlob.getScale({h:"window.innerHeight * .7"},this.mainBlob.path):this.mainBlob.getScale({w:"window.innerWidth * .9",maxW:700},this.mainBlob.path),this.mainBlob.path.scale(t),this.joinBlob.path.position.x="sml"===a.breakpoint?a.viewport.width/2:a.viewport.width/2+this.mainBlob.path.bounds._width/3,this.joinBlob.path.position.y="sml"===a.breakpoint?a.viewport.height/2+this.mainBlob.path.bounds._height/2:a.viewport.height/2+this.mainBlob.path.bounds._height/2,this.itemsPosition[0]={name:"joinBlob",i:0,x:this.joinBlob.path.position.x,y:this.joinBlob.path.position.y,w:this.joinBlob.path.bounds._width,h:this.joinBlob.path.bounds._height},this.joinBlob.text.position.x=this.joinBlob.path.position._x,this.joinBlob.text.position.y=this.joinBlob.path.position._y,this.mainBlob.onResize(),this.joinBlob.onResize()},t.exports=r}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(11),o=i(45),a=i(47),r=i(12),h=i(7),l=i(30),c=function(t,e){this.canUpdate=!0,this.$carouselEl=null,this.carousel=null,this.id="culture",this.isPressSectionActive=!1,this.steps=1,this.currentStep=-1,this.isFirstStep=!0,s.call(this,t,e)};e.extend(c,s),e.extend(c.prototype,s.prototype),c.prototype.init=function(){this.options.mainCanvasView.register(this.id,new a({mainCanvasView:this.options.mainCanvasView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.culture,h.CANVAS_SHOWN,u.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.culture,h.CANVAS_HIDDEN,p.bind(this)),this.stepsAnimation=[this.firstStep.bind(this)],s.prototype.init.call(this)},c.prototype.initDOM=function(){this.$carouselEl=this.$el.find(".culture-carousel"),this.$carouselElImg=this.$el.find(".carousel-items-container"),this.$carouselElText=this.$el.find(".content-carousel"),this.$cultureCanvas=this.$el.find("#culture-canvas"),this.$imagesContainer=this.$el.find(".image-container"),this.$carouselElPress=this.$el.find(".press"),this.$carouselElTitle=this.$el.find(".overlay-content-container"),this.hContentTitle=n(this.$carouselElTitle).height(),this.topContentTitle=r.viewport.height/2-this.hContentTitle/2,s.prototype.initDOM.call(this)},c.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),TweenMax.set(this.$carouselElPress,{autoAlpha:0,y:20}),TweenMax.set(this.$carouselElTitle,{autoAlpha:0,y:20}),TweenMax.set(this.$carouselElText,{autoAlpha:0,y:20}),n(this.$el).removeClass("hidden"),s.prototype.setupDOM.call(this)},c.prototype.onDOMInit=function(){this.carousel=new o({el:this.$carouselEl,hasTimer:!0},null),this.carousel.init(),s.prototype.onDOMInit.call(this)},c.prototype.initTLShow=function(){if(this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),"default"===r.breakpoint)var t=0;else var t=.5;this.TL.show.to(this.$el,t,{autoAlpha:1,display:"flex",ease:new Ease(l(.25,1,.5,1.25))},.1).to(this.$carouselElTitle,.5,{autoAlpha:1,y:0,zIndex:10,ease:new Ease(l(.25,1,.5,1.25))},.3).to(this.$carouselElText,.5,{autoAlpha:1,y:0,ease:new Ease(l(.25,1,.5,1.25))},.5)},c.prototype.show=function(){this.TL.show.play(0),"default"===r.breakpoint&&this.options.mainCanvasView.showCanvas(this.id)},c.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(h.BLOCK_SHOWN),"sml"===r.breakpoint&&this.trigger(h.CANVAS_SHOWN),this.isFirstStep&&this.carousel.startTimer(),s.prototype.onShown.call(this)};var u=function(){this.trigger(h.CANVAS_SHOWN)};c.prototype.initTLHide=function(){if("default"===r.breakpoint)var t=2.1;else var t=0;this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,ease:Expo.easeInOut},t)},c.prototype.hide=function(){"default"===r.breakpoint?this.options.mainCanvasView.hideCanvas(this.id):this.TL.hide.play(0)},c.prototype.onHidden=function(){this.trigger(h.BLOCK_HIDDEN),TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),"sml"===r.breakpoint&&this.trigger(h.CANVAS_HIDDEN),this.carousel.stopTimer(),this.resetBlock(),this.currentStep=-1,this.isFirstStep=!0,s.prototype.onHidden.call(this)},c.prototype.resetBlock=function(){TweenMax.set(this.$carouselElPress,{autoAlpha:0,y:20}),TweenMax.set(this.$carouselElTitle,{autoAlpha:0,y:20}),TweenMax.set(this.$carouselElText,{autoAlpha:0,y:20}),TweenMax.set(this.$imagesContainer[this.carousel.currentIndex],{opacity:.5})};var p=function(){this.onHidden(),this.trigger(h.CANVAS_HIDDEN)};c.prototype.onTouchStart=function(){this.currentSwipeDirection=null,this.currentTimestamp=Date.now(),this.startX=r.touch.startX,this.startY=r.touch.startY},c.prototype.onTouchMove=function(){this.lastDeltaX=this.startX-(r.touch.startX-r.touch.deltaX),this.lastDeltaY=this.startY-(r.touch.startY-r.touch.deltaY),null==this.currentSwipeDirection&&(this.currentSwipeDirection=d.call(this)),"x"==this.currentSwipeDirection?this.lastDeltaX<0?this.direction="LEFT":this.direction="RIGHT":this.direction=null,this.isDragging=!0},c.prototype.onTouchEnd=function(){if(this.isDragging=!1,this.startX=0,this.startY=0,null!==this.currentSwipeDirection&&null!==this.direction){var t=Date.now()-this.currentTimestamp;t>150&&("LEFT"===this.direction?this.carousel.goToPrevItem():"RIGHT"===this.direction&&this.carousel.goToNextItem())}};var d=function(){return Math.abs(this.lastDeltaX)>Math.abs(this.lastDeltaY)?"x":Math.abs(this.lastDeltaX)<Math.abs(this.lastDeltaY)?"y":null};c.prototype.manageSteps=function(t,e){this.stepsAnimation[t](e,t)},c.prototype.firstStep=function(t){this.isAnimating||(this.isAnimating=!0,this.isFirstStep?(this.carousel.stopTimer(),TweenMax.to(this.$imagesContainer[this.carousel.currentIndex],.3,{opacity:.15,ease:Power4.easeNone}),TweenMax.to(this.$carouselElTitle,.5,{autoAlpha:0,y:-20,ease:new Ease(l(.25,1,.5,1.25)),delay:.1}),TweenMax.to(this.$carouselElText,.5,{autoAlpha:0,y:-20,ease:new Ease(l(.25,1,.5,1.25)),delay:.1}),TweenMax.to(this.$carouselElPress,.5,{autoAlpha:1,y:0,ease:new Ease(l(.25,1,.5,1.25)),delay:.1,onComplete:function(){t(),this.isFirstStep=!1,this.isAnimating=!1}.bind(this)})):(this.carousel.startTimer(),TweenMax.to(this.$imagesContainer[this.carousel.currentIndex],.3,{opacity:.5,ease:Power4.easeNone}),TweenMax.to(this.$carouselElPress,.5,{autoAlpha:0,y:-20,ease:new Ease(l(.25,1,.5,1.25)),delay:.1}),TweenMax.to(this.$carouselElTitle,.5,{autoAlpha:0,y:-20,ease:new Ease(l(.25,1,.5,1.25)),delay:.1}),TweenMax.to(this.$carouselElText,.5,{autoAlpha:1,y:0,ease:new Ease(l(.25,1,.5,1.25)),delay:.1,onComplete:function(){t(),this.isFirstStep=!0,this.isAnimating=!1}.bind(this)})))},c.prototype.onResize=function(){this.hContentPress=n(this.$carouselElPress).height(),this.topContentPress=r.viewport.height/2-this.hContentPress/2+40,TweenMax.set(this.$carouselElPress,{position:"absolute",top:this.topContentPress}),s.prototype.onResize.call(this)},c.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=c}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(13),o=(i(12),i(46)),a=i(7),r=function(t,e){this.$carouselItems=null,this.currentIndex=0,this.$indicatorEl=null,this.aCarouselIndicators=[],this.timer=null,s.call(this,t,e)};e.extend(r,s),e.extend(r.prototype,s.prototype),r.prototype.initDOM=function(){this.$carouselItems=this.$el.find(".carousel-item"),this.$carouselItemsContainer=this.$el.find(".carousel-items-container"),this.$indicatorEl=this.$el.find(".indicator"),s.prototype.initDOM.call(this)},r.prototype.onDOMInit=function(){e.each(this.$indicatorEl,function(t){var e=new o({el:t},null);e.init(),this.aCarouselIndicators.push(e),this.listenTo(e,a.CAROUSEL_INDICATOR_CLICKED,n.proxy(this.indicatorClicked,this))}.bind(this)),this.aCarouselIndicators[0].toggleActive(),s.prototype.onDOMInit.call(this)},r.prototype.ticker=function(){this.timer&&this.stopTimer(),this.goToItem(this.currentIndex+1)},r.prototype.startTimer=function(){this.timer&&this.stopTimer(),this.timer=setTimeout(this.ticker.bind(this),5e3)},r.prototype.stopTimer=function(){clearTimeout(this.timer),this.timer=null},r.prototype.resetTimer=function(){null!=this.timer&&this.stopTimer(),this.startTimer()},r.prototype.indicatorClicked=function(t){this.goToItem(t.indicator.index)},r.prototype.goToItem=function(t){t>this.$carouselItems.length-1?t=0:t<0&&(t=this.$carouselItems.length-1),this.updateCarouselItems(t),this.updateIndicators(t),this.currentIndex=t,this.resetTimer()},r.prototype.goToPrevItem=function(){this.goToItem(this.currentIndex-1)},r.prototype.goToNextItem=function(){this.goToItem(this.currentIndex+1)},r.prototype.updateCarouselItems=function(t){this.currentIndex!==t&&(n(this.$carouselItems[t]).addClass("active"),n(this.$carouselItems[this.currentIndex]).removeClass("active"))},r.prototype.updateIndicators=function(t){this.currentIndex!==t&&(this.aCarouselIndicators[t].toggleActive(),this.aCarouselIndicators[this.currentIndex].toggleActive())},r.prototype.onResize=function(){s.prototype.onResize.call(this)},t.exports=r}).call(e,i(3),i(1))},function(t,e,i){(function(e){var n=i(7),s=i(13),o=function(t,e){this.isActive=!1,this.index=0,this.events={click:"onClick"},s.call(this,t,e)};e.extend(o,s),e.extend(o.prototype,s.prototype),o.prototype.initDOM=function(){this.index=parseInt(this.$el.attr("data-id"),10),s.prototype.initDOM.call(this)},o.prototype.toggleActive=function(){this.isActive?(this.$el.removeClass("active"),this.isActive=!1):(this.$el.addClass("active"),this.isActive=!0)},o.prototype.onClick=function(){this.trigger(n.CAROUSEL_INDICATOR_CLICKED,{indicator:this})},t.exports=o}).call(e,i(3))},function(t,e,i){(function(e){var n=i(29),s=i(13),o=(i(30),i(7)),a=i(12),r=function(t,e){this.mainCanvasView=t.mainCanvasView,this.canAnimate=!1,s.call(this,t,e)};e.extend(r,s),e.extend(r.prototype,s.prototype),r.prototype.init=function(){this.mainBlob=new n({scope:this,canvasView:this.mainCanvasView,bgColor:"#F1F1F9",position:{x:"this.paper.view.size.width / 2",y:"this.paper.view.size.height"},size:{w:"window.innerWidth * 0.2",maxW:"window.innerWidth * 1.2"},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",orbit:{h:2,w:2}}),this.mainBlob.path.visible=!1,this.mainBlob.rectanglePath.visible=!1,this.mainBlob.canAnimate=!1,s.prototype.init.call(this)},r.prototype.initTL=function(){this.initTLShow(),s.prototype.initTL.call(this)},r.prototype.initTLShow=function(){if(this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.resetBlob(),"default"===a.breakpoint)var t=2.5*window.innerWidth;else var t=2.5*window.innerHeight;var e={width:this.mainBlob.path.bounds._width,y:this.mainBlob.path.position.y};this.TL.show.to(e,.8,{width:t,y:a.viewport.height,onUpdate:function(){var t=this.mainBlob.getScale({w:e.width},this.mainBlob.path);this.mainBlob.path.scale(t)}.bind(this),onUpdateParams:["{self}"],ease:Power2.easeInOut},0)},r.prototype.show=function(){TweenMax.set(this.mainCanvasView.options.el,{zIndex:30}),this.TL.show&&this.killTL("show"),this.initTLShow(),this.mainBlob.path.visible=!0,this.mainBlob.rectanglePath.visible=!0,this.TL.show&&this.TL.show.play(0)},r.prototype.onShown=function(){TweenMax.set(this.mainCanvasView.options.el,{zIndex:0}),this.mainBlob.generateSettingsPoints(),this.trigger(o.CANVAS_SHOWN)},r.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)});var t={width:this.mainBlob.path.bounds._width,y:this.mainBlob.path.position.y};this.TL.hide.to(t,.9,{width:.4*window.innerWidth,onUpdate:function(){var e=this.mainBlob.getScale({w:t.width},this.mainBlob.path);this.mainBlob.path.scale(e)}.bind(this),onUpdateParams:["{self}"],ease:Sine.easeOut},0).to(t,1.1,{y:0-this.mainBlob.path.bounds._height,onUpdate:function(){this.mainBlob.path.position.y=t.y}.bind(this),onUpdateParams:["{self}"],ease:Sine.easeInOut},"-=0.6")},r.prototype.hide=function(){TweenMax.set(this.mainCanvasView.options.el,{zIndex:30}),this.TL.hide&&this.killTL("hide"),this.initTLHide(),this.TL.hide&&this.TL.hide.play(0)},r.prototype.onHidden=function(){this.resetBlob(),this.mainBlob.path.visible=!1,this.mainBlob.rectanglePath.visible=!1,this.trigger(o.CANVAS_HIDDEN),this.mainBlob.generateSettingsPoints()},r.prototype.resetBlob=function(){this.mainBlob.path.position.y=a.viewport.height;var t=this.mainBlob.getScale({w:.2*a.viewport.width},this.mainBlob.path);this.mainBlob.path.scale(t)},r.prototype.animate=function(t){},r.prototype.onResize=function(){if(this.mainBlob.rectanglePath.bounds.width=a.viewport.width+20,this.mainBlob.rectanglePath.bounds.height=a.viewport.height+20,this.mainBlob.rectanglePath.position.x=a.viewport.width/2,this.mainBlob.rectanglePath.position.y=a.viewport.height/2,this.mainBlob.path.position.x=a.viewport.width/2,"default"===a.breakpoint)var t=2.5*window.innerWidth;else var t=2.5*window.innerHeight;var e=this.mainBlob.getScale({w:t},this.mainBlob.path);this.mainBlob.path.scale(e),this.mainBlob.onResize()},t.exports=r}).call(e,i(3))},function(t,e,i){(function(e){var n=i(11),s=(i(12),i(7)),o=function(t,e){n.call(this,t,e)};e.extend(o,n),e.extend(o.prototype,n.prototype),o.prototype.initDOM=function(){n.prototype.initDOM.call(this)},o.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),n.prototype.setupDOM.call(this)},o.prototype.onDOMInit=function(){n.prototype.onDOMInit.call(this)},o.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.3,{autoAlpha:1,ease:Expo.easeInOut},0)},o.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(s.BLOCK_SHOWN),n.prototype.onShown.call(this)},o.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,ease:Expo.easeInOut},0)},o.prototype.onHidden=function(){this.trigger(s.BLOCK_HIDDEN),n.prototype.onHidden.call(this)},o.prototype.onUpdate=function(){n.prototype.onUpdate.call(this)},o.prototype.onResize=function(){n.prototype.onResize.call(this)},o.prototype.dispose=function(){n.prototype.dispose.call(this)},t.exports=o}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(36),o=i(7),a=function(t,e){this.paper=null,this.aCanvasAnimViews={},this.currentCanvasAnimView=null,this.oldCanvasAnimView=null,this.isCanvasHidden=!1,s.call(this,t,e)};e.extend(a,s),e.extend(a.prototype,s.prototype),a.prototype.init=function(){this.paper=new n.PaperScope,this.paper.setup(this.options.el),this.paper.autoUpdate=!1,this.tool=new this.paper.Tool,this.mousePoint=new n.Point((-500),(-500)),s.prototype.init.call(this)},a.prototype.register=function(t,e){this.aCanvasAnimViews[t]=e,this.aCanvasAnimViews[t].init(),e&&this.listenTo(e,o.CANVAS_SHOWN,h.bind(this)),e&&this.listenTo(e,o.CANVAS_HIDDEN,l.bind(this)),e&&this.listenTo(e,o.LOADER_COMPLETE,r.bind(this))};var r=function(){this.trigger(o.LOADER_COMPLETE)};a.prototype.showCanvas=function(t){this.isCanvasHidden=!1,this.currentCanvasAnimView=this.aCanvasAnimViews[t],this.currentCanvasAnimView.show()};var h=function(){this.trigger(o.CANVAS_SHOWN)};a.prototype.hideCanvas=function(t){this.isCanvasHidden=!0,this.oldCanvasAnimView=this.aCanvasAnimViews[t],this.oldCanvasAnimView&&this.oldCanvasAnimView.hide()};var l=function(){this.trigger(o.CANVAS_HIDDEN)};a.prototype.bindEvents=function(){this.tool.onMouseMove=function(t){this.mousePoint=t.lastPoint,this.mouseMove(t)}.bind(this),this.paper.view.onMouseDown=function(t){this.mouseDown(t)}.bind(this),this.paper.view.onFrame=function(t){this.isCanvasHidden||this.animate(t)}.bind(this),s.prototype.bindEvents.call(this)},a.prototype.mouseDown=function(t){this.currentCanvasAnimView&&this.currentCanvasAnimView.mouseDown&&this.currentCanvasAnimView.mouseDown(t),this.oldCanvasAnimView&&this.oldCanvasAnimView.mouseDown&&this.oldCanvasAnimView.mouseDown(t)},a.prototype.mouseMove=function(t){this.currentCanvasAnimView&&this.currentCanvasAnimView.mouseMove&&this.currentCanvasAnimView.mouseMove(t),this.oldCanvasAnimView&&this.oldCanvasAnimView.mouseMove&&this.oldCanvasAnimView.mouseMove(t)},a.prototype.animate=function(t){this.currentCanvasAnimView&&this.currentCanvasAnimView.animate(t),this.oldCanvasAnimView&&this.oldCanvasAnimView.animate(t),s.prototype.animate.call(this)},a.prototype.onResize=function(){e.each(this.aCanvasAnimViews,function(t){t.onResize()}.bind(this)),s.prototype.onResize.call(this)},a.prototype.killTL=function(t){if(this.TL[t]){var e=this.TL[t];e.stop(),e.kill(),e.clear(),e=null,this.TL[t]=null}},a.prototype.destroyTL=function(){for(var t in this.TL)this.killTL(t);this.TL={}},a.prototype.dispose=function(){this.destroyTL()},t.exports=a}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(32),a=(i(7),i(12)),r=i(23),h=i(51),l=function(t,e){this.canUpdate=!0,this.$ghFormContainer=null,this.jobId=null,this.$videoContainer=null,this.videoPlayer=null,this.idVideoBlob="video",this.idHeaderBlob="header",this.$headerCanvasEl=null,this.headerCanvas=null,this.events={"click .btn-apply":"scrollToForm","click .video-container":"toggleVideo"},s.call(this,t,e)};e.extend(l,s),e.extend(l.prototype,s.prototype),l.prototype.initDOM=function(){this.$ghFormContainer=this.$el.find("#grnhse_app"),this.jobId=this.$ghFormContainer[0].dataset.id,this.$videoContainer=this.$el.find(".video-container"),this.$jobDetail=this.$el.find(".job-detail"),this.$text=this.$el.find(".content-text p"),this.$headerCanvasEl=this.$el.find(".header-canvas"),this.blobColor=n(this.$headerCanvasEl).attr("data-color"),n(this.$text).removeAttr("style"),a.mainView.setNormalScrollBehavior(),s.prototype.initDOM.call(this)},l.prototype.onDOMInit=function(){this.$videoContainer[0]&&r.loadYTAPI(function(){this.videoPlayer=new o({el:this.$videoContainer,hasCustomControls:!1,autoPlay:!1},null),this.videoPlayer.init()}.bind(this)),this.headerCanvas=new h({el:this.$headerCanvasEl[0],blobColor:this.blobColor},null),this.headerCanvas.init(),null!=this.jobId&&Grnhse.Iframe.load(this.jobId)},l.prototype.toggleVideo=function(){this.videoPlayer&&this.videoPlayer.togglePlay({cssMask:!0})},l.prototype.scrollToForm=function(){var t="default"===a.breakpoint?80:50;TweenMax.to(window,.8,{scrollTo:n(this.$ghFormContainer)[0].offsetTop-t,ease:Expo.easeInOut})},l.prototype.onUpdate=function(){var t=n("#grnhse_iframe");if(t&&document.getElementById("grnhse_iframe")){var e=document.getElementById("grnhse_iframe"),i=document.createElement("style");i.textContent=".some-class-name {  some-style-name: some-value;}",e.contentDocument.head.appendChild(i)}s.prototype.onUpdate.call(this)},l.prototype.onResize=function(){this.headerCanvas&&this.headerCanvas.onResize(),s.prototype.onResize.call(this)},l.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=l}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(29),o=i(36),a=function(t,e){
this.blobColor=t.blobColor?t.blobColor:"#05215a",this.paper=null,o.call(this,t,e)};e.extend(a,o),e.extend(a.prototype,o.prototype),a.prototype.init=function(){this.paper=new n.PaperScope,this.paper.setup(this.options.el),this.tool=new this.paper.Tool,this.mousePoint=new n.Point((-500),(-500)),this.mainBlob=new s({type:0,scope:this,canvasView:this,path:"M369,580.5C189.4,599.1,11,547,11,322.5C11,98,193.4,8.5,371.5,8.5S757,119.7,757,293.5C757,467.3,548.6,561.9,369,580.5z",color:this.blobColor,position:{x:"this.paper.view.size.width / 2",y:"(this.paper.view.size.height / 2) - (this.paper.view.size.height / 2 * 0.2)"},size:{w:"window.innerWidth * 1.2",maxW:800},mouseForce:.4,orbit:{h:4,w:4},canHover:!1}),o.prototype.init.call(this)},a.prototype.bindEvents=function(){this.tool.onMouseMove=function(t){this.mousePoint=t.lastPoint}.bind(this),this.tool.onMouseDown=function(t){}.bind(this),this.paper.view.onFrame=function(t){this.animate(t)}.bind(this),o.prototype.bindEvents.call(this)},a.prototype.triggerBlob=function(t){this.mainBlob.triggerBlob(t)},a.prototype.animate=function(t){this.mainBlob.animate(t),o.prototype.animate.call(this,t)},a.prototype.onResize=function(){o.prototype.onResize.call(this)},a.prototype.mouseMove=function(t){o.prototype.mouseMove.call(this,t)},t.exports=a}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(53),a=i(56),r=i(12),h=i(23),l=function(t,e){this.canUpdate=!0,this.$listHeaderViewEl=null,this.listHeaderBlock=null,this.listHeaderHeight=null,this.listHeaderView=null,this.$stickyHeaderEl=null,this.$stickyHeaderCanvasEl=null,this.stickyCanvasView=null,this.stickyHeaderheight=0,this.aTitles=null,this.$departmentContainerEl=null,this.departmentContainerBlock=null,this.departmentContainerHeight=null,this.$sideNavEl=null,this.sideNavHeight=null,this.$footerEl=null,this.footerBlock=null,this.footerHeight=null,this.aMenuItems=null,this.currentIndexMenu=0,this.$dropdownEl=null,this.dropDownHeight=0,this.aTeamEls=null,this.aTeamHeader=null,this.aColors=null,this.headerIsVisible=!0,this.triggerTopOffset="default"===r.breakpoint?50:30,this.lastTeamElementHeight=0,this.events={"click .department-list li":"onClickMenu","click .dropdown-btn":"expandDropdown","mouseenter .row.middle":"onMouseEnterLink","mouseleave .row.middle":"onMouseLeaveLink"},s.call(this,t,e)};e.extend(l,s),e.extend(l.prototype,s.prototype),l.prototype.initDOM=function(){this.$bgHeader=n(".page-header .bg"),this.$header=n(".page-header"),this.$footerEl=n("#page-footer"),this.$listHeaderViewEl=this.$el.find(".list-header"),this.$stickyHeaderEl=this.$el.find(".sticky-header"),this.$stickyHeaderCanvasEl=this.$el.find("#sticky-canvas"),this.aTitles=this.$stickyHeaderEl.find("h2"),this.$departmentContainerEl=this.$el.find(".department-list-container"),this.aTeamEls=this.$el.find(".team"),this.aTeamHeader=this.$el.find(".team-header"),this.$sideNavEl=this.$el.find(".deparment-side-nav"),this.aMenuItems=this.$sideNavEl.find(".department-list li button"),this.$dropdownEl=this.$el.find(".filter-wrapper"),r.mainView.setNormalScrollBehavior(),s.prototype.initDOM.call(this)},l.prototype.onDOMInit=function(){this.listHeaderView=new o({el:this.$listHeaderViewEl,mainView:this},null),this.listHeaderView.init();var t=n(this.aTeamEls[0]).data("color");this.stickyCanvasView=new a({el:this.$stickyHeaderCanvasEl[0],blobColor:t},null),this.stickyCanvasView.init(),this.calculateTriggers(),this.setCurrent(),s.prototype.onDOMInit.call(this)},l.prototype.calculateElHeights=function(){this.stickyHeaderheight=n(this.$stickyHeaderEl).height(),this.listHeaderHeight=n(this.$listHeaderViewEl).height(),this.departmentContainerHeight=n(this.$departmentContainerEl).height(),this.sideNavHeight=n(this.$sideNavEl).height(),this.footerHeight=n(this.$footerEl).height(),this.menuTop=r.viewport.height/2-this.sideNavHeight/2,this.dropDownHeight=n(".filter-wrapper ul").height(),this.aTeamEls.each(function(t){var e=n(this.aTeamEls[t]);e.data("originalPosition",e.offset().top),e.data("originalHeight",e.height())}.bind(this)),this.lastTeamElementHeight=n(this.aTeamEls[this.aTeamEls.length-1]).height()},l.prototype.calculateTriggers=function(){this.$listHeaderViewEl[0]&&(this.listHeaderBlock=h.triggerEl(this.$listHeaderViewEl[0],"sml"===r.breakpoint?this.listHeaderHeight-this.triggerTopOffset+this.sideNavHeight:this.listHeaderHeight-this.triggerTopOffset),this.departmentContainerBlock=h.triggerEl(this.$departmentContainerEl[0],this.departmentContainerHeight),this.footerBlock=h.triggerEl(this.$footerEl[0],this.footerHeight),this.setStickyElements())},l.prototype.hideMenu=function(){this.headerIsVisible=!1,TweenMax.to(this.$bgHeader,.2,{y:-75,ease:Expo.easeOut}),TweenMax.set(this.$header,{background:"none",borderBottom:"none"})},l.prototype.onShown=function(){r.mainView.calculateScrollY(),this.calculateElHeights(),this.calculateTriggers(),this.setCurrent(),this.canUpdate=!0;var t=n("."+localStorage.getItem("dept"))[0];window.location.href.indexOf("loc_id")>-1||t?(this.isScrolling=!0,setTimeout(function(){TweenMax.to(window,.7,{scrollTo:window.location.href.indexOf("loc_id")>-1?r.viewport.height+80:parseInt(n("."+localStorage.getItem("dept")).attr("data-original-position"))+80,onUpdate:function(){r.mainView.calculateScrollY(),this.calculateTriggers(),this.setCurrent(),this.onUpdate()}.bind(this),onComplete:function(){this.isScrolling=!1,localStorage.setItem("dept",null),this.headerIsVisible=!1,r.isMobile||(TweenMax.set(this.$bgHeader,{y:-75}),TweenMax.set(this.$header,{background:"none",borderBottom:"none"})),s.prototype.onShown.call(this)}.bind(this)})}.bind(this),0)):s.prototype.onShown.call(this)},l.prototype.onUpdate=function(){if(this.$bgHeader&&this.$header){if(!r.isMobile||"sml"!=r.breakpoint){var t=r.scrollY-r.viewport.height+50;r.scrollY>r.viewport.height-50&&t<75&&!this.headerIsAnimate?TweenMax.set(this.$bgHeader,{y:-t}):r.scrollY<r.viewport.height&&!this.headerIsVisible&&!this.headerIsAnimate?(this.headerIsAnimate=!0,TweenMax.to(this.$bgHeader,.2,{y:0,ease:Expo.easeOut,onComplete:function(){this.headerIsAnimate=!1,this.headerIsVisible=!0,n(this.$header).removeAttr("style")}.bind(this)})):r.scrollY>r.viewport.height+75&&this.headerIsVisible&&!this.headerIsAnimate&&(this.headerIsAnimate=!0,TweenMax.to(this.$bgHeader,.2,{y:-75,ease:Expo.easeOut,onComplete:function(){this.headerIsAnimate=!1,this.headerIsVisible=!1}.bind(this)}),TweenMax.set(this.$header,{background:"none",borderBottom:"none"}))}((r.isTouching||r.isScrolling||this.listHeaderBlock)&&this.footerBlock||this.isScrollTo)&&(this.calculateTriggers(),this.setCurrent(),s.prototype.onUpdate.call(this))}},l.prototype.setCurrent=function(){(r.isTouching||r.isScrolling||this.isScrolling)&&this.aTeamEls.each(function(t){var e=n(this.aTeamEls[t]),i=e.data("originalPosition"),s=e.data("originalHeight");if(i<=r.scrollY&&c.call(this,i,s)){if(this.currentIndexMenu===t)return;n(this.aTitles[this.currentIndexMenu]).removeClass("current"),n(this.aMenuItems[this.currentIndexMenu]).removeClass("current"),n(this.aTeamHeader[this.currentIndexMenu]).removeClass("current"),this.currentIndexMenu=t;var o=n(this.aTeamEls[t]).data("color");this.stickyCanvasView.triggerBlob(o),n(this.aTitles[this.currentIndexMenu]).addClass("current"),n(this.aMenuItems[this.currentIndexMenu]).addClass("current"),n(this.aTeamHeader[this.currentIndexMenu]).addClass("current")}}.bind(this))};var c=function(t,e){return t<=r.viewport.height+r.scrollY&&t+e>=r.scrollY};l.prototype.setStickyElements=function(t){if(r.isTouching||r.isScrolling||this.isScrolling||this.menuTop||t)if((!r.isMobile||"sml"!=r.breakpoint)&&r.scrollY>=r.viewport.height&&r.viewport.width>920||r.scrollY>=this.sideNavHeight+r.viewport.height&&(r.isMobile||"sml"===r.breakpoint)){(!r.isMobile||"sml"!=r.breakpoint)&&r.viewport.width>920?TweenMax.set(this.$sideNavEl,{position:"fixed",top:this.menuTop,bottom:"auto"}):n(this.$sideNavEl).removeAttr("style"),n(".page-header").addClass("active");var e=r.isMobile?38:0;if(TweenMax.set(this.$stickyHeaderEl,{position:"fixed",top:e,bottom:"auto",left:0,right:0}),this.footerBlock.visible){if("sml"===r.breakpoint)return;TweenMax.set(this.$stickyHeaderEl,{position:"absolute",top:"auto",bottom:this.lastTeamElementHeight-this.stickyHeaderheight}),TweenMax.set(this.$sideNavEl,{position:"absolute",top:"auto",bottom:this.menuTop})}else TweenMax.set(this.$stickyHeaderEl,{position:"fixed",top:e,bottom:"auto",left:0,right:0}),"default"===r.breakpoint&&r.viewport.width>920?TweenMax.set(this.$sideNavEl,{position:"fixed",top:this.menuTop,bottom:"auto"}):n(this.$sideNavEl).removeAttr("style")}else TweenMax.set(this.$stickyHeaderEl,{position:"absolute",top:0,bottom:"auto"}),"default"===r.breakpoint&&r.viewport.width>920?TweenMax.set(this.$sideNavEl,{position:"absolute",top:this.menuTop,bottom:"auto"}):n(this.$sideNavEl).removeAttr("style")},l.prototype.onClickMenu=function(t){t.preventDefault();var e=n(t.currentTarget).data("id");if(this.isScrolling=!0,"default"===r.breakpoint)var i=n('[data-anchor="'+e+'"]')[0].offsetTop+this.listHeaderHeight+100;else var i=n('[data-anchor="'+e+'"]')[0].offsetTop+this.listHeaderHeight+100+this.sideNavHeight;TweenMax.to(window,.8,{scrollTo:i,ease:Expo.easeInOut,onUpdate:function(){r.scrollY=window.scrollY||window.pageYOffset,this.calculateTriggers(),this.setCurrent()}.bind(this),onComplete:function(){this.isScrolling=!1}.bind(this)})},l.prototype.onMouseEnterLink=function(t){var e=n(n(t.currentTarget).find("a"));TweenMax.set(e,{color:e.attr("data-color")})},l.prototype.onMouseLeaveLink=function(t){var e=n(n(t.currentTarget).find("a"));e.removeAttr("style")},l.prototype.expandDropdown=function(t){t.preventDefault(),n(this.$sideNavEl).hasClass("active")?(n(this.$sideNavEl).removeClass("active"),TweenMax.to(this.$dropdownEl,.8,{height:0,ease:Expo.easeInOut})):(n(this.$sideNavEl).addClass("active"),TweenMax.to(this.$dropdownEl,.8,{height:this.dropDownHeight,ease:Expo.easeInOut}))},l.prototype.onResize=function(){this.listHeaderView.onResize(),this.calculateElHeights(),this.calculateTriggers(),this.setStickyElements(!0),this.stickyCanvasView&&this.stickyCanvasView.onResize(),s.prototype.onResize.call(this)},l.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=l}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(13),o=i(54),a=i(7),r=i(12),h=function(t,e){this.canUpdate=!0,this.$canvasElement=null,this.canvasMask=null,this.events={click:"onClickContent"},s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.initDOM=function(){this.$canvasElement=this.$el.find(".canvas"),this.$cover=this.$el.find(".cover"),this.$layer=this.$el.find(".layer"),this.$content=this.$el.find(".content"),s.prototype.initDOM.call(this)},h.prototype.onDOMInit=function(){this.canvasMask=new o({el:this.$canvasElement[0],mainView:this.options.mainView},null),this.canvasMask.init(),this.listenTo(this.canvasMask,a.JOIN_BLOB_CLICKED,n.proxy(l,this)),TweenMax.to(this.$content,.4,{opacity:1,ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$cover,.4,{opacity:1,ease:Expo.easeOut,delay:.15}),TweenMax.to(this.$layer,.4,{opacity:1,ease:Expo.easeOut,delay:.2}),TweenMax.to(this.$canvasElement,.4,{opacity:1,ease:Expo.easeOut,delay:.2}),s.prototype.onDOMInit.call(this)},h.prototype.onClickContent=function(t){this.canvasMask.mouseDown({x:t.clientX,y:t.clientY})};var l=function(t){TweenMax.to(window,.8,{scrollTo:r.viewport.height,ease:Expo.easeInOut,onUpdate:function(){this.options.mainView.onUpdate(),this.options.mainView.isScrollTo=!0}.bind(this),onComplete:function(){this.options.mainView.isScrollTo=!1}.bind(this)})};h.prototype.onResize=function(){this.canvasMask&&this.canvasMask.onResize(),s.prototype.onResize.call(this)},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(module,exports,__webpack_require__){(function(_,paper,$){var Blob=__webpack_require__(29),AbstractCanvasView=__webpack_require__(36),EVENT=__webpack_require__(7),CV=__webpack_require__(12);__webpack_require__(55);var ListHeaderCanvasView=function(t,e){this.paper=null,AbstractCanvasView.call(this,t,e)};_.extend(ListHeaderCanvasView,AbstractCanvasView),_.extend(ListHeaderCanvasView.prototype,AbstractCanvasView.prototype),ListHeaderCanvasView.prototype.init=function(){this.paper=new paper.PaperScope,this.paper.setup(this.options.el),this.itemsPosition=[],this.tool=new this.paper.Tool,this.mousePoint=new paper.Point((-500),(-500)),this.mainBlob=new Blob({scope:this,canvasView:this,bgColor:"#F1F1F1",position:{x:"window.innerWidth / 2",y:'(CV.breakpoint === "sml") ? window.innerHeight / 2 + 20 : window.innerHeight / 2'},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",size:{w:.9*CV.viewport.width,maxW:600},orbit:{h:2,w:2},divide:2,multiply:.2,typeID:"listHeaderMainBlob"}),this.joinBlob=new Blob({type:0,scope:this,canvasView:this,color:"#fef25c",position:{x:"this.paper.view.size.width / 2 + this.scope.mainBlob.path.bounds._width / 3",y:"this.paper.view.size.height / 2 + this.scope.mainBlob.path.bounds._height / 2"},size:{w:"window.innerWidth * .4",maxW:200},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",divide:2,multiply:.2,orbit:{h:2,w:2},text:{content:"Explore \n Openings",color:"#0b215a",position:{x:"this.path.bounds._x + this.path.bounds._width / 2",y:"this.path.bounds._y + this.path.bounds._height / 2"}},canTrigger:!0,canHover:!0,canClick:!0,goTo:".department-list-container",typeID:"listHeaderJoinBlob"}),this.itemsPosition[0]={name:"joinBlob",i:0,x:"sml"===CV.breakpoint?CV.viewport.width/2:CV.viewport.width/2+this.mainBlob.path.bounds._width/3,y:"sml"===CV.breakpoint?CV.viewport.height/2+this.mainBlob.path.bounds._height/2+20:CV.viewport.height/2+this.mainBlob.path.bounds._height/2,w:this.joinBlob.path.bounds._width,h:this.joinBlob.path.bounds._height},this.mainBlob.canAnimate=!0,this.joinBlob.canAnimate=!0,this.onResize(),AbstractCanvasView.prototype.init.call(this)},ListHeaderCanvasView.prototype.bindEvents=function(){this.listenTo(this.joinBlob,EVENT.JOIN_BLOB_CLICKED,$.proxy(_onExploreClicked,this)),this.tool.onMouseMove=function(t){this.mousePoint=t.lastPoint}.bind(this),this.paper.view.onFrame=function(t){this.animate(t)}.bind(this),AbstractCanvasView.prototype.bindEvents.call(this)};var _onExploreClicked=function(t){this.trigger(EVENT.JOIN_BLOB_CLICKED,{"goto":t["goto"]})};ListHeaderCanvasView.prototype.mouseDown=function(t){var e=this.isItem(t);"joinBlob"==e&&(TweenMax.to(window,.8,{scrollTo:{y:"sml"===CV.breakpoint?CV.viewport.height+650:CV.viewport.height+20},ease:Expo.easeOut,onUpdate:function(){CV.scrollY=window.scrollY||window.pageYOffset}}),this.options.mainView.hideMenu())},ListHeaderCanvasView.prototype.animate=function(t){CV.isMobile||this.mainBlob.animate(t),CV.isMobile||this.joinBlob.animate(t),AbstractCanvasView.prototype.animate.call(this,t)},ListHeaderCanvasView.prototype.onResize=function(){if(!(CV.isMobile||CV.isTablet&&"safari"==Detectizr.browser.name)){this.mainBlob.canAnimate=!1,this.mainBlob.path.position.x=CV.viewport.width/2,this.mainBlob.path.position.y=CV.viewport.height/2,this.mainBlob.rectanglePath.bounds.width=CV.viewport.width,this.mainBlob.rectanglePath.bounds.height=CV.viewport.height;var t;t="sml"===CV.breakpoint&&window.matchMedia("(orientation: landscape)").matches?this.mainBlob.getScale({h:"window.innerHeight * .7"},this.mainBlob.path):this.mainBlob.getScale({w:"window.innerWidth * .9",maxW:600},this.mainBlob.path),this.mainBlob.path.scale(t),this.mainBlob.generateSettingsPoints(),this.joinBlob.path.position.x="sml"===CV.breakpoint?CV.viewport.width/2:CV.viewport.width/2+this.mainBlob.path.bounds._width/3,this.joinBlob.path.position.y="sml"===CV.breakpoint?CV.viewport.height/2+this.mainBlob.path.bounds._height/2+20:CV.viewport.height/2+this.mainBlob.path.bounds._height/2,this.joinBlob.text.position.x=this.joinBlob.path.position._x,this.joinBlob.text.position.y=this.joinBlob.path.position._y,this.itemsPosition[0]={name:"joinBlob",i:0,x:this.joinBlob.path.position.x,y:this.joinBlob.path.position.y,w:this.joinBlob.path.bounds._width,h:this.joinBlob.path.bounds._height},this.mainBlob.onResize(),this.joinBlob.onResize(),AbstractCanvasView.prototype.onResize.call(this)}},ListHeaderCanvasView.prototype.mouseMove=function(t){AbstractCanvasView.prototype.mouseMove.call(this,t)},ListHeaderCanvasView.prototype.isItem=function(p){var itemName=null,yItem,xItem,wItem,hItem;return _.each(this.itemsPosition,function(item){yItem=eval(item.y),xItem=eval(item.x),wItem=item.w/2,hItem=item.h/2,p.y>yItem-hItem&&p.y<yItem+hItem&&p.x>xItem-wItem&&p.x<xItem+wItem&&!itemName&&(this.currentItem=item,itemName=item.name)}.bind(this)),itemName},module.exports=ListHeaderCanvasView}).call(exports,__webpack_require__(3),__webpack_require__(26),__webpack_require__(1))},function(t,e){(function(e){var i="undefined"!=typeof t&&t.exports&&"undefined"!=typeof e?e:this||window;(i._gsQueue||(i._gsQueue=[])).push(function(){"use strict";var t=document.documentElement,e=window,n=function(i,n){var s="x"===n?"Width":"Height",o="scroll"+s,a="client"+s,r=document.body;return i===e||i===t||i===r?Math.max(t[o],r[o])-(e["inner"+s]||t[a]||r[a]):i[o]-i["offset"+s]},s=i._gsDefine.plugin({propName:"scrollTo",API:2,version:"1.7.5",init:function(t,i,s){return this._wdw=t===e,this._target=t,this._tween=s,"object"!=typeof i&&(i={y:i}),this.vars=i,this._autoKill=i.autoKill!==!1,this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=i.x?(this._addTween(this,"x",this.x,"max"===i.x?n(t,"x"):i.x,"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=i.y?(this._addTween(this,"y",this.y,"max"===i.y?n(t,"y"):i.y,"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(t){this._super.setRatio.call(this,t);var i=this._wdw||!this.skipX?this.getX():this.xPrev,s=this._wdw||!this.skipY?this.getY():this.yPrev,o=s-this.yPrev,a=i-this.xPrev;this._autoKill&&(!this.skipX&&(a>7||a<-7)&&i<n(this._target,"x")&&(this.skipX=!0),!this.skipY&&(o>7||o<-7)&&s<n(this._target,"y")&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?e.scrollTo(this.skipX?i:this.x,this.skipY?s:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),o=s.prototype;s.max=n,o.getX=function(){return this._wdw?null!=e.pageXOffset?e.pageXOffset:null!=t.scrollLeft?t.scrollLeft:document.body.scrollLeft:this._target.scrollLeft},o.getY=function(){return this._wdw?null!=e.pageYOffset?e.pageYOffset:null!=t.scrollTop?t.scrollTop:document.body.scrollTop:this._target.scrollTop},o._kill=function(t){return t.scrollTo_x&&(this.skipX=!0),t.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,t)}}),i._gsDefine&&i._gsQueue.pop()()}).call(e,function(){return this}())},function(t,e,i){(function(e,n){var s=i(29),o=i(36),a=i(12),r=function(t,e){this.blobColor=t.blobColor?t.blobColor:"#05215a",this.paper=null,o.call(this,t,e)};e.extend(r,o),e.extend(r.prototype,o.prototype),r.prototype.init=function(){this.paper=new n.PaperScope,this.paper.setup(this.options.el),this.tool=new this.paper.Tool,this.mousePoint=new n.Point((-500),(-500));var t="default"===a.breakpoint?-30:"(this.paper.view.size.height / 2) - (this.paper.view.size.height / 2 * 0.8)";this.mainBlob=new s({type:0,scope:this,canvasView:this,path:"M369,580.5C189.4,599.1,11,547,11,322.5C11,98,193.4,8.5,371.5,8.5S757,119.7,757,293.5C757,467.3,548.6,561.9,369,580.5z",color:this.blobColor,position:{x:a.isTablet&&a.viewport.width>760&&a.viewport.height>950||a.viewport.width>700&&a.viewport.height>700&&a.viewport.height<1e3?"this.paper.view.size.width / 2 - 40":"this.paper.view.size.width / 2 - 20",y:a.isTablet&&a.viewport.width>760&&a.viewport.height>950||a.viewport.width>700&&a.viewport.height>700&&a.viewport.height<1e3?-120:t},size:{w:"window.innerWidth",maxW:!a.isTablet&&a.viewport.width>760&&a.viewport.height>950?500:700},mouseForce:.4,orbit:{h:2,w:2},canHover:!1,typeID:"careerStickyBlob"}),this.mainBlob.canAnimate=!0,this.onResize(),o.prototype.init.call(this)},r.prototype.bindEvents=function(){this.tool.onMouseMove=function(t){this.mousePoint=t.lastPoint}.bind(this),this.paper.view.onFrame=function(t){this.animate(t)}.bind(this),o.prototype.bindEvents.call(this)},r.prototype.triggerBlob=function(t){this.mainBlob.triggerBlob(t)},r.prototype.animate=function(t){this.mainBlob.animate(t),o.prototype.animate.call(this,t)},r.prototype.onResize=function(){if(!a.isTablet&&a.viewport.width>760&&a.viewport.width<1020&&a.viewport.height>950||a.viewport.width>700&&a.viewport.height>700&&a.viewport.height<1e3){this.mainBlob.path.position.x=a.viewport.width<900?a.viewport.width/2-75:this.paper.view.size.width/2-20,this.mainBlob.path.position.y=a.viewport.width<900?-120:-80;var t=this.mainBlob.getScale({w:700},this.mainBlob.path);return this.mainBlob.path.scale(t),void this.mainBlob.generateSettingsPoints()}if(a.isTablet&&a.viewport.width>760&&a.viewport.height>950||a.viewport.width>700&&a.viewport.height>700&&a.viewport.height<1e3){this.mainBlob.path.position.x=this.paper.view.size.width/2-120,this.mainBlob.path.position.y=-this.mainBlob.path.bounds._height/2-110;var t=this.mainBlob.getScale({w:a.viewport.width},this.mainBlob.path);return this.mainBlob.path.scale(t),void this.mainBlob.generateSettingsPoints()}!a.isMobile&&a.viewport.width<920&&-35<this.mainBlob.path.position.y&&this.mainBlob.path.position.y<-25?(this.mainBlob.canAnimate=!1,this.mainBlob.path.position.y=-80,this.mainBlob.generateSettingsPoints()):-85<this.mainBlob.path.position.y&&this.mainBlob.path.position.y<-75&&!a.isMobile&&a.viewport.width>920,o.prototype.onResize.call(this)},r.prototype.mouseMove=function(t){o.prototype.mouseMove.call(this,t)},t.exports=r}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(58),a=i(59),r=i(12),h=function(t,i){this.$canvasElement=null,this.canvasMask=null,this.events={"click .carouse-item":function(t){this.carousel.goToItem(e(t.currentTarget).attr("data-id"))},"click .explore-more":"onExploreMoreClicked"},s.call(this,t,i)};n.extend(h,s),n.extend(h.prototype,s.prototype),h.prototype.initDOM=function(){this.$carouselEl=this.$el.find(".full-bleed-container"),this.$canvasElement=this.$el.find(".canvas"),this.$searchContent=this.$el.find(".search-form"),this.$btnExploreMore=this.$el.find(".explore-more"),this.$posts=this.$el.find(".post"),this.$header=e(".page-header"),r.mainView.setNormalScrollBehavior(),s.prototype.initDOM.call(this)},h.prototype.onDOMInit=function(){this.carousel=new o({el:this.$carouselEl,hasTimer:!0},null),this.carousel.init(),this.canvasMask=new a({el:this.$canvasElement[0]},null),this.canvasMask.init(),s.prototype.onDOMInit.call(this)},h.prototype.onExploreMoreClicked=function(){var t=0,i=0;n.each(this.$posts,function(n){!e(n).hasClass("hidden")||t>5||(e(n).removeClass("hidden"),t++,i=this.$el.find(".grid .hidden").length,i||e(this.$btnExploreMore).addClass("hidden"))}.bind(this))},h.prototype.managerSearchField=function(){this.searchIsVisible?(e(this.$header).removeClass("border"),TweenMax.to(this.$searchContent,1,{y:"-100%",ease:Expo.easeOut})):(e(this.$header).addClass("border"),TweenMax.to(this.$searchContent,.9,{y:"0%",ease:Expo.easeOut})),this.searchIsVisible=!this.searchIsVisible},h.prototype.onShown=function(){s.prototype.onShown.call(this)},h.prototype.onResize=function(){this.canvasMask&&this.canvasMask.onResize(),s.prototype.onResize.call(this)},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(1),i(3))},function(t,e,i){(function(e,n){var s=i(13),o=(i(7),i(12)),a=function(t,e){this.$carouselItems=null,this.currentIndex=0,this.previousIndex=0,this.timer=null,s.call(this,t,e)};e.extend(a,s),e.extend(a.prototype,s.prototype),a.prototype.initDOM=function(){this.$fullImages=this.$el.find(".full-bleed-image"),this.$contents=this.$el.find(".content-container"),this.$titles=this.$el.find("h1.text-content"),this.$paths=n(".path"),this.$subtitles=this.$el.find(".info"),this.$reads=this.$el.find("a.text-content"),this.$contentsText=[],this.$startTimer=this.startTimer(),e.each(this.$fullImages,function(t,e){if(this.$contentsText.push([this.$titles[e],this.$subtitles[e],this.$reads[e]]),0===e){var i=new Image,s=n(t).css("background"),o=s.split('"')[1];n(i).one("load",function(){n(t).css("background",s),n(t).addClass("active"),this.$startTimer}),i.src=o}}.bind(this));var t=this.currentIndex;this.pathTimer=TweenMax.to(this.$paths[t],7.5,{strokeDashoffset:0,ease:Linear.easeNone,onComplete:function(){TweenMax.to(this.$paths[t],.3,{strokeDashoffset:360,ease:Linear.easeNone})}.bind(this)}),s.prototype.initDOM.call(this)},a.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},a.prototype.goToItem=function(t){parseInt(t)!==this.currentIndex&&(this.stopTimer(),this.pathTimer.kill(),this.pathTimer=null,TweenMax.to(this.$paths[this.currentIndex],.3,{strokeDashoffset:360,ease:Linear.easeNone}),this.slidesManager(parseInt(t)))},a.prototype.startTimer=function(){this.timer=setTimeout(this.slidesManager.bind(this),7500)},a.prototype.stopTimer=function(){clearTimeout(this.timer),this.timer=null},a.prototype.onResize=function(){s.prototype.onResize.call(this)},a.prototype.slidesManager=function(t){this.previousIndex=this.currentIndex;var e=window.navigator.userAgent,i=e.indexOf("MSIE ");TweenMax.staggerTo(this.$contentsText[this.currentIndex],.3,{opacity:0,x:40,ease:Expo.easeOut},.05,function(){n(this.$contents[this.previousIndex]).removeClass("active"),n(this.$contents[this.currentIndex]).addClass("active")}.bind(this)),i>0||/Edge\/\d./i.test(navigator.userAgent)||o.isMobile||o.isTablet?TweenMax.set(this.$fullImages[this.currentIndex],{opacity:0,ease:Expo.easeOut}):TweenMax.to(this.$fullImages[this.currentIndex],.7,{opacity:0,ease:Expo.easeOut}),void 0!=t?this.currentIndex=t:this.currentIndex=this.currentIndex+1<this.$fullImages.length?this.currentIndex+1:0;var s=this.currentIndex;this.pathTimer=TweenMax.to(this.$paths[s],7.5,{strokeDashoffset:0,ease:Linear.easeNone,onComplete:function(){TweenMax.to(this.$paths[s],.3,{strokeDashoffset:360,ease:Linear.easeNone}),this.slidesManager()}.bind(this)}),TweenMax.staggerFromTo(this.$contentsText[this.currentIndex],.8,{opacity:0,x:-50},{opacity:1,x:0,ease:Expo.easeOut,delay:.6},.05),i>0||/Edge\/\d./i.test(navigator.userAgent)||o.isMobile||o.isTablet?TweenMax.fromTo(this.$fullImages[this.currentIndex],0,{opacity:0},{opacity:1}):TweenMax.fromTo(this.$fullImages[this.currentIndex],.7,{opacity:0},{opacity:1,ease:Expo.easeOut})},t.exports=a}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(29),o=i(36),a=i(12),r=function(t,e){this.paper=null,o.call(this,t,e)};e.extend(r,o),e.extend(r.prototype,o.prototype),r.prototype.init=function(){this.paper=new n.PaperScope,this.paper.setup(this.options.el),this.tool=new this.paper.Tool,this.mousePoint=new n.Point((-500),(-500)),this.mainBlob=new s({type:0,scope:this,canvasView:this,path:"M591.481,316.679C549.8,204.355,494.894,128.885,376.64,172.764c-94.6,35.1-203.841,139.532-172.583,223.773C266.575,565.025,401.8,530.625,472.729,504.306,590.98,460.429,633.159,429,591.481,316.679Z",color:"#ffffff",position:{x:"sml"===a.breakpoint?a.viewport.width/2:.15*a.viewport.width+130,y:"sml"===a.breakpoint?.35*a.viewport.height:320},size:{w:450},typeID:"blogHomeHeaderBlob"}),this.mainBlob.canAnimate=!0,o.prototype.init.call(this)},r.prototype.bindEvents=function(){o.prototype.bindEvents.call(this)},r.prototype.animate=function(t){this.mainBlob.animate(t),o.prototype.animate.call(this,t)},r.prototype.onResize=function(){this.mainBlob.path.position.x="sml"===a.breakpoint?a.viewport.width/2:.12*a.viewport.width+this.mainBlob.path.bounds._width/3,this.mainBlob.path.position.y="sml"===a.breakpoint?270:320,this.mainBlob.onResize(),o.prototype.onResize.call(this)},r.prototype.mouseMove=function(t){o.prototype.mouseMove.call(this,t)},t.exports=r}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(12),a=function(t,e){this.menuIsVisible=!0,this.events={"click .button-comments":"showHideComments"},s.call(this,t,e)};e.extend(a,s),e.extend(a.prototype,s.prototype),a.prototype.initDOM=function(){this.$searchContent=this.$el.find(".search-form"),this.$btnClose=this.$el.find(".button-comments .close"),this.$btnOpen=this.$el.find(".button-comments .open"),this.$comments=this.$el.find(".comments"),this.$menu=this.$el.find(".content-menu"),this.$titleComment=this.$el.find(".comments h3#comments"),this.$containersComments=this.$el.find(".comments .commentlist"),this.$comment=this.$el.find(".comments .commentlist li div"),this.$respondTitle=this.$el.find("h3#reply-title"),this.$formTitle=this.$el.find("form .comment-notes"),this.$formComment=this.$el.find("form .comment-form-comment"),this.$formAuthor=this.$el.find("form .comment-form-author"),this.$formEmail=this.$el.find("form .comment-form-email"),this.$formUrl=this.$el.find("form .comment-form-url"),this.$containerTopImg=this.$el.find(".full-bleed-container"),this.$header=n(".page-header"),this.hContainerTopImg=n(this.$containerTopImg).height(),this.commentsHeight=n(this.$comments).height(),this.$els=[this.$titleComment,this.$containersComments,this.$comment,this.$respondTitle,this.$formTitle,this.$formComment,this.$formAuthor,this.$formEmail,this.$formUrl],this.durationAnimation=0,this.commentsAreVisible=!0,e.each(this.$els,function(t){this.durationAnimation=this.durationAnimation+t.length}.bind(this)),this.oneElAnim=.3,this.delayBehindEl=.05,this.durationAnimation=this.oneElAnim*this.durationAnimation+this.delayBehindEl*this.durationAnimation,o.mainView.setNormalScrollBehavior(),TweenMax.set(this.$comments,{height:0}),s.prototype.initDOM.call(this)},a.prototype.onDOMInit=function(){this.showHideComments(),s.prototype.onDOMInit.call(this)},a.prototype.showHideComments=function(){this.isAnimating||(this.isAnimating=!0,this.commentsAreVisible?(TweenMax.staggerTo(this.$els,.5,{opacity:0,ease:Expo.easeOut},.1),TweenMax.fromTo(this.$btnClose,.35,{opacity:0,top:15},{opacity:1,top:0,delay:.05,ease:Expo.easeOut}),TweenMax.to(this.$btnOpen,.35,{top:5,opacity:0,ease:Expo.easeOut}),TweenMax.to(this.$comments,1,{height:0,ease:Expo.easeOut,onComplete:function(){this.commentsAreVisible=!1,this.isAnimating=!1}.bind(this)})):(TweenMax.fromTo(this.$btnOpen,.35,{opacity:0,top:35},{opacity:1,top:20,delay:.05,ease:Expo.easeOut}),TweenMax.to(this.$btnClose,.35,{top:-15,opacity:0,ease:Expo.easeOut}),TweenMax.staggerFromTo(this.$els,.5,{opacity:0},{opacity:1,ease:Expo.easeOut},.1),TweenMax.to(this.$comments,1,{height:this.commentsHeight,ease:Expo.easeOut,onComplete:function(){this.commentsAreVisible=!0,this.isAnimating=!1}.bind(this)})),s.prototype.onShown.call(this))},a.prototype.onShown=function(){s.prototype.onShown.call(this)},a.prototype.onResize=function(){s.prototype.onResize.call(this)},a.prototype.onUpdate=function(){o.scrollY>this.hContainerTopImg/2&&this.menuIsVisible?(this.menuIsVisible=!1,TweenMax.to(this.options.mainAppView.headerView.$menu,.3,{top:-70,ease:Expo.easeOut}),TweenMax.fromTo(this.options.mainAppView.headerView.$articleTitleContent,.3,{top:100,delay:.05},{top:0,ease:Expo.easeOut})):!this.menuIsVisible&&o.scrollY<this.hContainerTopImg/2&&(this.menuIsVisible=!0,TweenMax.to(this.options.mainAppView.headerView.$menu,.3,{top:0,delay:.05,ease:Expo.easeOut}),TweenMax.to(this.options.mainAppView.headerView.$articleTitleContent,.3,{top:100,ease:Expo.easeOut}))},a.prototype.managerSearchField=function(){this.searchIsVisible?(n(this.$header).removeClass("border"),
TweenMax.to(this.$searchContent,1,{y:"-100%",ease:Expo.easeOut})):(n(this.$header).addClass("border"),TweenMax.to(this.$searchContent,.9,{y:"0%",ease:Expo.easeOut})),this.searchIsVisible=!this.searchIsVisible},a.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=a}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(11),o=i(12),a=function(t,e){this.events={"click .explore-more":"onExploreMoreClicked"},s.call(this,t,e)};e.extend(a,s),e.extend(a.prototype,s.prototype),a.prototype.initDOM=function(){this.$searchContent=this.$el.find(".search-form"),this.$btnExploreMore=this.$el.find(".explore-more"),this.$posts=this.$el.find(".post"),this.$header=n(".page-header"),o.mainView.setNormalScrollBehavior(),s.prototype.initDOM.call(this)},a.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},a.prototype.managerSearchField=function(){this.searchIsVisible?(n(this.$header).removeClass("border"),TweenMax.to(this.$searchContent,1,{y:"-100%",ease:Expo.easeOut})):(n(this.$header).addClass("border"),TweenMax.to(this.$searchContent,.9,{y:"0%",ease:Expo.easeOut})),this.searchIsVisible=!this.searchIsVisible},a.prototype.onExploreMoreClicked=function(){var t=0,i=0;e.each(this.$posts,function(e){!n(e).hasClass("hidden")||t>5||(n(e).removeClass("hidden"),t++,i=this.$el.find(".grid .hidden").length,i||n(this.$btnExploreMore).addClass("hidden"))}.bind(this))},a.prototype.onResize=function(){s.prototype.onResize.call(this)},a.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=a}).call(e,i(3),i(1))},function(t,e,i){(function(e){var n=i(11),s=function(t,e){n.call(this,t,e)};e.extend(s,n),e.extend(s.prototype,n.prototype),s.prototype.initDOM=function(){n.prototype.initDOM.call(this)},s.prototype.setupDOM=function(){n.prototype.setupDOM.call(this)},s.prototype.onDOMInit=function(){n.prototype.onDOMInit.call(this)},s.prototype.onShown=function(){n.prototype.onShown.call(this)},s.prototype.onResize=function(){n.prototype.onResize.call(this)},s.prototype.dispose=function(){n.prototype.dispose.call(this)},t.exports=s}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(11),o=i(12),a=i(21),r=i(7),h=i(22),l=(i(55),i(64)),c=i(66),u=i(67),p=i(69),d=i(71),f=i(72),m=i(73),g=i(74),v=i(76),y=i(78),_=i(80),w=i(82),b=i(84),x=function(t,e){this.canUpdate=!0,this.ease=0,this.articles=[],this.views={start:l,calendar:p,patient:d,clients:w,market:c,intro:u,percentage:f,loyalty:m,smart:g,stars:v,series:y,contact:_},o.blockIsAnimating=!0,this.showIsAnimating=!1,this.currentBlockIndex=0,this.currentStepIndex=-1,this.isViewShown=!1,this.isCanvasShown=!1,this.bothAreShown=!1,this.currentTimestamp=null,this.startY=null,this.lastDeltaY=null,this.isDragging=null,this.menuClick=!1,this.isLoaded=!1,this.isIframeInit=!1,this.blockScroll=!1,this.assetsAreLoaded=this.assetsAreLoaded.bind(this),window.healthPage=this,s.call(this,t,e)};e.extend(x,s),e.extend(x.prototype,s.prototype),x.prototype.initDOM=function(){this.$body=n("body"),this.$html=n("html"),this.$bodyHtml=n("body,html"),this.$footer=n("#page-footer"),this.$articles=this.$el.find("article"),this.$overlay=n(".overlay-bg"),this.$svgFace=this.$el.find(".zeeface-svg"),this.$canvas=this.$el.find("#main-canvas")[0],this.$iFrameContainer=this.$el.find(".iframe-container .wrapper"),this.$pardotOverlay=this.$el.find(".pardot-overlay"),this.$btnOverlayClose=this.$iFrameContainer.find(".btn-close"),this.$btnContact=this.$el.find(".hs-btn-contact"),this.$btnContactHeader=n(".hs-header-btn-contact");for(var t=0;t<this.$btnContact.length;t++)this.$btnContact[t].addEventListener("click",n.proxy(this.showPardotOverlay,this),!1);this.$btnContactHeader[0].addEventListener("click",n.proxy(this.showPardotOverlay,this),!1),this.$btnOverlayClose[0].addEventListener("click",n.proxy(this.hidePardotOverlay,this),!1),TweenMax.to(window,.1,{scrollTo:0}),s.prototype.initDOM.call(this)},x.prototype.onDOMInit=function(){this.initLoader(),o.mainView.setNormalScrollBehavior(!1),a.isDevMode||TweenMax.set(this.$el.find(".loader"),{display:"block"}),this.mainCanvasView=new b({el:this.$canvas},null),this.mainCanvasView.init();var t,i,h,l,c,u=0;e.each(this.$articles,function(s,o){h=n(s),t=h.attr("class").split(" ")[0],l=h[0].getBoundingClientRect(),c=h.height(),i=new this.views[t]({el:s,mainCanvasView:this.mainCanvasView,mainView:this},null),i.init(),i.canScroll&&(u=0,e.each(n("."+t+" .scroll-content"),function(t){u+=n(t).height()}.bind(this)),c=u),this.listenTo(i,r.BLOCK_SHOWN,A.bind(this)),this.listenTo(i,r.BLOCK_HIDDEN,C.bind(this)),this.listenTo(i,r.CANVAS_SHOWN,O.bind(this)),this.listenTo(i,r.CANVAS_HIDDEN,S.bind(this)),this.articles[o]={name:t,"class":i,height:c,bdr:l,top:l.top}}.bind(this)),this.createIframe(),s.prototype.onDOMInit.call(this)},x.prototype.createIframe=function(){var t="http://pardot.zocdoc.com/l/45052/2016-10-25/8bh21p",e=window.location.search,i=document.createElement("iframe");i.setAttribute("src",t+e),i.setAttribute("width","100%"),i.setAttribute("height",500),i.setAttribute("type","text/html"),i.setAttribute("frameborder",0),i.setAttribute("allowTransparency","true"),i.style.border="0",n(this.$iFrameContainer).append(i),this.isIframeInit=!0},x.prototype.showPardotOverlay=function(){this.isIframeInit&&(o.overlayActive=!0,this.blockScroll=!0,n(this.$pardotOverlay).addClass("active"))},x.prototype.hidePardotOverlay=function(){this.isIframeInit&&(o.overlayActive=!1,this.blockScroll=!1,n(this.$pardotOverlay).removeClass("active"))},x.prototype.initLoader=function(){this.loader=new h([{path:"sprites-calendar-0",name:"calendar_",format:".png",first:0,end:77},{path:"sprites-calendar-1",name:"calendar_",format:".png",first:113,end:146},{path:"sprites-calendar-2",name:"calendar_",format:".png",first:187,end:229},{path:"sprites-zeeface",name:"Zsmile_",format:".png",first:39,end:95}],this.assetsAreLoaded.bind(this))},x.prototype.assetsAreLoaded=function(t){this.articles[0]&&(this.articles[0]["class"].isLoaded=!0,this.articles[0]["class"].animateZee(),o.scrollYDirection="UP",setTimeout(function(){this.$overlay.css({display:"none",visibility:"none",opacity:0})}.bind(this),10))},x.prototype.onMenuClicked=function(t,i){this.stepIsAnimating||o.blockIsAnimating||this.menuClick||(e.each(this.articles,function(t,e){i==t.name&&(this.menuIndex=e)}.bind(this)),this.menuIndex!=this.currentMenuIndex&&(this.currentMenuIndex=this.menuIndex,this.menuClick=!0,T.call(this)))},x.prototype.updateMenu=function(){if(!(this.stepIsAnimating||o.blockIsAnimating||this.menuClick)){var t;e.each(this.articles,function(e,i){this.options.mainAppView.headerView.targetMenu==e.name&&(t=i)}.bind(this)),t>=this.currentBlockIndex&&this.options.mainAppView.headerView.indexMenu>0?(this.currentMenuIndex=this.options.mainAppView.headerView.indexMenu-1,this.options.mainAppView.headerView.updatedMenuItems(this.options.mainAppView.headerView.indexMenu-1)):e.each(this.options.mainAppView.headerView.targets,function(t,e){if(t==this.articles[this.currentBlockIndex].name)return this.currentMenuIndex=e,void this.options.mainAppView.headerView.updatedMenuItems(e)}.bind(this))}},x.prototype.onTouchStart=function(){o.scrollYDirection=null,this.currentTimestamp=Date.now(),this.startY=o.touch.startY},x.prototype.onTouchMove=function(t){this.lastDeltaY=this.startY-(o.touch.startY-o.touch.deltaY),o.scrollYDirection=this.lastDeltaY<0?"DOWN":"UP",this.isDragging=!0},x.prototype.onTouchEnd=function(){this.isDragging=!1,this.startY=0;var t=Date.now()-this.currentTimestamp,e=Math.abs(this.lastDeltaY);t>75&&e>75&&(this.onScroll(),t=0,e=0),this.lastDeltaY=0},x.prototype.onKeyDown=function(t){38!==t.keyCode&&40!==t.keyCode||(o.scrollYDirection=38===t.keyCode?"DOWN":"UP",this.onScroll())},x.prototype.onScroll=function(){if(this.articles[this.currentBlockIndex]&&!o.blockIsAnimating&&this.bothAreShown&&!this.blockScroll&&!(Math.abs(o.scrollDeltaY)<50&&!o.isMobile&&"firefox"!=Detectizr.browser.name&&"safari"!=Detectizr.browser.name||this.articles[this.currentBlockIndex]["class"].canScroll&&"UP"===o.scrollYDirection&&o.scrollY+o.viewport.height<this.articles[this.currentBlockIndex]["class"].hBlock-10||this.articles[this.currentBlockIndex]["class"].canScroll&&"DOWN"===o.scrollYDirection&&o.scrollY>50||0===this.currentBlockIndex&&"DOWN"===o.scrollYDirection||this.currentBlockIndex>this.articles.length-2&&"UP"===o.scrollYDirection||o.blockIsAnimating||this.showIsAnimating||this.stepIsAnimating)){if(this.articles[this.currentBlockIndex]["class"].steps&&this.currentStepIndex<=this.articles[this.currentBlockIndex]["class"].steps)return void this.updateStepIndex();this.currentScrollDirection=o.scrollYDirection,T.call(this)}},x.prototype.updateStepIndex=function(){if(!this.stepIsAnimating&&!o.blockIsAnimating){this.stepIsAnimating=!0,o.blockIsAnimating=!0;var t="DOWN"===o.scrollYDirection?0:1;if(this.articles[this.currentBlockIndex]["class"].stepsAnimation[this.currentStepIndex+t]&&this.currentStepIndex+t<=this.articles[this.currentBlockIndex]["class"].steps){var e=this.currentStepIndex+t;e!=-1?this.articles[this.currentBlockIndex]["class"].manageSteps(e,function(){0==t?this.currentStepIndex-=1:this.currentStepIndex=e,this.articles[this.currentBlockIndex]["class"].currentStep=this.currentStepIndex,this.stepIsAnimating=!1,o.blockIsAnimating=!1,"DOWN"==o.scrollYDirection&&this.currentStepIndex==-1&&T.call(this)}.bind(this)):(this.currentScrollDirection=o.scrollYDirection,this.stepIsAnimating=!1,o.blockIsAnimating=!1,this.currentStepIndex=-1,T.call(this))}else this.currentScrollDirection=o.scrollYDirection,this.stepIsAnimating=!1,o.blockIsAnimating=!1,this.currentStepIndex=-1,T.call(this)}};var T=function(){o.blockIsAnimating=!0,this.articles[this.currentBlockIndex]["class"].hide()},C=function(){this.isViewShown=!1,this.isViewShown||this.isCanvasShown||(this.bothAreShown=!1,o.blockIsAnimating=!1,this.updateBlockIndex())},S=function(){this.isCanvasShown=!1,this.isViewShown||this.isCanvasShown||this.isAnimating||(this.bothAreShown=!1,o.blockIsAnimating=!1,this.updateBlockIndex())};x.prototype.updateBlockIndex=function(){o.blockIsAnimating||this.showIsAnimating||this.stepIsAnimating||(this.menuClick?this.currentBlockIndex=this.menuIndex:(this.currentBlockIndex="DOWN"===o.scrollYDirection?this.currentBlockIndex-1:this.currentBlockIndex+1,this.currentBlockIndex<0&&(this.currentBlockIndex=0),this.currentBlockIndex==this.articles.length&&(this.currentBlockIndex=this.articles.length-2),this.updateMenu()),M.call(this))};var M=function(){o.blockIsAnimating||this.showIsAnimating||this.stepIsAnimating||(o.blockIsAnimating=!0,this.showIsAnimating=!0,this.onMenuClicked(),this.articles[this.currentBlockIndex]["class"].show())},A=function(){this.currentStepIndex=-1,this.stepIsAnimating=!1,this.isViewShown=!0,o.blockIsAnimating=!1,this.showIsAnimating=!1,this.menuClick=!1,this.isViewShown&&this.isCanvasShown&&(this.bothAreShown=!0)},O=function(){this.isCanvasShown=!0,this.isViewShown&&this.isCanvasShown&&(this.bothAreShown=!0,o.blockIsAnimating=!1)};x.prototype.goToNextSection=function(){o.blockIsAnimating||this.showIsAnimating||this.stepIsAnimating||(o.scrollDeltaY=60,o.scrollY=60,o.scrollYDirection="UP",this.onScroll())},x.prototype.goToPreviousSection=function(){o.blockIsAnimating||this.showIsAnimating||this.stepIsAnimating||(o.scrollDeltaY=60,o.scrollY=60,o.scrollYDirection="DOWN",this.onScroll())},x.prototype.onResize=function(){o.isMobile||(this.mainCanvasView&&this.mainCanvasView.onResize(),e.each(this.articles,function(t){t["class"].onResize()}),s.prototype.onResize.call(this))},x.prototype.dispose=function(){s.prototype.dispose.call(this)},x.prototype.onUpdate=function(){this.articles&&this.articles[this.currentBlockIndex]&&o.isScrolling&&this.articles[this.currentBlockIndex]["class"].canUpdate&&this.articles[this.currentBlockIndex]["class"].onUpdate()},t.exports=x}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(12),r=i(65),h=function(t,e){this.hasBeenPlayed=!1,this.id="start",this.events={"click .scroll-cta":function(){t.mainView.goToNextSection()}.bind(this)},s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.init=function(){this.options.mainCanvasView.register(this.id,new r({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.start,o.CANVAS_SHOWN,l.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.start,o.CANVAS_HIDDEN,c.bind(this)),s.prototype.init.call(this)},h.prototype.initDOM=function(){this.$title=this.$el.find("h1"),this.$textCTA=this.$el.find(".scroll-cta p"),this.$arrowCTA=this.$el.find(".arrow"),this.$headerNavigation=n(".page-header .navigation"),s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),s.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.3,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0),this.TL.show.fromTo(this.$title,.6,{opacity:0,y:20},{y:0,opacity:1,ease:Expo.easeOut},.25),this.TL.show.fromTo(this.$textCTA,.6,{opacity:0,y:20},{y:0,opacity:1,ease:Expo.easeOut},.3),this.TL.show.fromTo(this.$arrowCTA,.6,{opacity:0,y:20},{y:0,opacity:1,ease:Expo.easeOut},.35)},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.isShown=!0,this.animateArrow(),this.startIsAnimate=!1,this.options.mainCanvasView.aCanvasAnimViews.start.isShown=!0,this.trigger(o.BLOCK_SHOWN),s.prototype.onShown.call(this)};var l=function(){this.trigger(o.CANVAS_SHOWN)};h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},0),this.TL.hide.to(this.$title,.6,{opacity:0,y:-20,ease:Expo.easeOut},.2),this.TL.hide.to(this.$textCTA,.6,{opacity:0,y:-20,ease:Expo.easeOut},.25),this.TL.hide.to(this.$arrowCTA,.6,{opacity:0,y:-20,ease:Expo.easeOut},.3)},h.prototype.onHidden=function(){this.trigger(o.BLOCK_HIDDEN),TweenMax.set(this.options.mainView.$canvas,{background:"none"}),this.isShown=!1,this.options.mainCanvasView.aCanvasAnimViews.start.isShown=!1,s.prototype.onHidden.call(this)};var c=function(){this.trigger(o.CANVAS_HIDDEN)};h.prototype.animateZee=function(){this.options.mainCanvasView.aCanvasAnimViews.start.generateImages(this.options.mainView.loader.assetsImages[3],this.options.mainCanvasView.aCanvasAnimViews.start.rastersLoader,0,function(){this.options.mainCanvasView.aCanvasAnimViews.start.manageStep(-1,"Loader",0,function(){this.options.mainCanvasView.aCanvasAnimViews.start.hideZee(function(){this.show()}.bind(this))}.bind(this))}.bind(this))},h.prototype.show=function(){this.isLoaded&&this.TL&&this.TL.show&&!this.isShown&&!this.startIsAnimate&&(this.startIsAnimate=!0,TweenMax.set(this.options.mainView.$canvas,{background:"#f1f1f9"}),this.TL.show.play(0),"default"===a.breakpoint&&this.menuIsFixed&&(this.menuIsFixed=!1,TweenMax.to(this.$headerNavigation,.4,{y:0,ease:Expo.easeOut})),this.options.mainCanvasView.showCanvas(this.id))},h.prototype.hide=function(){"default"!==a.breakpoint||this.menuIsFixed||(this.menuIsFixed=!0,TweenMax.to(this.$headerNavigation,.4,{y:-64,ease:Expo.easeOut})),this.TL.hide.play(0),this.options.mainCanvasView.hideCanvas(this.id)},h.prototype.animateArrow=function(){TweenMax.fromTo(this.$arrowCTA,.6,{y:0},{y:5,ease:Power4.easeNone,repeat:-1,yoyo:!0})},h.prototype.onResize=function(){"default"!==a.breakpoint||this.menuIsFixed||this.isShown?"sml"===a.breakpoint&&(this.menuIsFixed=!1,TweenMax.set(this.$headerNavigation,{y:0})):(this.menuIsFixed=!0,TweenMax.set(this.$headerNavigation,{y:-64})),s.prototype.onResize.call(this)},h.prototype.onUpdate=function(){},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(29),o=i(13),a=i(7),r=i(23),h=i(12),l=function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.isAnimating=!1,this.indexLoader=0,this.rasters=[],this.isShown=!1,this.name="startCanvas",this.scale=h.isMobile?640/h.viewport.height*.3:640/h.viewport.height*.7,o.call(this,t,e)};e.extend(l,o),e.extend(l.prototype,o.prototype),l.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.itemsPosition=[],this.mainBlob=new s({scope:this,canvasView:this.mainCanvasView,color:"#fa6876",position:{x:"CV.viewport.width / 2",y:"CV.viewport.height / 2"},size:{w:"CV.viewport.width * 4",maxW:"CV.viewport.height * 4"},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",orbit:{h:2,w:2},rotate:135}),this.rastersLoader=[],o.prototype.init.call(this)},l.prototype.initTL=function(){this.initTLShow(),o.prototype.initTL.call(this)},l.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)});var t={width:this.mainBlob.path.bounds._width,x:this.mainBlob.path.position.x,y:this.mainBlob.path.position.y,color:r.rgbToHex(255*this.mainBlob.path.fillColor.red,255*this.mainBlob.path.fillColor.green,255*this.mainBlob.path.fillColor.blue),opacity:this.mainBlob.path.opacity};if(h.viewport.width>1500)var e=450;else if(h.viewport.width<1500&&h.viewport.width>922)var e=350;else var e=250;this.TL.show.to(t,.8,{width:e,x:h.viewport.width/2,y:h.viewport.height/2,color:"#fa6876",opacity:1,onUpdate:function(){var e=this.mainBlob.getScale({w:t.width},this.mainBlob.path);this.mainBlob.path.scale(e),this.mainBlob.path.fillColor=t.color,this.mainBlob.path.position.y=t.y,this.mainBlob.path.position.x=t.x,this.mainBlob.path.opacity=t.opacity}.bind(this),ease:Power4.easeOut},0)},l.prototype.show=function(){this.TL.show&&this.killTL("show"),this.initTLShow(),this.mainBlob.canAnimate=!1,TweenMax.set(this.mainView.$canvas,{zIndex:2}),this.isAnimating||this.TL.show&&this.TL.show.play(0)},l.prototype.onShown=function(){this.mainBlob.generateSettingsPoints(),this.canAnimate=!0,this.mainBlob.canAnimate=!0,this.isAnimating=!1,this.isShown=!0,this.trigger(a.CANVAS_SHOWN)},l.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)});var t={width:this.mainBlob.path.bounds._width};this.TL.hide.to(t,.7,{width:4*h.viewport.width,ease:Power4.easeInOut,onUpdate:function(){var e=this.mainBlob.getScale({w:t.width},this.mainBlob.path);this.mainBlob.path.scale(e)}.bind(this)})},l.prototype.hide=function(){this.TL.hide&&this.killTL("hide"),this.initTLHide(),this.isAnimating||(this.mainBlob.canAnimate=!1,this.TL.hide&&this.TL.hide.play(0))},l.prototype.onHidden=function(){this.mainBlob.generateSettingsPoints(),this.isShown=!1,this.trigger(a.CANVAS_HIDDEN)},l.prototype.onResize=function(){if(this.isShown){if(this.mainBlob.onResize(),h.viewport.width>1500)var t=this.mainBlob.getScale({w:450},this.mainBlob.path);else if(h.viewport.width<1500&&h.viewport.width>922)var t=this.mainBlob.getScale({w:350},this.mainBlob.path);else var t=this.mainBlob.getScale({w:250},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.x=h.viewport.width/2,this.mainBlob.path.position.y=h.viewport.height/2}},l.prototype.hideZee=function(t){var e={opacity:1,width:640/h.viewport.height/2};TweenMax.to(e,.3,{opacity:0,width:320/window.innerHeight/2,delay:.1,onUpdate:function(){this.rastersLoader[this.rastersLoader.length-1].opacity=e.opacity}.bind(this),onComplete:function(){t()}.bind(this)})},l.prototype.manageStep=function(t,e,i,n){this.rasterStep=this["rasters"+e],this["index"+e]=this["index"+e]-t,this.indexStep=this["index"+e],this.rasterStep[this.indexStep].visible=!0,this.rasterStep[this.indexStep+t]&&(this.rasterStep[this.indexStep+t].visible=!1),this.indexStep<this.rasterStep.length-1&&this.indexStep>0?setTimeout(function(){this.manageStep(t,e,i,n)}.bind(this),25):n()},l.prototype.generateImages=function(t,i,s,o){var a;this.rasters.push(e.each(t,function(t){a=new n.Raster(t),a.visible=!1,a.position=new n.Point(this.paper.view.size.width/2,this.paper.view.size.height/2+s),a.scale(this.scale),i.push(a)}.bind(this))),o()},l.prototype.animate=function(t){this.canAnimate&&this.mainBlob.animate(t)},t.exports=l}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(12),r=function(t,e){this.hasBeenPlayed=!1,this.steps=a.isMobile?1:2,this.currentStep=-1,s.call(this,t,e)};e.extend(r,s),e.extend(r.prototype,s.prototype),r.prototype.initDOM=function(){this.$topLeft=this.$el.find(".top-left"),this.$topRight=this.$el.find(".top-right"),this.$bottomLeft=this.$el.find(".bottom-left"),this.$bottomRight=this.$el.find(".bottom-right"),this.$bottomSLeft=this.$el.find(".bottom-left-second"),this.$bottomSRight=this.$el.find(".bottom-right-second"),a.isMobile&&(this.els=[this.$topLeft,this.$topRight,this.$bottomLeft,this.$bottomRight,this.$bottomSLeft,this.$bottomSRight],TweenMax.set(this.els,{rotation:-30})),this.$titles=this.$el.find("h2"),this.$texts=this.$el.find("p"),this.$button=this.$el.find("button"),this.$contentBlocks=this.$el.find(".content"),a.isMobile?this.stepsAnimation=[this.step.bind(this)]:this.stepsAnimation=[this.firstStep.bind(this),this.secondStep.bind(this),this.thirdStep.bind(this)],s.prototype.initDOM.call(this)},r.prototype.setupDOM=function(){TweenMax.set(this.$el,{y:"100%",display:"none"}),s.prototype.setupDOM.call(this)},r.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},r.prototype.initTLShow=function(){},r.prototype.initTLHide=function(){},r.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(o.BLOCK_SHOWN),this.trigger(o.CANVAS_SHOWN),TweenMax.set(this.options.mainView.$canvas,{zIndex:2}),s.prototype.onShown.call(this)},r.prototype.onHidden=function(){this.trigger(o.BLOCK_HIDDEN),this.trigger(o.CANVAS_HIDDEN),s.prototype.onHidden.call(this)},r.prototype.show=function(){this.isAnimating=!0,this.stepIsActive=!1,a.isMobile?(TweenMax.set(this.$el,{display:"flex"}),TweenMax.fromTo(this.$el,.7,{y:"100%"},{y:"0%",display:"flex",ease:Expo.easeOut}),TweenMax.set(this.$titles[1],{y:100,opacity:0}),TweenMax.set(this.$texts[1],{y:100,opacity:0}),TweenMax.set(this.$button,{y:100,opacity:0}),n(this.$bottomSLeft).removeAttr("style"),n(this.$bottomSRight).removeAttr("style"),TweenMax.fromTo(this.$topLeft,.8,{top:"-60%"},{top:"2.5%",rotate:"-30deg",ease:Expo.easeOut,delay:.1}),TweenMax.fromTo(this.$topRight,.9,{top:"-70%"},{top:"4%",rotate:"-30deg",delay:.15,ease:Expo.easeOut}),TweenMax.fromTo(this.$bottomLeft,1.4,{top:"130%"},{top:"85%",delay:.25,ease:Expo.easeOut}),TweenMax.fromTo(this.$bottomRight,1.3,{top:"100%"},{top:"75%",delay:.2,ease:Expo.easeOut,onComplete:function(){this.onShown(),this.isAnimating=!1}.bind(this)}),TweenMax.to(this.$button[0],.5,{y:0,opacity:1,display:"block",ease:Expo.easeOut}),TweenMax.fromTo(this.$titles[0],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.2,ease:Expo.easeOut}),TweenMax.fromTo(this.$texts[0],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.25,ease:Expo.easeOut})):(TweenMax.fromTo(this.$el,.15,{y:"100%",display:"flex"},{y:"0%",display:"flex",ease:Expo.easeOut}),TweenMax.set([this.$titles,this.$texts,this.$button],{y:100,opacity:0,display:"none"}),n(this.$bottomSRight).removeAttr("style"),n(this.$bottomSLeft).removeAttr("style"),TweenMax.fromTo(this.$topLeft,.9,{top:"100%",left:"-5%"},{top:"42%",ease:Expo.easeOut}),TweenMax.fromTo(this.$topRight,.7,{top:"100%"},{top:"10%",delay:.1,ease:Expo.easeOut,onComplete:function(){this.onShown(),this.isAnimating=!1}.bind(this)}))},r.prototype.hide=function(){this.onHidden(),"DOWN"==a.scrollYDirection?TweenMax.to(this.$el,.7,{y:"100%",display:"none",ease:Expo.easeOut}):TweenMax.to(this.$el,.7,{y:"-100%",ease:Expo.easeOut})},r.prototype.manageSteps=function(t,e){this.stepsAnimation[t](e,t)},r.prototype.firstStep=function(t,e){this.isAnimating||(this.isAnimating=!0,this.isFirstStep?(TweenMax.to(this.$bottomLeft,1.4,{top:"100%",ease:Expo.easeOut}),TweenMax.to(this.$bottomRight,1.3,{top:"100%",ease:Expo.easeOut}),TweenMax.to(this.$titles[0],.5,{y:100,opacity:0,display:"none",delay:.1,ease:Expo.easeOut}),TweenMax.to(this.$texts[0],.5,{y:100,opacity:0,display:"none",delay:.05,ease:Expo.easeOut}),TweenMax.to(this.$button[0],.5,{y:100,opacity:0,display:"none",zIndex:0,ease:Expo.easeOut}),TweenMax.to(this.$topLeft,.8,{top:"42%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$topRight,.9,{top:"10%",delay:.15,ease:Expo.easeOut,onComplete:function(){t(),this.isFirstStep=!1,this.isSecondStep=!1,this.isThirdStep=!1,this.isAnimating=!1}.bind(this)})):(TweenMax.to(this.$topLeft,.8,{top:"-28%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$topRight,1,{top:"-29.5%",delay:.2,ease:Expo.easeOut}),TweenMax.fromTo(this.$bottomLeft,1.4,{top:"100%"},{top:"72%",delay:.4,ease:Expo.easeOut}),TweenMax.fromTo(this.$bottomRight,1.3,{top:"100%"},{top:"68%",delay:.3,ease:Expo.easeOut}),TweenMax.to(this.$titles[0],.5,{y:0,opacity:1,delay:.4,display:"block",ease:Expo.easeOut}),TweenMax.to(this.$texts[0],.5,{y:0,opacity:1,delay:.45,display:"block",ease:Expo.easeOut}),TweenMax.to(this.$button[0],.5,{y:0,opacity:1,ease:Expo.easeOut,display:"block",zIndex:30,delay:.5,onComplete:function(){t(),this.isFirstStep=!0,this.isSecondStep=!1,this.isThirdStep=!1,this.isAnimating=!1}.bind(this)})))},r.prototype.secondStep=function(t,e){this.isAnimating||(this.isAnimating=!0,this.isSecondStep?(a.isMobile?(TweenMax.to(this.$bottomLeft,.8,{top:"5%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomRight,.8,{top:"2%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSLeft,.8,{top:"75%",ease:Expo.easeOut,delay:.3}),TweenMax.to(this.$bottomSRight,.8,{top:"83%",ease:Expo.easeOut,delay:.35})):(TweenMax.to(this.$topLeft,.7,{top:"-28%",ease:Expo.easeOut,delay:.15}),TweenMax.to(this.$topRight,.9,{top:"-29.5%",delay:.35,ease:Expo.easeOut}),TweenMax.to(this.$bottomLeft,.8,{top:"75%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomRight,1,{top:"68%",ease:Expo.easeOut,delay:.25}),TweenMax.to(this.$bottomSLeft,.7,{top:"100%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSRight,.9,{top:"100%",ease:Expo.easeOut})),TweenMax.to(this.$titles[1],.5,{y:100,opacity:0,display:"none",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$texts[1],.5,{y:100,opacity:0,display:"none",delay:.05,ease:Expo.easeOut}),TweenMax.to(this.$button[1],.5,{y:100,opacity:0,zIndex:0,display:"none",ease:Expo.easeOut}),TweenMax.to(this.$titles[0],.5,{y:0,opacity:1,display:"block",delay:.5,ease:Expo.easeOut}),TweenMax.to(this.$texts[0],.5,{y:0,opacity:1,display:"block",delay:.45,ease:Expo.easeOut}),TweenMax.to(this.$button[0],.5,{y:0,opacity:1,display:"block",zIndex:30,ease:Expo.easeOut,delay:.4,onComplete:function(){t(),this.isFirstStep=!0,this.isSecondStep=!1,this.isThirdStep=!1,this.isAnimating=!1}.bind(this)})):(TweenMax.to(this.$topLeft,.8,{top:"-100%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$topRight,.8,{top:"-100%",ease:Expo.easeOut,delay:.1}),a.isMobile?(TweenMax.to(this.$bottomLeft,.8,{top:"5%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomRight,.8,{top:"2%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSLeft,.8,{top:"75%",ease:Expo.easeOut,delay:.3}),TweenMax.to(this.$bottomSRight,.8,{top:"83%",ease:Expo.easeOut,delay:.35})):(TweenMax.to(this.$bottomLeft,.6,{top:"-29%",ease:Expo.easeOut,delay:.2}),TweenMax.to(this.$bottomRight,.9,{top:"-39%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSLeft,.7,{top:"70%",ease:Expo.easeOut,delay:.3}),TweenMax.to(this.$bottomSRight,.8,{top:"75%",ease:Expo.easeOut,delay:.45})),TweenMax.to(this.$titles[0],.4,{y:-100,opacity:0,display:"none",ease:Expo.easeOut}),TweenMax.to(this.$texts[0],.4,{y:-100,opacity:0,display:"none",ease:Expo.easeOut,delay:.05}),TweenMax.to(this.$button[0],.4,{y:-100,opacity:0,display:"none",zIndex:0,ease:Expo.easeOut,delay:.1}),TweenMax.fromTo(this.$titles[1],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.6,ease:Expo.easeOut}),TweenMax.fromTo(this.$texts[1],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.65,ease:Expo.easeOut}),TweenMax.fromTo(this.$button[1],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.7,zIndex:30,ease:Expo.easeOut,onComplete:function(){t&&t(),this.isFirstStep=!1,this.isSecondStep=!0,this.isThirdStep=!1,this.isAnimating=!1}.bind(this)})))},r.prototype.thirdStep=function(t,e){this.isAnimating||(this.isAnimating=!0,this.isThirdStep?(TweenMax.to(this.$bottomLeft,.6,{top:"-29%",ease:Expo.easeOut,delay:.2}),TweenMax.to(this.$bottomRight,.8,{top:"-39%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSLeft,.9,{top:"70%",ease:Expo.easeOut}),TweenMax.to(this.$bottomSRight,.55,{top:"75%",ease:Expo.easeOut}),TweenMax.to(this.$topLeft,1.1,{top:"100%",ease:Expo.easeOut}),TweenMax.to(this.$titles[1],.4,{y:0,opacity:1,display:"block",delay:.2,ease:Expo.easeOut}),TweenMax.to(this.$texts[1],.4,{y:0,opacity:1,display:"block",ease:Expo.easeOut,delay:.25}),TweenMax.to(this.$button[1],.4,{y:0,opacity:1,display:"block",zIndex:30,ease:Expo.easeOut,delay:.3,onComplete:function(){t&&t(),this.isFirstStep=!1,this.isSecondStep=!0,this.isThirdStep=!1,TweenMax.set(this.$topLeft,{top:"-100%",left:"-5%",ease:Expo.easeOut}),this.isAnimating=!1}.bind(this)})):(TweenMax.to(this.$bottomLeft,.6,{top:"-100%",ease:Expo.easeOut,delay:.25}),TweenMax.to(this.$bottomRight,.9,{top:"-100%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSLeft,1,{top:"-20%",ease:Expo.easeOut}),TweenMax.fromTo(this.$topLeft,.7,{top:"100%",left:"35%"},{top:"70%",ease:Expo.easeOut}),TweenMax.to(this.$bottomSRight,.8,{top:"10%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$titles[1],.4,{y:-100,opacity:0,display:"none",ease:Expo.easeOut}),TweenMax.to(this.$texts[1],.4,{y:-100,opacity:0,display:"none",ease:Expo.easeOut,delay:.05}),TweenMax.to(this.$button[1],.4,{y:-100,opacity:0,display:"none",zIndex:0,ease:Expo.easeOut,delay:.1,onComplete:function(){t&&t(),this.isFirstStep=!1,this.isSecondStep=!1,this.isThirdStep=!0,this.isAnimating=!1}.bind(this)})))},r.prototype.step=function(t){this.isAnimating||(this.isAnimating=!0,this.stepIsActive?(TweenMax.to(this.$bottomSLeft,.8,{top:"130%",ease:Expo.easeOut}),TweenMax.to(this.$bottomSRight,.8,{top:"140%",ease:Expo.easeOut,delay:.05}),TweenMax.to(this.$topLeft,1.1,{top:"-28%",ease:Expo.easeOut,delay:.3}),TweenMax.to(this.$topRight,1.2,{top:"-29.5%",ease:Expo.easeOut,delay:.35}),TweenMax.to(this.$bottomLeft,1,{top:"75%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomRight,.9,{top:"68%",ease:Expo.easeOut,delay:.15}),TweenMax.to(this.$titles[1],.4,{y:100,opacity:0,display:"none",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$texts[1],.4,{y:100,opacity:0,display:"none",ease:Expo.easeOut,delay:.05}),TweenMax.to(this.$button[1],.4,{y:100,opacity:0,display:"none",ease:Expo.easeOut}),TweenMax.fromTo(this.$titles[0],.5,{y:-100,opacity:0},{y:0,display:"block",opacity:1,delay:.6,ease:Expo.easeOut}),TweenMax.fromTo(this.$button[0],.5,{y:-100,opacity:0},{y:0,opacity:1,display:"block",delay:.7,ease:Expo.easeOut}),TweenMax.fromTo(this.$texts[0],.5,{y:-100,opacity:0},{y:0,opacity:1,display:"block",delay:.65,ease:Expo.easeOut,onComplete:function(){t&&t(),this.stepIsActive=!1,this.isAnimating=!1}.bind(this)})):(TweenMax.to(this.$topLeft,.8,{top:"-100%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$topRight,.8,{top:"-100%",ease:Expo.easeOut,delay:.1}),a.isMobile?(TweenMax.to(this.$bottomLeft,.8,{top:"5%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomRight,.8,{top:"2%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSLeft,.8,{top:"75%",ease:Expo.easeOut,delay:.3}),TweenMax.to(this.$bottomSRight,.8,{top:"83%",ease:Expo.easeOut,delay:.35})):(TweenMax.to(this.$bottomLeft,.8,{top:"-29%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomRight,.8,{
top:"-39%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSLeft,.8,{top:"70%",ease:Expo.easeOut,delay:.3}),TweenMax.to(this.$bottomSRight,.8,{top:"75%",ease:Expo.easeOut,delay:.35})),TweenMax.to(this.$titles[0],.4,{y:-100,opacity:0,display:"none",ease:Expo.easeOut}),TweenMax.to(this.$texts[0],.4,{y:-100,opacity:0,display:"none",ease:Expo.easeOut,delay:.05}),TweenMax.to(this.$button[0],.4,{y:-100,opacity:0,display:"none",ease:Expo.easeOut,delay:.1}),TweenMax.fromTo(this.$titles[1],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.6,ease:Expo.easeOut}),TweenMax.fromTo(this.$texts[1],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.65,ease:Expo.easeOut}),TweenMax.fromTo(this.$button[1],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.7,ease:Expo.easeOut,onComplete:function(){t&&t(),this.stepIsActive=!0,this.isAnimating=!1}.bind(this)})))},r.prototype.onResize=function(){s.prototype.onResize.call(this)},r.prototype.onUpdate=function(){},r.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=r}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(68),r=i(12);i(55);var h=function(t,e){this.hasBeenPlayed=!1,this.id="intro",this.canScroll=!0,this.canUpdate=!0,s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.init=function(){this.options.mainCanvasView.register(this.id,new a({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.intro,o.CANVAS_SHOWN,l.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.intro,o.CANVAS_HIDDEN,c.bind(this)),s.prototype.init.call(this)},h.prototype.initDOM=function(){s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){s.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){this.$canvas=n("#main-canvas"),this.$cashs=this.$el.find(".cash"),this.$typing=this.$el.find(".type"),this.$border=this.$el.find(".border"),this.$title=this.$el.find(".title-blob"),this.$search=this.$el.find(".search"),this.$percentage=this.$el.find(".percentage"),this.$arrowCTA=this.$el.find(".arrow"),this.hBlock=n(this.$el).height(),this.wBlock=n(this.$el).width(),this.lBorder=67.5,this.wTypes=[],this.currentIndexTyping=0,e.each(this.$typing,function(t){this.wTypes.push(n(t).width())}.bind(this)),TweenMax.set(this.$el,{y:"100%",display:"none"}),this.animateArrow(),s.prototype.onDOMInit.call(this)},h.prototype.typing=function(){this.currentIndexTyping=this.currentIndexTyping<0?0:this.currentIndexTyping,this.lBorder+=this.wTypes[this.currentIndexTyping],TweenMax.set(this.$border,{left:this.lBorder,delay:.4}),TweenMax.set(this.$typing[this.currentIndexTyping],{opacity:1,delay:.4,onComplete:function(){this.currentIndexTyping++,this.currentIndexTyping<=this.wTypes.length-1?this.typing():e.delay(function(){this.cleanTyping()}.bind(this),2500)}.bind(this)})},h.prototype.cleanTyping=function(){this.currentIndexTyping=this.currentIndexTyping>this.wTypes.length-1?this.wTypes.length-1:this.currentIndexTyping,this.lBorder-=this.wTypes[this.currentIndexTyping],TweenMax.set(this.$border,{left:this.lBorder,delay:.4}),TweenMax.set(this.$typing[this.currentIndexTyping],{opacity:0,delay:.4,onComplete:function(){this.currentIndexTyping--,this.currentIndexTyping>=0?this.cleanTyping():e.delay(function(){this.typing()}.bind(this),2500)}.bind(this)})},h.prototype.border=function(){TweenMax.set(this.$border,{opacity:1,delay:.5}),TweenMax.to(this.$border,.1,{opacity:0,delay:1,onComplete:this.border.bind(this)})},h.prototype.initTLShow=function(){},h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,ease:Expo.easeInOut},0)},h.prototype.onShown=function(){this.hBlock=n(this.$el).height(),this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(o.BLOCK_SHOWN),e.delay(function(){r.mainView.setNormalScrollBehavior()}.bind(this),0),s.prototype.onShown.call(this)};var l=function(){this.trigger(o.CANVAS_SHOWN)};h.prototype.onHidden=function(){this.trigger(o.BLOCK_HIDDEN),this.options.mainCanvasView.aCanvasAnimViews.intro.canAnimate=!1,r.mainView.setNormalScrollBehavior(!1),s.prototype.onHidden.call(this)},h.prototype.show=function(){this.options.mainCanvasView.aCanvasAnimViews.intro.initCanvas(),this.options.mainCanvasView.showCanvas(this.id),this.options.mainCanvasView.aCanvasAnimViews.intro.canAnimate=!1,r.mainView.setNormalScrollBehavior(!1),"DOWN"==r.scrollYDirection?(n(this.$canvas).removeAttr("style"),TweenMax.fromTo(this.$el,.7,{y:"-100%"},{y:"0%",display:"flex",ease:Expo.easeOut,onComplete:function(){this.onShown()}.bind(this)})):TweenMax.fromTo(this.$el,.7,{y:"100%"},{y:"0%",display:"flex",ease:Expo.easeOut,onComplete:function(){this.onShown()}.bind(this)})},h.prototype.hide=function(){this.options.mainCanvasView.aCanvasAnimViews.intro.canAnimate=!1,"DOWN"==r.scrollYDirection?TweenMax.to(this.$el,.7,{y:"100%",display:"none",ease:Expo.easeOut,onComplete:function(){this.onHidden()}.bind(this)}):TweenMax.to(this.$el,.7,{y:"-100%",display:"none",ease:Expo.easeOut,onComplete:function(){this.onHidden()}.bind(this)}),this.options.mainCanvasView.hideCanvas(this.id)};var c=function(){this.trigger(o.CANVAS_HIDDEN)};h.prototype.onResize=function(){this.hBlock=n(this.$el).height(),s.prototype.onResize.call(this)},h.prototype.onUpdate=function(){this.percentage=(r.scrollY+r.viewport.height)/this.hBlock,(r.isScrolling||r.isTouch)&&(TweenMax.to(this.$cashs[0],.08,{y:this.percentage*-110,ease:Linear.easeNone}),TweenMax.to(this.$cashs[1],.08,{y:this.percentage*-60,ease:Linear.easeNone}),TweenMax.to(this.$cashs[2],.05,{y:this.percentage*-120,ease:Linear.easeNone}),TweenMax.to(this.$cashs[3],.05,{y:75*this.percentage,ease:Linear.easeNone}),TweenMax.to(this.$cashs[4],.05,{y:this.percentage*-70,ease:Linear.easeNone}),TweenMax.to(this.$cashs[5],.12,{y:this.percentage*-90,ease:Linear.easeNone}),TweenMax.to(this.$cashs[6],.05,{y:this.percentage*-80,ease:Linear.easeNone})),!this.isTyped&&(r.isScrolling||r.isTouch)&&this.percentage>.7&&(this.isTyped=!0,this.border(),this.typing())},h.prototype.animateArrow=function(){TweenMax.fromTo(this.$arrowCTA,.6,{y:0},{y:5,ease:Power4.easeNone,repeat:-1,yoyo:!0})},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=(i(29),i(12)),o=i(13),a=i(7),r=i(23),h=function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.canAnimate=!1,this.currentScrollY=0,o.call(this,t,e)};e.extend(h,o),e.extend(h.prototype,o.prototype),h.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.mainBlob=this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob,this.viewBlob=this.options.mainCanvasView.aCanvasAnimViews.start,this.$canvas=this.mainView.$canvas,o.prototype.init.call(this)},h.prototype.initTLShow=function(){},h.prototype.show=function(){this.canAnimate=!1,this.isAnimating=!0,this.mainBlob.canAnimate=!1,this.mainBlob.path.opacity=1,this.mainBlob.path.position.x=s.viewport.width/2;var t=s.isMobile?.7*s.viewport.width:450;if(s.isMobile&&(this.mainBlob.path.visible=!1,TweenMax.set(this.$canvas,{background:"rgb(78, 213, 245)"})),"DOWN"==s.scrollYDirection){this.mainBlob.path.fillColor="#4ed5f5",this.mainBlob.path.position.y=-300;var e=this.mainBlob.getScale({w:t},this.mainBlob.path);this.mainBlob.path.scale(e),this.mainBlob.generateSettingsPoints();var i={width:this.mainBlob.path.bounds._width};TweenMax.to(i,.6,{width:4*s.viewport.width,height:4*s.viewport.height,ease:Expo.easeOut,onUpdate:function(){o=this.mainBlob.getScale({w:i.width,h:i.height},this.mainBlob.path),this.mainBlob.path.scale(o)}.bind(this),onComplete:function(){this.mainBlob.canAnimate=!1,this.mainBlob.path.position.y=s.viewport.height/2,this.mainBlob.generateSettingsPoints(),TweenMax.set(this.$canvas,{background:"rgb(78, 213, 245)"}),this.blobIsCenter=!0;var t,e,i={r:78,g:213,b:245,width:this.mainBlob.path.bounds._width};TweenMax.to(i,.8,{r:6,g:33,b:90,width:450,ease:Expo.easeOut,onUpdate:function(){t=r.rgbToHex(i.r,i.g,i.b),this.mainBlob.path.fillColor=t,e=this.mainBlob.getScale({w:i.width},this.mainBlob.path),this.mainBlob.path.scale(e)}.bind(this),onComplete:function(){this.canAnimate=!0,this.mainBlob.canAnimate=!0,this.mainBlob.generateSettingsPoints(),this.isAnimating=!1,this.trigger(a.CANVAS_SHOWN)}.bind(this)})}.bind(this),delay:0}),this.mainBlob.path.position.y=-250;var n={y:-250};TweenMax.to(n,1.1,{y:s.viewport.height/2,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=n.y}.bind(this)})}else{this.mainBlob.path.fillColor="#06215a",this.mainBlob.path.position=this.paper.view.center,this.mainBlob.generateSettingsPoints();var e=this.mainBlob.getScale({w:4*s.viewport.width,h:4*s.viewport.height},this.mainBlob.path);this.mainBlob.path.scale(e),TweenMax.set(this.$canvas,{background:"rgb(78, 213, 245)"});var o,i={width:this.mainBlob.path.bounds._width};TweenMax.to(i,.6,{width:t,onUpdate:function(){o=this.mainBlob.getScale({w:i.width},this.mainBlob.path),this.mainBlob.path.scale(o)}.bind(this),onComplete:function(){this.canAnimate=!0,this.isAnimating=!1,this.mainBlob.generateSettingsPoints(),this.trigger(a.CANVAS_SHOWN)}.bind(this),delay:0,ease:Expo.easeOut})}},h.prototype.initCanvas=function(){if("DOWN"==s.scrollYDirection){var t=this.mainBlob.getScale({w:450},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.y=-250,this.mainBlob.path.fillColor="#42d6f8"}else{var t=this.mainBlob.getScale({w:4*s.viewport.width,h:4*s.viewport.height},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.y=s.viewport.height/2,this.mainBlob.path.fillColor="#06215a"}},h.prototype.animate=function(t){if(this.setBlob(s.scrollY),this.mainBlob.canAnimate=!(s.scrollY>0),this.isVisible&&!s.isMobile&&this.canAnimate){if(0==s.scrollY){if(this.mainBlob.path.position.y=s.viewport.height/2,this.mainBlob.path.position.y!=s.viewport.height/2){var e={y:this.mainBlob.path.position.y};TweenMax.to(e,.05,{y:s.viewport.height/2,onUpdate:function(){this.mainBlob.path.position.y=e.y}.bind(this),onComplete:function(){this.mainBlob.canAnimate=!0}.bind(this),ease:Linear.easeNone})}this.mainBlob.animate(t)}(s.isScrolling||s.isTouching)&&this.isVisible&&(this.mainBlob.canAnimate=!1,this.mainBlob.path.position.y=s.viewport.height/2-s.scrollY)}},h.prototype.setBlob=function(t){if(!this.isAnimating){if(this.isVisible=!(t>s.viewport.height),t>s.viewport.height+100&&!this.blobIsCenter){this.blobIsCenter=!0;var e=this.mainBlob.getScale({w:4*s.viewport.width,h:4*s.viewport.height},this.mainBlob.path);this.mainBlob.path.scale(e),this.mainBlob.path.position.y=s.viewport.height/2,this.mainBlob.path.fillColor="#42d6f8"}else if(this.blobIsCenter&&t<s.viewport.height+100){this.blobIsCenter=!1,this.mainBlob.path.fillColor="#06215a";var i=s.isMobile?.7*s.viewport.width:450,e=this.mainBlob.getScale({w:i},this.mainBlob.path);this.mainBlob.path.scale(e),this.mainBlob.path.position.y=-300}s.viewport.width/2&&(this.mainBlob.path.position.x=s.viewport.width/2)}},h.prototype.hide=function(){if(this.isAnimating=!0,s.isMobile&&(this.mainBlob.path.visible=!0),"DOWN"==s.scrollYDirection){n(this.$canvas).removeAttr("style");var t,e={width:this.mainBlob.path.bounds._width,opacity:this.mainBlob.path.opacity};TweenMax.to(e,1.5,{width:2*s.viewport.width,height:2*s.viewport.height,opacity:0,ease:Expo.easeOut,onUpdate:function(){t=this.mainBlob.getScale({w:e.width,h:e.height},this.mainBlob.path),this.mainBlob.path.scale(t),this.mainBlob.path.opacity=e.opacity}.bind(this),onComplete:function(){this.isAnimating=!1,this.trigger(a.CANVAS_HIDDEN)}.bind(this)})}else{this.blobIsCenter=!0;var i=this.mainBlob.getScale({w:4*s.viewport.width,h:4*s.viewport.height},this.mainBlob.path);this.mainBlob.path.scale(i),this.mainBlob.path.position.y=s.viewport.height/2,this.mainBlob.path.fillColor="#42d6f8",n(this.$canvas).removeAttr("style");var t,e={width:this.mainBlob.path.bounds._width};TweenMax.to(e,1.5,{width:450,ease:Expo.easeOut,onUpdate:function(){n(this.$canvas).removeAttr("style"),t=this.mainBlob.getScale({w:e.width},this.mainBlob.path),this.mainBlob.path.scale(t)}.bind(this)}),this.mainBlob.path.position.y=s.viewport.height/2;var o={y:s.viewport.height/2};TweenMax.to(o,1.1,{y:-250,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=o.y}.bind(this),onComplete:function(){this.isAnimating=!1,this.trigger(a.CANVAS_HIDDEN)}.bind(this)})}},h.prototype.onResize=function(){if(this.isShown){if(this.setBlob(s.scrollY),this.mainBlob.onResize(),s.viewport.width>1500)var t=this.mainBlob.getScale({w:450},this.mainBlob.path);else if(s.viewport.width<1500&&s.viewport.width>922)var t=this.mainBlob.getScale({w:350},this.mainBlob.path);else var t=this.mainBlob.getScale({w:250},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.x=s.viewport.width/2,this.mainBlob.path.position.y=s.viewport.height/2}},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e){var n=i(11),s=i(7),o=i(12),a=i(23),r=i(70),h=function(t,e){this.hasBeenPlayed=!1,this.id="calendar",this.steps=2,this.currentStep=-1,n.call(this,t,e)};e.extend(h,n),e.extend(h.prototype,n.prototype),h.prototype.init=function(){this.options.mainCanvasView.register(this.id,new r({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.calendar,s.CANVAS_SHOWN,l.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.calendar,s.CANVAS_HIDDEN,c.bind(this)),this.stepsAnimation=[this.firstStep.bind(this),this.secondStep.bind(this),this.thirdStep.bind(this)],this.mainBlob=this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob,n.prototype.init.call(this)},h.prototype.initDOM=function(){this.$titles=this.$el.find("h3"),n.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),n.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){n.prototype.onDOMInit.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.3,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0)},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.options.mainCanvasView.aCanvasAnimViews.calendar.isAnimating=!1,this.options.mainCanvasView.aCanvasAnimViews.start.isAnimating=!1,this.trigger(s.BLOCK_SHOWN),n.prototype.onShown.call(this)};var l=function(){this.trigger(s.CANVAS_SHOWN),this.options.mainCanvasView.aCanvasAnimViews.calendar.isShown=!0};h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0}),this.TL.hide.to(this.$el,.5,{autoAlpha:0,display:"none",delay:.1,ease:Expo.easeInOut},0)},h.prototype.onHidden=function(){this.trigger(s.BLOCK_HIDDEN),this.options.mainCanvasView.aCanvasAnimViews.calendar.isAnimating=!1,n.prototype.onHidden.call(this)};var c=function(){this.trigger(s.CANVAS_HIDDEN),this.options.mainCanvasView.aCanvasAnimViews.calendar.isShown=!1};h.prototype.reset=function(){e.each(this.$titles,function(t){TweenMax.set(t,{y:0,opacity:0})})},h.prototype.show=function(){TweenMax.set(this.options.mainView.$canvas,{zIndex:2}),this.reset(),this.currentStep=-1,this.options.mainCanvasView.aCanvasAnimViews.calendar.currentStep=this.currentStep,this.TL.show.play(0),TweenMax.fromTo(this.$titles[0],.5,{opacity:0,y:100},{opacity:1,y:0,ease:Expo.easeOut}),this.isFirstStep=!1,this.isSecondStep=!1,this.isThirdStep=!1,this.options.mainCanvasView.showCanvas(this.id)},h.prototype.hide=function(){this.TL.hide.play(0),this.options.mainCanvasView.hideCanvas(this.id),"DOWN"==o.scrollYDirection?TweenMax.to(this.$titles[0],.5,{y:200,opacity:0,ease:Expo.easeOut,delay:.05,onComplete:this.onHidden.bind(this)}):(this.onHidden(),TweenMax.set(this.options.mainView.$canvas,{zIndex:20,delay:.1}),TweenMax.to(this.$titles[this.$titles.length-1],.3,{y:-150,opacity:0,ease:Power4.easeOut}))},h.prototype.manageSteps=function(t,e){this.stepsAnimation[t](e,t)},h.prototype.firstStep=function(t,e){if(this.isFirstStep){var i=0;this.options.mainCanvasView.currentCanvasAnimView.manageStep(1,"FirstStep",e,null,function(){t(),this.isFirstStep=!1,this.isSecondStep=!1,this.isThirdStep=!1}.bind(this));var n=this.options.mainCanvasView.currentCanvasAnimView.rastersSecondStep;n[0].visible&&(n[0].visible=!1),TweenMax.to(this.$titles[1],.5,{opacity:0,y:-50,ease:Expo.easeOut,delay:i}),TweenMax.fromTo(this.$titles[0],.5,{opacity:0,y:50},{opacity:1,y:0,ease:Expo.easeOut,delay:i+.05})}else{var i=2.5;this.options.mainCanvasView.currentCanvasAnimView.manageStep(-1,"FirstStep",e,null,function(){t(),this.isFirstStep=!0,this.isSecondStep=!1,this.isThirdStep=!1}.bind(this)),TweenMax.to(this.$titles[0],.5,{opacity:0,y:50,ease:Expo.easeOut,delay:i}),TweenMax.fromTo(this.$titles[1],.5,{opacity:0,y:-50},{opacity:1,y:0,ease:Expo.easeOut,delay:i+.05})}},h.prototype.secondStep=function(t,e){if(!this.options.mainCanvasView.aCanvasAnimViews.start.isAnimating)if(this.isSecondStep){var i=.5;this.options.mainCanvasView.currentCanvasAnimView.manageStep(1,"SecondStep",e,null,function(){t(),this.isFirstStep=!0,this.isSecondStep=!1,this.isThirdStep=!1}.bind(this));var n=this.options.mainCanvasView.currentCanvasAnimView.rastersThirdStep;n[0].visible&&(n[0].visible=!1);var s,o={r:193,g:142,b:252};TweenMax.to(o,1,{r:250,g:104,b:118,ease:Expo.easeOut,onUpdate:function(){s=a.rgbToHex(o.r,o.g,o.b),this.mainBlob.path.fillColor=s}.bind(this),delay:0}),TweenMax.to(this.$titles[2],.5,{opacity:0,y:-50,ease:Expo.easeOut,delay:i}),TweenMax.fromTo(this.$titles[1],.5,{opacity:0,y:50},{opacity:1,y:0,ease:Expo.easeOut,delay:i+.05})}else{var s,o={r:250,g:104,b:118};TweenMax.to(o,1,{r:193,g:142,b:252,ease:Expo.easeOut,onUpdate:function(){s=a.rgbToHex(o.r,o.g,o.b),this.mainBlob.path.fillColor=s}.bind(this),delay:0});var i=.6;this.options.mainCanvasView.currentCanvasAnimView.manageStep(-1,"SecondStep",e,null,function(){t(),this.isFirstStep=!1,this.isSecondStep=!0,this.isThirdStep=!1}.bind(this));var n=this.options.mainCanvasView.currentCanvasAnimView.rastersFirstStep;n[n.length-1].visible&&(n[n.length-1].visible=!1),TweenMax.to(this.$titles[1],.5,{opacity:0,y:50,ease:Expo.easeOut,delay:i}),TweenMax.fromTo(this.$titles[2],.5,{opacity:0,y:-50},{opacity:1,y:0,ease:Expo.easeOut,delay:i+.05})}},h.prototype.thirdStep=function(t,e){if(!this.options.mainCanvasView.aCanvasAnimViews.start.isAnimating)if(this.isThirdStep){var i=this.options.mainCanvasView.currentCanvasAnimView.rastersThirdStep;i[i.length-1].visible&&(i[i.length-1].visible=!1);var n=.9;this.options.mainCanvasView.currentCanvasAnimView.manageStep(1,"ThirdStep",e,null,function(){t(),this.isFirstStep=!1,this.isSecondStep=!0,this.isThirdStep=!1}.bind(this)),TweenMax.to(this.$titles[3],.5,{opacity:0,y:-50,ease:Expo.easeOut,delay:n}),TweenMax.fromTo(this.$titles[2],.5,{opacity:0,y:50},{opacity:1,y:0,ease:Expo.easeOut,delay:n+.05})}else{var n=.5;this.options.mainCanvasView.currentCanvasAnimView.manageStep(-1,"ThirdStep",e,null,function(){t(),this.isFirstStep=!1,this.isSecondStep=!1,this.isThirdStep=!0}.bind(this));var i=this.options.mainCanvasView.currentCanvasAnimView.rastersSecondStep;i[i.length-1].visible&&(i[i.length-1].visible=!1),TweenMax.to(this.$titles[2],.5,{opacity:0,y:50,ease:Expo.easeOut,delay:n}),TweenMax.fromTo(this.$titles[3],.5,{opacity:0,y:-50},{opacity:1,y:0,ease:Expo.easeOut,delay:n+.05})}},h.prototype.onResize=function(){n.prototype.onResize.call(this)},h.prototype.onUpdate=function(){},h.prototype.dispose=function(){n.prototype.dispose.call(this)},t.exports=h}).call(e,i(3))},function(t,e,i){(function(e,n){var s=(i(29),i(12)),o=i(13),a=i(23),r=i(7),h=(i(30),function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.indexFirstStep=0,this.indexSecondStep=0,this.indexThirdStep=0,this.currentStep=-1,this.rasters=[],this.rastersObj=[],this.hImg=915,this.scale=.5*s.viewport.height/this.hImg,this.callbackEnd=null,this.name="calendarCanvas",o.call(this,t,e)});e.extend(h,o),e.extend(h.prototype,o.prototype),h.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.mainBlob=this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob,this.$canvas=this.options.mainView.$canvas,this.rastersFirstStep=[],this.generateImages(this.options.mainView.loader.assetsImages[0],this.rastersFirstStep,0),this.rastersSecondStep=[],this.generateImages(this.options.mainView.loader.assetsImages[1],this.rastersSecondStep,0),this.rastersThirdStep=[],this.generateImages(this.options.mainView.loader.assetsImages[2],this.rastersThirdStep,0),o.prototype.init.call(this)},h.prototype.animate=function(){if(this.mainView.currentStepIndex<1&&!this.isTransition&&(this.mainBlob.path.bounds._width!=3*s.viewport.width||this.mainBlob.path.position.y!=s.viewport.height/2||this.mainBlob.path.position.x!=s.viewport.width/2)){var t=this.mainBlob.getScale({w:3*s.viewport.width},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.y=s.viewport.height/2,this.mainBlob.path.position.x=s.viewport.width/2}},h.prototype.generateImages=function(t,i,o){var a,r=s.viewport.height/2+this.hImg*this.scale/2,h=s.viewport.width/2;this.rasters.push(e.each(t,function(t,e){a=new n.Raster(t),this.isResize||(a.visible=!1),a.scale(this.scale),a.position=new n.Point(h,r),i.push(a)}.bind(this))),this.rastersObj.push(i)},h.prototype.reset=function(){e.each(this.rastersObj,function(t){e.each(t,function(t){t.visible=!1}.bind(this))}.bind(this))},h.prototype.show=function(){this.mainBlob.path.fillColor="#fa6876",document.body.style.cursor="default",this.indexFirstStep=0,this.indexSecondStep=0,this.indexThirdStep=0,this.rastersThirdStep[this.rastersThirdStep.length-1].visible=!1,this.rastersThirdStep[this.rastersThirdStep.length-1].opacity=1,this.rastersThirdStep[this.rastersThirdStep.length-1].position.y=s.viewport.height/2+this.hImg*this.scale/2,this.rastersFirstStep[0]=new n.Raster(this.options.mainView.loader.assetsImages[0][0]),this.rastersFirstStep[0].scale(.5*s.viewport.height/915),this.rastersFirstStep[0].visible=!0,this.rastersFirstStep[0].opacity=0,this.rastersFirstStep[0].position.x=s.viewport.width/2,this.rastersFirstStep[0].position.y=s.viewport.height/2+this.hImg*this.scale/2+100;var t={opacity:0,y:this.rastersFirstStep[0].position.y,color:a.rgbToHex(255*this.mainBlob.path.fillColor.red,255*this.mainBlob.path.fillColor.green,255*this.mainBlob.path.fillColor.blue)};if(TweenMax.to(t,.5,{opacity:1,y:this.rastersFirstStep[0].position.y-100,ease:Expo.easeOut,onUpdate:function(){this.rastersFirstStep[0].opacity=t.opacity,this.rastersFirstStep[0].position.y=t.y,this.mainBlob.path.opacity=1,this.mainBlob.path.fillColor=t.color}.bind(this),onComplete:function(){this.trigger(r.CANVAS_SHOWN),this.options.mainView.goToNextSection(),this.canAnimate=!0,this.isTransition=!1}.bind(this)}),"DOWN"==s.scrollYDirection){this.options.mainCanvasView.aCanvasAnimViews.start.isAnimating=!0,this.options.mainCanvasView.aCanvasAnimViews.start.canAnimate=!1,this.mainBlob.path.position.y=-400;var e={x:this.mainBlob.path.position.x,y:-250};TweenMax.to(e,.6,{x:s.viewport.width/2,y:s.viewport.height/2,onUpdate:function(){this.mainBlob.path.position.x=e.x,this.mainBlob.path.position.y=e.y}.bind(this),ease:Cubic.easeOut});var i,o={width:this.mainBlob.path.bounds.width,height:this.mainBlob.path.bounds.height};TweenMax.to(o,.6,{width:4*s.viewport.width,height:4*s.viewport.height,onUpdate:function(){i=this.mainBlob.getScale({w:o.width,h:o.height},this.mainBlob.path),this.mainBlob.path.scale(i)}.bind(this),onComplete:function(){this.mainBlob.path.position=this.paper.view.center,this.mainBlob.generateSettingsPoints(),this.options.mainCanvasView.aCanvasAnimViews.start.isAnimating=!1,this.options.mainCanvasView.aCanvasAnimViews.start.canAnimate=!0,this.isTransition=!1,this.trigger(r.CANVAS_SHOWN)}.bind(this),ease:Cubic.easeOut})}},h.prototype.hide=function(){if(this.rastersFirstStep[0].visible=!1,this.rastersSecondStep[0].visible=!1,this.rastersThirdStep[0].visible=!1,this.rastersFirstStep[this.rastersFirstStep.length-1].visible=!1,this.rastersSecondStep[this.rastersSecondStep.length-1].visible=!1,this.rastersThirdStep[this.rastersThirdStep.length-1].visible=!1,this.isAnimating=!0,this.isTransition=!0,"DOWN"==s.scrollYDirection){var t={opacity:1,y:this.paper.view.size.height/2};TweenMax.to(t,.5,{opacity:0,y:s.viewport.height/2+100,ease:Expo.easeOut,onUpdate:function(){this.rastersFirstStep[0].opacity=t.opacity,this.rastersFirstStep[0].position.y=t.y}.bind(this),onComplete:function(){this.rastersFirstStep[0].opacity=0,this.reset(),this.trigger(r.CANVAS_HIDDEN)}.bind(this)})}else{this.mainBlob.canAnimate=!1;var e=this.rastersThirdStep[this.rastersThirdStep.length-1],i={opacity:1};TweenMax.to(i,.2,{opacity:0,delay:.15,ease:Expo.easeOut,onUpdate:function(){e.opacity=i.opacity}.bind(this)});var n={y:0};TweenMax.to(n,.3,{y:200,ease:Expo.easeOut,delay:.15,onUpdate:function(){e.position.y=s.viewport.height/2-n.y}.bind(this)});var o,t={width:this.mainBlob.path.bounds._width};TweenMax.to(t,1.5,{width:.7*s.viewport.width,ease:Expo.easeOut,delay:.15,onUpdate:function(){o=this.mainBlob.getScale({w:t.width},this.mainBlob.path),this.mainBlob.path.scale(o)}.bind(this),onComplete:function(){this.mainBlob.generateSettingsPoints(),this.isTransition=!1}.bind(this)});var a={y:this.mainBlob.path.position.y};TweenMax.to(a,2,{y:-this.mainBlob.path.bounds._height,ease:Power4.easeInt,delay:.15,onUpdate:function(){this.mainBlob.path.position.y=a.y}.bind(this)}),setTimeout(function(){this.trigger(r.CANVAS_HIDDEN)}.bind(this),250)}},h.prototype.manageStep=function(t,e,i,n,o){this.rasterStep=this["rasters"+e],this["index"+e]=this["index"+e]-t,this.indexStep=this["index"+e],this.rasterStep[this.indexStep]&&(this.rasterStep[this.indexStep].visible=!0),this.rasterStep[this.indexStep+t]&&(this.rasterStep[this.indexStep+t].visible=!1),n&&(this.mainBlob.path.fillColor=n),this.indexStep<this.rasterStep.length-1&&this.indexStep>0?setTimeout(function(){this.manageStep(t,e,i,n,o)}.bind(this),25):("DOWN"==s.scrollYDirection&&0==i&&this.mainView.goToPreviousSection(),o())},h.prototype.onResize=function(){this.mainBlob.onResize(),this.hImg=this.scale*this.hImg,this.scale=.5*s.viewport.height/this.hImg;var t=s.viewport.height/2+this.hImg*this.scale/2,i=s.viewport.width/2;if(e.each(this.rastersFirstStep,function(e){e.position.y=t,e.position.x=i,e.scale(this.scale)}.bind(this)),e.each(this.rastersSecondStep,function(e){e.position.y=t,e.position.x=i,e.scale(this.scale)}.bind(this)),e.each(this.rastersThirdStep,function(e){e.position.y=t,e.position.x=i,e.scale(this.scale)}.bind(this)),this.isShown){var n=this.mainBlob.getScale({w:3*s.viewport.height},this.mainBlob.path);this.mainBlob.path.scale(n)}},t.exports=h}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(12),r=function(t,e){this.hasBeenPlayed=!1,this.steps=1,this.currentStep=-1,this.isFirstStep=!0,s.call(this,t,e)};e.extend(r,s),e.extend(r.prototype,s.prototype),r.prototype.initDOM=function(){s.prototype.initDOM.call(this),this.$client=this.$el.find(".client"),this.$doctor=this.$el.find(".doctor"),this.$titles=this.$el.find("h2"),this.$iconsFirst=this.$el.find(".icon-patient-first"),this.$button=this.$el.find("button")},r.prototype.init=function(){this.stepsAnimation=[this.step.bind(this)],s.prototype.init.call(this)},r.prototype.setupDOM=function(){TweenMax.set(this.$el,{display:"none"}),s.prototype.setupDOM.call(this)},r.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},r.prototype.initTLShow=function(){},r.prototype.initTLHide=function(){},r.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),TweenMax.set(this.options.mainView.$canvas,{zIndex:2}),this.trigger(o.BLOCK_SHOWN),this.trigger(o.CANVAS_SHOWN),this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob.path.fillColor="#f1f1f9",s.prototype.onShown.call(this)},r.prototype.onHidden=function(){this.trigger(o.BLOCK_HIDDEN),this.trigger(o.CANVAS_HIDDEN),this.reset(),this.currentStep=-1,this.isFirstStep=!0},r.prototype.reset=function(){e.each(this.$titles,function(t){TweenMax.set(t,{y:0,x:0,opacity:0})}),n(this.$button).removeAttr("style"),e.each(this.$iconsFirst,function(t){TweenMax.set(t,{y:0,opacity:0})}),TweenMax.set(this.$client,{y:"0%",x:"0%",opacity:0}),TweenMax.set(this.$doctor,{y:"0%",x:"0%",opacity:0})},r.prototype.show=function(){TweenMax.to(this.$el,.3,{y:"0%",x:"0%",opacity:1,display:"flex",ease:Expo.easeInOut}),TweenMax.fromTo(this.$iconsFirst[0],.4,{rotation:-50,scale:.1,y:25,opacity:0},{rotation:0,scale:1,y:0,opacity:1,ease:Power4.easeOut,transformOrigin:"center",delay:.2}),TweenMax.fromTo(this.$iconsFirst[1],.4,{rotation:50,scale:.1,y:25,opacity:0},{rotation:0,scale:1,transformOrigin:"center",y:0,opacity:1,ease:Power4.easeOut,delay:.25}),TweenMax.fromTo(this.$iconsFirst[2],.4,{rotation:70,scale:.1,y:25,opacity:0},{rotation:0,scale:1,transformOrigin:"center",y:0,opacity:1,ease:Power4.easeOut,delay:.3}),TweenMax.set(this.$titles[0],{opacity:1}),TweenMax.set(this.$titles[1],{opacity:0}),TweenMax.fromTo(this.$titles[0],.7,{y:250},{y:0,ease:Expo.easeOut}),TweenMax.fromTo(this.$client,.6,{y:"20%",opacity:1},{y:"0%",ease:Power4.easeOut}),TweenMax.fromTo(this.$doctor,.6,{y:"20%",scale:1,opacity:1},{y:"0%",ease:Power4.easeOut}),e.delay(function(){this.onShown()}.bind(this),1e3)},r.prototype.hide=function(){TweenMax.to(this.$doctor,.5,{y:"-15%",scale:.9,ease:Power4.easeOut}),TweenMax.to(this.$titles[1],.5,{opacity:0,y:-100,ease:Expo.easeOut}),TweenMax.to(this.$button,.5,{y:-100,opacity:0,delay:.1,ease:Expo.easeOut}),"DOWN"==a.scrollYDirection?TweenMax.to(this.$el,.5,{opacity:0,display:"none",ease:Expo.easeInOut}):TweenMax.set(this.$el,{display:"none",ease:Expo.easeInOut,delay:.8}),setTimeout(this.onHidden.bind(this),50)},r.prototype.manageSteps=function(t,e){this.stepsAnimation[t](e,t)},r.prototype.step=function(t){this.isAnimating||(this.isAnimating=!0,this.isFirstStep?(TweenMax.to(this.$iconsFirst[0],.4,{rotation:-50,scale:.1,y:25,opacity:0,ease:Power4.easeOut,transformOrigin:"center"}),TweenMax.to(this.$iconsFirst[1],.4,{rotation:50,scale:.1,y:25,opacity:0,transformOrigin:"center",ease:Power4.easeOut,delay:.05}),TweenMax.to(this.$iconsFirst[2],.4,{rotation:70,scale:.1,y:25,transformOrigin:"center",opacity:0,ease:Power4.easeOut,delay:.1}),TweenMax.to(this.$client,.45,{x:-150,y:150,opacity:0,ease:Expo.easeOut}),a.isMobile?TweenMax.to(this.$doctor,.6,{right:a.viewport.width/2-n(this.$doctor).width()/2,scale:1.3,delay:.1,ease:Expo.easeOut}):TweenMax.to(this.$doctor,.6,{x:-150,scale:1.3,delay:.1,ease:Expo.easeOut}),TweenMax.to(this.$titles[0],.3,{x:-100,opacity:0,delay:.05,ease:Expo.easeOut}),TweenMax.fromTo(this.$titles[1],.5,{y:0,x:100,opacity:0},{x:0,opacity:1,delay:.15,ease:Expo.easeOut,onComplete:function(){t(),this.isFirstStep=!1,this.isAnimating=!1}.bind(this)}),TweenMax.fromTo(this.$button,.3,{x:100,y:0,opacity:0},{x:0,opacity:1,delay:.15,ease:Expo.easeOut})):(TweenMax.fromTo(this.$iconsFirst[0],.4,{rotation:-50,scale:.1,y:25,opacity:0},{rotation:0,scale:1,y:0,opacity:1,ease:Power4.easeOut,transformOrigin:"center",delay:.1}),TweenMax.fromTo(this.$iconsFirst[1],.4,{rotation:50,scale:.1,y:25,opacity:0},{rotation:0,scale:1,transformOrigin:"center",y:0,opacity:1,ease:Power4.easeOut,delay:.15}),TweenMax.fromTo(this.$iconsFirst[2],.4,{rotation:70,scale:.1,y:25,opacity:0},{rotation:0,scale:1,transformOrigin:"center",y:0,opacity:1,ease:Power4.easeOut,delay:.2}),TweenMax.to(this.$client,.6,{y:0,x:0,opacity:1,ease:Expo.easeOut}),a.isMobile?TweenMax.to(this.$doctor,.6,{right:"20px",scale:1,ease:Expo.easeOut}):TweenMax.to(this.$doctor,.6,{x:"0%",scale:1,ease:Expo.easeOut}),TweenMax.to(this.$titles[0],.5,{opacity:1,x:0,ease:Expo.easeOut,delay:.1,onComplete:function(){t(),this.isFirstStep=!0,this.isAnimating=!1}.bind(this)}),
TweenMax.to(this.$button,.3,{x:100,opacity:0,ease:Expo.easeOut}),TweenMax.to(this.$titles[1],.2,{opacity:0,ease:Expo.easeOut})))},r.prototype.onUpdate=function(){},r.prototype.onResize=function(){s.prototype.onResize.call(this)},r.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=r}).call(e,i(3),i(1))},function(t,e,i){(function(e){var n=i(11),s=i(7),o=function(t,e){this.hasBeenPlayed=!1,n.call(this,t,e)};e.extend(o,n),e.extend(o.prototype,n.prototype),o.prototype.initDOM=function(){n.prototype.initDOM.call(this)},o.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0}),n.prototype.setupDOM.call(this)},o.prototype.onDOMInit=function(){n.prototype.onDOMInit.call(this)},o.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.3,{autoAlpha:1,ease:Expo.easeInOut},0)},o.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(s.BLOCK_SHOWN),this.trigger(s.CANVAS_SHOWN),n.prototype.onShown.call(this)},o.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,ease:Expo.easeInOut},0)},o.prototype.onHidden=function(){this.trigger(s.BLOCK_HIDDEN),this.trigger(s.CANVAS_HIDDEN),n.prototype.onHidden.call(this)},o.prototype.onResize=function(){n.prototype.onResize.call(this)},o.prototype.onUpdate=function(){},o.prototype.dispose=function(){n.prototype.dispose.call(this)},t.exports=o}).call(e,i(3))},function(t,e,i){(function(e){var n=i(11),s=i(7),o=i(12),a=function(t,e){this.hasBeenPlayed=!1,n.call(this,t,e)};e.extend(a,n),e.extend(a.prototype,n.prototype),a.prototype.initDOM=function(){this.$bgImg=this.$el.find(".bg-image"),this.$title=this.$el.find("h2"),this.$heartImg=this.$el.find(".heart img"),this.$heartTitle=this.$el.find(".heart .number"),this.$subTitle=this.$el.find("h3"),this.$text=this.$el.find(".text"),this.$els=[this.$title,this.$heartImg,this.$heartTitle,this.$subTitle,this.$text],n.prototype.initDOM.call(this)},a.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),n.prototype.setupDOM.call(this)},a.prototype.onDOMInit=function(){n.prototype.onDOMInit.call(this)},a.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0}),this.TL.show.to(this.$el,.3,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0)},a.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},0)},a.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(s.BLOCK_SHOWN),this.trigger(s.CANVAS_SHOWN),n.prototype.onShown.call(this)},a.prototype.onHidden=function(){this.trigger(s.BLOCK_HIDDEN),this.trigger(s.CANVAS_HIDDEN),n.prototype.onHidden.call(this)},a.prototype.show=function(){"DOWN"==o.scrollYDirection?(TweenMax.to(this.$el,.2,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0),TweenMax.fromTo(this.$bgImg,.5,{y:"10%",scale:.8},{y:"0%",scale:1,ease:Expo.easeOut,onComplete:this.onShown.bind(this)}),TweenMax.staggerFromTo(this.$els,.5,{y:-100,opacity:0},{y:0,opacity:1,ease:Expo.easeOut,delay:.1},.05)):(TweenMax.to(this.$el,.2,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0),TweenMax.fromTo(this.$bgImg,.5,{y:"10%",scale:.8},{y:"0%",scale:1,ease:Expo.easeOut,onComplete:this.onShown.bind(this)}),TweenMax.staggerFromTo(this.$els,.5,{y:100,opacity:0},{y:0,opacity:1,ease:Expo.easeOut,delay:.1},.05))},a.prototype.hide=function(){"DOWN"==o.scrollYDirection?(TweenMax.fromTo(this.$bgImg,.5,{y:"0%",scale:1},{y:"10%",scale:.8,ease:Expo.easeOut,onComplete:this.onHidden.bind(this)}),TweenMax.staggerTo(this.$els,.5,{y:100,opacity:1,ease:Expo.easeOut},.05),TweenMax.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},.2)):(TweenMax.fromTo(this.$bgImg,.5,{y:"0%",scale:1},{y:"0%",scale:1,ease:Expo.easeOut,onComplete:this.onHidden.bind(this)}),TweenMax.staggerTo(this.$els,.5,{y:-100,opacity:0,ease:Expo.easeOut},.05),TweenMax.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},.2))},a.prototype.onResize=function(){n.prototype.onResize.call(this)},a.prototype.onUpdate=function(){},a.prototype.dispose=function(){n.prototype.dispose.call(this)},t.exports=a}).call(e,i(3))},function(t,e,i){(function(e){var n=i(11),s=i(7),o=i(12),a=i(75),r=function(t,e){this.hasBeenPlayed=!1,this.id="smart",n.call(this,t,e)};e.extend(r,n),e.extend(r.prototype,n.prototype),r.prototype.init=function(){this.options.mainCanvasView.register(this.id,new a({mainCanvasView:this.options.mainCanvasView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.smart,s.CANVAS_SHOWN,h.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.smart,s.CANVAS_HIDDEN,l.bind(this)),n.prototype.init.call(this)},r.prototype.initDOM=function(){this.$canvas=this.options.mainView.$canvas,n.prototype.initDOM.call(this)},r.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),n.prototype.setupDOM.call(this)},r.prototype.onDOMInit=function(){this.$bgImg=this.$el.find(".bg-image"),this.$subTitle=this.$el.find("h3"),this.$title=this.$el.find("h2"),this.$text=this.$el.find(".text"),this.$els=[this.$subTitle,this.$title,this.$text],n.prototype.onDOMInit.call(this)},r.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0}),this.TL.show.to(this.$el,.3,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0)},r.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},0)},r.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(s.BLOCK_SHOWN),n.prototype.onShown.call(this)};var h=function(){this.trigger(s.CANVAS_SHOWN)};r.prototype.onHidden=function(){this.trigger(s.BLOCK_HIDDEN),n.prototype.onHidden.call(this)};var l=function(){this.trigger(s.CANVAS_HIDDEN)};r.prototype.show=function(){this.options.mainCanvasView.aCanvasAnimViews.smart.initCanvas(),this.options.mainCanvasView.showCanvas(this.id),"DOWN"==o.scrollYDirection?(TweenMax.to(this.$el,.2,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0),TweenMax.fromTo(this.$bgImg,.5,{y:"10%",scale:.8},{y:"0%",scale:1,ease:Expo.easeOut,onComplete:this.onShown.bind(this)}),TweenMax.staggerFromTo(this.$els,.5,{y:-100,opacity:0},{y:0,opacity:1,ease:Expo.easeOut,delay:.1},.05)):(TweenMax.to(this.$el,.2,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0),TweenMax.fromTo(this.$bgImg,.5,{y:"10%",scale:.8},{y:"0%",scale:1,ease:Expo.easeOut,onComplete:this.onShown.bind(this)}),TweenMax.staggerFromTo(this.$els,.5,{y:100,opacity:0},{y:0,opacity:1,ease:Expo.easeOut,delay:.1},.05))},r.prototype.hide=function(){"DOWN"==o.scrollYDirection?(TweenMax.fromTo(this.$bgImg,.5,{y:"0%",scale:1},{y:"10%",scale:.8,ease:Expo.easeOut,onComplete:this.onHidden.bind(this)}),TweenMax.staggerTo(this.$els,.5,{y:100,opacity:1,ease:Expo.easeOut},.05),TweenMax.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},.2)):(TweenMax.fromTo(this.$bgImg,.5,{y:"0%",scale:1},{y:"0%",scale:1,ease:Expo.easeOut,onComplete:this.onHidden.bind(this)}),TweenMax.staggerTo(this.$els,.5,{y:-100,opacity:0,ease:Expo.easeOut},.05),TweenMax.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},.2)),this.options.mainCanvasView.hideCanvas(this.id)},r.prototype.onResize=function(){n.prototype.onResize.call(this)},r.prototype.onUpdate=function(){},r.prototype.dispose=function(){n.prototype.dispose.call(this)},t.exports=r}).call(e,i(3))},function(t,e,i){(function(e,n){var s=(i(29),i(12)),o=i(7),a=i(13),r=(i(30),function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.canAnimate=!1,a.call(this,t,e)});e.extend(r,a),e.extend(r.prototype,a.prototype),r.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.mainBlob=this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob,this.viewBlob=this.options.mainCanvasView.aCanvasAnimViews.start,this.$canvas=n("#main-canvas"),a.prototype.init.call(this)},r.prototype.initTLShow=function(){},r.prototype.animate=function(){},r.prototype.show=function(){if(this.isAnimating=!0,"DOWN"==s.scrollYDirection){var t=this.mainBlob.getScale({w:450},this.mainBlob.path);this.mainBlob.path.scale(t);var e,i={width:this.mainBlob.path.bounds._width};TweenMax.to(i,1,{width:4*s.viewport.width,height:4*s.viewport.height,ease:Expo.easeOut,onUpdate:function(){e=this.mainBlob.getScale({w:i.width,h:i.height},this.mainBlob.path),this.mainBlob.path.scale(e)}.bind(this),onComplete:function(){this.isAnimating=!1,this.trigger(o.CANVAS_SHOWN)}.bind(this),delay:.05}),this.mainBlob.path.position.y=-250;var n={y:-250};TweenMax.to(n,1,{y:s.viewport.height/2,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=n.y}.bind(this)})}else this.trigger(o.CANVAS_SHOWN)},r.prototype.initCanvas=function(){var t=this.mainBlob.getScale({w:4*s.viewport.width,h:4*s.viewport.height},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.y=s.viewport.height/2,this.mainBlob.path.fillColor="#F1F1F9"},r.prototype.hide=function(){if("UP"==s.scrollYDirection){TweenMax.set(this.$canvas,{background:"#d5b5fb"});var t,e={width:this.mainBlob.path.bounds._width};TweenMax.to(e,.9,{width:450,ease:Expo.easeOut,delay:.05,onUpdate:function(){t=this.mainBlob.getScale({w:e.width},this.mainBlob.path),this.mainBlob.path.scale(t)}.bind(this)}),this.mainBlob.path.position.y=s.viewport.height/2;var i={y:s.viewport.height/2};TweenMax.to(i,.9,{y:-250,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=i.y}.bind(this),delay:.1,onComplete:function(){this.isAnimating=!1,this.trigger(o.CANVAS_HIDDEN)}.bind(this)})}else this.trigger(o.CANVAS_HIDDEN)},r.prototype.onResize=function(){},t.exports=r}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(12),r=i(77),h=function(t,e){this.hasBeenPlayed=!1,this.canScroll=!0,this.id="stars",s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.initDOM=function(){this.options.mainCanvasView.register(this.id,new r({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.stars,o.CANVAS_SHOWN,l.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.stars,o.CANVAS_HIDDEN,c.bind(this)),s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){this.hBlock=n(this.$el).height(),TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),s.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){this.$titles=this.$el.find("h4"),this.$subtitles=this.$el.find("h3"),this.$texts=this.$el.find(".text"),this.$titles=this.$el.find("h4"),this.$lines=this.$el.find(".line"),this.$stars=this.$el.find(".stars-icon"),this.$linesBg=this.$el.find(".line .bg"),this.$canvas=n("#main-canvas"),this.$starsBlock=[this.$stars,this.$subtitles[0],this.$texts[0],this.$titles[0]],this.$reviewsBlock=[this.$lines,this.$titles[1],this.$subtitles[1],this.$texts[1]],TweenMax.set(this.$lines[0],{rotation:-75}),TweenMax.set(this.$lines[1],{rotation:-40}),TweenMax.set(this.$lines[2],{rotation:-15}),TweenMax.set(this.$lines[3],{rotation:25}),TweenMax.set(this.$lines[4],{rotation:45}),TweenMax.set(this.$lines[5],{rotation:65}),s.prototype.onDOMInit.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0}),this.TL.show.to(this.$el,.3,{autoAlpha:1,display:"block",ease:Expo.easeInOut},0)},h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut,onUpdate:function(){}.bind(this)},0)},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.hBlock=n(this.$el).height(),this.trigger(o.BLOCK_SHOWN),a.mainView.setNormalScrollBehavior(),s.prototype.onShown.call(this)};var l=function(){this.trigger(o.CANVAS_SHOWN)};h.prototype.onHidden=function(){this.trigger(o.BLOCK_HIDDEN),a.mainView.setNormalScrollBehavior(!1),s.prototype.onHidden.call(this)};var c=function(){this.trigger(o.CANVAS_HIDDEN)};h.prototype.show=function(){this.options.mainCanvasView.showCanvas(this.id),this.starsIsAnimating||this.animateStars(),this.linesIsAnimating||this.animateLines(),"DOWN"==a.scrollYDirection?(TweenMax.to(this.$el,.3,{autoAlpha:1,display:"block",ease:Expo.easeInOut},0),TweenMax.staggerFromTo(this.$starsBlock,.5,{opacity:0},{opacity:1,ease:Expo.easeOut,delay:.2},.05),TweenMax.staggerFromTo(this.$reviewsBlock,.5,{opacity:0},{opacity:1,ease:Expo.easeOut,delay:.1},.05,function(){this.onShown()}.bind(this))):(TweenMax.to(this.$el,.3,{autoAlpha:1,display:"block",ease:Expo.easeInOut},0),TweenMax.staggerFromTo(this.$starsBlock,.5,{y:100,opacity:0},{y:0,opacity:1,ease:Expo.easeOut,delay:.1},.05),TweenMax.staggerFromTo(this.$reviewsBlock,.5,{y:100,opacity:0},{y:0,opacity:1,ease:Expo.easeOut,delay:.5},.05,function(){this.onShown()}.bind(this)))},h.prototype.hide=function(){"DOWN"==a.scrollYDirection?(TweenMax.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},0),TweenMax.staggerTo(this.$starsBlock,.5,{y:100,opacity:0,ease:Expo.easeOut},.05),TweenMax.staggerTo(this.$reviewsBlock,.5,{y:100,opacity:0,ease:Expo.easeOut,delay:.1},.05,function(){this.onHidden(),TweenMax.set(this.options.mainView.$canvas,{background:"none"})}.bind(this))):(TweenMax.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},0),TweenMax.staggerTo(this.$starsBlock,.4,{opacity:0,ease:Expo.easeOut},.05,this.onHidden.bind(this)),TweenMax.staggerTo(this.$reviewsBlock,.5,{opacity:0,delay:.1,ease:Expo.easeOut},.05)),this.options.mainCanvasView.hideCanvas(this.id)},h.prototype.animateStars=function(){TweenMax.fromTo(this.$stars[0],.9,{rotation:0,transformOrigin:0,opacity:0},{opacity:1,rotation:120,transformOrigin:"120px 20px",delay:.05,ease:Circ.easeNone}),TweenMax.fromTo(this.$stars[1],.9,{rotation:0,transformOrigin:0,opacity:0},{opacity:1,rotation:180,transformOrigin:"220px 20px",delay:.2,ease:Circ.easeNone}),TweenMax.fromTo(this.$stars[2],.8,{rotation:0,transformOrigin:0,opacity:0},{opacity:1,rotation:180,transformOrigin:"140px 80px",delay:.05,ease:Circ.easeNone}),TweenMax.fromTo(this.$stars[3],1,{rotation:0,transformOrigin:0,opacity:0},{opacity:1,rotation:-145,transformOrigin:"-70px -10px",delay:.05,ease:Circ.easeNone}),TweenMax.fromTo(this.$stars[4],.7,{rotation:0,transformOrigin:0,opacity:0},{opacity:1,rotation:-160,transformOrigin:"-140px -40px",delay:.05,ease:Circ.easeNone}),TweenMax.fromTo(this.$stars[5],1.4,{rotation:0,transformOrigin:0,opacity:0},{opacity:1,rotation:-160,transformOrigin:"-180px 90px",delay:.05,ease:Circ.easeNone}),TweenMax.fromTo(this.$stars[6],1.5,{rotation:0,transformOrigin:0,opacity:0},{opacity:1,rotation:-160,transformOrigin:"-240px 30px",delay:.05,ease:Circ.easeNone}),this.starsIsAnimating=!0},h.prototype.animateLines=function(){this.linesIsAnimating=!0,TweenMax.set(this.$linesBg[0],{top:"150%"}),TweenMax.to(this.$linesBg[0],.5,{top:"-50%",ease:Expo.easeOut,delay:.05}),TweenMax.to(this.$linesBg[0],.5,{top:"-150%",delay:.35,ease:Expo.easeOut}),TweenMax.set(this.$linesBg[1],{top:"150%"}),TweenMax.to(this.$linesBg[1],.5,{top:"-50%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$linesBg[1],.5,{top:"-150%",delay:.4,ease:Expo.easeOut}),TweenMax.set(this.$linesBg[2],{top:"150%"}),TweenMax.to(this.$linesBg[2],.5,{top:"-50%",ease:Expo.easeOut}),TweenMax.to(this.$linesBg[2],.5,{top:"-150%",delay:.3,ease:Expo.easeOut}),TweenMax.set(this.$linesBg[3],{top:"150%"}),TweenMax.to(this.$linesBg[3],.5,{top:"-50%",ease:Expo.easeOut}),TweenMax.to(this.$linesBg[3],.5,{top:"-150%",delay:.3,ease:Expo.easeOut}),TweenMax.set(this.$linesBg[4],{top:"150%"}),TweenMax.to(this.$linesBg[4],.5,{top:"-50%",ease:Expo.easeOut,delay:.15}),TweenMax.to(this.$linesBg[4],.5,{top:"-150%",delay:.45,ease:Expo.easeOut}),TweenMax.set(this.$linesBg[5],{top:"150%"}),TweenMax.to(this.$linesBg[5],.5,{top:"-50%",ease:Expo.easeOut,delay:.3}),TweenMax.to(this.$linesBg[5],.5,{top:"-150%",delay:.6,ease:Expo.easeOut})},h.prototype.onResize=function(){this.hBlock=n(this.$el).height(),s.prototype.onResize.call(this)},h.prototype.onUpdate=function(){},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e){var n=(i(29),i(12)),s=i(7),o=i(23),a=i(13),r=(i(30),function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.canAnimate=!1,a.call(this,t,e)});e.extend(r,a),e.extend(r.prototype,a.prototype),r.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.mainBlob=this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob,this.viewBlob=this.options.mainCanvasView.aCanvasAnimViews.start,this.$canvas=this.options.mainView.$canvas,a.prototype.init.call(this)},r.prototype.initTLShow=function(){},r.prototype.animate=function(){},r.prototype.show=function(){if(this.isAnimating=!0,"DOWN"==n.scrollYDirection){var t,e={width:this.mainBlob.path.bounds._width,y:this.mainBlob.path.position.y,color:o.rgbToHex(255*this.mainBlob.path.fillColor.red,255*this.mainBlob.path.fillColor.green,255*this.mainBlob.path.fillColor.blue)};TweenMax.to(e,2,{width:2*n.viewport.width,y:n.viewport.height/2,color:"#d5b5fb",ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.fillColor=e.color,t=this.mainBlob.getScale({w:e.width},this.mainBlob.path),this.mainBlob.path.scale(t),this.mainBlob.path.position.y=e.y}.bind(this),onComplete:function(){this.isAnimating=!1,this.trigger(s.CANVAS_SHOWN)}.bind(this),delay:.05})}else this.trigger(s.CANVAS_SHOWN)},r.prototype.hide=function(){if("UP"==n.scrollYDirection){var t=this.mainBlob.getScale({w:4*n.viewport.width,h:4*n.viewport.height},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.y=n.viewport.height/2,this.mainBlob.path.fillColor="#d5b5fb",TweenMax.set(this.$canvas,{background:"#F1F1F9"});var e,i={width:this.mainBlob.path.bounds._width};TweenMax.to(i,.9,{width:450,ease:Expo.easeOut,delay:.05,onUpdate:function(){e=this.mainBlob.getScale({w:i.width},this.mainBlob.path),this.mainBlob.path.scale(e)}.bind(this)}),this.mainBlob.path.position.y=n.viewport.height/2;var o={y:n.viewport.height/2};TweenMax.to(o,.9,{y:-250,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=o.y}.bind(this),delay:.1,onComplete:function(){this.isAnimating=!1,this.trigger(s.CANVAS_HIDDEN)}.bind(this)})}else this.trigger(s.CANVAS_HIDDEN)},r.prototype.onResize=function(){},t.exports=r}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(12),r=i(32),h=i(23);i(79);i(55);var l=function(t,e){this.aspectRatioOfMask=539/729,this.hasBeenPlayed=!1,this.id="series",this.currentVideo=0,this.currentYTID=null,this.videoPlayer=null,this.videoIsinit=!1,this.isMainVideo=!0,this.videoPlaying=!1,this.isAnimating={player:!1,switchMovie:!1,blocks:!1},this.events={"click .main-video .mask, iframe":"managePlayer","click .cta":"manageBlock","click .serie-video":"switchMovie","mouseenter .main-video .mask":"onMouseEnterMask","mouseenter .serie-video":"onMouseEnterMaskSerie","mouseleave .main-video .mask":"onMouseLeaveMask","mouseleave .serie-video":"onMouseLeaveMaskSerie"},this.canScroll=!!a.isMobile,s.call(this,t,e)};e.extend(l,s),e.extend(l.prototype,s.prototype),l.prototype.initDOM=function(){this.$canvas=this.options.mainView.$canvas,this.$postersMain=this.$el.find(".main-video .poster"),this.$postersContent=this.$el.find(".main-video .poster .content"),this.$episodes=this.$el.find(".serie-video"),this.$cover=this.$el.find(".serie-video .poster"),this.$seriesContainer=this.$el.find(".series-container"),this.$videoContainer=this.$el.find(".video-container"),this.$mask=this.$el.find(".main-video .mask"),this.$ctaLine=this.$el.find(".cta .line"),this.$cta=this.$el.find(".cta p"),this.$mainVideo=this.$el.find(".main-video"),this.$mainCovers=this.$el.find(".main-video .poster"),this.$titles=this.$el.find("h5"),this.$subTitles=this.$el.find("h6"),this.$mainTitles=this.$el.find(".main-video .poster h4"),this.$mainSubtitles=this.$el.find(".main-video .poster h5"),this.$mainImgs=this.$el.find(".main-video .poster p"),this.$mainVideos=[],e.each(this.$mainCovers,function(t,e){this.$mainVideos.push([this.$mainTitles[e],this.$mainSubtitles[e],this.$mainImgs[e]])}.bind(this)),this.paper=this.options.mainCanvasView.paper,s.prototype.initDOM.call(this)},l.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),TweenMax.set(this.$mainCovers,{display:"none"}),TweenMax.set(this.$cover,{opacity:0}),s.prototype.setupDOM.call(this)},l.prototype.onDOMInit=function(){this.ytPlayerEl=this.$videoContainer.find(".yt-player"),this.currentYTID=this.ytPlayerEl.attr("data-youtubeid"),h.loadYTAPI(function(){this.initVideo()}.bind(this)),this.dataVideos=this.$canvas.getAttribute("data-src-serie"),this.ctaContent=this.$canvas.getAttribute("data-src-serie-cta"),this.dataVideos=this.dataVideos.split(";"),e.each(this.dataVideos,function(t,e){t=t.split("$"),this.dataVideos[e]=t}.bind(this)),this.dataVideos.splice(this.dataVideos.length-1,1),s.prototype.onDOMInit.call(this)},l.prototype.initVideo=function(){this.videoPlayer=new r({el:this.$videoContainer[0],hasCustomControls:!1},null),this.videoPlayer.init(),this.listenTo(this.videoPlayer,o.READY,c.bind(this)),this.listenTo(this.videoPlayer,o.ON_END,this._videoHasEnded.bind(this))};var c=function(){this.videoIsinit=!0};l.prototype._videoHasEnded=function(){this.isAnimating.player=!0,TweenMax.staggerFromTo(this.$mainVideos[this.currentVideo],.5,{x:-50},{x:0,opacity:1,ease:Expo.easeOut},.05,function(){this.videoPlaying=!1,this.isAnimating.player=!1}.bind(this)),TweenMax.to(this.$mainCovers[this.currentVideo],.5,{scale:1,display:"flex",opacity:1,ease:Expo.easeOut}),this.$mainVideo.removeClass("playing")},l.prototype.initTLShow=function(){},l.prototype.initTLHide=function(){},l.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(o.BLOCK_SHOWN),this.trigger(o.CANVAS_SHOWN),TweenMax.set(this.$el,{scrollTo:0}),s.prototype.onShown.call(this)},l.prototype.onHidden=function(){this.trigger(o.BLOCK_HIDDEN),this.trigger(o.CANVAS_HIDDEN),s.prototype.onHidden.call(this)},l.prototype.show=function(){"DOWN"==a.scrollYDirection?(TweenMax.set(this.$el,{scrollTo:0}),TweenMax.fromTo(this.$el,.6,{y:100},{y:0,autoAlpha:1,display:"flex",ease:Expo.easeOut,onUpdate:function(){a.isMobile&&a.viewport.height<920&&a.mainView.setNormalScrollBehavior()}.bind(this),onComplete:this.onShown.bind(this)}),TweenMax.fromTo(this.$mainCovers[this.currentVideo],.6,{scale:1.3,opacity:0},{scale:1,display:"flex",opacity:1,ease:Expo.easeOut,delay:.2})):(TweenMax.fromTo(this.$el,.6,{autoAlpha:0,y:100},{y:0,autoAlpha:1,display:"flex",ease:Expo.easeOut,onUpdate:function(){a.isMobile&&a.viewport.height<920&&a.mainView.setNormalScrollBehavior()}.bind(this)}),TweenMax.fromTo(this.$mainCovers[this.currentVideo],.6,{scale:1.3,opacity:0},{scale:1,display:"flex",opacity:1,ease:Expo.easeOut,delay:.05,onComplete:this.onShown.bind(this)})),this.isMainVideo||TweenMax.staggerFromTo(this.$cover,.5,{scale:1.3,opacity:0},{scale:1,opacity:1,ease:Expo.easeOut,delay:.1},.07)},l.prototype.hide=function(){this.videoPlaying&&this.managePlayer(),"DOWN"==a.scrollYDirection?(TweenMax.to(this.$el,.6,{autoAlpha:0,display:"none",ease:Expo.easeOut}),TweenMax.to(this.$mainCovers[this.currentVideo],.6,{scale:1.3,opacity:0,ease:Expo.easeOut,onComplete:function(){this.onHidden()}.bind(this)}),TweenMax.staggerTo(this.$cover,.5,{scale:1.3,opacity:0,ease:Expo.easeOut},.05)):(TweenMax.set(this.$el,{autoAlpha:0,display:"none",ease:Expo.easeOut,delay:.3}),setTimeout(function(){this.onHidden()}.bind(this),150)),this.isMainVideo||this.manageBlock()},l.prototype.switchMovie=function(t){var e=parseFloat(n(t.currentTarget).attr("data-id"));this.isMainVideo&&this.managePlayer(),this.isAnimating.switchMovie||this.currentVideo==e||this.isMainVideo||(this.isAnimating.switchMovie=!0,TweenMax.staggerTo(this.$mainVideos[this.currentVideo],.6,{x:50,opacity:0,ease:Expo.easeOut},.05),TweenMax.to(this.$mainCovers[this.currentVideo],.8,{scale:1.3,display:"none",opacity:0,ease:Expo.easeOut}),TweenMax.fromTo(this.$mainCovers[e],.6,{scale:1.3,opacity:0},{scale:1,display:"flex",opacity:1,ease:Expo.easeOut}),TweenMax.staggerFromTo(this.$mainVideos[e],.6,{x:-50,opacity:0},{x:0,opacity:1,delay:.3,ease:Expo.easeOut,onComplete:function(){this.currentVideo=e,this.isAnimating.switchMovie=!1}.bind(this)},.05),this.manageBlock())},l.prototype.managePlayer=function(t){!this.isAnimating.player&&this.videoIsinit&&(this.newYTID=this.dataVideos[this.currentVideo][3],this.isAnimating.player=!0,this.videoPlaying?(this.videoPlayer.togglePlay(),TweenMax.staggerFromTo(this.$mainVideos[this.currentVideo],.5,{x:-50},{x:0,opacity:1,ease:Expo.easeOut},.05,function(){this.videoPlaying=!1,this.isAnimating.player=!1}.bind(this)),TweenMax.to(this.$mainCovers[this.currentVideo],.5,{scale:1,display:"flex",opacity:1,ease:Expo.easeOut}),this.$mainVideo.removeClass("playing")):(this.currentYTID===this.newYTID?this.videoPlayer.togglePlay():(this.videoPlayer.YTPlayer.player.loadVideoById(this.newYTID),this.currentYTID=this.newYTID),this.$mainVideo.addClass("playing"),TweenMax.to(this.$mainCovers[this.currentVideo],.5,{scale:1.3,display:"none",opacity:0,ease:Expo.easeOut}),TweenMax.staggerTo(this.$mainVideos[this.currentVideo],.5,{x:50,opacity:0,ease:Expo.easeOut},.05,function(){this.videoPlaying=!0,this.isAnimating.player=!1}.bind(this)),t&&"click"==t.type&&(this.isMainVideo||this.manageBlock())))},l.prototype.onMouseEnterMask=function(t){a.isMobile||TweenMax.to(this.$postersMain[this.currentVideo],.5,{scale:1.05,ease:Expo.easeOut})},l.prototype.onMouseLeaveMask=function(t){a.isMobile||TweenMax.to(this.$postersMain[this.currentVideo],.5,{scale:1,ease:Expo.easeOut})},l.prototype.onMouseEnterMaskSerie=function(t){a.isMobile||TweenMax.to(this.$cover[parseInt(n(t.currentTarget).attr("data-id"))],.4,{scale:1.05,ease:Expo.easeOut})},l.prototype.onMouseLeaveMaskSerie=function(t){a.isMobile||TweenMax.to(this.$cover[parseInt(n(t.currentTarget).attr("data-id"))],.4,{scale:1,ease:Expo.easeOut})},l.prototype.manageBlock=function(t){this.isAnimating.blocks||(this.isAnimating.blocks=!0,this.isMainVideo?(TweenMax.set(this.$seriesContainer,{autoAlpha:1,display:"block"}),TweenMax.staggerFromTo(this.$cover,.5,{scale:1.3,opacity:0},{scale:1,opacity:1,ease:Expo.easeOut,delay:.1},.07,function(){this.isMainVideo=!1,this.isAnimating.blocks=!1}.bind(this)),TweenMax.staggerFromTo(this.$titles,.5,{opacity:0},{opacity:1,ease:Expo.easeOut,delay:.05},.05),TweenMax.staggerFromTo(this.$subTitles,.5,{opacity:0},{opacity:1,ease:Expo.easeOut,delay:.1},.05),this.$mainVideo.addClass("expanded"),this.videoPlaying&&this.managePlayer()):(TweenMax.staggerTo(this.$cover,.35,{scale:1.3,opacity:0,ease:Expo.easeOut},.05,function(){this.isMainVideo=!0,this.isAnimating.blocks=!1}.bind(this)),TweenMax.staggerTo(this.$titles,.35,{opacity:0,ease:Expo.easeOut},.05),TweenMax.staggerTo(this.$subTitles,.35,{opacity:0,ease:Expo.easeOut},.05,function(){TweenMax.set(this.$seriesContainer,{autoAlpha:0,display:"none"})}.bind(this)),this.$mainVideo.removeClass("expanded")),this.onResize(!this.isMainVideo))},l.prototype.onResize=function(t){s.prototype.onResize.call(this);var e=t?this.isMainVideo:t,i=Math.round(a.viewport.width);e||(i*=a.isMobile?.8:.5);var n=this.aspectRatioOfMask*i;"sml"!=a.breakpoint&&(n="",i=""),this.$mainVideo.css({height:n,width:i})},l.prototype.onUpdate=function(){},l.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=l}).call(e,i(3),i(1))},function(module,exports,__webpack_require__){(function(_,paper){var AbstractCanvasView=__webpack_require__(36),Blob=__webpack_require__(29),EVENT=__webpack_require__(7),CV=__webpack_require__(12),SeriesCanvasView=function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.currentView=t.currentView,this.index=0,this.canAnimate=!1,AbstractCanvasView.call(this,t,e)};_.extend(SeriesCanvasView,AbstractCanvasView),_.extend(SeriesCanvasView.prototype,AbstractCanvasView.prototype),SeriesCanvasView.prototype.init=function(){this.mainBlob=this.mainCanvasView.aCanvasAnimViews.start.mainBlob,this.blobs=[],this.scope=this,this.paper=this.options.mainCanvasView.paper,this.$canvas=this.mainView.$canvas,this.$svg=this.mainView.$svgFace,this.$el=this.mainView.$el,this.dataVideos=this.$canvas.getAttribute("data-src-serie"),this.ctaContent=this.$canvas.getAttribute("data-src-serie-cta"),this.dataVideos=this.dataVideos.split(";"),_.each(this.dataVideos,function(t,e){t=t.split("$"),this.dataVideos[e]=t}.bind(this)),this.dataVideos.splice(this.dataVideos.length-1,1),this.blobs=[],this.wBlob=175,this.hBlob=200,this.sizeFirstContainerBlob=3*this.wBlob,this.sizeSecondContainerBlob=2*this.wBlob,this.xFirstContainerBlob=(CV.viewport.width-this.sizeFirstContainerBlob)/2,this.xSecondContainerBlob=(CV.viewport.width-this.sizeSecondContainerBlob)/2,this.realWBlob,this.realHBlob;var xBlob,yBlob,yDOM,xDOM;this.itemsPosition=[],this.bgRectangle=new paper.Rectangle(new paper.Point(0,0),new paper.Size(this.paper.view.size.width+10,this.paper.view.size.height+10)),this.rectanglePath=new paper.Path.Rectangle(this.bgRectangle),this.rectanglePath.selected=!1,_.each(this.dataVideos,function(data,i){xBlob=i<3?"this.scope.xFirstContainerBlob +"+i+" * this.scope.wBlob + this.scope.wBlob/2":"this.scope.xSecondContainerBlob +"+(i-3)+" * this.scope.wBlob + this.scope.wBlob/2",yBlob=i<3?CV.viewport.height/2+100:"this.paper.view.size.height / 2 + 80 + this.scope.hBlob",yDOM=i<3?CV.viewport.height/2-this.hBlob/2+150:CV.viewport.height/2-this.hBlob/2+this.hBlob+100,xDOM=i<3?this.xFirstContainerBlob+i*this.wBlob:this.xSecondContainerBlob+(i-3)*this.wBlob,(CV.isMobile||CV.viewport.width<920)&&(xBlob=i%2?.25*CV.viewport.width:.75*CV.viewport.width),this.blobs.push(new Blob({index:i,scope:this,canvasView:this.mainCanvasView,path:"M347,23c21.4-87.2,102.1-147.3,198.7-184.3C643-198.6,756.5-212.5,842-207c100.9,6.5,152.9,74.5,177,160.2c23.4,82.9,20.7,182.5,11,258.8c-12.4,98-78.9,137.8-167.9,151.9c-82.5,13.1-184.4,4.1-280.2-1.1c-98.4-5.4-175.1-62.6-214.5-142C338.6,162.8,329.8,93,347,23z",position:{x:xBlob,y:yBlob},canHover:!0,size:{w:CV.isMobile?.25*CV.viewport.width:125},orbit:{h:5*i/10,w:5*i/10},multipleContent:{title:data[0],subtitle:data[1],color:"#052449"}})),this.realWBlob=this.blobs[i].path.bounds._width,this.realHBlob=this.blobs[i].path.bounds._height,this.itemsPosition.push({name:"blob"+i,i:i,y:eval(yBlob),x:eval(xBlob),w:this.realWBlob+40,h:this.realHBlob+40}),this.blobs[i].canAnimate=!0,this.blobs[i].path.visible=!1,TweenMax.set(this.currentView.$episodes[i],{left:this.blobs[i].path.bounds._x-20,top:this.blobs[i].path.bounds._y-10,height:this.blobs[i].path.bounds._height+20,width:this.blobs[i].path.bounds._width+40})}.bind(this));var wVideoBlob=CV.isMobile?"CV.viewport.width * .75":"CV.viewport.width * .5";this.videoBlob=new Blob({scope:this,canvasView:this.mainCanvasView,path:"M131.5,150.4c-21.9-0.1-67.8,6.7-99.1-3.7c-18.2-6.1-31.5-18-32.3-40.4c0,0-0.9-29.9,24-50c13-10.5,33.2-18.3,64.2-17.8c36,0.9,63.5-0.6,82.1,5.9c19,6.6,28.9,21.5,29.3,55.7c1,23.4-5.9,35.3-16.9,41.6C169.6,149.1,150.4,148.7,131.5,150.4z",position:{x:"CV.viewport.width / 2",y:"CV.viewport.height / 2"},canHover:!0,size:{w:wVideoBlob},orbit:{h:10,w:10}}),CV.isMobile||(this.videoBlob.path.bounds.width=.35*CV.viewport.width,this.videoBlob.path.position.x=CV.viewport.width/2,this.videoBlob.path.position.y=CV.viewport.height/2),this.compoundPath=new paper.CompoundPath({children:[this.rectanglePath,this.videoBlob.path,this.blobs[0].path,this.blobs[1].path,this.blobs[2].path,this.blobs[3].path,this.blobs[4].path],fillColor:"white"}),_.each(this.blobs,function(t,e){t.generateContent()}.bind(this)),this.title=new paper.PointText,this.title.justification="center",this.title.style={
fontFamily:"sharp-sans-bold",fontSize:18,fillColor:"#042349"},this.title.content=this.ctaContent,this.arrowRaster=new this.paper.Raster({source:"http://"+window.location.host+"/wp-content/themes/zocdoc-careers/assets/svg/arrow.svg"}),this.crossRaster=new this.paper.Raster({source:"http://"+window.location.host+"/wp-content/themes/zocdoc-careers/assets/svg/cross.svg"}),this.arrowRaster.position.y=this.title.position.y,this.arrowRaster.position.x=this.title.position.x+this.title.bounds.width/2+15,this.arrowRaster.scale(.7),this.crossRaster.visible=!1,this.ctaGroup=new paper.Group([this.title,this.arrowRaster,this.crossRaster]),this.ctaGroup.visible=!1,this.ctaGroup.opacity=0,this.ctaGroup.position=new paper.Point(CV.viewport.width/2,this.videoBlob.path.bounds._y+this.videoBlob.path.bounds._height+40),this.isVisisble=!1,this.compoundPath.visible=!1,this.itemsPosition.push({name:"ctaGroup",y:this.ctaGroup.bounds._y,x:this.ctaGroup.bounds._x,w:this.ctaGroup.bounds._width,h:this.ctaGroup.bounds._height}),this.itemsPosition.push({name:"video",isBig:!1,y:this.videoBlob.path.bounds._y,x:this.videoBlob.path.bounds._x,w:this.videoBlob.path.bounds._x+this.videoBlob.path.bounds._width,h:this.videoBlob.path.bounds._y+this.videoBlob.path.bounds._height}),AbstractCanvasView.prototype.init.call(this)},SeriesCanvasView.prototype.setPositionMainVideo=function(){TweenMax.set(this.currentView.$mainVideo,{top:this.videoBlob.path.bounds._y-20,left:-20,height:this.videoBlob.path.bounds._height+40,width:this.videoBlob.path.bounds._width+40}),this.crossRaster.position.y=this.title.position.y-5,this.crossRaster.position.x=this.title.position.x+this.title.bounds.width/2+15,this.ctaGroup&&(this.ctaGroup.position=new paper.Point(CV.viewport.width/2,this.videoBlob.path.bounds._y+this.videoBlob.path.bounds._height+40)),this.itemsPosition[this.itemsPosition.length-1]={name:"video",isBig:this.itemsPosition[this.itemsPosition.length-1].isBig,y:this.videoBlob.path.bounds._y,x:this.videoBlob.path.bounds._x,w:this.videoBlob.path.bounds._x+this.videoBlob.path.bounds._width,h:this.videoBlob.path.bounds._y+this.videoBlob.path.bounds._height},this.itemsPosition[this.itemsPosition.length-2]={name:"ctaGroup",y:this.ctaGroup.bounds._y,x:this.ctaGroup.bounds._x,w:this.ctaGroup.bounds._width,h:this.ctaGroup.bounds._height}},SeriesCanvasView.prototype.managerBlobs=function(){this.isVisisble=!this.isVisisble,_.each(this.blobs,function(t){t.path.visible=this.isVisisble,t.title.visible=this.isVisisble,t.subtitle.visible=this.isVisisble}.bind(this))},SeriesCanvasView.prototype.show=function(){this.mainBlob.path.visible=!1,this.compoundPath.visible=!0,this.videoBlob.canAnimate=!0,this.ctaGroup.visible=!0,this.videoBlob.path.visible=!0,this.rectanglePath.visible=!0,this.videoBlob.path.position.y=CV.viewport.height/2,this.videoBlob.path.position.x=CV.viewport.width/2,_.each(this.blobs,function(t,e){t.generateSettingsPoints(),t.path.visible=!1,e==this.blobs.length-1&&(this.canAnimate=!0)}.bind(this)),TweenMax.set(this.$canvas,{zIndex:15,background:"none",x:0,y:0}),this.ctaGroup.position.y=this.ctaGroup.position.y+100;var t={opacity:0,y:this.ctaGroup.position.y};TweenMax.to(t,.5,{opacity:1,y:this.videoBlob.path.bounds._y+this.videoBlob.path.bounds._height+50,ease:Expo.easeOut,delay:.1,onUpdate:function(){this.ctaGroup.opacity=t.opacity,this.ctaGroup.position.y=t.y}.bind(this),onComplete:function(){this.itemsPosition[this.itemsPosition.length-2]={name:"ctaGroup",y:this.ctaGroup.bounds._y,x:this.ctaGroup.bounds._x,w:this.ctaGroup.bounds._width,h:this.ctaGroup.bounds._height},this.trigger(EVENT.CANVAS_SHOWN),this.canAnimate=!0}.bind(this)})},SeriesCanvasView.prototype.hide=function(){this.currentView.isMainVideo||this.managerBlobs(),this.ctaGroup.visible=!1,this.ctaGroup.opacity=0,this.videoBlob.path.visible=!1,this.rectanglePath.visible=!1,_.each(this.blobs,function(t){t.path.visible=!1}.bind(this)),this.trigger(EVENT.CANVAS_HIDDEN),this.mainBlob.path.visible=!0,this.compoundPath.visible=!1},SeriesCanvasView.prototype.animate=function(t){this.canAnimate&&(this.videoBlob.animate(t),_.each(this.blobs,function(e){e.paper&&e.animate(t)}.bind(this)))},SeriesCanvasView.prototype.mouseMove=function(t){if(this.isShown){var e=this.isItem(t.point);document.body.style.cursor=e||0==e?"pointer":"default"}},SeriesCanvasView.prototype.mouseDown=function(t){if(this.options.currentView.isMainVideo)t.point.y>this.videoBlob.path.position.y+this.videoBlob.path.bounds.height/2?this.currentView.manageBlock():(this.currentView.managePlayer(),this.setSizeBlobVideo());else{var e=this.isItem(t.point);"video"==e?(this.currentView.managePlayer(),this.setSizeBlobVideo()):"ctaGroup"==e?this.currentView.manageBlock():e&&this.currentView.switchMovie(this.currentItem.i)}},SeriesCanvasView.prototype.setSizeBlobVideo=function(){if(CV.isMobile){this.itemsPosition[this.itemsPosition.length-1].isBig=!this.itemsPosition[this.itemsPosition.length-1].isBig,this.videoBlob.canAnimate=!1,this.crossRaster.visible=!this.crossRaster.visible,this.arrowRaster.visible=!this.arrowRaster.visible;var t={width:this.videoBlob.path.bounds._width};TweenMax.to(t,.5,{width:this.itemsPosition[this.itemsPosition.length-1].isBig?this.options.currentView.isMainVideo?.5*CV.viewport.width:.3*CV.viewport.width:this.options.currentView.isMainVideo?.35*CV.viewport.width:350,ease:Expo.easeOut,onUpdate:function(){this.videoBlob.path.bounds.width=t.width,this.videoBlob.path.position.x=CV.viewport.width/2,this.setPositionMainVideo()}.bind(this),onComplete:function(){this.itemsPosition[this.itemsPosition.length-1].isBig||(this.videoBlob.canAnimate=!0)}.bind(this)})}},SeriesCanvasView.prototype.isItem=function(p){var itemName=null,yItem,xItem,wItem,hItem;return _.each(this.itemsPosition,function(item,i){return yItem=eval(item.y),xItem=eval(item.x),wItem=item.w/2,hItem=item.h/2,p&&p.y>yItem-hItem&&p.y<yItem+hItem&&p.x>xItem-wItem&&p.x<xItem+wItem&&!itemName?(this.currentItem=item,itemName=item.name):itemName}.bind(this)),itemName},SeriesCanvasView.prototype.onResize=function(){this.xFirstContainerBlob=(CV.viewport.width-this.sizeFirstContainerBlob)/2,this.xSecondContainerBlob=(CV.viewport.width-this.sizeSecondContainerBlob)/2,this.videoBlob.canAnimate=!1,this.videoBlob.path.position.x=CV.viewport.width/2,this.videoBlob.generateSettingsPoints();var t;_.each(this.blobs,function(e,i){e.canAnimate=!0,t=i<3?this.xFirstContainerBlob+i*this.wBlob+this.wBlob/2:this.xSecondContainerBlob+(i-3)*this.wBlob+this.wBlob/2,e.generateSettingsPoints()}.bind(this)),this.ctaGroup.position.x=CV.viewport.width/2,AbstractCanvasView.prototype.onResize.call(this)},module.exports=SeriesCanvasView}).call(exports,__webpack_require__(3),__webpack_require__(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(12);i(55);var r=i(81),h=function(t,e){this.hasBeenPlayed=!1,this.id="contact",this.canScroll=!0,s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.init=function(){s.prototype.init.call(this)},h.prototype.initDOM=function(){this.options.mainCanvasView.register(this.id,new r({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.contact,o.CANVAS_SHOWN,l.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.contact,o.CANVAS_HIDDEN,c.bind(this)),s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){TweenMax.set(this.$el,{display:"none"}),s.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){this.$title=this.$el.find("h2"),this.$subTitle=this.$el.find("h3"),this.$button=this.$el.find("button"),this.$images=this.$el.find(".hidden"),this.$footerContainer=this.$el.find(".footer-container")[0],n(this.$footerContainer).append(this.options.mainView.$footer),this.$els=[this.$title,this.$subTitle,this.$button],s.prototype.onDOMInit.call(this)},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(o.BLOCK_SHOWN),s.prototype.onShown.call(this)},h.prototype.onHidden=function(){this.trigger(o.BLOCK_HIDDEN),s.prototype.onHidden.call(this)},h.prototype.show=function(){this.options.mainCanvasView.aCanvasAnimViews.contact.initAnimInUp(),TweenMax.set(this.options.mainView.$canvas,{zIndex:20,onComplete:function(){this.options.mainCanvasView.showCanvas(this.id)}.bind(this)}),TweenMax.set(this.options.mainView.$canvas,{zIndex:2,delay:.5}),TweenMax.staggerFromTo(this.$els,.5,{autoAlpha:0,y:40},{autoAlpha:1,y:0,ease:Expo.easeOut,delay:.5},.1,function(){a.mainView.setNormalScrollBehavior(),this.onShown()}.bind(this)),TweenMax.fromTo(this.$images,.5,{autoAlpha:0,y:40},{autoAlpha:1,y:0,ease:Expo.easeOut,delay:.55}),TweenMax.set(this.$el,{display:"flex",autoAlpha:1,delay:.1}),this.canAnimate=!0,TweenMax.set(this.$el,{scrollTo:0})},h.prototype.hide=function(){TweenMax.set(this.$el,{display:"none",ease:Expo.easeInOut,delay:.4,onComplete:function(){a.mainView.setNormalScrollBehavior(!1),this.onHidden()}.bind(this)}),this.canAnimate=!1,TweenMax.to(this.$images,.35,{autoAlpha:0,y:40,ease:Expo.easeOut}),TweenMax.to(this.$els,.3,{autoAlpha:0,y:40,ease:Expo.easeOut}),a.mainView.setNormalScrollBehavior(!1),this.options.mainCanvasView.hideCanvas(this.id)};var l=function(){TweenMax.set(this.options.mainView.$canvas,{zIndex:-1}),this.trigger(o.CANVAS_SHOWN)},c=function(){TweenMax.set(this.options.mainView.$canvas,{zIndex:-1}),this.trigger(o.CANVAS_HIDDEN)};h.prototype.onResize=function(){s.prototype.onResize.call(this)},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e){var n=(i(29),i(12)),s=i(7),o=i(13),a=(i(30),function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.canAnimate=!1,this.id="contact",o.call(this,t,e)});e.extend(a,o),e.extend(a.prototype,o.prototype),a.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.mainBlob=this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob,this.viewBlob=this.options.mainCanvasView.aCanvasAnimViews.start,this.$canvas=this.options.mainView.$canvas,o.prototype.init.call(this)},a.prototype.initTLShow=function(){},a.prototype.animate=function(){},a.prototype.initAnimInUp=function(){this.mainBlob.path.fillColor="#42d6f8";var t=this.mainBlob.getScale({w:.6*n.viewport.width},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.visible=!0,this.mainBlob.path.opacity=1,this.mainBlob.path.position.y=2*n.viewport.height,this.mainBlob.path.position.x=n.viewport.width/2},a.prototype.show=function(){this.isAnimating=!0,this.mainBlob.path.fillColor="#42d6f8",TweenMax.set(this.$canvas,{zIndex:20});var t,e={width:this.mainBlob.path.bounds._width};TweenMax.to(e,2,{width:2*n.viewport.width,ease:Expo.easeOut,onUpdate:function(){t=this.mainBlob.getScale({w:e.width},this.mainBlob.path),this.mainBlob.path.scale(t)}.bind(this),onComplete:function(){this.isAnimating=!1,this.mainBlob.path.visible=!1,this.trigger(s.CANVAS_SHOWN)}.bind(this)});var i={y:1.5*n.viewport.height};TweenMax.to(i,2,{y:n.viewport.height/2,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=i.y}.bind(this)})},a.prototype.hide=function(){var t=this.mainBlob.getScale({w:.6*n.viewport.width},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.visible=!0,this.mainBlob.path.opacity=1,this.mainBlob.path.position.y=.6*-n.viewport.height,this.mainBlob.path.position.x=n.viewport.width/2,this.isAnimating=!0,this.mainBlob.path.fillColor="white",TweenMax.set(this.$canvas,{zIndex:20});var e,i={height:this.mainBlob.path.bounds._height};TweenMax.to(i,2,{height:3*n.viewport.height,ease:Expo.easeOut,onUpdate:function(){e=this.mainBlob.getScale({h:i.height},this.mainBlob.path),this.mainBlob.path.scale(e)}.bind(this),onComplete:function(){this.isAnimating=!1}.bind(this)});var o={y:this.mainBlob.path.position.y};TweenMax.to(o,1,{y:n.viewport.height/2,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=o.y}.bind(this)}),setTimeout(function(){this.trigger(s.CANVAS_HIDDEN)}.bind(this),500)},a.prototype.onResize=function(){},t.exports=a}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(12),r=i(83),h=function(t,e){this.id="clients",this.hasBeenPlayed=!1,this.canScroll=!!a.isMobile,s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.initDOM=function(){this.hBlock=n(this.$el).height(),TweenMax.set(this.$el,{display:"none"}),this.$title=this.$el.find("h2"),this.$button=this.$el.find("button"),this.$titleQuote=this.$el.find(".quote-block h3"),this.$textQuote=this.$el.find(".quote-block .quote"),this.$authorQuote=this.$el.find(".quote-block .author"),this.$workQuote=this.$el.find(".quote-block .author"),this.$titleClients=this.$el.find(".clients-logos-block h3"),this.$logoClients=this.$el.find(".clients-logos-block .logo"),this.$logosBlock=this.$el.find(".clients-logos-block"),this.$quoteBlock=this.$el.find(".quote-block"),this.$els=[this.$title,this.$titleQuote,this.$textQuote,this.$authorQuote,this.$workQuote,this.$titleClients],this.options.mainCanvasView.register(this.id,new r({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.clients,o.CANVAS_SHOWN,l.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.clients,o.CANVAS_HIDDEN,c.bind(this)),s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){TweenMax.set(this.$el,{opacity:0,display:"none"}),TweenMax.set(this.$title,{opacity:0,y:100}),TweenMax.set(this.$quoteBlock,{opacity:0,y:100}),TweenMax.set(this.$logosBlock,{opacity:0,y:50}),TweenMax.set(this.$button,{opacity:0,y:100}),s.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.2,{opacity:1,display:"flex"},.2).to(this.$title,.75,{opacity:1,y:0,ease:Expo.easeOut},.2).to(this.$quoteBlock,.75,{opacity:1,y:0,ease:Expo.easeOut},.2).to(this.$logosBlock,.75,{opacity:1,y:0,ease:Expo.easeOut},.4).to(this.$button,.75,{opacity:1,y:0,ease:Expo.easeOut},.55)},h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$title,.75,{opacity:0,y:"DOWN"==a.scrollYDirection?100:-100,ease:Expo.easeOut}).to(this.$quoteBlock,.75,{opacity:0,y:"DOWN"==a.scrollYDirection?100:-100,ease:Expo.easeOut},.05).to(this.$logosBlock,.75,{opacity:0,y:"DOWN"==a.scrollYDirection?100:-100,ease:Expo.easeOut},.1).to(this.$button,.75,{opacity:0,y:"DOWN"==a.scrollYDirection?100:-100,ease:Expo.easeOut},.15).to(this.$el,.2,{opacity:0,display:"none"},"-=0.5")},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(o.BLOCK_SHOWN),a.isMobile&&a.mainView.setNormalScrollBehavior(),s.prototype.onShown.call(this)},h.prototype.onHidden=function(){a.isMobile&&a.mainView.setNormalScrollBehavior(!1),this.trigger(o.BLOCK_HIDDEN),this.trigger(o.CANVAS_HIDDEN),s.prototype.onHidden.call(this)};var l=function(){TweenMax.set(this.options.mainView.$canvas,{zIndex:-1}),this.trigger(o.CANVAS_SHOWN)},c=function(){this.trigger(o.CANVAS_HIDDEN)};h.prototype.show=function(){setTimeout(function(){this.TL.show.play(0),this.options.mainCanvasView.showCanvas(this.id)}.bind(this),0)},h.prototype.hide=function(){setTimeout(function(){this.TL.hide.play(0)}.bind(this),0)},h.prototype.onResize=function(){this.canScroll=!!a.isMobile,this.hBlock=n(this.$el).height(),s.prototype.onResize.call(this)},h.prototype.onUpdate=function(){},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e){var n=(i(29),i(12)),s=i(7),o=i(23),a=i(13),r=(i(30),function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.canAnimate=!1,a.call(this,t,e)});e.extend(r,a),e.extend(r.prototype,a.prototype),r.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.mainBlob=this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob,this.viewBlob=this.options.mainCanvasView.aCanvasAnimViews.start,this.$canvas=this.options.mainView.$canvas,a.prototype.init.call(this)},r.prototype.initTLShow=function(){},r.prototype.animate=function(){},r.prototype.initAnimInUp=function(){var t=this.mainBlob.getScale({w:4*n.viewport.width},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.visible=!0,this.mainBlob.path.opacity=1,this.mainBlob.path.position.y=n.viewport.height/2,this.mainBlob.path.position.x=n.viewport.width/2},r.prototype.initAnimInDown=function(){var t=this.mainBlob.getScale({w:4*n.viewport.width},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.visible=!0,this.mainBlob.path.opacity=1,this.mainBlob.path.position.y=n.viewport.height/2,this.mainBlob.path.position.x=n.viewport.width/2};var h=function(){var t,e={height:this.mainBlob.path.bounds._height,color:o.rgbToHex(255*this.mainBlob.path.fillColor.red,255*this.mainBlob.path.fillColor.green,255*this.mainBlob.path.fillColor.blue)},i={y:n.viewport.height/2};this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.set(this.$canvas,{zIndex:20}).call(function(){this.isAnimating=!0}.bind(this)).to(e,1.2,{height:.6*n.viewport.height,color:"#f1f1f9",ease:Power4.easeOut,onUpdate:function(){t=this.mainBlob.getScale({h:e.height},this.mainBlob.path),this.mainBlob.path.scale(t),this.mainBlob.path.fillColor=e.color}.bind(this)}).to(i,1,{y:"DOWN"==n.scrollYDirection?1.3*n.viewport.height:.6*-n.viewport.height,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=i.y}.bind(this)},.1)};r.prototype.show=function(){"UP"==n.scrollYDirection?this.initAnimInUp():this.initAnimInDown(),h.call(this),this.TL.show.play(0)},r.prototype.hide=function(){this.isAnimating=!0,TweenMax.set(this.$canvas,{zIndex:20});var t,e={height:this.mainBlob.path.bounds._height};TweenMax.to(e,1.2,{height:4*n.viewport.height,ease:Expo.easeOut,onUpdate:function(){t=this.mainBlob.getScale({h:e.height},this.mainBlob.path),this.mainBlob.path.scale(t)}.bind(this),onComplete:function(){this.isAnimating=!1,this.trigger(s.CANVAS_HIDDEN)}.bind(this)}),this.mainBlob.path.position.y="UP"==n.scrollYDirection?1.3*n.viewport.height:.6*-n.viewport.height;var i={y:this.mainBlob.path.position.y};TweenMax.to(i,1.2,{y:n.viewport.height/2,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=i.y}.bind(this)})},r.prototype.onShown=function(){this.isAnimating=!1,this.trigger(s.CANVAS_SHOWN),a.prototype.onShown.call(this)},r.prototype.onResize=function(){},t.exports=r}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(36),o=i(7),a=function(t,e){this.paper=null,this.aCanvasAnimViews={},this.currentCanvasAnimView=null,this.oldCanvasAnimView=null,this.isCanvasHidden=!1,s.call(this,t,e)};e.extend(a,s),e.extend(a.prototype,s.prototype),a.prototype.init=function(){this.paper=new n.PaperScope,this.paper.setup(this.options.el),this.tool=new this.paper.Tool,this.mousePoint=new n.Point((-500),(-500)),s.prototype.init.call(this)},a.prototype.register=function(t,e){this.aCanvasAnimViews[t]=e,this.aCanvasAnimViews[t].init(),e&&this.listenTo(e,o.CANVAS_SHOWN,r.bind(this)),e&&this.listenTo(e,o.CANVAS_HIDDEN,h.bind(this))},a.prototype.showCanvas=function(t){this.isCanvasHidden=!1,this.currentCanvasAnimView=this.aCanvasAnimViews[t],this.currentCanvasAnimView.show()};var r=function(){this.trigger(o.CANVAS_SHOWN)};a.prototype.hideCanvas=function(t){this.isCanvasHidden=!0,this.oldCanvasAnimView=this.currentCanvasAnimView,this.oldCanvasAnimView.hide&&this.oldCanvasAnimView.hide()};var h=function(){this.trigger(o.CANVAS_HIDDEN)};a.prototype.bindEvents=function(){this.tool.onMouseMove=function(t){this.mousePoint=t.lastPoint,this.mouseMove(t)}.bind(this),this.paper.view.onMouseDown=function(t){this.mouseDown(t)}.bind(this),this.paper.view.onFrame=function(t){this.isCanvasHidden||this.animate(t)}.bind(this),s.prototype.bindEvents.call(this)},a.prototype.mouseDown=function(t){this.currentCanvasAnimView&&this.currentCanvasAnimView.mouseDown&&this.currentCanvasAnimView.mouseDown(t)},a.prototype.mouseMove=function(t){this.currentCanvasAnimView&&this.currentCanvasAnimView.mouseMove&&this.currentCanvasAnimView.mouseMove(t)},a.prototype.animate=function(t){this.currentCanvasAnimView&&this.currentCanvasAnimView.animate(t),s.prototype.animate.call(this)},a.prototype.onResize=function(){e.each(this.aCanvasAnimViews,function(t){t.onResize()}.bind(this)),s.prototype.onResize.call(this)},a.prototype.killTL=function(t){if(this.TL[t]){var e=this.TL[t];e.stop(),e.kill(),e.clear(),e=null,this.TL[t]=null}},a.prototype.destroyTL=function(){for(var t in this.TL)this.killTL(t);this.TL={}},a.prototype.dispose=function(){this.destroyTL()},t.exports=a}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(12),o=(i(21),i(7)),a=(i(23),i(13));i(55);var r=function(t,e){this.canUpdate=!0,this.indexMenu=0,this.isFirstLoad=!0,this.currentMenuIndex=0,this.managerMenu=this.managerMenu.bind(this),this.events={"click .back-btn":"backJobList","click .anchors li":"managerMenu","click .dropdown-cta":"onDropDownClicked","click .btn-search":function(){this.options.mainView.pageManager.currentPage.managerSearchField&&this.options.mainView.pageManager.currentPage.managerSearchField()}.bind(this)},a.call(this,t,e)};e.extend(r,a),e.extend(r.prototype,a.prototype),r.prototype.initDOM=function(){a.prototype.initDOM.call(this)},r.prototype.setupDOM=function(){},r.prototype.onDOMInit=function(){window.location.href.indexOf("careers-list")===-1&&TweenMax.set(window,{scrollTo:0}),this.$menu=this.$el.find(".content-menu"),this.$links=this.$el.find(".content-menu li"),this.$navigation=this.$el.find(".navigation"),this.$topicsDropdown=this.$el.find(".topics-bar"),this.$topicsBar=this.$el.find(".topics-bar ul"),this.$contentNavigation=this.$el.find(".content-navigation"),this.$contentLinks=this.$el.find(".content-navigation"),this.$articleTitle=this.$el.find(".article-title"),this.$articleTitleContent=this.$el.find(".article-title span"),this.haveMenu=!!this.$links[0],this.targets=[],e.each(this.$links,function(t){this.targets.push(n(t).attr("data-id"))}.bind(this)),this.targetMenu=this.targets[this.indexMenu],n(this.$links[this.indexMenu]).addClass("active"),this.haveMenu&&this.initMenuItems(),a.prototype.onDOMInit.call(this)},r.prototype.initTL=function(){},r.prototype.show=function(){},r.prototype.hide=function(){},r.prototype.onDropDownClicked=function(){n(this.$topicsDropdown).toggleClass("active"),n(this.$el).toggleClass("border")},r.prototype.bindEvents=function(){a.prototype.bindEvents.call(this)},r.prototype.onResize=function(){this.canResize&&this.initMenuItems()},r.prototype.initMenuItems=function(){this.menuBuilding=!0,this.menuWidth=s.viewport.width/2,this.itemsMenu=[];var t;e.each(this.$links,function(e){t=n(e).width(),n(e).attr("data-id")&&(this.menuWidth+=t,this.itemsMenu.push({el:e,hash:n(e).attr("data-id"),width:t,offsetTop:document.querySelector("."+n(e).attr("data-id")).offsetTop,scroll:this.menuWidth-t/2-s.viewport.width/2}))}.bind(this)),this.itemsMenu[0]&&(this.mobileNavOffset=s.viewport.width/2-15,this.menuWidth=this.menuWidth-this.itemsMenu[this.itemsMenu.length-1].width/2-15)},r.prototype.backJobList=function(t){t.preventDefault();var e=n("#job-detail").attr("data-anchor");e&&(e=e.toLowerCase().replace(/ & /g,"-"),e=e.toLowerCase().replace(/ /g,"-"),window.location.href="http://"+window.location.hostname+"/about/careers-list/",localStorage.setItem("dept",e))},r.prototype.managerMenu=function(t){if(!("careers"!=s.currentPage&&"healthsystems"!=s.currentPage||this.options.mainView.pageManager.currentPage.blockIsAnimating||this.options.mainView.pageManager.currentPage.showIsAnimating||this.options.mainView.pageManager.currentPage.stepIsAnimating||s.blockIsAnimating)){var e=t.currentTarget?n(t.currentTarget).attr("data-index"):t;this.targetMenu=t.currentTarget?n(t.currentTarget).attr("data-id"):t,this.currentMenuIndex===parseInt(e)||s.overlayActive||(this.currentMenuIndex=parseInt(e),this.updatedMenuItems(e),this.trigger(o.MENU_ITEM_CLICKED,{index:parseInt(e),target:this.targetMenu}))}},r.prototype.updatedMenuItems=function(t){n(this.$links[this.indexMenu]).removeClass("active"),this.indexMenu=parseInt(t),this.currentMenuIndex=parseInt(t),this.targetMenu=n(this.$links[t]).attr("data-id"),n(this.$links[this.indexMenu]).addClass("active"),s.isMobile&&TweenMax.to(this.$contentNavigation,.7,{scrollTo:{x:this.itemsMenu[this.indexMenu].scroll},ease:Expo.easeInOut})},t.exports=r}).call(e,i(3),i(1))},function(t,e){(function(){var t;t="undefined"!=typeof e&&null!==e?e:this,t.Lethargy=function(){function t(t,e,i,n){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=n?n:150,this.lastUpDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this)}return t.prototype.check=function(t){var e;return t=t.originalEvent||t,null!=t.wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=t.deltaY*-40:null==t.detail&&0!==t.detail||(e=t.detail*-40),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,n,s,o,a,r;return e=t===-1?this.lastDownDeltas:this.lastUpDeltas,null===e[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(n=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),r=n.reduce(function(t,e){return t+e}),o=i.reduce(function(t,e){return t+e}),a=r/n.length,s=o/i.length,Math.abs(a)<Math.abs(s*this.tolerance)&&this.sensitivity<Math.abs(s)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(this)},function(t,e,i){(function(e){var n=(i(7),i(12),i(21),i(13)),s=function(t,e){n.call(this,t,e)};e.extend(s,n),e.extend(s.prototype,n.prototype),s.prototype.initDOM=function(){this.onResize(),n.prototype.initDOM.call(this)},s.prototype.onDOMInit=function(){n.prototype.onDOMInit.call(this)},s.prototype.initTL=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.3,{autoAlpha:1,ease:Cubic.easeOut}),this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,ease:Cubic.easeOut})},s.prototype.show=function(){this.TL.show.play(0)},s.prototype.hide=function(){this.TL.hide.play(0)},s.prototype.bindEvents=function(){n.prototype.bindEvents.call(this)},s.prototype.onResize=function(){},t.exports=s}).call(e,i(3))}]);