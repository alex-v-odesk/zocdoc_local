!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};e.m=t,e.c=i,e.p="assets/js/",e(0)}([function(t,e,i){(function(e,n){"use strict";n.$=e;var s=i(4),o=function(){};o.prototype.onReady=function(){(new s).init()};var a=t.exports=new o;window.onload=a.onReady.bind(a)}).call(e,i(1),i(2))},function(t,e){var i=function(){function t(t){return null==t?String(t):W[q.call(t)]||"object"}function e(e){return"function"==t(e)}function i(t){return null!=t&&t==t.window}function n(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function s(e){return"object"==t(e)}function o(t){return s(t)&&!i(t)&&Object.getPrototypeOf(t)==Object.prototype}function a(t){return"number"==typeof t.length}function r(t){return I.call(t,function(t){return null!=t})}function h(t){return t.length>0?T.fn.concat.apply([],t):t}function l(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function c(t){return t in E?E[t]:E[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function u(t,e){return"number"!=typeof e||P[l(t)]?e:e+"px"}function p(t){var e,i;return B[t]||(e=$.createElement(t),$.body.appendChild(e),i=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==i&&(i="block"),B[t]=i),B[t]}function d(t){return"children"in t?O.call(t.children):T.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function f(t,e,i){for(x in e)i&&(o(e[x])||K(e[x]))?(o(e[x])&&!o(t[x])&&(t[x]={}),K(e[x])&&!K(t[x])&&(t[x]=[]),f(t[x],e[x],i)):e[x]!==b&&(t[x]=e[x])}function m(t,e){return null==e?T(t):T(t).filter(e)}function g(t,i,n,s){return e(i)?i.call(t,n,s):i}function v(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)}function y(t,e){var i=t.className||"",n=i&&i.baseVal!==b;if(e===b)return n?i.baseVal:i;n?i.baseVal=e:t.className=e}function _(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?T.parseJSON(t):t):t}catch(e){return t}}function w(t,e){e(t);for(var i=0,n=t.childNodes.length;i<n;i++)w(t.childNodes[i],e)}var b,x,T,C,S,M,A=[],O=A.slice,I=A.filter,$=window.document,B={},E={},P={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},k=/^\s*<(\w+|!)[^>]*>/,V=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,D=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,L=/^(?:body|html)$/i,N=/([A-Z])/g,z=["val","css","html","text","data","width","height","offset"],R=["after","prepend","before","append"],H=$.createElement("table"),F=$.createElement("tr"),j={tr:$.createElement("tbody"),tbody:H,thead:H,tfoot:H,td:F,th:F,"*":$.createElement("div")},U=/complete|loaded|interactive/,Y=/^[\w-]*$/,W={},q=W.toString,X={},G=$.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},K=Array.isArray||function(t){return t instanceof Array};return X.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var n,s=t.parentNode,o=!s;return o&&(s=G).appendChild(t),n=~X.qsa(s,e).indexOf(t),o&&G.removeChild(t),n},S=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},M=function(t){return I.call(t,function(e,i){return t.indexOf(e)==i})},X.fragment=function(t,e,i){var n,s,a;return V.test(t)&&(n=T($.createElement(RegExp.$1))),n||(t.replace&&(t=t.replace(D,"<$1></$2>")),e===b&&(e=k.test(t)&&RegExp.$1),e in j||(e="*"),(a=j[e]).innerHTML=""+t,n=T.each(O.call(a.childNodes),function(){a.removeChild(this)})),o(i)&&(s=T(n),T.each(i,function(t,e){z.indexOf(t)>-1?s[t](e):s.attr(t,e)})),n},X.Z=function(t,e){return t=t||[],t.__proto__=T.fn,t.selector=e||"",t},X.isZ=function(t){return t instanceof X.Z},X.init=function(t,i){var n;if(!t)return X.Z();if("string"==typeof t)if("<"==(t=t.trim())[0]&&k.test(t))n=X.fragment(t,RegExp.$1,i),t=null;else{if(i!==b)return T(i).find(t);n=X.qsa($,t)}else{if(e(t))return T($).ready(t);if(X.isZ(t))return t;if(K(t))n=r(t);else if(s(t))n=[t],t=null;else if(k.test(t))n=X.fragment(t.trim(),RegExp.$1,i),t=null;else{if(i!==b)return T(i).find(t);n=X.qsa($,t)}}return X.Z(n,t)},T=function(t,e){return X.init(t,e)},T.extend=function(t){var e,i=O.call(arguments,1);return"boolean"==typeof t&&(e=t,t=i.shift()),i.forEach(function(i){f(t,i,e)}),t},X.qsa=function(t,e){var i,s="#"==e[0],o=!s&&"."==e[0],a=s||o?e.slice(1):e,r=Y.test(a);return n(t)&&r&&s?(i=t.getElementById(a))?[i]:[]:1!==t.nodeType&&9!==t.nodeType?[]:O.call(r&&!s?o?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},T.contains=$.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},T.type=t,T.isFunction=e,T.isWindow=i,T.isArray=K,T.isPlainObject=o,T.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},T.inArray=function(t,e,i){return A.indexOf.call(e,t,i)},T.camelCase=S,T.trim=function(t){return null==t?"":String.prototype.trim.call(t)},T.uuid=0,T.support={},T.expr={},T.map=function(t,e){var i,n,s,o=[];if(a(t))for(n=0;n<t.length;n++)null!=(i=e(t[n],n))&&o.push(i);else for(s in t)null!=(i=e(t[s],s))&&o.push(i);return h(o)},T.each=function(t,e){var i,n;if(a(t)){for(i=0;i<t.length;i++)if(!1===e.call(t[i],i,t[i]))return t}else for(n in t)if(!1===e.call(t[n],n,t[n]))return t;return t},T.grep=function(t,e){return I.call(t,e)},window.JSON&&(T.parseJSON=JSON.parse),T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){W["[object "+e+"]"]=e.toLowerCase()}),T.fn={forEach:A.forEach,reduce:A.reduce,push:A.push,sort:A.sort,indexOf:A.indexOf,concat:A.concat,map:function(t){return T(T.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return T(O.apply(this,arguments))},ready:function(t){return U.test($.readyState)&&$.body?t(T):$.addEventListener("DOMContentLoaded",function(){t(T)},!1),this},get:function(t){return t===b?O.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return A.every.call(this,function(e,i){return!1!==t.call(e,i,e)}),this},filter:function(t){return e(t)?this.not(this.not(t)):T(I.call(this,function(e){return X.matches(e,t)}))},add:function(t,e){return T(M(this.concat(T(t,e))))},is:function(t){return this.length>0&&X.matches(this[0],t)},not:function(t){var i=[];if(e(t)&&t.call!==b)this.each(function(e){t.call(this,e)||i.push(this)});else{var n="string"==typeof t?this.filter(t):a(t)&&e(t.item)?O.call(t):T(t);this.forEach(function(t){n.indexOf(t)<0&&i.push(t)})}return T(i)},has:function(t){return this.filter(function(){return s(t)?T.contains(this,t):T(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!s(t)?t:T(t)},last:function(){var t=this[this.length-1];return t&&!s(t)?t:T(t)},find:function(t){var e=this;return t?"object"==typeof t?T(t).filter(function(){var t=this;return A.some.call(e,function(e){return T.contains(e,t)})}):1==this.length?T(X.qsa(this[0],t)):this.map(function(){return X.qsa(this,t)}):T()},closest:function(t,e){var i=this[0],s=!1;for("object"==typeof t&&(s=T(t));i&&!(s?s.indexOf(i)>=0:X.matches(i,t));)i=i!==e&&!n(i)&&i.parentNode;return T(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=T.map(i,function(t){if((t=t.parentNode)&&!n(t)&&e.indexOf(t)<0)return e.push(t),t});return m(e,t)},parent:function(t){return m(M(this.pluck("parentNode")),t)},children:function(t){return m(this.map(function(){return d(this)}),t)},contents:function(){return this.map(function(){return O.call(this.childNodes)})},siblings:function(t){return m(this.map(function(t,e){return I.call(d(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return T.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var i=e(t);if(this[0]&&!i)var n=T(t).get(0),s=n.parentNode||this.length>1;return this.each(function(e){T(this).wrapAll(i?t.call(this,e):s?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){T(this[0]).before(t=T(t));for(var e;(e=t.children()).length;)t=e.first();T(t).append(this)}return this},wrapInner:function(t){var i=e(t);return this.each(function(e){var n=T(this),s=n.contents(),o=i?t.call(this,e):t;s.length?s.wrapAll(o):n.append(o)})},unwrap:function(){return this.parent().each(function(){T(this).replaceWith(T(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=T(this);(t===b?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return T(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return T(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var i=this.innerHTML;T(this).empty().append(g(this,t,e,i))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var i=g(this,t,e,this.textContent);this.textContent=null==i?"":""+i}):0 in this?this[0].textContent:null},attr:function(t,e){var i;return"string"!=typeof t||1 in arguments?this.each(function(i){if(1===this.nodeType)if(s(t))for(x in t)v(this,x,t[x]);else v(this,t,g(this,e,i,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(i=this[0].getAttribute(t))&&t in this[0]?this[0][t]:i:b},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){v(this,t)},this)})},prop:function(t,e){return t=Z[t]||t,1 in arguments?this.each(function(i){this[t]=g(this,e,i,this[t])}):this[0]&&this[0][t]},data:function(t,e){var i="data-"+t.replace(N,"-$1").toLowerCase(),n=1 in arguments?this.attr(i,e):this.attr(i);return null!==n?_(n):b},val:function(t){return 0 in arguments?this.each(function(e){this.value=g(this,t,e,this.value)}):this[0]&&(this[0].multiple?T(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var i=T(this),n=g(this,t,e,i.offset()),s=i.offsetParent().offset(),o={top:n.top-s.top,left:n.left-s.left};"static"==i.css("position")&&(o.position="relative"),i.css(o)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,i){if(arguments.length<2){var n,s=this[0];if(!s)return;if(n=getComputedStyle(s,""),"string"==typeof e)return s.style[S(e)]||n.getPropertyValue(e);if(K(e)){var o={};return T.each(e,function(t,e){o[e]=s.style[S(e)]||n.getPropertyValue(e)}),o}}var a="";if("string"==t(e))i||0===i?a=l(e)+":"+u(e,i):this.each(function(){this.style.removeProperty(l(e))});else for(x in e)e[x]||0===e[x]?a+=l(x)+":"+u(x,e[x])+";":this.each(function(){this.style.removeProperty(l(x))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(T(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&A.some.call(this,function(t){return this.test(y(t))},c(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){C=[];var i=y(this);g(this,t,e,i).split(/\s+/g).forEach(function(t){T(this).hasClass(t)||C.push(t)},this),C.length&&y(this,i+(i?" ":"")+C.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===b)return y(this,"");C=y(this),g(this,t,e,C).split(/\s+/g).forEach(function(t){C=C.replace(c(t)," ")}),y(this,C.trim())}})},toggleClass:function(t,e){return t?this.each(function(i){var n=T(this);g(this,t,i,y(this)).split(/\s+/g).forEach(function(t){(e===b?!n.hasClass(t):e)?n.addClass(t):n.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===b?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===b?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),n=L.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(T(t).css("margin-top"))||0,i.left-=parseFloat(T(t).css("margin-left"))||0,n.top+=parseFloat(T(e[0]).css("border-top-width"))||0,n.left+=parseFloat(T(e[0]).css("border-left-width"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||$.body;t&&!L.test(t.nodeName)&&"static"==T(t).css("position");)t=t.offsetParent;return t})}},T.fn.detach=T.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});T.fn[t]=function(s){var o,a=this[0];return s===b?i(a)?a["inner"+e]:n(a)?a.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){(a=T(this)).css(t,g(this,s,e,a[t]()))})}}),R.forEach(function(e,i){var n=i%2;T.fn[e]=function(){var e,s,o=T.map(arguments,function(i){return e=t(i),"object"==e||"array"==e||null==i?i:X.fragment(i)}),a=this.length>1;return o.length<1?this:this.each(function(t,e){s=n?e:e.parentNode,e=0==i?e.nextSibling:1==i?e.firstChild:2==i?e:null;var r=T.contains($.documentElement,s);o.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!s)return T(t).remove();s.insertBefore(t,e),r&&w(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},T.fn[n?e+"To":"insert"+(i?"Before":"After")]=function(t){return T(t)[e](this),this}}),X.Z.prototype=T.fn,X.uniq=M,X.deserializeValue=_,T.zepto=X,T}();window.Zepto=i,void 0===window.$&&(window.$=i),function(t){function e(t){return t._zid||(t._zid=p++)}function i(t,i,o,a){if((i=n(i)).ns)var r=s(i.ns);return(g[e(t)]||[]).filter(function(t){return t&&(!i.e||t.e==i.e)&&(!i.ns||r.test(t.ns))&&(!o||e(t.fn)===e(o))&&(!a||t.sel==a)})}function n(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function s(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t,e){return t.del&&!y&&t.e in _||!!e}function a(t){return w[t]||y&&_[t]||t}function r(i,s,r,h,c,p,d){var f=e(i),m=g[f]||(g[f]=[]);s.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(r);var s=n(e);s.fn=r,s.sel=c,s.e in w&&(r=function(e){var i=e.relatedTarget;if(!i||i!==this&&!t.contains(this,i))return s.fn.apply(this,arguments)}),s.del=p;var f=p||r;s.proxy=function(t){if(!(t=l(t)).isImmediatePropagationStopped()){t.data=h;var e=f.apply(i,t._args==u?[t]:[t].concat(t._args));return!1===e&&(t.preventDefault(),t.stopPropagation()),e}},s.i=m.length,m.push(s),"addEventListener"in i&&i.addEventListener(a(s.e),s.proxy,o(s,d))})}function h(t,n,s,r,h){var l=e(t);(n||"").split(/\s/).forEach(function(e){i(t,e,s,r).forEach(function(e){delete g[l][e.i],"removeEventListener"in t&&t.removeEventListener(a(e.e),e.proxy,o(e,h))})})}function l(e,i){return!i&&e.isDefaultPrevented||(i||(i=e),t.each(C,function(t,n){var s=i[t];e[t]=function(){return this[n]=b,s&&s.apply(i,arguments)},e[n]=x}),(i.defaultPrevented!==u?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=b)),e}function c(t){var e,i={originalEvent:t};for(e in t)T.test(e)||t[e]===u||(i[e]=t[e]);return l(i,t)}var u,p=1,d=Array.prototype.slice,f=t.isFunction,m=function(t){return"string"==typeof t},g={},v={},y="onfocusin"in window,_={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",t.event={add:r,remove:h},t.proxy=function(i,n){var s=2 in arguments&&d.call(arguments,2);if(f(i)){var o=function(){return i.apply(n,s?s.concat(d.call(arguments)):arguments)};return o._zid=e(i),o}if(m(n))return s?(s.unshift(i[n],i),t.proxy.apply(null,s)):t.proxy(i[n],i);throw new TypeError("expected function")},t.fn.bind=function(t,e,i){return this.on(t,e,i)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,i,n){return this.on(t,e,i,n,1)};var b=function(){return!0},x=function(){return!1},T=/^([A-Z]|returnValue$|layer[XY]$)/,C={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,i){return this.on(e,t,i)},t.fn.undelegate=function(t,e,i){return this.off(e,t,i)},t.fn.live=function(e,i){return t(document.body).delegate(this.selector,e,i),this},t.fn.die=function(e,i){return t(document.body).undelegate(this.selector,e,i),this},t.fn.on=function(e,i,n,s,o){var a,l,p=this;return e&&!m(e)?(t.each(e,function(t,e){p.on(t,i,n,e,o)}),p):(m(i)||f(s)||!1===s||(s=n,n=i,i=u),(f(n)||!1===n)&&(s=n,n=u),!1===s&&(s=x),p.each(function(u,p){o&&(a=function(t){return h(p,t.type,s),s.apply(this,arguments)}),i&&(l=function(e){var n,o=t(e.target).closest(i,p).get(0);if(o&&o!==p)return n=t.extend(c(e),{currentTarget:o,liveFired:p}),(a||s).apply(o,[n].concat(d.call(arguments,1)))}),r(p,e,s,n,i,l||a)}))},t.fn.off=function(e,i,n){var s=this;return e&&!m(e)?(t.each(e,function(t,e){s.off(t,i,e)}),s):(m(i)||f(n)||!1===n||(n=i,i=u),!1===n&&(n=x),s.each(function(){h(this,e,n,i)}))},t.fn.trigger=function(e,i){return e=m(e)||t.isPlainObject(e)?t.Event(e):l(e),e._args=i,this.each(function(){e.type in _&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,i)})},t.fn.triggerHandler=function(e,n){var s,o;return this.each(function(a,r){(s=c(m(e)?t.Event(e):e))._args=n,s.target=r,t.each(i(r,e.type||e),function(t,e){if(o=e.proxy(s),s.isImmediatePropagationStopped())return!1})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var i=document.createEvent(v[t]||"Events"),n=!0;if(e)for(var s in e)"bubbles"==s?n=!!e[s]:i[s]=e[s];return i.initEvent(t,n,!0),l(i)}}(i),function(t){function e(e,i,n){var s=t.Event(i);return t(e).trigger(s,n),!s.isDefaultPrevented()}function i(t,i,n,s){if(t.global)return e(i||y,n,s)}function n(e){e.global&&0==t.active++&&i(e,null,"ajaxStart")}function s(e){e.global&&!--t.active&&i(e,null,"ajaxStop")}function o(t,e){var n=e.context;if(!1===e.beforeSend.call(n,t,e)||!1===i(e,n,"ajaxBeforeSend",[t,e]))return!1;i(e,n,"ajaxSend",[t,e])}function a(t,e,n,s){var o=n.context;n.success.call(o,t,"success",e),s&&s.resolveWith(o,[t,"success",e]),i(n,o,"ajaxSuccess",[e,n,t]),h("success",e,n)}function r(t,e,n,s,o){var a=s.context;s.error.call(a,n,e,t),o&&o.rejectWith(a,[n,e,t]),i(s,a,"ajaxError",[n,s,t||e]),h(e,n,s)}function h(t,e,n){var o=n.context;n.complete.call(o,e,t),i(n,o,"ajaxComplete",[e,n]),s(n)}function l(){}function c(t){return t&&(t=t.split(";",2)[0]),t&&(t==T?"html":t==x?"json":w.test(t)?"script":b.test(t)&&"xml")||"text"}function u(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function p(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=u(e.url,e.data),e.data=void 0)}function d(e,i,n,s){return t.isFunction(i)&&(s=n,n=i,i=void 0),t.isFunction(n)||(s=n,n=void 0),{url:e,data:i,success:n,dataType:s}}function f(e,i,n,s){var o,a=t.isArray(i),r=t.isPlainObject(i);t.each(i,function(i,h){o=t.type(h),s&&(i=n?s:s+"["+(r||"object"==o||"array"==o?i:"")+"]"),!s&&a?e.add(h.name,h.value):"array"==o||!n&&"object"==o?f(e,h,n,i):e.add(i,h)})}var m,g,v=0,y=window.document,_=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,b=/^(?:text|application)\/xml/i,x="application/json",T="text/html",C=/^\s*$/,S=y.createElement("a");S.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,i){if(!("type"in e))return t.ajax(e);var n,s,h=e.jsonpCallback,l=(t.isFunction(h)?h():h)||"jsonp"+ ++v,c=y.createElement("script"),u=window[l],p=function(e){t(c).triggerHandler("error",e||"abort")},d={abort:p};return i&&i.promise(d),t(c).on("load error",function(o,h){clearTimeout(s),t(c).off().remove(),"error"!=o.type&&n?a(n[0],d,e,i):r(null,h||"error",d,e,i),window[l]=u,n&&t.isFunction(u)&&u(n[0]),u=n=void 0}),!1===o(d,e)?(p("abort"),d):(window[l]=function(){n=arguments},c.src=e.url.replace(/\?(.+)=\?/,"?$1="+l),y.head.appendChild(c),e.timeout>0&&(s=setTimeout(function(){p("timeout")},e.timeout)),d)},t.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:x,xml:"application/xml, text/xml",html:T,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var i,s=t.extend({},e||{}),h=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===s[m]&&(s[m]=t.ajaxSettings[m]);n(s),s.crossDomain||((i=y.createElement("a")).href=s.url,i.href=i.href,s.crossDomain=S.protocol+"//"+S.host!=i.protocol+"//"+i.host),s.url||(s.url=window.location.toString()),p(s);var d=s.dataType,f=/\?.+=\?/.test(s.url);if(f&&(d="jsonp"),!1!==s.cache&&(e&&!0===e.cache||"script"!=d&&"jsonp"!=d)||(s.url=u(s.url,"_="+Date.now())),"jsonp"==d)return f||(s.url=u(s.url,s.jsonp?s.jsonp+"=?":!1===s.jsonp?"":"callback=?")),t.ajaxJSONP(s,h);var v,_=s.accepts[d],w={},b=function(t,e){w[t.toLowerCase()]=[t,e]},x=/^([\w-]+:)\/\//.test(s.url)?RegExp.$1:window.location.protocol,T=s.xhr(),M=T.setRequestHeader;if(h&&h.promise(T),s.crossDomain||b("X-Requested-With","XMLHttpRequest"),b("Accept",_||"*/*"),(_=s.mimeType||_)&&(_.indexOf(",")>-1&&(_=_.split(",",2)[0]),T.overrideMimeType&&T.overrideMimeType(_)),(s.contentType||!1!==s.contentType&&s.data&&"GET"!=s.type.toUpperCase())&&b("Content-Type",s.contentType||"application/x-www-form-urlencoded"),s.headers)for(g in s.headers)b(g,s.headers[g]);if(T.setRequestHeader=b,T.onreadystatechange=function(){if(4==T.readyState){T.onreadystatechange=l,clearTimeout(v);var e,i=!1;if(T.status>=200&&T.status<300||304==T.status||0==T.status&&"file:"==x){d=d||c(s.mimeType||T.getResponseHeader("content-type")),e=T.responseText;try{"script"==d?(0,eval)(e):"xml"==d?e=T.responseXML:"json"==d&&(e=C.test(e)?null:t.parseJSON(e))}catch(t){i=t}i?r(i,"parsererror",T,s,h):a(e,T,s,h)}else r(T.statusText||null,T.status?"error":"abort",T,s,h)}},!1===o(T,s))return T.abort(),r(null,"abort",T,s,h),T;if(s.xhrFields)for(g in s.xhrFields)T[g]=s.xhrFields[g];var A=!("async"in s)||s.async;T.open(s.type,s.url,A,s.username,s.password);for(g in w)M.apply(T,w[g]);return s.timeout>0&&(v=setTimeout(function(){T.onreadystatechange=l,T.abort(),r(null,"timeout",T,s,h)},s.timeout)),T.send(s.data?s.data:null),T},t.get=function(){return t.ajax(d.apply(null,arguments))},t.post=function(){var e=d.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=d.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,i,n){if(!this.length)return this;var s,o=this,a=e.split(/\s/),r=d(e,i,n),h=r.success;return a.length>1&&(r.url=a[0],s=a[1]),r.success=function(e){o.html(s?t("<div>").html(e.replace(_,"")).find(s):e),h&&h.apply(o,arguments)},t.ajax(r),this};var M=encodeURIComponent;t.param=function(e,i){var n=[];return n.add=function(e,i){t.isFunction(i)&&(i=i()),null==i&&(i=""),this.push(M(e)+"="+M(i))},f(n,e,i),n.join("&").replace(/%20/g,"+")}}(i),function(t){t.fn.serializeArray=function(){var e,i,n=[],s=function(t){if(t.forEach)return t.forEach(s);n.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(n,o){i=o.type,(e=o.name)&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&"file"!=i&&("radio"!=i&&"checkbox"!=i||o.checked)&&s(t(o).val())}),n},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var i=t.Event("submit");this.eq(0).trigger(i),i.isDefaultPrevented()||this.get(0).submit()}return this}}(i),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,i){return e=e||[],t.extend(e,t.fn),e.selector=i||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t){try{return e(t)}catch(t){return null}}}}(i),t.exports=i,delete window.$,delete window.Zepto},function(t,e,i){var n,s;(function(o){!function(a){var r="object"==typeof self&&self.self===self&&self||"object"==typeof o&&o.global===o&&o;n=[i(3),i(1),e],void 0!==(s=function(t,e,i){r.Backbone=a(r,i,t,e)}.apply(e,n))&&(t.exports=s)}(function(t,e,i,n){var s=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=n,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,s){return i[e](this[n],h(t,this),s)};case 4:return function(t,s,o){return i[e](this[n],h(t,this),s,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}},r=function(t,e,n){i.each(e,function(e,s){i[s]&&(t.prototype[s]=a(e,s,n))})},h=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?l(t):i.isString(t)?function(e){return e.get(t)}:t},l=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},u=/\s+/,p=function(t,e,n,s,o){var a,r=0;if(n&&"object"==typeof n){void 0!==s&&"context"in o&&void 0===o.context&&(o.context=s);for(a=i.keys(n);r<a.length;r++)e=p(t,e,a[r],n[a[r]],o)}else if(n&&u.test(n))for(a=n.split(u);r<a.length;r++)e=t(e,a[r],s,o);else e=t(e,n,s,o);return e};c.on=function(t,e,i){return d(this,t,e,i)};var d=function(t,e,i,n,s){return t._events=p(f,t._events||{},e,i,{context:n,ctx:t,listening:s}),s&&((t._listeners||(t._listeners={}))[s.id]=s),t};c.listenTo=function(t,e,n){if(!t)return this;var s=t._listenId||(t._listenId=i.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[s];if(!a){var r=this._listenId||(this._listenId=i.uniqueId("l"));a=o[s]={obj:t,objId:s,id:r,listeningTo:o,count:0}}return d(t,e,n,this,a),this};var f=function(t,e,i,n){if(i){var s=t[e]||(t[e]=[]),o=n.context,a=n.ctx,r=n.listening;r&&r.count++,s.push({callback:i,context:o,ctx:o||a,listening:r})}return t};c.off=function(t,e,i){return this._events?(this._events=p(m,this._events,t,e,{context:i,listeners:this._listeners}),this):this},c.stopListening=function(t,e,n){var s=this._listeningTo;if(!s)return this;for(var o=t?[t._listenId]:i.keys(s),a=0;a<o.length;a++){var r=s[o[a]];if(!r)break;r.obj.off(e,n,this)}return this};var m=function(t,e,n,s){if(t){var o,a=0,r=s.context,h=s.listeners;if(e||n||r){for(var l=e?[e]:i.keys(t);a<l.length;a++){var c=t[e=l[a]];if(!c)break;for(var u=[],p=0;p<c.length;p++){var d=c[p];n&&n!==d.callback&&n!==d.callback._callback||r&&r!==d.context?u.push(d):(o=d.listening)&&0==--o.count&&(delete h[o.id],delete o.listeningTo[o.objId])}u.length?t[e]=u:delete t[e]}return t}for(var f=i.keys(h);a<f.length;a++)delete h[(o=h[f[a]]).id],delete o.listeningTo[o.objId]}};c.once=function(t,e,n){var s=p(g,{},t,e,i.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(s,e,n)},c.listenToOnce=function(t,e,n){var s=p(g,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,s)};var g=function(t,e,n,s){if(n){var o=t[e]=i.once(function(){s(e,o),n.apply(this,arguments)});o._callback=n}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return p(v,this._events,t,void 0,i),this};var v=function(t,e,i,n){if(t){var s=t[e],o=t.all;s&&o&&(o=o.slice()),s&&y(s,n),o&&y(o,[e].concat(n))}return t},y=function(t,e){var i,n=-1,s=t.length,o=e[0],a=e[1],r=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,o);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,o,a);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,o,a,r);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}};c.bind=c.on,c.unbind=c.off,i.extend(e,c);var _=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var s=i.result(this,"defaults");n=i.defaults(i.extend({},s,n),s),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(_.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var s;if("object"==typeof t?(s=t,n=e):(s={})[t]=e,n||(n={}),!this._validate(s,n))return!1;var o=n.unset,a=n.silent,r=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=i.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,u=this._previousAttributes;for(var p in s)e=s[p],i.isEqual(l[p],e)||r.push(p),i.isEqual(u[p],e)?delete c[p]:c[p]=e,o?delete l[p]:l[p]=e;if(this.idAttribute in s&&(this.id=this.get(this.idAttribute)),!a){r.length&&(this._pending=n);for(var d=0;d<r.length;d++)this.trigger("change:"+r[d],this,l[r[d]],n)}if(h)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var s in t){var o=t[s];i.isEqual(e[s],o)||(n[s]=o)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){var e=this,n=(t=i.extend({parse:!0},t)).success;return t.success=function(i){var s=t.parse?e.parse(i,t):i;if(!e.set(s,t))return!1;n&&n.call(t.context,e,i,t),e.trigger("sync",e,i,t)},N(this,t),this.sync("read",this,t)},save:function(t,e,n){var s;null==t||"object"==typeof t?(s=t,n=e):(s={})[t]=e;var o=(n=i.extend({validate:!0,parse:!0},n)).wait;if(s&&!o){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;var a=this,r=n.success,h=this.attributes;n.success=function(t){a.attributes=h;var e=n.parse?a.parse(t,n):t;if(o&&(e=i.extend({},s,e)),e&&!a.set(e,n))return!1;r&&r.call(n.context,a,t,n),a.trigger("sync",a,t,n)},N(this,n),s&&o&&(this.attributes=i.extend({},h,s));var l=this.isNew()?"create":n.patch?"patch":"update";"patch"!==l||n.attrs||(n.attrs=s);var c=this.sync(l,this,n);return this.attributes=h,c},destroy:function(t){var e=this,n=(t=t?i.clone(t):{}).success,s=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){s&&o(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var a=!1;return this.isNew()?i.defer(t.success):(N(this,t),a=this.sync("delete",this,t)),s||o(),a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||L();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}}),r(_,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var w=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},T=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,s=Array(t.length-i),o=e.length;for(n=0;n<s.length;n++)s[n]=t[n+i];for(n=0;n<o;n++)t[n+i]=e[n];for(n=0;n<s.length;n++)t[n+o+i]=s[n]};i.extend(w.prototype,c,{model:_,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,x))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var s=this._removeModels(t,e);return!e.silent&&s.length&&(e.changes={added:[],merged:[],removed:s},this.trigger("update",this,e)),n?s[0]:s},set:function(t,e){if(null!=t){(e=i.extend({},b,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var s=e.at;null!=s&&(s=+s),s>this.length&&(s=this.length),s<0&&(s+=this.length+1);var o,a,r=[],h=[],l=[],c=[],u={},p=e.add,d=e.merge,f=e.remove,m=!1,g=this.comparator&&null==s&&!1!==e.sort,v=i.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var y=this.get(o);if(y){if(d&&o!==y){var _=this._isModel(o)?o.attributes:o;e.parse&&(_=y.parse(_,e)),y.set(_,e),l.push(y),g&&!m&&(m=y.hasChanged(v))}u[y.cid]||(u[y.cid]=!0,r.push(y)),t[a]=y}else p&&(o=t[a]=this._prepareModel(o,e))&&(h.push(o),this._addReference(o,e),u[o.cid]=!0,r.push(o))}if(f){for(a=0;a<this.length;a++)u[(o=this.models[a]).cid]||c.push(o);c.length&&this._removeModels(c,e)}var w=!1,x=!g&&p&&f;if(r.length&&x?(w=this.length!==r.length||i.some(this.models,function(t,e){return t!==r[e]}),this.models.length=0,T(this.models,r,0),this.length=this.models.length):h.length&&(g&&(m=!0),T(this.models,h,null==s?this.length:s),this.length=this.models.length),m&&this.sort({silent:!0}),!e.silent){for(a=0;a<h.length;a++)null!=s&&(e.index=s+a),(o=h[a]).trigger("add",o,this,e);(m||w)&&this.trigger("sort",this,e),(h.length||c.length||l.length)&&(e.changes={added:h,removed:c,merged:l},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=i.extend({parse:!0},t)).success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},N(this,t),this.sync("read",this,t)},create:function(t,e){var n=(e=e?i.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;n||this.add(t,e);var s=this,o=e.success;return e.success=function(t,e,i){n&&s.add(t,i),o&&o.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?i.clone(e):{}).collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var s=this.get(t[n]);if(s){var o=this.indexOf(s);this.models.splice(o,1),this.length--,delete this._byId[s.cid];var a=this.modelId(s.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=o,s.trigger("remove",s,this,e)),i.push(s),this._removeReference(s,e)}}return i},_isModel:function(t){return t instanceof _},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var s=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);s!==o&&(null!=s&&delete this._byId[s],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}}),r(w,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var C=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,M)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,M=["model","collection","el","id","attributes","className","tagName","events"];i.extend(C.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var s=e.match(S);this.delegate(s[1],s[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,s){var o=A[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(s.url||(a.url=i.result(n,"url")||L()),null!=s.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",s.emulateJSON&&(a.data._method=o);var r=s.beforeSend;s.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),r)return r.apply(this,arguments)}}"GET"===a.type||s.emulateJSON||(a.processData=!1);var h=s.error;s.error=function(t,e,i){s.textStatus=e,s.errorThrown=i,h&&h.call(s.context,t,e,i)};var l=s.xhr=e.ajax(i.extend(a,s));return n.trigger("request",n,l,s),l};var A={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var O=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},I=/\((.*?)\)/g,$=/(\(\?)?:\w+/g,B=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(O.prototype,c,{initialize:function(){},route:function(t,n,s){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var o=this;return e.history.route(t,function(i){var a=o._extractParameters(t,i);!1!==o.execute(s,a,n)&&(o.trigger.apply(o,["route:"+n].concat(a)),o.trigger("route",n,a),e.history.trigger("route",o,n,a))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(E,"\\$&").replace(I,"(?:$1)?").replace($,function(t,e){return e?t:"([^/?]+)"}).replace(B,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var P=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},k=/^[#\/]|\s+$/g,V=/^\/+|\/+$/g,D=/#.*$/;P.started=!1,i.extend(P.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(k,"")},start:function(t){if(P.started)throw new Error("Backbone.history has already been started");if(P.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(V,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,s=n.insertBefore(this.iframe,n.firstChild).contentWindow;s.document.open(),s.document.close(),s.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),P.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!P.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(D,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;e.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new P;_.extend=w.extend=O.extend=C.extend=P.extend=function(t,e){var n,s=this;return n=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,e),n.prototype=i.create(s.prototype,t),n.prototype.constructor=n,n.__super__=s.prototype,n};var L=function(){throw new Error('A "url" property or function must be specified')},N=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e})}).call(e,function(){return this}())},function(t,e,i){var n,s;(function(){function i(t){function e(e,i,n,s,o,a){for(;o>=0&&o<a;o+=t){var r=s?s[o]:o;n=i(n,e[r],r,e)}return n}return function(i,n,s,o){n=T(n,o,4);var a=!$(i)&&x.keys(i),r=(a||i).length,h=t>0?0:r-1;return arguments.length<3&&(s=i[a?a[h]:h],h+=t),e(i,n,s,a,h,r)}}function o(t){return function(e,i,n){i=C(i,n);for(var s=I(e),o=t>0?0:s-1;o>=0&&o<s;o+=t)if(i(e[o],o,e))return o;return-1}}function a(t,e,i){return function(n,s,o){var a=0,r=I(n);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+r,a):r=o>=0?Math.min(o+1,r):o+r+1;else if(i&&o&&r)return o=i(n,s),n[o]===s?o:-1;if(s!==s)return o=e(f.call(n,a,r),x.isNaN),o>=0?o+a:-1;for(o=t>0?a:r-1;o>=0&&o<r;o+=t)if(n[o]===s)return o;return-1}}function r(t,e){var i=V.length,n=t.constructor,s=x.isFunction(n)&&n.prototype||u,o="constructor";for(x.has(t,o)&&!x.contains(e,o)&&e.push(o);i--;)(o=V[i])in t&&t[o]!==s[o]&&!x.contains(e,o)&&e.push(o)}var h=this,l=h._,c=Array.prototype,u=Object.prototype,p=Function.prototype,d=c.push,f=c.slice,m=u.toString,g=u.hasOwnProperty,v=Array.isArray,y=Object.keys,_=p.bind,w=Object.create,b=function(){},x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};void 0!==t&&t.exports&&(e=t.exports=x),e._=x,x.VERSION="1.8.3";var T=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,s){return t.call(e,i,n,s)};case 4:return function(i,n,s,o){return t.call(e,i,n,s,o)}}return function(){return t.apply(e,arguments)}},C=function(t,e,i){return null==t?x.identity:x.isFunction(t)?T(t,e,i):x.isObject(t)?x.matcher(t):x.property(t)};x.iteratee=function(t,e){return C(t,e,1/0)};var S=function(t,e){return function(i){var n=arguments.length;if(n<2||null==i)return i;for(var s=1;s<n;s++)for(var o=arguments[s],a=t(o),r=a.length,h=0;h<r;h++){var l=a[h];e&&void 0!==i[l]||(i[l]=o[l])}return i}},M=function(t){if(!x.isObject(t))return{};if(w)return w(t);b.prototype=t;var e=new b;return b.prototype=null,e},A=function(t){return function(e){return null==e?void 0:e[t]}},O=Math.pow(2,53)-1,I=A("length"),$=function(t){var e=I(t);return"number"==typeof e&&e>=0&&e<=O};x.each=x.forEach=function(t,e,i){e=T(e,i);var n,s;if($(t))for(n=0,s=t.length;n<s;n++)e(t[n],n,t);else{var o=x.keys(t);for(n=0,s=o.length;n<s;n++)e(t[o[n]],o[n],t)}return t},x.map=x.collect=function(t,e,i){e=C(e,i);for(var n=!$(t)&&x.keys(t),s=(n||t).length,o=Array(s),a=0;a<s;a++){var r=n?n[a]:a;o[a]=e(t[r],r,t)}return o},x.reduce=x.foldl=x.inject=i(1),x.reduceRight=x.foldr=i(-1),x.find=x.detect=function(t,e,i){var n;if(void 0!==(n=$(t)?x.findIndex(t,e,i):x.findKey(t,e,i))&&-1!==n)return t[n]},x.filter=x.select=function(t,e,i){var n=[];return e=C(e,i),x.each(t,function(t,i,s){e(t,i,s)&&n.push(t)}),n},x.reject=function(t,e,i){return x.filter(t,x.negate(C(e)),i)},x.every=x.all=function(t,e,i){e=C(e,i);for(var n=!$(t)&&x.keys(t),s=(n||t).length,o=0;o<s;o++){var a=n?n[o]:o;if(!e(t[a],a,t))return!1}return!0},x.some=x.any=function(t,e,i){e=C(e,i);for(var n=!$(t)&&x.keys(t),s=(n||t).length,o=0;o<s;o++){var a=n?n[o]:o;if(e(t[a],a,t))return!0}return!1},x.contains=x.includes=x.include=function(t,e,i,n){return $(t)||(t=x.values(t)),("number"!=typeof i||n)&&(i=0),x.indexOf(t,e,i)>=0},x.invoke=function(t,e){var i=f.call(arguments,2),n=x.isFunction(e);return x.map(t,function(t){var s=n?e:t[e];return null==s?s:s.apply(t,i)})},x.pluck=function(t,e){return x.map(t,x.property(e))},x.where=function(t,e){return x.filter(t,x.matcher(e))},x.findWhere=function(t,e){return x.find(t,x.matcher(e))},x.max=function(t,e,i){var n,s,o=-1/0,a=-1/0;if(null==e&&null!=t)for(var r=0,h=(t=$(t)?t:x.values(t)).length;r<h;r++)(n=t[r])>o&&(o=n);else e=C(e,i),x.each(t,function(t,i,n){((s=e(t,i,n))>a||s===-1/0&&o===-1/0)&&(o=t,a=s)});return o},x.min=function(t,e,i){var n,s,o=1/0,a=1/0;if(null==e&&null!=t)for(var r=0,h=(t=$(t)?t:x.values(t)).length;r<h;r++)(n=t[r])<o&&(o=n);else e=C(e,i),x.each(t,function(t,i,n){((s=e(t,i,n))<a||s===1/0&&o===1/0)&&(o=t,a=s)});return o},x.shuffle=function(t){for(var e,i=$(t)?t:x.values(t),n=i.length,s=Array(n),o=0;o<n;o++)(e=x.random(0,o))!==o&&(s[o]=s[e]),s[e]=i[o];return s},x.sample=function(t,e,i){return null==e||i?($(t)||(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,e))},x.sortBy=function(t,e,i){return e=C(e,i),x.pluck(x.map(t,function(t,i,n){return{value:t,index:i,criteria:e(t,i,n)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var B=function(t){return function(e,i,n){var s={};return i=C(i,n),x.each(e,function(n,o){var a=i(n,o,e);t(s,n,a)}),s}};x.groupBy=B(function(t,e,i){x.has(t,i)?t[i].push(e):t[i]=[e]}),x.indexBy=B(function(t,e,i){t[i]=e}),x.countBy=B(function(t,e,i){x.has(t,i)?t[i]++:t[i]=1}),x.toArray=function(t){return t?x.isArray(t)?f.call(t):$(t)?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:$(t)?t.length:x.keys(t).length},x.partition=function(t,e,i){e=C(e,i);var n=[],s=[];return x.each(t,function(t,i,o){(e(t,i,o)?n:s).push(t)}),[n,s]},x.first=x.head=x.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:x.initial(t,t.length-e)},x.initial=function(t,e,i){return f.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},x.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:x.rest(t,Math.max(0,t.length-e))},x.rest=x.tail=x.drop=function(t,e,i){return f.call(t,null==e||i?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var E=function(t,e,i,n){for(var s=[],o=0,a=n||0,r=I(t);a<r;a++){var h=t[a];if($(h)&&(x.isArray(h)||x.isArguments(h))){e||(h=E(h,e,i));var l=0,c=h.length;for(s.length+=c;l<c;)s[o++]=h[l++]}else i||(s[o++]=h)}return s};x.flatten=function(t,e){return E(t,e,!1)},x.without=function(t){return x.difference(t,f.call(arguments,1))},x.uniq=x.unique=function(t,e,i,n){x.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=C(i,n));for(var s=[],o=[],a=0,r=I(t);a<r;a++){var h=t[a],l=i?i(h,a,t):h;e?(a&&o===l||s.push(h),o=l):i?x.contains(o,l)||(o.push(l),s.push(h)):x.contains(s,h)||s.push(h)}return s},x.union=function(){return x.uniq(E(arguments,!0,!0))},x.intersection=function(t){for(var e=[],i=arguments.length,n=0,s=I(t);n<s;n++){var o=t[n];if(!x.contains(e,o)){for(var a=1;a<i&&x.contains(arguments[a],o);a++);a===i&&e.push(o)}}return e},x.difference=function(t){var e=E(arguments,!0,!0,1);return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(t){for(var e=t&&x.max(t,I).length||0,i=Array(e),n=0;n<e;n++)i[n]=x.pluck(t,n);return i},x.object=function(t,e){for(var i={},n=0,s=I(t);n<s;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},x.findIndex=o(1),x.findLastIndex=o(-1),x.sortedIndex=function(t,e,i,n){for(var s=(i=C(i,n,1))(e),o=0,a=I(t);o<a;){var r=Math.floor((o+a)/2);i(t[r])<s?o=r+1:a=r}return o},x.indexOf=a(1,x.findIndex,x.sortedIndex),x.lastIndexOf=a(-1,x.findLastIndex),x.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),s=Array(n),o=0;o<n;o++,t+=i)s[o]=t;return s};var P=function(t,e,i,n,s){if(!(n instanceof e))return t.apply(i,s);var o=M(t.prototype),a=t.apply(o,s);return x.isObject(a)?a:o};x.bind=function(t,e){if(_&&t.bind===_)return _.apply(t,f.call(arguments,1));if(!x.isFunction(t))throw new TypeError("Bind must be called on a function");var i=f.call(arguments,2),n=function(){return P(t,n,e,this,i.concat(f.call(arguments)))};return n},x.partial=function(t){var e=f.call(arguments,1),i=function(){for(var n=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===x?arguments[n++]:e[a];for(;n<arguments.length;)o.push(arguments[n++]);return P(t,i,this,this,o)};return i},x.bindAll=function(t){var e,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[i=arguments[e]]=x.bind(t[i],t);return t},x.memoize=function(t,e){var i=function(n){var s=i.cache,o=""+(e?e.apply(this,arguments):n);return x.has(s,o)||(s[o]=t.apply(this,arguments)),s[o]};return i.cache={},i},x.delay=function(t,e){var i=f.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},x.defer=x.partial(x.delay,x,1),x.throttle=function(t,e,i){var n,s,o,a=null,r=0;i||(i={});var h=function(){r=!1===i.leading?0:x.now(),a=null,o=t.apply(n,s),a||(n=s=null)};return function(){var l=x.now();r||!1!==i.leading||(r=l);var c=e-(l-r);return n=this,s=arguments,c<=0||c>e?(a&&(clearTimeout(a),a=null),r=l,o=t.apply(n,s),a||(n=s=null)):a||!1===i.trailing||(a=setTimeout(h,c)),o}},x.debounce=function(t,e,i){var n,s,o,a,r,h=function(){var l=x.now()-a;l<e&&l>=0?n=setTimeout(h,e-l):(n=null,i||(r=t.apply(o,s),n||(o=s=null)))};return function(){o=this,s=arguments,a=x.now();var l=i&&!n;return n||(n=setTimeout(h,e)),l&&(r=t.apply(o,s),o=s=null),r}},x.wrap=function(t,e){return x.partial(e,t)},x.negate=function(t){return function(){return!t.apply(this,arguments)}},x.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},x.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},x.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},x.once=x.partial(x.before,2);var k=!{toString:null}.propertyIsEnumerable("toString"),V=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(t){if(!x.isObject(t))return[];if(y)return y(t);var e=[];for(var i in t)x.has(t,i)&&e.push(i);return k&&r(t,e),e},x.allKeys=function(t){if(!x.isObject(t))return[];var e=[];for(var i in t)e.push(i);return k&&r(t,e),e},x.values=function(t){for(var e=x.keys(t),i=e.length,n=Array(i),s=0;s<i;s++)n[s]=t[e[s]];return n},x.mapObject=function(t,e,i){e=C(e,i);for(var n,s=x.keys(t),o=s.length,a={},r=0;r<o;r++)a[n=s[r]]=e(t[n],n,t);return a},x.pairs=function(t){for(var e=x.keys(t),i=e.length,n=Array(i),s=0;s<i;s++)n[s]=[e[s],t[e[s]]];return n},x.invert=function(t){for(var e={},i=x.keys(t),n=0,s=i.length;n<s;n++)e[t[i[n]]]=i[n];return e},x.functions=x.methods=function(t){var e=[];for(var i in t)x.isFunction(t[i])&&e.push(i);return e.sort()},x.extend=S(x.allKeys),x.extendOwn=x.assign=S(x.keys),x.findKey=function(t,e,i){e=C(e,i);for(var n,s=x.keys(t),o=0,a=s.length;o<a;o++)if(n=s[o],e(t[n],n,t))return n},x.pick=function(t,e,i){var n,s,o={},a=t;if(null==a)return o;x.isFunction(e)?(s=x.allKeys(a),n=T(e,i)):(s=E(arguments,!1,!1,1),n=function(t,e,i){return e in i},a=Object(a));for(var r=0,h=s.length;r<h;r++){var l=s[r],c=a[l];n(c,l,a)&&(o[l]=c)}return o},x.omit=function(t,e,i){if(x.isFunction(e))e=x.negate(e);else{var n=x.map(E(arguments,!1,!1,1),String);e=function(t,e){return!x.contains(n,e)}}return x.pick(t,e,i)},x.defaults=S(x.allKeys,!0),x.create=function(t,e){var i=M(t);return e&&x.extendOwn(i,e),i},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t},x.isMatch=function(t,e){var i=x.keys(e),n=i.length;if(null==t)return!n;for(var s=Object(t),o=0;o<n;o++){var a=i[o];if(e[a]!==s[a]||!(a in s))return!1}return!0};var D=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var s=m.call(t);if(s!==m.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===s;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,r=e.constructor;if(a!==r&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(r)&&r instanceof r)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var h=i.length;h--;)if(i[h]===t)return n[h]===e;if(i.push(t),n.push(e),o){if((h=t.length)!==e.length)return!1;for(;h--;)if(!D(t[h],e[h],i,n))return!1}else{var l,c=x.keys(t);if(h=c.length,x.keys(e).length!==h)return!1;for(;h--;)if(l=c[h],!x.has(e,l)||!D(t[l],e[l],i,n))return!1}return i.pop(),n.pop(),!0};x.isEqual=function(t,e){return D(t,e)},x.isEmpty=function(t){return null==t||($(t)&&(x.isArray(t)||x.isString(t)||x.isArguments(t))?0===t.length:0===x.keys(t).length)},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=v||function(t){return"[object Array]"===m.call(t)},x.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){x["is"+t]=function(e){return m.call(e)==="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return x.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(t){return"function"==typeof t||!1}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!==+t},x.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===m.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return null!=t&&g.call(t,e)},x.noConflict=function(){return h._=l,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.noop=function(){},x.property=A,x.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},x.matcher=x.matches=function(t){return t=x.extendOwn({},t),function(e){return x.isMatch(e,t)}},x.times=function(t,e,i){var n=Array(Math.max(0,t));e=T(e,i,1);for(var s=0;s<t;s++)n[s]=e(s);return n},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=x.invert(L),z=function(t){var e=function(e){return t[e]},i="(?:"+x.keys(t).join("|")+")",n=RegExp(i),s=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(s,e):t}};x.escape=z(L),x.unescape=z(N),x.result=function(t,e,i){var n=null==t?void 0:t[e];return void 0===n&&(n=i),x.isFunction(n)?n.call(t):n};var R=0;x.uniqueId=function(t){var e=++R+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+F[t]};x.template=function(t,e,i){!e&&i&&(e=i),e=x.defaults({},e,x.templateSettings);var n=RegExp([(e.escape||H).source,(e.interpolate||H).source,(e.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";t.replace(n,function(e,i,n,a,r){return o+=t.slice(s,r).replace(j,U),s=r+e.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var r=function(t){return a.call(this,t,x)},h=e.variable||"obj";return r.source="function("+h+"){\n"+o+"}",r},x.chain=function(t){var e=x(t);return e._chain=!0,e};var Y=function(t,e){return t._chain?x(e).chain():e};x.mixin=function(t){x.each(x.functions(t),function(e){var i=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return d.apply(t,arguments),Y(this,i.apply(x,t))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=c[t];x.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],Y(this,i)}}),x.each(["concat","join","slice"],function(t){var e=c[t];x.prototype[t]=function(){return Y(this,e.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},n=[],void 0!==(s=function(){return x}.apply(e,n))&&(t.exports=s)}).call(this)},function(t,e,i){(function(e,n){"use strict";i(3),i(5);var s=i(6),o=i(21),a=function(){e.extend(this,n.Events)};a.prototype.init=function(){console.log("**** Begin App ****"),o.init(),s.init()},t.exports=a}).call(e,i(3),i(2))},function(t,e){(function(){window.Detectizr=function(t,e,i,n){function s(t,e){var i,n,o;if(arguments.length>2)for(i=1,n=arguments.length;i<n;i+=1)s(t,arguments[i]);else for(o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function o(t){return w.browser.userAgent.indexOf(t)>-1}function a(t){return t.test(w.browser.userAgent)}function r(t){return t.exec(w.browser.userAgent)}function h(t){return t.replace(/^\s+|\s+$/g,"")}function l(t){return null===t||t===n?"":String(t).replace(/((\s|\-|\.)+[a-z0-9])/g,function(t){return t.toUpperCase().replace(/(\s|\-|\.)/g,"")})}function c(t,e){var i=e||"",n=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(S," "):"");if(n){for(;n.indexOf(" "+i+" ")>=0;)n=n.replace(" "+i+" "," ");t.className=e?h(n):""}}function u(t,e,i){t&&(t=l(t),e&&(p(t+(e=l(e)),!0),i&&p(t+e+"_"+i,!0)))}function p(t,e){t&&b&&(T.addAllFeaturesAsClass?b.addTest(t,e):(e="function"==typeof e?e():e)?b.addTest(t,!0):(delete b[t],c(M,t)))}function d(t,e){t.version=e;var i=e.split(".");i.length>0?(i=i.reverse(),t.major=i.pop(),i.length>0?(t.minor=i.pop(),i.length>0?(i=i.reverse(),t.patch=i.join(".")):t.patch="0"):t.minor="0"):t.major="0"}function f(){t.clearTimeout(y),y=t.setTimeout(function(){_=w.device.orientation,t.innerHeight>t.innerWidth?w.device.orientation="portrait":w.device.orientation="landscape",p(w.device.orientation,!0),_!==w.device.orientation&&p(_,!1)},10)}function m(t){var i,n,s,o,a,r=e.plugins;for(o=r.length-1;o>=0;o--){for(n=(i=r[o]).name+i.description,s=0,a=t.length;a>=0;a--)-1!==n.indexOf(t[a])&&(s+=1);if(s===t.length)return!0}return!1}function g(t){var e;for(e=t.length-1;e>=0;e--)try{new ActiveXObject(t[e])}catch(t){}return!1}function v(n){var h,c,v,y,_,S,M;if((T=s({},T,n||{})).detectDevice){for(w.device={type:"",model:"",orientation:""},v=w.device,a(/googletv|smarttv|smart-tv|internet.tv|netcast|nettv|appletv|boxee|kylo|roku|dlnadoc|roku|pov_tv|hbbtv|ce\-html/)?(v.type=x[0],v.model="smartTv"):a(/xbox|playstation.3|wii/)?(v.type=x[0],v.model="gameConsole"):a(/ip(a|ro)d/)?(v.type=x[1],v.model="ipad"):a(/tablet/)&&!a(/rx-34/)||a(/folio/)?(v.type=x[1],v.model=String(r(/playbook/)||"")):a(/linux/)&&a(/android/)&&!a(/fennec|mobi|htc.magic|htcX06ht|nexus.one|sc-02b|fone.945/)?(v.type=x[1],v.model="android"):a(/kindle/)||a(/mac.os/)&&a(/silk/)?(v.type=x[1],v.model="kindle"):a(/gt-p10|sc-01c|shw-m180s|sgh-t849|sch-i800|shw-m180l|sph-p100|sgh-i987|zt180|htc(.flyer|\_flyer)|sprint.atp51|viewpad7|pandigital(sprnova|nova)|ideos.s7|dell.streak.7|advent.vega|a101it|a70bht|mid7015|next2|nook/)||a(/mb511/)&&a(/rutem/)?(v.type=x[1],v.model="android"):a(/bb10/)?(v.type=x[1],v.model="blackberry"):(v.model=r(/iphone|ipod|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec|j2me/),null!==v.model?(v.type=x[2],v.model=String(v.model)):(v.model="",a(/bolt|fennec|iris|maemo|minimo|mobi|mowser|netfront|novarra|prism|rx-34|skyfire|tear|xv6875|xv6975|google.wireless.transcoder/)?v.type=x[2]:a(/opera/)&&a(/windows.nt.5/)&&a(/htc|xda|mini|vario|samsung\-gt\-i8000|samsung\-sgh\-i9/)?v.type=x[2]:a(/windows.(nt|xp|me|9)/)&&!a(/phone/)||a(/win(9|.9|nt)/)||a(/\(windows 8\)/)?v.type=x[3]:a(/macintosh|powerpc/)&&!a(/silk/)?(v.type=x[3],v.model="mac"):a(/linux/)&&a(/x11/)?v.type=x[3]:a(/solaris|sunos|bsd/)?v.type=x[3]:a(/cros/)?v.type=x[3]:a(/bot|crawler|spider|yahoo|ia_archiver|covario-ids|findlinks|dataparksearch|larbin|mediapartners-google|ng-search|snappy|teoma|jeeves|tineye/)&&!a(/mobile/)?(v.type=x[3],v.model="crawler"):v.type=x[2])),h=0,c=x.length;h<c;h+=1)p(x[h],v.type===x[h]);T.detectDeviceModel&&p(l(v.model),!0)}if(T.detectScreen&&(v.screen={},b&&b.mq&&(b.mq("only screen and (max-width: 240px)")?(v.screen.size="veryVerySmall",p("veryVerySmallScreen",!0)):b.mq("only screen and (max-width: 320px)")?(v.screen.size="verySmall",p("verySmallScreen",!0)):b.mq("only screen and (max-width: 480px)")&&(v.screen.size="small",p("smallScreen",!0)),v.type!==x[1]&&v.type!==x[2]||b.mq("only screen and (-moz-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)")&&(v.screen.resolution="high",p("highresolution",!0))),v.type===x[1]||v.type===x[2]?(t.onresize=function(t){f(t)},f()):(v.orientation="landscape",p(v.orientation,!0))),T.detectOS&&(w.os={},y=w.os,""!==v.model&&("ipad"===v.model||"iphone"===v.model||"ipod"===v.model?(y.name="ios",d(y,(a(/os\s([\d_]+)/)?RegExp.$1:"").replace(/_/g,"."))):"android"===v.model?(y.name="android",d(y,a(/android\s([\d\.]+)/)?RegExp.$1:"")):"blackberry"===v.model?(y.name="blackberry",d(y,a(/version\/([^\s]+)/)?RegExp.$1:"")):"playbook"===v.model&&(y.name="blackberry",d(y,a(/os ([^\s]+)/)?RegExp.$1.replace(";",""):""))),y.name||(o("win")||o("16bit")?(y.name="windows",o("windows nt 6.3")?d(y,"8.1"):o("windows nt 6.2")||a(/\(windows 8\)/)?d(y,"8"):o("windows nt 6.1")?d(y,"7"):o("windows nt 6.0")?d(y,"vista"):o("windows nt 5.2")||o("windows nt 5.1")||o("windows xp")?d(y,"xp"):o("windows nt 5.0")||o("windows 2000")?d(y,"2k"):o("winnt")||o("windows nt")?d(y,"nt"):o("win98")||o("windows 98")?d(y,"98"):(o("win95")||o("windows 95"))&&d(y,"95")):o("mac")||o("darwin")?(y.name="mac os",o("68k")||o("68000")?d(y,"68k"):o("ppc")||o("powerpc")?d(y,"ppc"):o("os x")&&d(y,(a(/os\sx\s([\d_]+)/)?RegExp.$1:"os x").replace(/_/g,"."))):o("webtv")?y.name="webtv":o("x11")||o("inux")?y.name="linux":o("sunos")?y.name="sun":o("irix")?y.name="irix":o("freebsd")?y.name="freebsd":o("bsd")&&(y.name="bsd")),y.name&&(p(y.name,!0),y.major&&(u(y.name,y.major),y.minor&&u(y.name,y.major,y.minor))),a(/\sx64|\sx86|\swin64|\swow64|\samd64/)?y.addressRegisterSize="64bit":y.addressRegisterSize="32bit",p(y.addressRegisterSize,!0)),T.detectBrowser&&(_=w.browser,a(/opera|webtv/)||!a(/msie\s([\d\w\.]+)/)&&!o("trident")?o("firefox")?(_.engine="gecko",_.name="firefox",d(_,a(/firefox\/([\d\w\.]+)/)?RegExp.$1:"")):o("gecko/")?_.engine="gecko":o("opera")?(_.name="opera",_.engine="presto",d(_,a(/version\/([\d\.]+)/)?RegExp.$1:a(/opera(\s|\/)([\d\.]+)/)?RegExp.$2:"")):o("konqueror")?_.name="konqueror":o("chrome")?(_.engine="webkit",_.name="chrome",d(_,a(/chrome\/([\d\.]+)/)?RegExp.$1:"")):o("iron")?(_.engine="webkit",_.name="iron"):o("crios")?(_.name="chrome",_.engine="webkit",d(_,a(/crios\/([\d\.]+)/)?RegExp.$1:"")):o("applewebkit/")?(_.name="safari",_.engine="webkit",d(_,a(/version\/([\d\.]+)/)?RegExp.$1:"")):o("mozilla/")&&(_.engine="gecko"):(_.engine="trident",_.name="ie",!t.addEventListener&&i.documentMode&&7===i.documentMode?d(_,"8.compat"):a(/trident.*rv[ :](\d+)\./)?d(_,RegExp.$1):d(_,a(/trident\/4\.0/)?"8":RegExp.$1)),_.name&&(p(_.name,!0),_.major&&(u(_.name,_.major),_.minor&&u(_.name,_.major,_.minor))),p(_.engine,!0),_.language=e.userLanguage||e.language,p(_.language,!0)),T.detectPlugins){for(_.plugins=[],h=C.length-1;h>=0;h--)S=C[h],M=!1,t.ActiveXObject?M=g(S.progIds):e.plugins&&(M=m(S.substrs)),M&&(_.plugins.push(S.name),p(S.name,!0));e.javaEnabled()&&(_.plugins.push("java"),p("java",!0))}}var y,_,w={},b=t.Modernizr,x=["tv","tablet","mobile","desktop"],T={addAllFeaturesAsClass:!1,detectDevice:!0,detectDeviceModel:!0,detectScreen:!0,detectOS:!0,detectBrowser:!0,detectPlugins:!0},C=[{name:"adobereader",substrs:["Adobe","Acrobat"],progIds:["AcroPDF.PDF","PDF.PDFCtrl.5"]},{name:"flash",substrs:["Shockwave Flash"],progIds:["ShockwaveFlash.ShockwaveFlash.1"]},{name:"wmplayer",substrs:["Windows Media"],progIds:["wmplayer.ocx"]},{name:"silverlight",substrs:["Silverlight"],progIds:["AgControl.AgControl"]},{name:"quicktime",substrs:["QuickTime"],progIds:["QuickTime.QuickTime"]}],S=/[\t\r\n]/g,M=i.documentElement;return w.detect=function(t){return v(t)},w.init=function(){w!==n&&(w.browser={userAgent:(e.userAgent||e.vendor||t.opera).toLowerCase()},w.detect())},w.init(),w}(this,this.navigator,this.document),t.exports=window.Detectizr}).call(window)},function(t,e,i){(function(e,n){"use strict";var s=i(7),o=i(8),a=function(){this.routes={":page/:params/:category/:theme/":"default",":page/:params/:category/":"default",":page/:params/":"default","":"default"},this.history=[],this.mainView=o,e.Router.call(this)};n.extend(a,e.Router),n.extend(a.prototype,e.Router.prototype),a.prototype.init=function(){this.listenToOnce(this.mainView,s.INIT,r.bind(this)),this.mainView.init()};var r=function(){e.history.start({pushState:!0})};a.prototype.default=function(t,e,i,n){var s=t||null,o=e||null,a=i||null,r=n||null;this.mainView.pageManager.navigateTo(s,o,a,r),this.history.push(s)},a.prototype.current_page=function(){return n.last(this.history)},a.prototype.back=function(){e.history.navigate(this.previous_page(),{trigger:!1})},a.prototype.previous_page=function(){return this.history.length<=1?null:this.history[this.history.length-2]},t.exports=new a}).call(e,i(2),i(3))},function(t,e){"use strict";var i={INIT:"init",SHOWN:"shown",PAGE_SHOWN:"page_shown",SHOW_PAGE:"show_page",HIDDEN:"hidden",HIDE_PAGE:"hide_page",PAGE_HIDDEN:"page_hidden",PRE_HIDDEN:"prehidden",POST_HIDDEN:"posthidden",COMPLETE:"complete",DISPOSE:"dispose",NAVIGATE:"navigate",PAUSE:"pause",UNPAUSE:"unpause",PAGE_RENDERED:"rendered",UI_RENDERED:"rendered",CANVAS_SHOWN:"canvas_shown",CANVAS_HIDDEN:"canvas_hidden",CAREER_BLOCK_UPDATED:"career_block_updated",BLOCK_SHOWN:"block_shown",BLOCK_HIDDEN:"block_hidden",STORY_OVERLAY_SHOWN:"story_overlay_shown",STORY_OVERLAY_HIDDEN:"story_overlay_hidden",BLOB_IMG_LOADED:"blob_img_loaded",LOADER_SHOWN:"loader_shown",LOADER_HIDDEN:"loader_hidden",LOADER_COMPLETE:"loader_complete",LOADER_COMPLETE_RESULT:"loader_complete_result",LOADER_INIT:"loader_init",ON_ORIENTATION_CHANGE:"on_orientation_change",ON_RESIZE:"on_resize",ON_MOUSE_OUT:"on_mouse_out",ON_MOUSE_MOVE:"on_mouse_move",ON_MOUSE_DOWN:"on_mouse_down",ON_MOUSE_LEAVE:"on_mouse_leave",ON_MOUSE_ENTER:"on_mouse_enter",ON_MOUSE_UP:"on_mouse_up",ON_TOUCH_START:"on_touch_start",ON_TOUCH_MOVE:"on_touch_move",ON_TOUCH_END:"on_touch_end",ON_RAF:"on_raf",ON_SCROLL:"on_scroll",ON_KEYDOWN:"on_keydown",ON_CLICK:"on_click",RELAYOUT:"relayout",CAROUSEL_ITEM_CLICKED:"carousel_item_clicked",CAROUSEL_INDICATOR_CLICKED:"carousel_indicator_clicked",CAROUSEL_TIMER_CLICKED:"carousel_timer_clicked",CAROUSEL_TIMER_ENDED:"carousel_timer_ended",CANVAS_MASK_OVERLAY_CLICKED:"canvas_mask_overlay_clicked",CANVAS_MASK_OVERLAY_MOUSE_LEAVE:"canvas_mask_overlay_mouse_leave",CANVAS_MASK_OVERLAY_MOUSE_ENTER:"canvas_mask_overlay_mouse_enter",CANVAS_JOIN_BLOB_CLICKED:"canvas_join_blob_clicked",MENU_ITEM_CLICKED:"menu_item_clicked",READY:"on_ready",STATE_CHANGE:"state_change",STATE_QUALITY:"state_quantity",ON_TOGGLE_PLAY:"on_toggle_play",ON_FULLSCREEN:"on_fullscreen",ON_SEEK:"on_seek",ON_PAUSE:"on_pause",ON_STOP:"on_stop",ON_PLAY:"on_play",ON_END:"on_end",CLOSE:"close"};t.exports=i},function(t,e,i){(function(e,n,s){"use strict";var o=i(7),a=i(9),r=i(12),h=(i(21),i(85)),l=(i(23),i(86).Lethargy),c=i(87),u=function(t,i){this.el=document.body,this.$el=e(this.el),this.idView="mainpage",this.$bodyHtml=e("body,html"),this.$html=e("html"),this.navColor=null,this.lethargy=null,this.hasOrientationChange=!1,this.transitionGradientView=null,this.headerView=null,this.footerView=null,this.metaViewport=null,this.$container=null,this.$html=null,this.$body=null,this.$overlayMobile=null,this.blockMouseEvent=!1,this.canMove=!0,this.itsSettled=!1,this.RAFFnc=null,this.pageManager=null,this.handlers={},this.ticketScroll=!1,this.isNormalScroll=!1,r.mainView=this,n.View.call(this,t,i)};s.extend(u,n.View),s.extend(u.prototype,n.View.prototype),u.prototype.initialize=function(){S.call(this),this.bindMainEvents()},u.prototype.init=function(){this.$el.addClass(r.isMobile?"isMobile":"isTablet"),this.pageManager=new a({mainView:this}),this.$hide=e(".hide-content"),this.$hideImg=e(".hide-content img"),r.isMobile&&TweenMax.fromTo(this.$hideImg,1,{scale:1},{scale:1.2,ease:Expo.easeOut,repeat:-1,yoyo:!0}),this.listenTo(this.pageManager,o.PAGE_RENDERED,A.bind(this)),this.listenTo(this.pageManager,o.SHOW_PAGE,p.bind(this)),this.listenTo(this.pageManager,o.PAGE_SHOWN,d.bind(this)),this.listenTo(this.pageManager,o.HIDE_PAGE,f.bind(this)),this.handlers.onUpdate=b.bind(this),this.headerView=new h({el:this.$el.find("header")[0],mainView:this}),this.headerView.init(),this.listenTo(this.headerView,o.MENU_ITEM_CLICKED,g.bind(this)),this.listenTo(this.pageManager,o.RELAYOUT,m.bind(this)),this.footerView=new c({el:this.$el.find("#footer")[0]}),this.footerView.init(),S.call(this),b.call(this),this.trigger(o.INIT)},u.prototype.setNormalScrollBehavior=function(t){this.isNormalScroll=void 0===t||t,this.isNormalScroll?this.$el.addClass("normalScrollBehavior"):this.$el.removeClass("normalScrollBehavior"),TweenMax.set(this.$bodyHtml,{scrollTo:0}),TweenMax.set(this.$container,{scrollTo:0})},u.prototype.firstInit=function(){this.hasOrientationChange&&y.call(this,!0)};var p=function(){this.footerView&&(this.footerView.onResize(),this.footerView.show()),this.headerView&&(this.headerView.onResize(),this.headerView.show()),this.pageManager&&this.pageManager.currentPage&&"careers"===this.pageManager.currentPage.options.slug&&this.listenTo(this.pageManager.currentPage,o.CAREER_BLOCK_UPDATED,v.bind(this))},d=function(){},f=function(){this.footerView&&this.footerView.hide(),this.headerView&&this.headerView.hide()},m=function(){};u.prototype.bindMainEvents=function(){this.$html=e("html"),this.$container=e("#container"),this.$body=e("body"),window.addEventListener("resize",S.bind(this),!1),document.addEventListener("keydown",e.proxy(M,this),!1),"onorientationchange"in window&&!1 in window?(window.addEventListener("orientationchange",e.proxy(y,this),!1),this.hasOrientationChange=!0):window.addEventListener("resize",S.bind(this),!1),"mobile"!==Detectizr.device.type||this.hasOrientationChange||(window.addEventListener("orientationchange",e.proxy(y,this),!1),this.hasOrientationChange=!0),this.lethargy=new l(15,50,.05),e(window).bind("mousewheel DOMMouseScroll wheel MozMousePixelScroll",e.proxy(w,this)),this.$body[0].addEventListener("touchstart",e.proxy(x,this),!1),this.$body[0].addEventListener("touchmove",e.proxy(T,this),!1),this.$body[0].addEventListener("touchend",e.proxy(C,this),!1)},u.prototype.setCurrentPage=function(){},u.prototype.calculateScrollY=function(){null!==this.$container?r.scrollY=-this.$container[0].getBoundingClientRect().top:r.scrollY=window.scrollY||window.pageYOffset};var g=function(t){this.pageManager&&this.pageManager.currentPage&&("careers"===this.pageManager.currentPage.options.slug||"healthsystems"===this.pageManager.currentPage.options.slug)&&this.pageManager.currentPage.onMenuClicked&&this.pageManager.currentPage.onMenuClicked(t.index,t.target)},v=function(t){this.pageManager&&this.pageManager.currentPage&&("careers"===this.pageManager.currentPage.options.slug||"healthsystems"===this.pageManager.currentPage.options.slug)&&this.pageManager.currentPage.onMenuClicked&&this.headerView.updatedMenuItems(t.index,t.target)},y=function(t){var e=void 0!==t&&t;this.isLandscape=window.innerHeight<window.innerWidth,window.screen&&void 0!==window.screen.orientation&&(this.isLandscape=90===window.screen.orientation.angle||-90===window.screen.orientation.angle),_.call(this),e||S.call(this)},_=function(){"mobile"===Detectizr.device.type&&(!this.pageManager.currentPage||"careers"!==this.pageManager.currentPage.options.slug&&"healthsystems"!==this.pageManager.currentPage.options.slug||(this.isLandscape?TweenMax.to(this.$hide,.1,{autoAlpha:1,display:"flex",ease:Expo.easeOut}):TweenMax.to(this.$hide,.1,{autoAlpha:0,display:"none",ease:Expo.easeOut})))},w=function(t){if(!r.blockIsAnimating){this.ticketScroll=!0,r.isScrolling=!0;var e=t.wheelDeltaY;r.scrollDeltaY=e,!1!==this.lethargy.check(t)&&(-1===this.lethargy.check(t)?r.scrollYDirection="UP":1===this.lethargy.check(t)&&(r.scrollYDirection="DOWN"),this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.onScroll&&this.pageManager.currentPage.onScroll())}},b=function(){this.ticketScroll||r.isTouching?this.calculateScrollY():r.isScrolling=!1,this.ticketScroll=!1,this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.update(),this.headerView.onUpdate(),this.footerView.onUpdate(),window.requestAnimationFrame(this.handlers.onUpdate)},x=function(t){r.touch.x=r.touch.startX=t.touches[0].clientX,r.touch.y=r.touch.startY=t.touches[0].clientY,r.touch.deltaX=0,r.touch.deltaY=0,r.isTouching=!0,this.ticketScroll=!0,this.calculateScrollY(),this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.onTouchStart&&this.pageManager.currentPage.onTouchStart()},T=function(t){this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.articles&&!this.pageManager.currentPage.articles[this.pageManager.currentPage.currentBlockIndex].class.canScroll&&("careers"==r.currentPage||"healthsystems"==r.currentPage)&&t.touches[0].clientY>80&&!this.isNormalScroll&&t.preventDefault(),r.touch.x=t.touches[0].clientX,r.touch.y=t.touches[0].clientY,r.touch.deltaX=r.touch.x-r.touch.startX,r.touch.deltaY=r.touch.y-r.touch.startY,r.scrollY-=r.touch.deltaY,r.touch.startX=r.touch.x,r.touch.startY=r.touch.y,this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.onTouchMove&&this.pageManager.currentPage.onTouchMove(t)},C=function(t){r.isTouching=!1,this.ticketScroll=!1,r.touch.startX=0,r.touch.startY=0,this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.onTouchEnd&&this.pageManager.currentPage.onTouchEnd()},S=function(){r.viewport.width=r.viewport.wrapperWidth=e(document).width(),r.viewport.height=e(window).height(),r.breakpoint=r.viewport.width<=922?"sml":"default",r.viewport.width>=1600&&(r.viewport.wrapperWidth=1600),this.calculateScrollY(),this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.onResize(),this.headerView&&this.headerView.onResize(),this.footerView&&this.footerView.onResize()},M=function(t){r.keyCode=t.keyCode,this.pageManager&&this.pageManager.currentPage&&this.pageManager.currentPage.onKeyDown(t)},A=function(){this.$el.addClass("show")};t.exports=new u}).call(e,i(1),i(2),i(3))},function(t,e,i){(function(e,n){"use strict";var s=i(7),o=i(10),a=i(50),r=i(52),h=i(57),l=i(60),c=i(61),u=i(62),p=i(63),d=i(12),f=function(t){this.mainAppView=t.mainView,this.currentPage=null,this.oldPage=null,this.pages={},e.extend(this,n.Events)};f.prototype.init=function(){_initPages.call(this)},f.prototype.navigateTo=function(t,e,i,n){var o=null;null==this.oldPage&&null==this.currentPage&&("404"==(o=document.getElementsByClassName("page-wrapper")[0]).id?(t="404",e=null):"legacy"==o.id&&(t="legacy",e="legacy"));var a=this.getCurrentPage(t,e,i,n);this.currentPage&&(this.oldPage=this.currentPage),d.currentPage=a.id,"legacy"!==a.id&&"search"!==a.id&&(this.currentPage=new a.view({slug:e,mainAppView:this.mainAppView,el:this.currentPage?null:o,category:i||null,theme:n||null},{}),d.firstTime&&d.mainView.firstInit(),this.listenToOnce(this.currentPage,s.PAGE_RENDERED,m.bind(this)),this.currentPage.initializeRender())},f.prototype.getCurrentPage=function(t,e,i,n){switch(null==t&&(t="index"),e){case"careers":return e&&i&&!n?{id:"job-detail",view:a}:{id:"careers",view:o};case"careers-list":return{id:"careers-list",view:r};case"healthsystems":return{id:"healthsystems",view:p};case"blog":return e&&i&&n?"search"!=i?{id:"blog-post",view:l}:{id:"search",view:null}:e&&i?{id:"blog-topic",view:c}:{id:"blog",view:h};case"legacy":return{id:"legacy",view:null};case"404":default:return{id:"four-o-four",view:u}}},f.prototype.onError=function(){n.history.navigate("404",{trigger:!1}),this.navigateTo("404")};var m=function(){this.oldPage||this.trigger(s.PAGE_RENDERED),this.listenToOnce(this.currentPage,s.INIT,g.bind(this)),this.currentPage.init(),document.body.setAttribute("data-currentpage",d.currentPage),document.documentElement.setAttribute("data-currentpage",d.currentPage)},g=function(){this.stopListening(this.currentPage,s.INIT),this.oldPage?(this.trigger(s.HIDE_PAGE),this.listenToOnce(this.oldPage,s.HIDDEN,v.bind(this)),this.oldPage.hide()):(this.trigger(s.SHOW_PAGE),this.listenToOnce(this.currentPage,s.SHOWN,y.bind(this)),this.currentPage.show(!0))},v=function(){this.listenToOnce(this.currentPage,s.SHOWN,y.bind(this)),this.oldPage&&w.call(this),setTimeout(function(){this.trigger(s.SHOW_PAGE),this.currentPage.show(!1)}.bind(this),0)},y=function(){this.listenTo(this.currentPage,s.RELAYOUT,_.bind(this)),d.isAnimating=!1,d.firstTime=!1,this.trigger(s.PAGE_SHOWN)},_=function(){this.trigger(s.RELAYOUT)},w=function(){this.oldPage&&(this.stopListening(this.oldPage,s.HIDDEN),this.stopListening(this.oldPage,s.SHOWN),this.stopListening(this.oldPage,s.RELAYOUT),this.oldPage.dispose()),this.oldPage=null};t.exports=f}).call(e,i(3),i(2))},function(t,e,i){(function(e,n){var s=i(11),o=i(12),a=(i(21),i(7)),r=i(22),h=i(24),l=i(31),c=i(38),u=i(40),p=i(41),d=i(42),f=i(44),m=i(48),g=i(49),v=function(t,e){this.canUpdate=!0,this.ease=0,this.articles=[],this.views={intro:h,mission:l,values:c,patients:u,culture:f,press:m,perks:p,join:d},this.mainCanvasView=null,o.blockIsAnimating=!0,this.currentBlockIndex=0,this.currentStepIndex=-1,this.isViewShown=!1,this.isCanvasShown=!1,this.bothAreShown=!1,this.currentTimestamp=null,this.startY=null,this.lastDeltaY=null,this.isDragging=null,this.menuClick=!1,this.isLoaded=!1,this.blockScroll=!0,this.assetsAreLoaded=this.assetsAreLoaded.bind(this),s.call(this,t,e)};e.extend(v,s),e.extend(v.prototype,s.prototype),v.prototype.initDOM=function(){this.$html=n("html"),this.$body=n("body"),this.$bodyHtml=n("body, html"),this.$footer=n("#page-footer"),this.$overlay=n(".overlay-bg"),this.$articles=this.$el.find("article"),this.$canvas=this.$el.find("#main-canvas")[0],s.prototype.initDOM.call(this)},v.prototype.onDOMInit=function(){o.mainView.setNormalScrollBehavior(!1),this.mainCanvasView=new g({el:this.$canvas},null),this.mainCanvasView.init();var t,i,r,h;e.each(this.$articles,function(e,s){r=n(e),t=n(e).attr("class").split(" ")[0],h=r[0].getBoundingClientRect(),(i=new this.views[t]({el:e,mainCanvasView:this.mainCanvasView,mainView:this},null)).init(),this.listenTo(i,a.BLOCK_SHOWN,x.bind(this)),this.listenTo(i,a.BLOCK_HIDDEN,S.bind(this)),this.listenTo(i,a.CANVAS_SHOWN,T.bind(this)),this.listenTo(i,a.CANVAS_HIDDEN,M.bind(this)),this.listenTo(i,a.STORY_OVERLAY_SHOWN,y.bind(this)),this.listenTo(i,a.STORY_OVERLAY_HIDDEN,_.bind(this)),this.listenToOnce(i,a.LOADER_COMPLETE,w.bind(this)),this.articles[s]={class:i,height:r.height(),bdr:h,top:h.top}}.bind(this)),this.initLoader(),s.prototype.onDOMInit.call(this)},v.prototype.initLoader=function(){this.loader=new r([{path:"sprites-zeeface",name:"Zsmile_",format:".png",first:39,end:95}],this.assetsAreLoaded.bind(this))},v.prototype.assetsAreLoaded=function(){this.articles[0]&&TweenMax.to(this.$overlay,.1,{autoAlpha:0,display:"none",ease:Expo.easeOut,onComplete:function(){this.articles[0].class.isLoaded=!0,this.articles[0].class.animateZee()}.bind(this)})};var y=function(){this.blockScroll=!0,o.overlayActive=!0},_=function(){this.blockScroll=!1,o.overlayActive=!1},w=function(){b.call(this),this.blockScroll=!1};v.prototype.onMenuClicked=function(t){(this.stepIsAnimating||o.blockIsAnimating||this.blockScroll)&&1!=this.currentBlockIndex||(this.menuIndex=t,this.menuClick=!0,C.call(this))};var b=function(){o.blockIsAnimating||this.showIsAnimating||(o.blockIsAnimating=!0,this.showIsAnimating=!0,this.articles[this.currentBlockIndex].class.show())},x=function(){this.currentStepIndex=-1,this.stepIsAnimating=!1,this.isViewShown=!0,this.showIsAnimating=!1,this.isViewShown&&this.isCanvasShown&&(this.bothAreShown=!0,o.blockIsAnimating=!1),this.trigger(a.CAREER_BLOCK_UPDATED,{index:this.currentBlockIndex})},T=function(){this.isCanvasShown=!0,this.isViewShown&&this.isCanvasShown&&(this.bothAreShown=!0,o.blockIsAnimating=!1)},C=function(){o.blockIsAnimating=!0,this.articles[this.currentBlockIndex].class.hide()},S=function(){this.isViewShown=!1,this.isViewShown||this.isCanvasShown||(this.bothAreShown=!1,o.blockIsAnimating=!1,this.updateBlockIndex())},M=function(){this.isCanvasShown=!1,this.isViewShown||this.isCanvasShown||(this.bothAreShown=!1,o.blockIsAnimating=!1,this.updateBlockIndex())};v.prototype.onShown=function(){s.prototype.onShown.call(this)},v.prototype.onScroll=function(){this.articles[this.currentBlockIndex]&&!this.blockScroll&&this.bothAreShown&&(Math.abs(o.scrollDeltaY)<50&&!o.isMobile&&"firefox"!=Detectizr.browser.name&&"safari"!=Detectizr.browser.name||this.articles[this.currentBlockIndex].class.canScroll&&"UP"===o.scrollYDirection&&o.scrollY+o.viewport.height<this.articles[this.currentBlockIndex].class.hBlock-10||this.articles[this.currentBlockIndex].class.canScroll&&"DOWN"===o.scrollYDirection&&o.scrollY>50||0===this.currentBlockIndex&&"DOWN"===o.scrollYDirection||this.currentBlockIndex>this.articles.length-2&&"UP"===o.scrollYDirection||o.blockIsAnimating||this.showIsAnimating||this.stepIsAnimating||(this.articles[this.currentBlockIndex].class.steps&&this.currentStepIndex<=this.articles[this.currentBlockIndex].class.steps?this.updateStepIndex():(this.currentScrollDirection=o.scrollYDirection,C.call(this))))},v.prototype.onTouchStart=function(){o.scrollYDirection=null,this.currentTimestamp=Date.now(),this.startY=o.touch.startY,"culture"===this.articles[this.currentBlockIndex].class.id&&this.articles[this.currentBlockIndex].class.onTouchStart()},v.prototype.onTouchMove=function(){this.lastDeltaY=this.startY-(o.touch.startY-o.touch.deltaY),o.scrollYDirection=this.lastDeltaY<0?"DOWN":"UP",this.isDragging=!0,"culture"===this.articles[this.currentBlockIndex].class.id&&this.articles[this.currentBlockIndex].class.onTouchMove()},v.prototype.onTouchEnd=function(){this.isDragging=!1,this.startY=0;var t=Date.now()-this.currentTimestamp,e=Math.abs(this.lastDeltaY);t>75&&e>75&&(this.onScroll(),t=0,e=0),this.lastDeltaY=0,"culture"===this.articles[this.currentBlockIndex].class.id&&this.articles[this.currentBlockIndex].class.onTouchEnd()},v.prototype.onKeyDown=function(t){38!==t.keyCode&&40!==t.keyCode||(o.scrollYDirection=38===t.keyCode?"DOWN":"UP",this.onScroll())},v.prototype.updateStepIndex=function(){if(!this.stepIsAnimating&&!o.blockIsAnimating){this.stepIsAnimating=!0;var t="DOWN"===o.scrollYDirection?0:1;if(this.articles[this.currentBlockIndex].class.stepsAnimation[this.currentStepIndex+t]&&this.currentStepIndex+t<=this.articles[this.currentBlockIndex].class.steps){var e=this.currentStepIndex+t;-1!=e?this.articles[this.currentBlockIndex].class.manageSteps(e,function(){0==t?this.currentStepIndex-=1:this.currentStepIndex=e,this.articles[this.currentBlockIndex].class.currentStep=this.currentStepIndex,this.stepIsAnimating=!1}.bind(this)):(this.currentScrollDirection=o.scrollYDirection,this.stepIsAnimating=!1,C.call(this))}else this.currentScrollDirection=o.scrollYDirection,this.stepIsAnimating=!1,C.call(this)}},v.prototype.updateBlockIndex=function(){o.blockIsAnimating||this.showIsAnimating||(this.menuClick?(this.currentBlockIndex=this.menuIndex,this.menuClick=!1):this.currentBlockIndex="DOWN"===this.currentScrollDirection?this.currentBlockIndex-1:this.currentBlockIndex+1,b.call(this))},v.prototype.goToNextSection=function(){o.scrollDeltaY=60,o.scrollY=60,o.scrollYDirection="UP",this.onScroll()},v.prototype.onResize=function(){this.articles[this.currentBlockIndex].height<=o.viewport.height&&this.articles[this.currentBlockIndex].class.canScroll&&(this.articles[this.currentBlockIndex].height=this.articles[this.currentBlockIndex].class.hBlock),this.mainCanvasView&&this.mainCanvasView.onResize(),e.each(this.articles,function(t){t.class.onResize()}),s.prototype.onResize.call(this)},v.prototype.dispose=function(){s.prototype.dispose.call(this)},v.prototype.onUpdate=function(){this.articles&&this.articles[this.currentBlockIndex]&&this.articles[this.currentBlockIndex].class.onUpdate&&this.articles[this.currentBlockIndex].class.onUpdate()},t.exports=v}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){i(7),i(12);var s=i(13),o=(i(14),i(16)),a=function(t,i){this.model=void 0!=this.model?this.model:new e.Model({asynchronous:!1}),this.hasLazyLoading=!1,this.$lazyLoadElements,this.lazy=null,this.$lazyImages=null,this.$lazyVideos=null,this.$lazyIframe=null,s.call(this,t,i)};n.extend(a,s),n.extend(a.prototype,s.prototype),a.prototype.initialize=function(t,e){null!=(e=void 0!=e?e:null)&&this.model.set(e),s.prototype.initialize.call(this,t,e)},a.prototype.initializeRender=function(){!0===this.model.get("asyncronous")?this.model.fetch({success:this.render.bind(this)}):this.render()},a.prototype.renderTemplate=function(){var t=this.template(this.model.attributes);this.setElement(t)},a.prototype.addOne=function(t,e,i,n){null!=e&&(e=e[0]);var s=new i({model:t,el:e,className:n});return s.init(),s},a.prototype.initDOM=function(){this.$lazyLoadElements=document.querySelectorAll(".lazyLoad"),this.$lazyLoadElements&&this.$lazyLoadElements.length>=0&&(this.hasLazyLoading=!0),s.prototype.initDOM.call(this)},a.prototype.onDOMInit=function(){this.onResize(),window.scrollTo(0,0),s.prototype.onDOMInit.call(this)},a.prototype.setupDOM=function(){},a.prototype.initTL=function(){this.initTLShow(),this.initTLHide()},a.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.2,{autoAlpha:1},0)},a.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$el,.2,{autoAlpha:0},0)},a.prototype.bindEvents=function(){s.prototype.bindEvents.call(this)},a.prototype.initLazyLoading=function(){this.hasLazyLoading&&(this.lazy=new o({elements:document.querySelectorAll(".lazyLoad")}),this.lazy.el.addEventListener(o.EVENT.ELEMENT_LOADED,r.bind(this)),this.lazy.el.addEventListener(o.EVENT.COMPLETE,h.bind(this)),this.lazy.init())};var r=function(t){},h=function(t){};a.prototype.show=function(t){this.TL.show.play(0)},a.prototype.onShown=function(){s.prototype.onShown.call(this)},a.prototype.onHidden=function(){s.prototype.onHidden.call(this)},a.prototype.hide=function(t){this.TL.hide.play(0)},a.prototype.onResize=function(){},a.prototype.onKeyDown=function(t){},a.prototype.dispose=function(){null!=this.lazy&&this.lazy.dispose(),null!=this.model&&this.model.stopListening(),this.model=null,this.handlers=null,this.lazy=null,s.prototype.dispose.call(this)},t.exports=a}).call(e,i(2),i(3))},function(t,e,i){(function(e){"use strict";var i=function(){this.viewport={width:0,height:0,wrapperWidth:0},this.mouse={x:0,y:0},this.touch={x:0,y:0,startX:0,startY:0,deltaX:0,deltaY:0},this.outWindow=!1,this.scrollY=0,this.scrollYDirection="down",this.currentPage=null,this.scrollDeltaY=0,this.mouseWheelBlock=!1,this.firstTime=!0,this.isMobileSize=!1,this.isMobile="mobile"==Detectizr.device.type,this.isTablet="tablet"==Detectizr.device.type,this.breakpoint=null,this.mainDatas=null,this.isAnimating=!1,this.blockIsAnimating=!1,this.scrollDeltaY=0,this.isTouch=0,this.mainView=null,this.isScrolling=!1,this.overlayActive=!1};i.prototype.init=function(){},i.prototype.navigate=function(t){var i=location.protocol+"//"+location.host;t&&t.slice(0,i.length)===i&&(t=t.replace(i,""),!1===this.isAnimating&&e.history.navigate(t,!0))},t.exports=new i}).call(e,i(2))},function(t,e,i){(function(e,n){var s=i(7),o=(i(12),function(t,i){this.params=void 0!=this.params?this.params:{},this.options=void 0!=t?t:{},this.model=void 0!=this.model?this.model:null,this.assets={},this.handlers=void 0!=this.handlers?this.handlers:{},this.template=void 0!=this.template?this.template:null,this.TL={},this.canUpdate=void 0!=this.canUpdate&&this.canUpdate,this.className=void 0!=this.className?this.className:null,this.isInit=!1,this.isShown=!1,this.events=void 0!=this.events?this.events:{},e.View.call(this,t,i)});n.extend(o,e.View),n.extend(o.prototype,e.View.prototype),o.prototype.initialize=function(t,i){this.options=void 0!=t?t:{},void 0!=this.options.id&&(this.id=this.options.id),void 0!=this.options.dataID&&(this.dataID=this.options.dataID),void 0!=this.options.template&&(this.template=this.options.template),void 0!=this.options.className&&(this.className=this.options.className),null==this.model&&this.render(),e.View.prototype.initialize.call(this)},o.prototype.render=function(){if(this.options.el)return this.setElement(this.options.el),void setTimeout(this.onRendered.bind(this),0);this.renderTemplate(),setTimeout(this.onRendered.bind(this),0)},o.prototype.renderTemplate=function(){if(null!=this.template){var t=null!=this.model?this.template(this.model.attributes):this.template();this.setElement(t)}},o.prototype.onRendered=function(){null!=this.className&&this.$el.addClass(this.className),this.trigger(s.PAGE_RENDERED)},o.prototype.init=function(t,e){this.params=t||{},this.assets=e,this.initDOM()},o.prototype.initDOM=function(){setTimeout(this.onDOMInit.bind(this),0)},o.prototype.setupDOM=function(){},o.prototype.initTL=function(){},o.prototype.onDOMInit=function(){this.setupDOM(),this.initTL(),this.bindEvents(),this.onInit()},o.prototype.onInit=function(){this.isInit=!0,this.trigger(s.INIT)},o.prototype.bindEvents=function(){},o.prototype.onLinkClicked=function(t){},o.prototype.unbindEvents=function(){this.handlers=null},o.prototype.show=function(){this.onShown()},o.prototype.onShown=function(){this.canUpdate=!0,this.isShown=!0,this.trigger(s.SHOWN)},o.prototype.hide=function(){this.onHidden()},o.prototype.onHidden=function(){this.isShown=!1,this.canUpdate=!1,this.trigger(s.HIDDEN)},o.prototype.onResize=function(){},o.prototype.update=function(){this.canUpdate&&this.onUpdate()},o.prototype.onUpdate=function(){},o.prototype.killTL=function(t){if(void 0!=this.TL[t]&&null!=this.TL[t]){var e=this.TL[t];e.stop(),e.kill(),e.clear(),e=null,this.TL[t]=null}},o.prototype.destroyTL=function(){for(var t in this.TL)this.killTL(t);this.TL={}},o.prototype.dispose=function(){this.undelegateEvents(),this.stopListening(),this.unbindEvents(),this.destroyTL(),this.params={},this.assets={},this.params=null,this.assets=null,this.canUpdate=!1,this.isInit=!1,this.remove(),e.View.prototype.remove.call(this)},t.exports=o}).call(e,i(2),i(3))},function(t,e,i){var n,s;(function(o){var a=void 0!==t&&t.exports&&void 0!==o?o:this||window;(a._gsQueue||(a._gsQueue=[])).push(function(){"use strict";a._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},s=function(t,e,i){var n,s,o=t.cycle;for(n in o)s=o[n],t[n]="function"==typeof s?s.call(e[i],i):s[i%s.length];delete t.cycle},o=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=o.prototype.render},a=i._internals,r=a.isSelector,h=a.isArray,l=o.prototype=i.to({},.1,{}),c=[];o.version="1.18.0",l.constructor=o,l.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=i.killTweensOf,o.getTweensOf=i.getTweensOf,o.lagSmoothing=i.lagSmoothing,o.ticker=i.ticker,o.render=i.render,l.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},l.updateTo=function(t,e){var n,s=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._time;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._time>0||o){this._initted=!1,this._init();for(var r,h=1/(1-s),l=this._firstPT;l;)r=l.s+l.c,l.c*=h,l.s=r-l.c,l=l._next}return this},l.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,s,o,r,h,l,c,u,p=this._dirty?this.totalDuration():this._totalDuration,d=this._time,f=this._totalTime,m=this._cycle,g=this._duration,v=this._rawPrevTime;if(t>=p?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,s="onComplete",i=i||this._timeline.autoRemoveChildren),0===g&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||v<0||1e-10===v)&&v!==t&&(i=!0,v>1e-10&&(s="onReverseComplete")),this._rawPrevTime=u=!e||t||v===t?t:1e-10)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==f||0===g&&v>0)&&(s="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===g&&(this._initted||!this.vars.lazy||i)&&(v>=0&&(i=!0),this._rawPrevTime=u=!e||t||v===t?t:1e-10)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(r=g+this._repeatDelay,this._cycle=this._totalTime/r>>0,0!==this._cycle&&this._cycle===this._totalTime/r&&this._cycle--,this._time=this._totalTime-this._cycle*r,this._yoyo&&0!=(1&this._cycle)&&(this._time=g-this._time),this._time>g?this._time=g:this._time<0&&(this._time=0)),this._easeType?(h=this._time/g,l=this._easeType,c=this._easePower,(1===l||3===l&&h>=.5)&&(h=1-h),3===l&&(h*=2),1===c?h*=h:2===c?h*=h*h:3===c?h*=h*h*h:4===c&&(h*=h*h*h*h),1===l?this.ratio=1-h:2===l?this.ratio=h:this._time/g<.5?this.ratio=h/2:this.ratio=1-h/2):this.ratio=this._ease.getRatio(this._time/g)),d!==this._time||i||m!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=d,this._totalTime=f,this._rawPrevTime=v,this._cycle=m,a.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/g):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==d&&t>=0&&(this._active=!0),0===f&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):s||(s="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==g||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==f||n)&&this._callback("onUpdate")),this._cycle!==m&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),s&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s),0===g&&1e-10===this._rawPrevTime&&1e-10!==u&&(this._rawPrevTime=0)))}else f!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},o.to=function(t,e,i){return new o(t,e,i)},o.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new o(t,e,i)},o.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new o(t,e,n)},o.staggerTo=o.allTo=function(t,e,a,l,u,p,d){l=l||0;var f,m,g,v,y=a.delay||0,_=[],w=a.cycle,b=a.startAt&&a.startAt.cycle;for(h(t)||("string"==typeof t&&(t=i.selector(t)||t),r(t)&&(t=n(t))),t=t||[],l<0&&((t=n(t)).reverse(),l*=-1),f=t.length-1,g=0;g<=f;g++){m={};for(v in a)m[v]=a[v];if(w&&s(m,t,g),b){b=m.startAt={};for(v in a.startAt)b[v]=a.startAt[v];s(m.startAt,t,g)}m.delay=y,g===f&&u&&(m.onComplete=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),u.apply(d||a.callbackScope||this,p||c)}),_[g]=new o(t[g],e,m),y+=l}return _},o.staggerFrom=o.allFrom=function(t,e,i,n,s,a,r){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,o.staggerTo(t,e,i,n,s,a,r)},o.staggerFromTo=o.allFromTo=function(t,e,i,n,s,a,r,h){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,o.staggerTo(t,e,n,s,a,r,h)},o.delayedCall=function(t,e,i,n,s){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:s,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var u=function(t,e){for(var n=[],s=0,o=t._first;o;)o instanceof i?n[s++]=o:(e&&(n[s++]=o),s=(n=n.concat(u(o,e))).length),o=o._next;return n},p=o.getAllTweens=function(e){return u(t._rootTimeline,e).concat(u(t._rootFramesTimeline,e))};o.killAll=function(t,i,n,s){null==i&&(i=!0),null==n&&(n=!0);var o,a,r,h=p(0!=s),l=h.length,c=i&&n&&s;for(r=0;r<l;r++)a=h[r],(c||a instanceof e||(o=a.target===a.vars.onComplete)&&n||i&&!o)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var s,l,c,u,p,d=a.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),r(t)&&(t=n(t)),h(t))for(u=t.length;--u>-1;)o.killChildTweensOf(t[u],e);else{s=[];for(c in d)for(l=d[c].target.parentNode;l;)l===t&&(s=s.concat(d[c].tweens)),l=l.parentNode;for(p=s.length,u=0;u<p;u++)e&&s[u].totalTime(s[u].totalDuration()),s[u]._enabled(!1,!1)}}};var d=function(t,i,n,s){i=!1!==i,n=!1!==n;for(var o,a,r=p(s=!1!==s),h=i&&n&&s,l=r.length;--l>-1;)a=r[l],(h||a instanceof e||(o=a.target===a.vars.onComplete)&&n||i&&!o)&&a.paused(t)};return o.pauseAll=function(t,e,i){d(!0,t,e,i)},o.resumeAll=function(t,e,i){d(!1,t,e,i)},o.globalTimeScale=function(e){var n=t._rootTimeline,s=i.ticker.time;return arguments.length?(e=e||1e-10,n._startTime=s-(s-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,s=i.ticker.frame,n._startTime=s-(s-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},l.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},l.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},l.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},l.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},l.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},l.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},l.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),a._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,s=this.vars;for(n in s)i=s[n],h(i)&&-1!==i.join("").indexOf("{self}")&&(s[n]=this._swapSelfInParams(i));h(s.tweens)&&this.add(s.tweens,0,s.align,s.stagger)},s=i._internals,o=n._internals={},r=s.isSelector,h=s.isArray,l=s.lazyTweens,c=s.lazyRender,u=a._gsDefine.globals,p=function(t){var e,i={};for(e in t)i[e]=t[e];return i},d=function(t,e,i){var n,s,o=t.cycle;for(n in o)s=o[n],t[n]="function"==typeof s?s.call(e[i],i):s[i%s.length];delete t.cycle},f=o.pauseCallback=function(){},m=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},g=n.prototype=new e;return n.version="1.18.0",g.constructor=n,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(t,e,n,s){var o=n.repeat&&u.TweenMax||i;return e?this.add(new o(t,e,n),s):this.set(t,n,s)},g.from=function(t,e,n,s){return this.add((n.repeat&&u.TweenMax||i).from(t,e,n),s)},g.fromTo=function(t,e,n,s,o){var a=s.repeat&&u.TweenMax||i;return e?this.add(a.fromTo(t,e,n,s),o):this.set(t,s,o)},g.staggerTo=function(t,e,s,o,a,h,l,c){var u,f,g=new n({onComplete:h,onCompleteParams:l,callbackScope:c,smoothChildTiming:this.smoothChildTiming}),v=s.cycle;for("string"==typeof t&&(t=i.selector(t)||t),r(t=t||[])&&(t=m(t)),(o=o||0)<0&&((t=m(t)).reverse(),o*=-1),f=0;f<t.length;f++)(u=p(s)).startAt&&(u.startAt=p(u.startAt),u.startAt.cycle&&d(u.startAt,t,f)),v&&d(u,t,f),g.to(t[f],e,u,f*o);return this.add(g,a)},g.staggerFrom=function(t,e,i,n,s,o,a,r){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,s,o,a,r)},g.staggerFromTo=function(t,e,i,n,s,o,a,r,h){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,s,o,a,r,h)},g.call=function(t,e,n,s){return this.add(i.delayedCall(0,t,e,n),s)},g.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var s,o,a=new n(t),r=a._timeline;for(null==e&&(e=!0),r._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=r._time,s=r._first;s;)o=s._next,e&&s instanceof i&&s.target===s.vars.onComplete||a.add(s,s._startTime-s._delay),s=o;return r.add(a,0),a},g.add=function(s,o,a,r){var l,c,u,p,d,f;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,s)),!(s instanceof t)){if(s instanceof Array||s&&s.push&&h(s)){for(a=a||"normal",r=r||0,l=o,c=s.length,u=0;u<c;u++)h(p=s[u])&&(p=new n({tweens:p})),this.add(p,l),"string"!=typeof p&&"function"!=typeof p&&("sequence"===a?l=p._startTime+p.totalDuration()/p._timeScale:"start"===a&&(p._startTime-=p.delay())),l+=r;return this._uncache(!0)}if("string"==typeof s)return this.addLabel(s,o);if("function"!=typeof s)throw"Cannot add "+s+" into the timeline; it is not a tween, timeline, function, or string.";s=i.delayedCall(0,s)}if(e.prototype.add.call(this,s,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=(d=this).rawTime()>s._startTime;d._timeline;)f&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},g.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&h(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},g._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},g.insert=g.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},g.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},g.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},g.addPause=function(t,e,n,s){var o=i.delayedCall(0,f,n,s||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},g.removeLabel=function(t){return delete this._labels[t],this},g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},g._parseTimeOrLabel=function(e,i,n,s){var o;if(s instanceof t&&s.timeline===this)this.remove(s);else if(s&&(s instanceof Array||s.push&&h(s)))for(o=s.length;--o>-1;)s[o]instanceof t&&s[o].timeline===this&&this.remove(s[o]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(-1===(o=e.indexOf("=")))return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,n):this.duration()}return Number(e)+i},g.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(t,e){return this.play(t,e)},g.gotoAndStop=function(t,e){return this.pause(t,e)},g.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,s,o,a,r,h,u=this._dirty?this.totalDuration():this._totalDuration,p=this._time,d=this._startTime,f=this._timeScale,m=this._paused;if(t>=u)this._totalTime=this._time=u,this._reversed||this._hasPausedChild()||(s=!0,a="onComplete",r=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(r=!0,this._rawPrevTime>1e-10&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=u+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&1e-10!==this._rawPrevTime&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(a="onReverseComplete",s=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(r=s=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(r=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&s)for(n=this._first;n&&0===n._startTime;)n._duration||(s=!1),n=n._next;t=0,this._initted||(r=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=p)for(n=this._first;n&&n._startTime<=t&&!h;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(h=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!h;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(h=n),n=n._prev;h&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==p&&this._first||i||r||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&0!==this._time&&(e||this._callback("onStart")),this._time>=p)for(n=this._first;n&&(o=n._next,!this._paused||m);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(h===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=o;else for(n=this._last;n&&(o=n._prev,!this._paused||m);){if(n._active||n._startTime<=p&&!n._paused&&!n._gc){if(h===n){for(h=n._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,i),h=h._prev;h=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=o}this._onUpdate&&(e||(l.length&&c(),this._callback("onUpdate"))),a&&(this._gc||d!==this._startTime&&f===this._timeScale||(0===this._time||u>=this.totalDuration())&&(s&&(l.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},g._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},g.getChildren=function(t,e,n,s){s=s||-9999999999;for(var o=[],a=this._first,r=0;a;)a._startTime<s||(a instanceof i?!1!==e&&(o[r++]=a):(!1!==n&&(o[r++]=a),!1!==t&&(r=(o=o.concat(a.getChildren(!0,e,n))).length))),a=a._next;return o},g.getTweensOf=function(t,e){var n,s,o=this._gc,a=[],r=0;for(o&&this._enabled(!0,!0),s=(n=i.getTweensOf(t)).length;--s>-1;)(n[s].timeline===this||e&&this._contains(n[s]))&&(a[r++]=n[s]);return o&&this._enabled(!1,!0),a},g.recent=function(){return this._recent},g._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},g.shiftChildren=function(t,e,i){i=i||0;for(var n,s=this._first,o=this._labels;s;)s._startTime>=i&&(s._startTime+=t),s=s._next;if(e)for(n in o)o[n]>=i&&(o[n]+=t);return this._uncache(!0)},g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,s=!1;--n>-1;)i[n]._kill(t,e)&&(s=!0);return s},g.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},g._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},g.totalTime=function(e,i,n){this._forcingPlayhead=!0;var s=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,s},g.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,s=this._last,o=999999999999;s;)e=s._prev,s._dirty&&s.totalDuration(),s._startTime>o&&this._sortChildren&&!s._paused?this.add(s,s._startTime-s._delay):o=s._startTime,s._startTime<0&&!s._paused&&(n-=s._startTime,this._timeline.smoothChildTiming&&(this._startTime+=s._startTime/this._timeScale),this.shiftChildren(-s._startTime,!1,-9999999999),o=0),(i=s._startTime+s._totalDuration/s._timeScale)>n&&(n=i),s=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},g.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},g.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},n},!0),a._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},s=e._internals,o=s.lazyTweens,a=s.lazyRender,r=new i(null,null,1,0),h=n.prototype=new t;return h.constructor=n,h.kill()._gc=!1,n.version="1.18.0",h.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},h.addCallback=function(t,i,n,s){return this.add(e.delayedCall(0,t,n,s),i)},h.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,s=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===s&&i[n]._enabled(!1,!1);return this},h.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},h.tweenTo=function(t,i){i=i||{};var n,s,o,a={ease:r,useFrames:this.usesFrames(),immediateRender:!1};for(s in i)a[s]=i[s];return a.time=this._parseTimeOrLabel(t),n=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new e(this,n,a),a.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&n===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),i.onStart&&o._callback("onStart")},o},h.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},h.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,s,r,h,l,c,u,p=this._dirty?this.totalDuration():this._totalDuration,d=this._duration,f=this._time,m=this._totalTime,g=this._startTime,v=this._timeScale,y=this._rawPrevTime,_=this._paused,w=this._cycle;if(t>=p)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(s=!0,h="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||y<0||1e-10===y)&&y!==t&&this._first&&(l=!0,y>1e-10&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:(this._time=d,t=d+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==f||0===d&&1e-10!==y&&(y>0||t<0&&y>=0)&&!this._locked)&&(h="onReverseComplete",s=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=s=!0,h="onReverseComplete"):y>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=d||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&s)for(n=this._first;n&&0===n._startTime;)n._duration||(s=!1),n=n._next;t=0,this._initted||(l=!0)}else if(0===d&&y<0&&(l=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(c=d+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!=(1&this._cycle)&&(this._time=d-this._time),this._time>d?(this._time=d,t=d+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if((t=this._time)>=f)for(n=this._first;n&&n._startTime<=t&&!u;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(u=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!u;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(u=n),n=n._prev;u&&(this._time=t=u._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var b=this._yoyo&&0!=(1&w),x=b===(this._yoyo&&0!=(1&this._cycle)),T=this._totalTime,C=this._cycle,S=this._rawPrevTime,M=this._time;if(this._totalTime=w*d,this._cycle<w?b=!b:this._totalTime+=d,this._time=f,this._rawPrevTime=0===d?y-1e-4:y,this._cycle=w,this._locked=!0,f=b?0:d,this.render(f,e,0===d),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),x&&(f=b?d+1e-4:-1e-4,this.render(f,!0,!1)),this._locked=!1,this._paused&&!_)return;this._time=M,this._totalTime=T,this._cycle=C,this._rawPrevTime=S}if(this._time!==f&&this._first||i||l||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&t>0&&(this._active=!0),0===m&&this.vars.onStart&&0!==this._totalTime&&(e||this._callback("onStart")),this._time>=f)for(n=this._first;n&&(r=n._next,!this._paused||_);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(u===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r;else for(n=this._last;n&&(r=n._prev,!this._paused||_);){if(n._active||n._startTime<=f&&!n._paused&&!n._gc){if(u===n){for(u=n._prev;u&&u.endTime()>this._time;)u.render(u._reversed?u.totalDuration()-(t-u._startTime)*u._timeScale:(t-u._startTime)*u._timeScale,e,i),u=u._prev;u=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=r}this._onUpdate&&(e||(o.length&&a(),this._callback("onUpdate"))),h&&(this._locked||this._gc||g!==this._startTime&&v===this._timeScale||(0===this._time||p>=this.totalDuration())&&(s&&(o.length&&a(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[h]&&this._callback(h)))}else m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},h.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,s,o=[],a=this.getChildren(t,e,i),r=0,h=a.length;for(n=0;n<h;n++)(s=a[n]).isActive()&&(o[r++]=s);return o},h.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;e<n;e++)if(i[e].time>t)return i[e].name;return null},h.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},h.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},h.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},h.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},h.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},h.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},h.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},h.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},h.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],i=[],n=[],s={},o=a._gsDefine.globals,r=function(t,e,i,n){this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},h=function(t,e,i,n){var s={a:t},o={},a={},r={c:n},h=(t+e)/2,l=(e+i)/2,c=(i+n)/2,u=(h+l)/2,p=(l+c)/2,d=(p-u)/8;return s.b=h+(t-h)/4,o.b=u+d,s.c=o.a=(s.b+o.b)/2,o.c=a.a=(u+p)/2,a.b=p-d,r.b=c+(n-c)/4,a.c=r.a=(a.b+r.b)/2,[s,o,a,r]},l=function(t,s,o,a,r){var l,c,u,p,d,f,m,g,v,y,_,w,b,x=t.length-1,T=0,C=t[0].a;for(l=0;l<x;l++)c=(d=t[T]).a,u=d.d,p=t[T+1].d,r?(_=e[l],b=((w=i[l])+_)*s*.25/(a?.5:n[l]||.5),g=u-((f=u-(u-c)*(a?.5*s:0!==_?b/_:0))+(((m=u+(p-u)*(a?.5*s:0!==w?b/w:0))-f)*(3*_/(_+w)+.5)/4||0))):g=u-((f=u-(u-c)*s*.5)+(m=u+(p-u)*s*.5))/2,f+=g,m+=g,d.c=v=f,d.b=0!==l?C:C=d.a+.6*(d.c-d.a),d.da=u-c,d.ca=v-c,d.ba=C-c,o?(y=h(c,C,v,u),t.splice(T,1,y[0],y[1],y[2],y[3]),T+=4):T++,C=m;(d=t[T]).b=C,d.c=C+.4*(d.d-C),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=C-d.a,o&&(y=h(d.a,C,d.c,d.d),t.splice(T,1,y[0],y[1],y[2],y[3]))},c=function(t,n,s,o){var a,h,l,c,u,p,d=[];if(o)for(h=(t=[o].concat(t)).length;--h>-1;)"string"==typeof(p=t[h][n])&&"="===p.charAt(1)&&(t[h][n]=o[n]+Number(p.charAt(0)+p.substr(2)));if((a=t.length-2)<0)return d[0]=new r(t[0][n],0,0,t[a<-1?0:1][n]),d;for(h=0;h<a;h++)l=t[h][n],c=t[h+1][n],d[h]=new r(l,0,0,c),s&&(u=t[h+2][n],e[h]=(e[h]||0)+(c-l)*(c-l),i[h]=(i[h]||0)+(u-c)*(u-c));return d[h]=new r(t[h][n],0,0,t[h+1][n]),d},u=function(t,o,a,r,h,u){var p,d,f,m,g,v,y,_,w={},b=[],x=u||t[0];h="string"==typeof h?","+h+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==o&&(o=1);for(d in t[0])b.push(d);if(t.length>1){for(_=t[t.length-1],y=!0,p=b.length;--p>-1;)if(d=b[p],Math.abs(x[d]-_[d])>.05){y=!1;break}y&&(t=t.concat(),u&&t.unshift(u),t.push(t[1]),u=t[t.length-3])}for(e.length=i.length=n.length=0,p=b.length;--p>-1;)d=b[p],s[d]=-1!==h.indexOf(","+d+","),w[d]=c(t,d,s[d],u);for(p=e.length;--p>-1;)e[p]=Math.sqrt(e[p]),i[p]=Math.sqrt(i[p]);if(!r){for(p=b.length;--p>-1;)if(s[d])for(v=(f=w[b[p]]).length-1,m=0;m<v;m++)g=f[m+1].da/i[m]+f[m].da/e[m],n[m]=(n[m]||0)+g*g;for(p=n.length;--p>-1;)n[p]=Math.sqrt(n[p])}for(p=b.length,m=a?4:1;--p>-1;)f=w[d=b[p]],l(f,o,a,r,s[d]),y&&(f.splice(0,m),f.splice(f.length-m,m));return w},p=function(t,e,i){var n,s,o,a,h,l,c,u,p,d,f,m={},g="cubic"===(e=e||"soft")?3:2,v="soft"===e,y=[];if(v&&i&&(t=[i].concat(t)),null==t||t.length<g+1)throw"invalid Bezier data";for(p in t[0])y.push(p);for(l=y.length;--l>-1;){for(m[p=y[l]]=h=[],d=0,u=t.length,c=0;c<u;c++)n=null==i?t[c][p]:"string"==typeof(f=t[c][p])&&"="===f.charAt(1)?i[p]+Number(f.charAt(0)+f.substr(2)):Number(f),v&&c>1&&c<u-1&&(h[d++]=(n+h[d-2])/2),h[d++]=n;for(u=d-g+1,d=0,c=0;c<u;c+=g)n=h[c],s=h[c+1],o=h[c+2],a=2===g?0:h[c+3],h[d++]=f=3===g?new r(n,s,o,a):new r(n,(2*s+n)/3,(2*s+o)/3,o);h.length=d}return m},d=function(t,e,i){for(var n,s,o,a,r,h,l,c,u,p,d,f=1/i,m=t.length;--m>-1;)for(o=(p=t[m]).a,a=p.d-o,r=p.c-o,h=p.b-o,n=s=0,c=1;c<=i;c++)n=s-(s=((l=f*c)*l*a+3*(u=1-l)*(l*r+u*h))*l),e[d=m*i+c-1]=(e[d]||0)+n*n},f=function(t,e){var i,n,s,o,a=[],r=[],h=0,l=0,c=(e=e>>0||6)-1,u=[],p=[];for(i in t)d(t[i],a,e);for(s=a.length,n=0;n<s;n++)h+=Math.sqrt(a[n]),p[o=n%e]=h,o===c&&(l+=h,u[o=n/e>>0]=p,r[o]=l,h=0,p=[]);return{length:l,lengths:r,segments:u}},m=a._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,s,o,a,r,h=e.values||[],l={},c=h[0],d=e.autoRotate||i.vars.orientToBezier;this._autoRotate=d?d instanceof Array?d:[["x","y","rotation",!0===d?0:Number(d)||0]]:null;for(n in c)this._props.push(n);for(o=this._props.length;--o>-1;)n=this._props[o],this._overwriteProps.push(n),s=this._func[n]="function"==typeof t[n],l[n]=s?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),r||l[n]!==h[0][n]&&(r=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?u(h,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,r):p(h,e.type,l),this._segCount=this._beziers[n].length,this._timeRes){var m=f(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(d=this._autoRotate)for(this._initialRotations=[],d[0]instanceof Array||(this._autoRotate=d=[d]),o=d.length;--o>-1;){for(a=0;a<3;a++)n=d[o][a],this._func[n]="function"==typeof t[n]&&t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)];n=d[o][2],this._initialRotations[o]=this._func[n]?this._func[n].call(this._target):this._target[n]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,n,s,o,a,r,h,l,c,u,p=this._segCount,d=this._func,f=this._target,m=e!==this._startRatio;if(this._timeRes){if(c=this._lengths,u=this._curSeg,e*=this._length,s=this._li,e>this._l2&&s<p-1){for(l=p-1;s<l&&(this._l2=c[++s])<=e;);this._l1=c[s-1],this._li=s,this._curSeg=u=this._segments[s],this._s2=u[this._s1=this._si=0]}else if(e<this._l1&&s>0){for(;s>0&&(this._l1=c[--s])>=e;);0===s&&e<this._l1?this._l1=0:s++,this._l2=c[s],this._li=s,this._curSeg=u=this._segments[s],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]}if(i=s,e-=this._l1,s=this._si,e>this._s2&&s<u.length-1){for(l=u.length-1;s<l&&(this._s2=u[++s])<=e;);this._s1=u[s-1],this._si=s}else if(e<this._s1&&s>0){for(;s>0&&(this._s1=u[--s])>=e;);0===s&&e<this._s1?this._s1=0:s++,this._s2=u[s],this._si=s}r=(s+(e-this._s1)/(this._s2-this._s1))*this._prec}else r=(e-(i=e<0?0:e>=1?p-1:p*e>>0)*(1/p))*p;for(n=1-r,s=this._props.length;--s>-1;)o=this._props[s],h=(r*r*(a=this._beziers[o][i]).da+3*n*(r*a.ca+n*a.ba))*r+a.a,this._round[o]&&(h=Math.round(h)),d[o]?f[o](h):f[o]=h;if(this._autoRotate){var g,v,y,_,w,b,x,T=this._autoRotate;for(s=T.length;--s>-1;)o=T[s][2],b=T[s][3]||0,x=!0===T[s][4]?1:t,a=this._beziers[T[s][0]],g=this._beziers[T[s][1]],a&&g&&(a=a[i],g=g[i],v=a.a+(a.b-a.a)*r,v+=((_=a.b+(a.c-a.b)*r)-v)*r,_+=(a.c+(a.d-a.c)*r-_)*r,y=g.a+(g.b-g.a)*r,y+=((w=g.b+(g.c-g.b)*r)-y)*r,w+=(g.c+(g.d-g.c)*r-w)*r,h=m?Math.atan2(w-y,_-v)*x+b:this._initialRotations[s],d[o]?f[o](h):f[o]=h)}}}),g=m.prototype;m.bezierThrough=u,m.cubicToQuadratic=h,m._autoCSS=!0,m.quadraticToCubic=function(t,e,i){return new r(t,(2*e+t)/3,(2*e+i)/3,i)},m._cssRegister=function(){var t=o.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,s=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,a,r,h){e instanceof Array&&(e={values:e}),h=new m;var l,c,u,p=e.values,d=p.length-1,f=[],g={};if(d<0)return r;for(l=0;l<=d;l++)u=i(t,p[l],a,r,h,d!==l),f[l]=u.end;for(c in e)g[c]=e[c];return g.values=f,r=new s(t,"bezier",0,0,u.pt,2),r.data=u,r.plugin=h,r.setRatio=n,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(l=!0===g.autoRotate?0:Number(g.autoRotate),g.autoRotate=null!=u.end.left?[["left","top","rotation",l,!1]]:null!=u.end.x&&[["x","y","rotation",l,!1]]),g.autoRotate&&(a._transform||a._enableTransforms(!1),u.autoRotate=a._target._gsTransform),h._onInitTween(u.proxy,g,a._tween),r}})}},g._roundProps=function(t,e){for(var i=this._overwriteProps,n=i.length;--n>-1;)(t[i[n]]||t.bezier||t.bezierThrough)&&(this._round[i[n]]=e)},g._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);return this._super._kill.call(this,t)}}(),a._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,s,o,r=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=r.prototype.setRatio},h=a._gsDefine.globals,l={},c=r.prototype=new t("css");c.constructor=r,r.version="1.18.0",r.API=2,r.defaultTransformPerspective=0,r.defaultSkewType="compensated",r.defaultSmoothOrigin=!0,c="px",r.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var u,p,d,f,m,g,v=/(?:\d|\-\d|\.\d|\-\.\d)+/g,y=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,_=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,C=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,M=/([A-Z])/g,A=/-([a-z])/gi,O=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,I=function(t,e){return e.toUpperCase()},$=/(?:Left|Right|Width)/i,B=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,E=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,P=/,(?=[^\)]*(?:\(|$))/gi,k=Math.PI/180,V=180/Math.PI,D={},L=document,N=function(t){return L.createElementNS?L.createElementNS("http://www.w3.org/1999/xhtml",t):L.createElement(t)},z=N("div"),R=N("img"),H=r._internals={_specialProps:l},F=navigator.userAgent,j=function(){var t=F.indexOf("Android"),e=N("a");return d=-1!==F.indexOf("Safari")&&-1===F.indexOf("Chrome")&&(-1===t||Number(F.substr(t+8,1))>3),m=d&&Number(F.substr(F.indexOf("Version/")+8,1))<6,f=-1!==F.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(F)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(F))&&(g=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),U=function(t){return x.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(t){window.console&&console.log(t)},W="",q="",X=function(t,e){var i,n,s=(e=e||z).style;if(void 0!==s[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===s[i[n]+t];);return n>=0?(q=3===n?"ms":i[n],W="-"+q.toLowerCase()+"-",q+t):null},G=L.defaultView?L.defaultView.getComputedStyle:function(){},Z=r.getStyle=function(t,e,i,n,s){var o;return j||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(i=i||G(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(M,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==s||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:s):U(t)},K=H.convertToPixels=function(t,i,n,s,o){if("px"===s||!s)return n;if("auto"===s||!n)return 0;var a,h,l,c=$.test(i),u=t,p=z.style,d=n<0;if(d&&(n=-n),"%"===s&&-1!==i.indexOf("border"))a=n/100*(c?t.clientWidth:t.clientHeight);else{if(p.cssText="border:0 solid red;position:"+Z(t,"position")+";line-height:0;","%"!==s&&u.appendChild&&"v"!==s.charAt(0)&&"rem"!==s)p[c?"borderLeftWidth":"borderTopWidth"]=n+s;else{if(u=t.parentNode||L.body,h=u._gsCache,l=e.ticker.frame,h&&c&&h.time===l)return h.width*n/100;p[c?"width":"height"]=n+s}u.appendChild(z),a=parseFloat(z[c?"offsetWidth":"offsetHeight"]),u.removeChild(z),c&&"%"===s&&!1!==r.cacheWidths&&((h=u._gsCache=u._gsCache||{}).time=l,h.width=a/n*100),0!==a||o||(a=K(t,i,n,s,!0))}return d?-a:a},J=H.calculateOffset=function(t,e,i){if("absolute"!==Z(t,"position",i))return 0;var n="left"===e?"Left":"Top",s=Z(t,"margin"+n,i);return t["offset"+n]-(K(t,e,parseFloat(s),s.replace(b,""))||0)},Q=function(t,e){var i,n,s,o={};if(e=e||G(t,null))if(i=e.length)for(;--i>-1;)-1!==(s=e[i]).indexOf("-transform")&&St!==s||(o[s.replace(A,I)]=e.getPropertyValue(s));else for(i in e)-1!==i.indexOf("Transform")&&Ct!==i||(o[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===o[i]&&(o[i.replace(A,I)]=e[i]);return j||(o.opacity=U(t)),n=Lt(t,e,!1),o.rotation=n.rotation,o.skewX=n.skewX,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.x=n.x,o.y=n.y,At&&(o.z=n.z,o.rotationX=n.rotationX,o.rotationY=n.rotationY,o.scaleZ=n.scaleZ),o.filters&&delete o.filters,o},tt=function(t,e,i,n,s){var o,a,r,h={},l=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(o=i[a])||s&&s[a])&&-1===a.indexOf("Origin")&&("number"!=typeof o&&"string"!=typeof o||(h[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[a]||""===e[a].replace(w,"")?o:0:J(t,a),void 0!==l[a]&&(r=new mt(l,a,l[a],r))));if(n)for(a in n)"className"!==a&&(h[a]=n[a]);return{difs:h,firstMPT:r}},et={width:["Left","Right"],height:["Top","Bottom"]},it=["marginLeft","marginRight","marginTop","marginBottom"],nt=function(t,e,i){var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),s=et[e],o=s.length;for(i=i||G(t,null);--o>-1;)n-=parseFloat(Z(t,"padding"+s[o],i,!0))||0,n-=parseFloat(Z(t,"border"+s[o]+"Width",i,!0))||0;return n},st=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i=t.split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==s?s="center"===n?"50%":"0":"center"===s&&(s="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),t=n+" "+s+(i.length>2?" "+i[2]:""),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(n.replace(w,"")),e.oy=parseFloat(s.replace(w,"")),e.v=t),e||t},ot=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},at=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},rt=function(t,e,i,n){var s,o,a,r,h;return null==t?r=e:"number"==typeof t?r=t:(s=360,o=t.split("_"),a=((h="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===t.indexOf("rad")?1:V)-(h?0:e),o.length&&(n&&(n[i]=e+a),-1!==t.indexOf("short")&&(a%=s)!==a%(s/2)&&(a=a<0?a+s:a-s),-1!==t.indexOf("_cw")&&a<0?a=(a+9999999999*s)%s-(a/s|0)*s:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*s)%s-(a/s|0)*s)),r=e+a),r<1e-6&&r>-1e-6&&(r=0),r},ht={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},lt=function(t,e,i){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},ct=r.parseColor=function(t,e){var i,n,s,o,a,r,h,l,c,u,p;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ht[t])i=ht[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(n=t.charAt(1))+n+(s=t.charAt(2))+s+(o=t.charAt(3))+o),i=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=p=t.match(v),e){if(-1!==t.indexOf("="))return t.match(y)}else a=Number(i[0])%360/360,r=Number(i[1])/100,n=2*(h=Number(i[2])/100)-(s=h<=.5?h*(r+1):h+r-h*r),i.length>3&&(i[3]=Number(t[3])),i[0]=lt(a+1/3,n,s),i[1]=lt(a,n,s),i[2]=lt(a-1/3,n,s);else i=t.match(v)||ht.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=ht.black;return e&&!p&&(n=i[0]/255,s=i[1]/255,o=i[2]/255,h=((l=Math.max(n,s,o))+(c=Math.min(n,s,o)))/2,l===c?a=r=0:(u=l-c,r=h>.5?u/(2-l-c):u/(l+c),a=l===n?(s-o)/u+(s<o?6:0):l===s?(o-n)/u+2:(n-s)/u+4,a*=60),i[0]=a+.5|0,i[1]=100*r+.5|0,i[2]=100*h+.5|0),i},ut=function(t,e){var i,n,s,o=t.match(pt)||[],a=0,r=o.length?"":t;for(i=0;i<o.length;i++)n=o[i],a+=(s=t.substr(a,t.indexOf(n,a)-a)).length+n.length,3===(n=ct(n,e)).length&&n.push(1),r+=s+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return r},pt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(c in ht)pt+="|"+c+"\\b";pt=new RegExp(pt+")","gi"),r.colorStringFilter=function(t){var e,i=t[0]+t[1];pt.lastIndex=0,pt.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=ut(t[0],e),t[1]=ut(t[1],e))},e.defaultStringFilter||(e.defaultStringFilter=r.colorStringFilter);var dt=function(t,e,i,n){if(null==t)return function(t){return t};var s,o=e?(t.match(pt)||[""])[0]:"",a=t.split(o).join("").match(_)||[],r=t.substr(0,t.indexOf(a[0])),h=")"===t.charAt(t.length-1)?")":"",l=-1!==t.indexOf(" ")?" ":",",c=a.length,u=c>0?a[0].replace(v,""):"";return c?s=e?function(t){var e,p,d,f;if("number"==typeof t)t+=u;else if(n&&P.test(t)){for(f=t.replace(P,"|").split("|"),d=0;d<f.length;d++)f[d]=s(f[d]);return f.join(",")}if(e=(t.match(pt)||[o])[0],p=t.split(e).join("").match(_)||[],d=p.length,c>d--)for(;++d<c;)p[d]=i?p[(d-1)/2|0]:a[d];return r+p.join(l)+l+e+h+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,o,p;if("number"==typeof t)t+=u;else if(n&&P.test(t)){for(o=t.replace(P,"|").split("|"),p=0;p<o.length;p++)o[p]=s(o[p]);return o.join(",")}if(e=t.match(_)||[],p=e.length,c>p--)for(;++p<c;)e[p]=i?e[(p-1)/2|0]:a[p];return r+e.join(l)+h}:function(t){return t}},ft=function(t){return t=t.split(","),function(e,i,n,s,o,a,r){var h,l=(i+"").split(" ");for(r={},h=0;h<4;h++)r[t[h]]=l[h]=l[h]||l[(h-1)/2>>0];return s.parse(e,r,o,a)}},mt=(H._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,s,o=this.data,a=o.proxy,r=o.firstMPT;r;)e=a[r.v],r.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),r.t[r.p]=e,r=r._next;if(o.autoRotate&&(o.autoRotate.rotation=a.rotation),1===t)for(r=o.firstMPT;r;){if((i=r.t).type){if(1===i.type){for(s=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)s+=i["xn"+n]+i["xs"+(n+1)];i.e=s}}else i.e=i.s+i.xs0;r=r._next}},function(t,e,i,n,s){this.t=t,this.p=e,this.v=i,this.r=s,n&&(n._prev=this,this._next=n)}),gt=(H._parseToProxy=function(t,e,i,n,s,o){var a,r,h,l,c,u=n,p={},d={},f=i._transform,m=D;for(i._transform=null,D=e,n=c=i.parse(t,e,n,s),D=m,o&&(i._transform=f,u&&(u._prev=null,u._prev&&(u._prev._next=null)));n&&n!==u;){if(n.type<=1&&(r=n.p,d[r]=n.s+n.c,p[r]=n.s,o||(l=new mt(n,"s",r,l,n.r),n.c=0),1===n.type))for(a=n.l;--a>0;)h="xn"+a,d[r=n.p+"_"+h]=n.data[h],p[r]=n[h],o||(l=new mt(n,h,r,l,n.rxp[h]));n=n._next}return{proxy:p,end:d,firstMPT:l,pt:c}},H.CSSPropTween=function(t,e,n,s,a,r,h,l,c,u,p){this.t=t,this.p=e,this.s=n,this.c=s,this.n=h||e,t instanceof gt||o.push(this.n),this.r=l,this.type=r||0,c&&(this.pr=c,i=!0),this.b=void 0===u?n:u,this.e=void 0===p?n+s:p,a&&(this._next=a,a._prev=this)}),vt=function(t,e,i,n,s,o){var a=new gt(t,e,i,n-i,s,-1,o);return a.b=i,a.e=a.xs0=n,a},yt=r.parseComplex=function(t,e,i,n,s,o,a,r,h,l){i=i||o||"",a=new gt(t,e,0,0,a,l?2:1,null,!1,r,i,n),n+="";var c,p,d,f,m,g,_,w,b,x,T,C,S,M=i.split(", ").join(",").split(" "),A=n.split(", ").join(",").split(" "),O=M.length,I=!1!==u;for(-1===n.indexOf(",")&&-1===i.indexOf(",")||(M=M.join(" ").replace(P,", ").split(" "),A=A.join(" ").replace(P,", ").split(" "),O=M.length),O!==A.length&&(O=(M=(o||"").split(" ")).length),a.plugin=h,a.setRatio=l,pt.lastIndex=0,c=0;c<O;c++)if(f=M[c],m=A[c],(w=parseFloat(f))||0===w)a.appendXtra("",w,ot(m,w),m.replace(y,""),I&&-1!==m.indexOf("px"),!0);else if(s&&pt.test(f))C=","===m.charAt(m.length-1)?"),":")",S=-1!==m.indexOf("hsl")&&j,f=ct(f,S),m=ct(m,S),(b=f.length+m.length>6)&&!j&&0===m[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(A[c]).join("transparent")):(j||(b=!1),S?a.appendXtra(b?"hsla(":"hsl(",f[0],ot(m[0],f[0]),",",!1,!0).appendXtra("",f[1],ot(m[1],f[1]),"%,",!1).appendXtra("",f[2],ot(m[2],f[2]),b?"%,":"%"+C,!1):a.appendXtra(b?"rgba(":"rgb(",f[0],m[0]-f[0],",",!0,!0).appendXtra("",f[1],m[1]-f[1],",",!0).appendXtra("",f[2],m[2]-f[2],b?",":C,!0),b&&(f=f.length<4?1:f[3],a.appendXtra("",f,(m.length<4?1:m[3])-f,C,!1))),pt.lastIndex=0;else if(g=f.match(v)){if(!(_=m.match(y))||_.length!==g.length)return a;for(d=0,p=0;p<g.length;p++)T=g[p],x=f.indexOf(T,d),a.appendXtra(f.substr(d,x-d),Number(T),ot(_[p],T),"",I&&"px"===f.substr(x+T.length,2),0===p),d=x+T.length;a["xs"+a.l]+=f.substr(d)}else a["xs"+a.l]+=a.l?" "+f:f;if(-1!==n.indexOf("=")&&a.data){for(C=a.xs0+a.data.s,c=1;c<a.l;c++)C+=a["xs"+c]+a.data["xn"+c];a.e=C+a["xs"+c]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},_t=9;for((c=gt.prototype).l=c.pr=0;--_t>0;)c["xn"+_t]=0,c["xs"+_t]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,i,n,s,o){var a=this,r=a.l;return a["xs"+r]+=o&&r?" "+t:t||"",i||0===r||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=n||"",r>0?(a.data["xn"+r]=e+i,a.rxp["xn"+r]=s,a["xn"+r]=e,a.plugin||(a.xfirst=new gt(a,"xn"+r,e,i,a.xfirst||a,0,a.n,s,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=s,a)):(a["xs"+r]+=e+(n||""),a)};var wt=function(t,e){e=e||{},this.p=e.prefix?X(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||dt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},bt=H._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,s=t.split(","),o=e.defaultValue;for(i=i||[o],n=0;n<s.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||o,new wt(s[n],e)};(c=wt.prototype).parseComplex=function(t,e,i,n,s,o){var a,r,h,l,c,u,p=this.keyword;if(this.multi&&(P.test(i)||P.test(e)?(r=e.replace(P,"|").split("|"),h=i.replace(P,"|").split("|")):p&&(r=[e],h=[i])),h){for(l=h.length>r.length?h.length:r.length,a=0;a<l;a++)e=r[a]=r[a]||this.dflt,i=h[a]=h[a]||this.dflt,p&&(c=e.indexOf(p))!==(u=i.indexOf(p))&&(-1===u?r[a]=r[a].split(p).join(""):-1===c&&(r[a]+=" "+p));e=r.join(", "),i=h.join(", ")}return yt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,s,o)},c.parse=function(t,e,i,n,o,a,r){return this.parseComplex(t.style,this.format(Z(t,this.p,s,!1,this.dflt)),this.format(e),o,a)},r.registerSpecialProp=function(t,e,i){bt(t,{parser:function(t,n,s,o,a,r,h){var l=new gt(t,s,0,0,a,2,s,!1,i);return l.plugin=r,l.setRatio=e(t,n,o._tween,s),l},priority:i})},r.useSVGTransformAttr=d||f;var xt,Tt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ct=X("transform"),St=W+"transform",Mt=X("transformOrigin"),At=null!==X("perspective"),Ot=H.Transform=function(){this.perspective=parseFloat(r.defaultTransformPerspective)||0,this.force3D=!(!1===r.defaultForce3D||!At)&&(r.defaultForce3D||"auto")},It=window.SVGElement,$t=function(t,e,i){var n,s=L.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(n in i)s.setAttributeNS(null,n.replace(o,"$1-$2").toLowerCase(),i[n]);return e.appendChild(s),s},Bt=L.documentElement,Et=function(){var t,e,i,n=g||/Android/i.test(F)&&!window.chrome;return L.createElementNS&&!n&&(t=$t("svg",Bt),i=(e=$t("rect",t,{width:100,height:50,x:100})).getBoundingClientRect().width,e.style[Mt]="50% 50%",e.style[Ct]="scaleX(0.5)",n=i===e.getBoundingClientRect().width&&!(f&&At),Bt.removeChild(t)),n}(),Pt=function(t,e,i,n,s){var o,a,h,l,c,u,p,d,f,m,g,v,y,_,w=t._gsTransform,b=Dt(t,!0);w&&(y=w.xOrigin,_=w.yOrigin),(!n||(o=n.split(" ")).length<2)&&(p=t.getBBox(),o=[(-1!==(e=st(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),i.xOrigin=l=parseFloat(o[0]),i.yOrigin=c=parseFloat(o[1]),n&&b!==Vt&&(u=b[0],p=b[1],d=b[2],f=b[3],m=b[4],a=l*(f/(v=u*f-p*d))+c*(-d/v)+(d*(g=b[5])-f*m)/v,h=l*(-p/v)+c*(u/v)-(u*g-p*m)/v,l=i.xOrigin=o[0]=a,c=i.yOrigin=o[1]=h),w&&(s||!1!==s&&!1!==r.defaultSmoothOrigin?(a=l-y,h=c-_,w.xOffset+=a*b[0]+h*b[2]-a,w.yOffset+=a*b[1]+h*b[3]-h):w.xOffset=w.yOffset=0),t.setAttribute("data-svg-origin",o.join(" "))},kt=function(t){return!!(It&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Vt=[1,0,0,1,0,0],Dt=function(t,e){var i,n,s,o,a,r=t._gsTransform||new Ot;if(Ct?n=Z(t,St,null,!0):t.currentStyle&&(n=(n=t.currentStyle.filter.match(B))&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),r.x||0,r.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,(r.svg||t.getBBox&&kt(t))&&(i&&-1!==(t.style[Ct]+"").indexOf("matrix")&&(n=t.style[Ct],i=0),s=t.getAttribute("transform"),i&&s&&(-1!==s.indexOf("matrix")?(n=s,i=0):-1!==s.indexOf("translate")&&(n="matrix(1,0,0,1,"+s.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Vt;for(s=(n||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],_t=s.length;--_t>-1;)o=Number(s[_t]),s[_t]=(a=o-(o|=0))?(1e5*a+(a<0?-.5:.5)|0)/1e5+o:o;return e&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s},Lt=H.getTransform=function(t,i,n,o){if(t._gsTransform&&n&&!o)return t._gsTransform;var a,h,l,c,u,p,d=n?t._gsTransform||new Ot:new Ot,f=d.scaleX<0,m=At?parseFloat(Z(t,Mt,i,!1,"0 0 0").split(" ")[2])||d.zOrigin||0:0,g=parseFloat(r.defaultTransformPerspective)||0;if(d.svg=!(!t.getBBox||!kt(t)),d.svg&&(Pt(t,Z(t,Mt,s,!1,"50% 50%")+"",d,t.getAttribute("data-svg-origin")),xt=r.useSVGTransformAttr||Et),(a=Dt(t))!==Vt){if(16===a.length){var v,y,_,w,b,x=a[0],T=a[1],C=a[2],S=a[3],M=a[4],A=a[5],O=a[6],I=a[7],$=a[8],B=a[9],E=a[10],P=a[12],k=a[13],D=a[14],L=a[11],N=Math.atan2(O,E);d.zOrigin&&(P=$*(D=-d.zOrigin)-a[12],k=B*D-a[13],D=E*D+d.zOrigin-a[14]),d.rotationX=N*V,N&&(v=M*(w=Math.cos(-N))+$*(b=Math.sin(-N)),y=A*w+B*b,_=O*w+E*b,$=M*-b+$*w,B=A*-b+B*w,E=O*-b+E*w,L=I*-b+L*w,M=v,A=y,O=_),N=Math.atan2($,E),d.rotationY=N*V,N&&(y=T*(w=Math.cos(-N))-B*(b=Math.sin(-N)),_=C*w-E*b,B=T*b+B*w,E=C*b+E*w,L=S*b+L*w,x=v=x*w-$*b,T=y,C=_),N=Math.atan2(T,x),d.rotation=N*V,N&&(x=x*(w=Math.cos(-N))+M*(b=Math.sin(-N)),y=T*w+A*b,A=T*-b+A*w,O=C*-b+O*w,T=y),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY+=180),d.scaleX=(1e5*Math.sqrt(x*x+T*T)+.5|0)/1e5,d.scaleY=(1e5*Math.sqrt(A*A+B*B)+.5|0)/1e5,d.scaleZ=(1e5*Math.sqrt(O*O+E*E)+.5|0)/1e5,d.skewX=0,d.perspective=L?1/(L<0?-L:L):0,d.x=P,d.y=k,d.z=D,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*x-d.yOrigin*M),d.y-=d.yOrigin-(d.yOrigin*T-d.xOrigin*A))}else if((!At||o||!a.length||d.x!==a[4]||d.y!==a[5]||!d.rotationX&&!d.rotationY)&&(void 0===d.x||"none"!==Z(t,"display",i))){var z=a.length>=6,R=z?a[0]:1,H=a[1]||0,F=a[2]||0,j=z?a[3]:1;d.x=a[4]||0,d.y=a[5]||0,l=Math.sqrt(R*R+H*H),c=Math.sqrt(j*j+F*F),u=R||H?Math.atan2(H,R)*V:d.rotation||0,p=F||j?Math.atan2(F,j)*V+u:d.skewX||0,Math.abs(p)>90&&Math.abs(p)<270&&(f?(l*=-1,p+=u<=0?180:-180,u+=u<=0?180:-180):(c*=-1,p+=p<=0?180:-180)),d.scaleX=l,d.scaleY=c,d.rotation=u,d.skewX=p,At&&(d.rotationX=d.rotationY=d.z=0,d.perspective=g,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*R+d.yOrigin*F),d.y-=d.yOrigin-(d.xOrigin*H+d.yOrigin*j))}d.zOrigin=m;for(h in d)d[h]<2e-5&&d[h]>-2e-5&&(d[h]=0)}return n&&(t._gsTransform=d,d.svg&&(xt&&t.style[Ct]?e.delayedCall(.001,function(){Ht(t.style,Ct)}):!xt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),d},Nt=function(t){var e,i,n=this.data,s=-n.rotation*k,o=s+n.skewX*k,a=(Math.cos(s)*n.scaleX*1e5|0)/1e5,r=(Math.sin(s)*n.scaleX*1e5|0)/1e5,h=(Math.sin(o)*-n.scaleY*1e5|0)/1e5,l=(Math.cos(o)*n.scaleY*1e5|0)/1e5,c=this.t.style,u=this.t.currentStyle;if(u){i=r,r=-h,h=-i,e=u.filter,c.filter="";var p,d,f=this.t.offsetWidth,m=this.t.offsetHeight,v="absolute"!==u.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+r+", M21="+h+", M22="+l,_=n.x+f*n.xPercent/100,w=n.y+m*n.yPercent/100;if(null!=n.ox&&(_+=(p=(n.oxp?f*n.ox*.01:n.ox)-f/2)-(p*a+(d=(n.oyp?m*n.oy*.01:n.oy)-m/2)*r),w+=d-(p*h+d*l)),y+=v?", Dx="+((p=f/2)-(p*a+(d=m/2)*r)+_)+", Dy="+(d-(p*h+d*l)+w)+")":", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?c.filter=e.replace(E,y):c.filter=y+" "+e,0!==t&&1!==t||1===a&&0===r&&0===h&&1===l&&(v&&-1===y.indexOf("Dx=0, Dy=0")||x.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&c.removeAttribute("filter")),!v){var T,C,S,M=g<8?1:-1;for(p=n.ieOffsetX||0,d=n.ieOffsetY||0,n.ieOffsetX=Math.round((f-((a<0?-a:a)*f+(r<0?-r:r)*m))/2+_),n.ieOffsetY=Math.round((m-((l<0?-l:l)*m+(h<0?-h:h)*f))/2+w),_t=0;_t<4;_t++)S=(i=-1!==(T=u[C=it[_t]]).indexOf("px")?parseFloat(T):K(this.t,C,parseFloat(T),T.replace(b,""))||0)!==n[C]?_t<2?-n.ieOffsetX:-n.ieOffsetY:_t<2?p-n.ieOffsetX:d-n.ieOffsetY,c[C]=(n[C]=Math.round(i-S*(0===_t||2===_t?1:M)))+"px"}}},zt=H.set3DTransformRatio=H.setTransformRatio=function(t){var e,i,n,s,o,a,r,h,l,c,u,p,d,m,g,v,y,_,w,b,x,T=this.data,C=this.t.style,S=T.rotation,M=T.rotationX,A=T.rotationY,O=T.scaleX,I=T.scaleY,$=T.scaleZ,B=T.x,E=T.y,P=T.z,V=T.svg,D=T.perspective,L=T.force3D;if(!((1!==t&&0!==t||"auto"!==L||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&L||P||D||A||M)||xt&&V||!At)S||T.skewX||V?(S*=k,b=T.skewX*k,x=1e5,e=Math.cos(S)*O,s=Math.sin(S)*O,i=Math.sin(S-b)*-I,o=Math.cos(S-b)*I,b&&"simple"===T.skewType&&(y=Math.tan(b),i*=y=Math.sqrt(1+y*y),o*=y,T.skewY&&(e*=y,s*=y)),V&&(B+=T.xOrigin-(T.xOrigin*e+T.yOrigin*i)+T.xOffset,E+=T.yOrigin-(T.xOrigin*s+T.yOrigin*o)+T.yOffset,xt&&(T.xPercent||T.yPercent)&&(m=this.t.getBBox(),B+=.01*T.xPercent*m.width,E+=.01*T.yPercent*m.height),B<(m=1e-6)&&B>-m&&(B=0),E<m&&E>-m&&(E=0)),w=(e*x|0)/x+","+(s*x|0)/x+","+(i*x|0)/x+","+(o*x|0)/x+","+B+","+E+")",V&&xt?this.t.setAttribute("transform","matrix("+w):C[Ct]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+w):C[Ct]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix(":"matrix(")+O+",0,0,"+I+","+B+","+E+")";else{if(f&&(O<(m=1e-4)&&O>-m&&(O=$=2e-5),I<m&&I>-m&&(I=$=2e-5),!D||T.z||T.rotationX||T.rotationY||(D=0)),S||T.skewX)S*=k,g=e=Math.cos(S),v=s=Math.sin(S),T.skewX&&(S-=T.skewX*k,g=Math.cos(S),v=Math.sin(S),"simple"===T.skewType&&(y=Math.tan(T.skewX*k),g*=y=Math.sqrt(1+y*y),v*=y,T.skewY&&(e*=y,s*=y))),i=-v,o=g;else{if(!(A||M||1!==$||D||V))return void(C[Ct]=(T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) translate3d(":"translate3d(")+B+"px,"+E+"px,"+P+"px)"+(1!==O||1!==I?" scale("+O+","+I+")":""));e=o=1,i=s=0}l=1,n=a=r=h=c=u=0,p=D?-1/D:0,d=T.zOrigin,m=1e-6,",","0",(S=A*k)&&(g=Math.cos(S),r=-(v=Math.sin(S)),c=p*-v,n=e*v,a=s*v,l=g,p*=g,e*=g,s*=g),(S=M*k)&&(y=i*(g=Math.cos(S))+n*(v=Math.sin(S)),_=o*g+a*v,h=l*v,u=p*v,n=i*-v+n*g,a=o*-v+a*g,l*=g,p*=g,i=y,o=_),1!==$&&(n*=$,a*=$,l*=$,p*=$),1!==I&&(i*=I,o*=I,h*=I,u*=I),1!==O&&(e*=O,s*=O,r*=O,c*=O),(d||V)&&(d&&(B+=n*-d,E+=a*-d,P+=l*-d+d),V&&(B+=T.xOrigin-(T.xOrigin*e+T.yOrigin*i)+T.xOffset,E+=T.yOrigin-(T.xOrigin*s+T.yOrigin*o)+T.yOffset),B<m&&B>-m&&(B="0"),E<m&&E>-m&&(E="0"),P<m&&P>-m&&(P=0)),w=T.xPercent||T.yPercent?"translate("+T.xPercent+"%,"+T.yPercent+"%) matrix3d(":"matrix3d(",w+=(e<m&&e>-m?"0":e)+","+(s<m&&s>-m?"0":s)+","+(r<m&&r>-m?"0":r),w+=","+(c<m&&c>-m?"0":c)+","+(i<m&&i>-m?"0":i)+","+(o<m&&o>-m?"0":o),M||A?(w+=","+(h<m&&h>-m?"0":h)+","+(u<m&&u>-m?"0":u)+","+(n<m&&n>-m?"0":n),w+=","+(a<m&&a>-m?"0":a)+","+(l<m&&l>-m?"0":l)+","+(p<m&&p>-m?"0":p)+","):w+=",0,0,0,0,1,0,",w+=B+","+E+","+P+","+(D?1+-P/D:1)+")",C[Ct]=w}};(c=Ot.prototype).x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,bt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,o,a,h){if(n._lastParsedTransform===h)return o;n._lastParsedTransform=h;var l,c,u,p,d,f,m,g,v,y,_=t._gsTransform,w=t.style,b=Tt.length,x=h,T={};if(h.display?(p=Z(t,"display"),w.display="block",l=Lt(t,s,!0,h.parseTransform),w.display=p):l=Lt(t,s,!0,h.parseTransform),n._transform=l,"string"==typeof x.transform&&Ct)(p=z.style)[Ct]=x.transform,p.display="block",p.position="absolute",L.body.appendChild(z),c=Lt(z,null,!1),L.body.removeChild(z),c.perspective||(c.perspective=l.perspective),null!=x.xPercent&&(c.xPercent=at(x.xPercent,l.xPercent)),null!=x.yPercent&&(c.yPercent=at(x.yPercent,l.yPercent));else if("object"==typeof x){if(c={scaleX:at(null!=x.scaleX?x.scaleX:x.scale,l.scaleX),scaleY:at(null!=x.scaleY?x.scaleY:x.scale,l.scaleY),scaleZ:at(x.scaleZ,l.scaleZ),x:at(x.x,l.x),y:at(x.y,l.y),z:at(x.z,l.z),xPercent:at(x.xPercent,l.xPercent),yPercent:at(x.yPercent,l.yPercent),perspective:at(x.transformPerspective,l.perspective)},null!=(g=x.directionalRotation))if("object"==typeof g)for(p in g)x[p]=g[p];else x.rotation=g;"string"==typeof x.x&&-1!==x.x.indexOf("%")&&(c.x=0,c.xPercent=at(x.x,l.xPercent)),"string"==typeof x.y&&-1!==x.y.indexOf("%")&&(c.y=0,c.yPercent=at(x.y,l.yPercent)),c.rotation=rt("rotation"in x?x.rotation:"shortRotation"in x?x.shortRotation+"_short":"rotationZ"in x?x.rotationZ:l.rotation,l.rotation,"rotation",T),At&&(c.rotationX=rt("rotationX"in x?x.rotationX:"shortRotationX"in x?x.shortRotationX+"_short":l.rotationX||0,l.rotationX,"rotationX",T),c.rotationY=rt("rotationY"in x?x.rotationY:"shortRotationY"in x?x.shortRotationY+"_short":l.rotationY||0,l.rotationY,"rotationY",T)),c.skewX=null==x.skewX?l.skewX:rt(x.skewX,l.skewX),c.skewY=null==x.skewY?l.skewY:rt(x.skewY,l.skewY),(u=c.skewY-l.skewY)&&(c.skewX+=u,c.rotation+=u)}for(At&&null!=x.force3D&&(l.force3D=x.force3D,m=!0),l.skewType=x.skewType||l.skewType||r.defaultSkewType,(f=l.force3D||l.z||l.rotationX||l.rotationY||c.z||c.rotationX||c.rotationY||c.perspective)||null==x.scale||(c.scaleZ=1);--b>-1;)((d=c[i=Tt[b]]-l[i])>1e-6||d<-1e-6||null!=x[i]||null!=D[i])&&(m=!0,o=new gt(l,i,l[i],d,o),i in T&&(o.e=T[i]),o.xs0=0,o.plugin=a,n._overwriteProps.push(o.n));return d=x.transformOrigin,l.svg&&(d||x.svgOrigin)&&(v=l.xOffset,y=l.yOffset,Pt(t,st(d),c,x.svgOrigin,x.smoothOrigin),o=vt(l,"xOrigin",(_?l:c).xOrigin,c.xOrigin,o,"transformOrigin"),o=vt(l,"yOrigin",(_?l:c).yOrigin,c.yOrigin,o,"transformOrigin"),v===l.xOffset&&y===l.yOffset||(o=vt(l,"xOffset",_?v:l.xOffset,l.xOffset,o,"transformOrigin"),o=vt(l,"yOffset",_?y:l.yOffset,l.yOffset,o,"transformOrigin")),d=xt?null:"0px 0px"),(d||At&&f&&l.zOrigin)&&(Ct?(m=!0,i=Mt,d=(d||Z(t,i,s,!1,"50% 50%"))+"",(o=new gt(w,i,0,0,o,-1,"transformOrigin")).b=w[i],o.plugin=a,At?(p=l.zOrigin,d=d.split(" "),l.zOrigin=(d.length>2&&(0===p||"0px"!==d[2])?parseFloat(d[2]):p)||0,o.xs0=o.e=d[0]+" "+(d[1]||"50%")+" 0px",(o=new gt(l,"zOrigin",0,0,o,-1,o.n)).b=p,o.xs0=o.e=l.zOrigin):o.xs0=o.e=d):st(d+"",l)),m&&(n._transformType=l.svg&&xt||!f&&3!==this._transformType?2:3),o},prefix:!0}),bt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),bt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,o,a,r){e=this.format(e);var h,l,c,u,p,d,f,m,g,v,y,_,w,b,x,T,C=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(g=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),h=e.split(" "),l=0;l<C.length;l++)this.p.indexOf("border")&&(C[l]=X(C[l])),-1!==(p=u=Z(t,C[l],s,!1,"0px")).indexOf(" ")&&(p=(u=p.split(" "))[0],u=u[1]),d=c=h[l],f=parseFloat(p),_=p.substr((f+"").length),(w="="===d.charAt(1))?(m=parseInt(d.charAt(0)+"1",10),d=d.substr(2),m*=parseFloat(d),y=d.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(d),y=d.substr((m+"").length)),""===y&&(y=n[i]||_),y!==_&&(b=K(t,"borderLeft",f,_),x=K(t,"borderTop",f,_),"%"===y?(p=b/g*100+"%",u=x/v*100+"%"):"em"===y?(p=b/(T=K(t,"borderLeft",1,"em"))+"em",u=x/T+"em"):(p=b+"px",u=x+"px"),w&&(d=parseFloat(p)+m+y,c=parseFloat(u)+m+y)),a=yt(S,C[l],p+" "+u,d+" "+c,!1,"0px",a);return a},prefix:!0,formatter:dt("0px 0px 0px 0px",!1,!0)}),bt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,o,a){var r,h,l,c,u,p,d="background-position",f=s||G(t,null),m=this.format((f?g?f.getPropertyValue(d+"-x")+" "+f.getPropertyValue(d+"-y"):f.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==m.indexOf("%")!=(-1!==v.indexOf("%"))&&(p=Z(t,"backgroundImage").replace(O,""))&&"none"!==p){for(r=m.split(" "),h=v.split(" "),R.setAttribute("src",p),l=2;--l>-1;)(c=-1!==(m=r[l]).indexOf("%"))!==(-1!==h[l].indexOf("%"))&&(u=0===l?t.offsetWidth-R.width:t.offsetHeight-R.height,r[l]=c?parseFloat(m)/100*u+"px":parseFloat(m)/u*100+"%");m=r.join(" ")}return this.parseComplex(t.style,m,v,o,a)},formatter:st}),bt("backgroundSize",{defaultValue:"0 0",formatter:st}),bt("perspective",{defaultValue:"0px",prefix:!0}),bt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),bt("transformStyle",{prefix:!0}),bt("backfaceVisibility",{prefix:!0}),bt("userSelect",{prefix:!0}),bt("margin",{parser:ft("marginTop,marginRight,marginBottom,marginLeft")}),bt("padding",{parser:ft("paddingTop,paddingRight,paddingBottom,paddingLeft")}),bt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,o,a){var r,h,l;return g<9?(h=t.currentStyle,l=g<8?" ":",",r="rect("+h.clipTop+l+h.clipRight+l+h.clipBottom+l+h.clipLeft+")",e=this.format(e).split(",").join(l)):(r=this.format(Z(t,this.p,s,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,r,e,o,a)}}),bt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),bt("autoRound,strictUnits",{parser:function(t,e,i,n,s){return s}}),bt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,o,a){return this.parseComplex(t.style,this.format(Z(t,"borderTopWidth",s,!1,"0px")+" "+Z(t,"borderTopStyle",s,!1,"solid")+" "+Z(t,"borderTopColor",s,!1,"#000")),this.format(e),o,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(pt)||["#000"])[0]}}),bt("borderWidth",{parser:ft("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),bt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,s,o){var a=t.style,r="cssFloat"in a?"cssFloat":"styleFloat";return new gt(a,r,0,0,s,-1,i,!1,0,a[r],e)}});var Rt=function(t){var e,i=this.t,n=i.filter||Z(this.data,"filter")||"",s=this.s+this.c*t|0;100===s&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!Z(this.data,"filter")):(i.filter=n.replace(C,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+s+")"),-1===n.indexOf("pacity")?0===s&&this.xn1||(i.filter=n+" alpha(opacity="+s+")"):i.filter=n.replace(x,"opacity="+s))};bt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,o,a){var r=parseFloat(Z(t,"opacity",s,!1,"1")),h=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+r),l&&1===r&&"hidden"===Z(t,"visibility",s)&&0!==e&&(r=0),j?o=new gt(h,"opacity",r,e-r,o):((o=new gt(h,"opacity",100*r,100*(e-r),o)).xn1=l?1:0,h.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=a,o.setRatio=Rt),l&&((o=new gt(h,"visibility",0,0,o,-1,null,!1,0,0!==r?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",n._overwriteProps.push(o.n),n._overwriteProps.push(i)),o}});var Ht=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(M,"-$1").toLowerCase())):t.removeAttribute(e))},Ft=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Ht(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};bt("className",{parser:function(t,e,n,o,a,r,h){var l,c,u,p,d,f=t.getAttribute("class")||"",m=t.style.cssText;if(a=o._classNamePT=new gt(t,n,0,0,a,2),a.setRatio=Ft,a.pr=-11,i=!0,a.b=f,c=Q(t,s),u=t._gsClassPT){for(p={},d=u.data;d;)p[d.p]=1,d=d._next;u.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:f.replace(new RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),l=tt(t,c,Q(t),h,p),t.setAttribute("class",f),a.data=l.firstMPT,t.style.cssText=m,a=a.xfirst=o.parse(t,l.difs,a,r)}});var jt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,s,o,a=this.t.style,r=l.transform.parse;if("all"===this.e)a.cssText="",s=!0;else for(n=(e=this.e.split(" ").join("").split(",")).length;--n>-1;)i=e[n],l[i]&&(l[i].parse===r?s=!0:i="transformOrigin"===i?Mt:l[i].p),Ht(a,i);s&&(Ht(a,Ct),(o=this.t._gsTransform)&&(o.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(bt("clearProps",{parser:function(t,e,n,s,o){return o=new gt(t,n,0,0,o,2),o.setRatio=jt,o.e=e,o.pr=-10,o.data=s._tween,i=!0,o}}),c="bezier,throwProps,physicsProps,physics2D".split(","),_t=c.length;_t--;)!function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";bt(t,{parser:function(t,i,n,s,o,a,r){var c=h.com.greensock.plugins[e];return c?(c._cssRegister(),l[n].parse(t,i,n,s,o,a,r)):(Y("Error: "+e+" js file not loaded."),o)}})}}(c[_t]);(c=r.prototype)._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,a){if(!t.nodeType)return!1;this._target=t,this._tween=a,this._vars=e,u=e.autoRound,i=!1,n=e.suffixMap||r.suffixMap,s=G(t,""),o=this._overwriteProps;var h,c,f,g,v,y,_,w,b,x=t.style;if(p&&""===x.zIndex&&("auto"!==(h=Z(t,"zIndex",s))&&""!==h||this._addLazySet(x,"zIndex",0)),"string"==typeof e&&(g=x.cssText,h=Q(t,s),x.cssText=g+";"+e,h=tt(t,h,Q(t)).difs,!j&&T.test(e)&&(h.opacity=parseFloat(RegExp.$1)),e=h,x.cssText=g),e.className?this._firstPT=c=l.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=c=this.parse(t,e,null),this._transformType){for(b=3===this._transformType,Ct?d&&(p=!0,""===x.zIndex&&("auto"!==(_=Z(t,"zIndex",s))&&""!==_||this._addLazySet(x,"zIndex",0)),m&&this._addLazySet(x,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(b?"visible":"hidden"))):x.zoom=1,f=c;f&&f._next;)f=f._next;w=new gt(t,"transform",0,0,null,2),this._linkCSSP(w,null,f),w.setRatio=Ct?zt:Nt,w.data=this._transform||Lt(t,s,!0),w.tween=a,w.pr=-1,o.pop()}if(i){for(;c;){for(y=c._next,f=g;f&&f.pr>c.pr;)f=f._next;(c._prev=f?f._prev:v)?c._prev._next=c:g=c,(c._next=f)?f._prev=c:v=c,c=y}this._firstPT=g}return!0},c.parse=function(t,e,i,o){var a,r,h,c,p,d,f,m,g,v,y=t.style;for(a in e)d=e[a],(r=l[a])?i=r.parse(t,d,a,this,i,o,e):(p=Z(t,a,s)+"",g="string"==typeof d,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||g&&S.test(d)?(g||(d=((d=ct(d)).length>3?"rgba(":"rgb(")+d.join(",")+")"),i=yt(y,a,p,d,!0,"transparent",i,0,o)):!g||-1===d.indexOf(" ")&&-1===d.indexOf(",")?(f=(h=parseFloat(p))||0===h?p.substr((h+"").length):"",""!==p&&"auto"!==p||("width"===a||"height"===a?(h=nt(t,a,s),f="px"):"left"===a||"top"===a?(h=J(t,a,s),f="px"):(h="opacity"!==a?0:1,f="")),(v=g&&"="===d.charAt(1))?(c=parseInt(d.charAt(0)+"1",10),d=d.substr(2),c*=parseFloat(d),m=d.replace(b,"")):(c=parseFloat(d),m=g?d.replace(b,""):""),""===m&&(m=a in n?n[a]:f),d=c||0===c?(v?c+h:c)+m:e[a],f!==m&&""!==m&&(c||0===c)&&h&&(h=K(t,a,h,f),"%"===m?(h/=K(t,a,100,"%")/100,!0!==e.strictUnits&&(p=h+"%")):"em"===m||"rem"===m?h/=K(t,a,1,m):"px"!==m&&(c=K(t,a,c,m),m="px"),v&&(c||0===c)&&(d=c+h+m)),v&&(c+=h),!h&&0!==h||!c&&0!==c?void 0!==y[a]&&(d||d+""!="NaN"&&null!=d)?(i=new gt(y,a,c||h||0,0,i,-1,a,!1,0,p,d)).xs0="none"!==d||"display"!==a&&-1===a.indexOf("Style")?d:p:Y("invalid "+a+" tween value: "+e[a]):(i=new gt(y,a,h,c-h,i,0,a,!1!==u&&("px"===m||"zIndex"===a),0,p,d)).xs0=m):i=yt(y,a,p,d,!0,null,i,0,o)),o&&i&&!i.plugin&&(i.plugin=o);return i},c.setRatio=function(t){var e,i,n,s=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;s;){if(e=s.c*t+s.s,s.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),s.type)if(1===s.type)if(2===(n=s.l))s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2;else if(3===n)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3;else if(4===n)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4;else if(5===n)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4+s.xn4+s.xs5;else{for(i=s.xs0+e+s.xs1,n=1;n<s.l;n++)i+=s["xn"+n]+s["xs"+(n+1)];s.t[s.p]=i}else-1===s.type?s.t[s.p]=s.xs0:s.setRatio&&s.setRatio(t);else s.t[s.p]=e+s.xs0;s=s._next}else for(;s;)2!==s.type?s.t[s.p]=s.b:s.setRatio(t),s=s._next;else for(;s;){if(2!==s.type)if(s.r&&-1!==s.type)if(e=Math.round(s.s+s.c),s.type){if(1===s.type){for(n=s.l,i=s.xs0+e+s.xs1,n=1;n<s.l;n++)i+=s["xn"+n]+s["xs"+(n+1)];s.t[s.p]=i}}else s.t[s.p]=e+s.xs0;else s.t[s.p]=s.e;else s.setRatio(t);s=s._next}},c._enableTransforms=function(t){this._transform=this._transform||Lt(this._target,s,!0),this._transformType=this._transform.svg&&xt||!t&&3!==this._transformType?2:3};var Ut=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,i){var n=this._firstPT=new gt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=Ut,n.data=this},c._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},c._kill=function(e){var i,n,s,o=e;if(e.autoAlpha||e.alpha){o={};for(n in e)o[n]=e[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}return e.className&&(i=this._classNamePT)&&((s=i.xfirst)&&s._prev?this._linkCSSP(s._prev,i._next,s._prev._prev):s===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,s._prev),this._classNamePT=null),t.prototype._kill.call(this,o)};var Yt=function(t,e,i){var n,s,o,a;if(t.slice)for(s=t.length;--s>-1;)Yt(t[s],e,i);else for(s=(n=t.childNodes).length;--s>-1;)a=(o=n[s]).type,o.style&&(e.push(Q(o)),i&&i.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Yt(o,e,i)};return r.cascadeTo=function(t,i,n){var s,o,a,r,h=e.to(t,i,n),l=[h],c=[],u=[],p=[],d=e._internals.reservedProps;for(t=h._targets||h.target,Yt(t,c,p),h.render(i,!0,!0),Yt(t,u),h.render(0,!0,!0),h._enabled(!0),s=p.length;--s>-1;)if((o=tt(p[s],c[s],u[s])).firstMPT){o=o.difs;for(a in n)d[a]&&(o[a]=n[a]);r={};for(a in o)r[a]=c[s][a];l.push(e.fromTo(p[s],i,r,o))}return l},t.activate([r]),r},!0),function(){var t=function(t){for(;t;)t.f||t.blob||(t.r=1),t=t._next},e=a._gsDefine.plugin({propName:"roundProps",version:"1.5",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}).prototype;e._onInitAllProps=function(){for(var e,i,n,s=this._tween,o=s.vars.roundProps.join?s.vars.roundProps:s.vars.roundProps.split(","),a=o.length,r={},h=s._propLookup.roundProps;--a>-1;)r[o[a]]=1;for(a=o.length;--a>-1;)for(e=o[a],i=s._firstPT;i;)n=i._next,i.pg?i.t._roundProps(r,!0):i.n===e&&(2===i.f&&i.t?t(i.t._firstPT):(this._add(i.t,e,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:s._firstPT===i&&(s._firstPT=n),i._next=i._prev=null,s._propLookup[e]=h)),i=n;return!1},e._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,!0),this._overwriteProps.push(e)}}(),a._gsDefine.plugin({propName:"attr",API:2,version:"0.5.0",init:function(t,e,i){var n;if("function"!=typeof t.setAttribute)return!1;for(n in e)this._addTween(t,"setAttribute",t.getAttribute(n)+"",e[n]+"",n,!1,n),this._overwriteProps.push(n);return!0}}),a._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e,i){"object"!=typeof e&&(e={rotation:e}),this.finals={};var n,s,o,a,r,h=!0===e.useRadians?2*Math.PI:360;for(n in e)"useRadians"!==n&&(s=(r=(e[n]+"").split("_"))[0],o=parseFloat("function"!=typeof t[n]?t[n]:t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]()),a=(this.finals[n]="string"==typeof s&&"="===s.charAt(1)?o+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0)-o,r.length&&(-1!==(s=r.join("_")).indexOf("short")&&(a%=h)!==a%(h/2)&&(a=a<0?a+h:a-h),-1!==s.indexOf("_cw")&&a<0?a=(a+9999999999*h)%h-(a/h|0)*h:-1!==s.indexOf("ccw")&&a>0&&(a=(a-9999999999*h)%h-(a/h|0)*h)),(a>1e-6||a<-1e-6)&&(this._addTween(t,n,o,o+a,n),this._overwriteProps.push(n)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,a._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,s=a.GreenSockGlobals||a,o=s.com.greensock,r=2*Math.PI,h=Math.PI/2,l=o._class,c=function(e,i){var n=l("easing."+e,function(){},!0),s=n.prototype=new t;return s.constructor=n,s.getRatio=i,n},u=t.register||function(){},p=function(t,e,i,n,s){var o=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return u(o,t),o},d=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},f=function(e,i){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),s=n.prototype=new t;return s.constructor=n,s.getRatio=i,s.config=function(t){return new n(t)},n},m=p("Back",f("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),f("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),f("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),g=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),v=g.prototype=new t;return v.constructor=g,v.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},g.ease=new g(.7,.7),v.config=g.config=function(t,e,i){return new g(t,e,i)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),v=e.prototype=new t,v.constructor=e,v.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},v.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){for(var i,n,s,o,a,r,h=(e=e||{}).taper||"none",l=[],c=0,u=0|(e.points||20),p=u,f=!1!==e.randomize,m=!0===e.clamp,g=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)i=f?Math.random():1/u*p,n=g?g.getRatio(i):i,s="none"===h?v:"out"===h?(o=1-i)*o*v:"in"===h?i*i*v:i<.5?(o=2*i)*o*.5*v:(o=2*(1-i))*o*.5*v,f?n+=Math.random()*s-.5*s:p%2?n+=.5*s:n-=.5*s,m&&(n>1?n=1:n<0&&(n=0)),l[c++]={x:i,y:n};for(l.sort(function(t,e){return t.x-e.x}),r=new d(1,1,null),p=u;--p>-1;)a=l[p],r=new d(a.x,a.y,r);this._prev=new d(0,0,0!==r.t?r:r.next)},!0),v=i.prototype=new t,v.constructor=i,v.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},v.config=function(t){return new i(t)},i.ease=new i,p("Bounce",c("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=t<.5;return t=e?1-2*t:2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),p("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var s=l("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(t<1?t:1),this._p3=this._p2/r*(Math.asin(1/this._p1)||0),this._p2=r/this._p2},!0),o=s.prototype=new t;return o.constructor=s,o.getRatio=i,o.config=function(t,e){return new s(t,e)},s},p("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),n("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),n("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),p("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),p("Sine",c("SineOut",function(t){return Math.sin(t*h)}),c("SineIn",function(t){return 1-Math.cos(t*h)}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),u(s.SlowMo,"SlowMo","ease,"),u(i,"RoughEase","ease,"),u(e,"SteppedEase","ease,"),m},!0)}),a._gsDefine&&a._gsQueue.pop()(),function(o,a){"use strict";var r=o.GreenSockGlobals=o.GreenSockGlobals||o;if(!r.TweenLite){var h,l,c,u,p,d=function(t){var e,i=t.split("."),n=r;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},f=d("com.greensock"),m=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},g=function(){},v=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),y={},_=function(o,a,h,l){this.sc=y[o]?y[o].sc:[],y[o]=this,this.gsClass=null,this.func=h;var c=[];this.check=function(u){for(var p,f,m,g,v,w=a.length,b=w;--w>-1;)(p=y[a[w]]||new _(a[w],[])).gsClass?(c[w]=p.gsClass,b--):u&&p.sc.push(this);if(0===b&&h)for(m=(f=("com.greensock."+o).split(".")).pop(),g=d(f.join("."))[m]=this.gsClass=h.apply(h,c),l&&(r[m]=g,!(v=void 0!==t&&t.exports)&&i(15)?(n=[],void 0!==(s=function(){return g}.apply(e,n))&&(t.exports=s)):"TweenMax"===o&&v&&(t.exports=g)),w=0;w<this.sc.length;w++)this.sc[w].check()},this.check(!0)},w=o._gsDefine=function(t,e,i,n){return new _(t,e,i,n)},b=f._class=function(t,e,i){return e=e||function(){},w(t,[],function(){return e},i),e};w.globals=r;var x=[0,0,1,1],T=[],C=b("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?x.concat(e):x},!0),S=C.map={},M=C.register=function(t,e,i,n){for(var s,o,a,r,h=e.split(","),l=h.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(o=h[l],s=n?b("easing."+o,null,!0):f.easing[o]||{},a=c.length;--a>-1;)r=c[a],S[o+"."+r]=S[r+o]=s[r]=t.getRatio?t:t[r]||new t};for((c=C.prototype)._calcEnd=!1,c.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},l=(h=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--l>-1;)c=h[l]+",Power"+l,M(new C(null,null,1,l),c,"easeOut",!0),M(new C(null,null,2,l),c,"easeIn"+(0===l?",easeNone":"")),M(new C(null,null,3,l),c,"easeInOut");S.linear=f.easing.Linear.easeIn,S.swing=f.easing.Quad.easeInOut;var A=b("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(c=A.prototype).addEventListener=function(t,e,i,n,s){s=s||0;var o,a,r=this._listeners[t],h=0;for(null==r&&(this._listeners[t]=r=[]),a=r.length;--a>-1;)(o=r[a]).c===e&&o.s===i?r.splice(a,1):0===h&&o.pr<s&&(h=a+1);r.splice(h,0,{c:e,s:i,up:n,pr:s}),this!==u||p||u.wake()},c.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},c.dispatchEvent=function(t){var e,i,n,s=this._listeners[t];if(s)for(e=s.length,i=this._eventTarget;--e>-1;)(n=s[e])&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var O=o.requestAnimationFrame,I=o.cancelAnimationFrame,$=Date.now||function(){return(new Date).getTime()},B=$();for(l=(h=["ms","moz","webkit","o"]).length;--l>-1&&!O;)O=o[h[l]+"RequestAnimationFrame"],I=o[h[l]+"CancelAnimationFrame"]||o[h[l]+"CancelRequestAnimationFrame"];b("Ticker",function(t,e){var i,n,s,o,a,r=this,h=$(),l=!1!==e&&O,c=500,d=33,f=function(t){var e,l,u=$()-B;u>c&&(h+=u-d),B+=u,r.time=(B-h)/1e3,e=r.time-a,(!i||e>0||!0===t)&&(r.frame++,a+=e+(e>=o?.004:o-e),l=!0),!0!==t&&(s=n(f)),l&&r.dispatchEvent("tick")};A.call(r),r.time=r.frame=0,r.tick=function(){f(!0)},r.lagSmoothing=function(t,e){c=t||1e10,d=Math.min(e,c,0)},r.sleep=function(){null!=s&&(l&&I?I(s):clearTimeout(s),n=g,s=null,r===u&&(p=!1))},r.wake=function(){null!==s?r.sleep():r.frame>10&&(B=$()-c+5),n=0===i?g:l&&O?O:function(t){return setTimeout(t,1e3*(a-r.time)+1|0)},r===u&&(p=!0),f(2)},r.fps=function(t){if(!arguments.length)return i;o=1/((i=t)||60),a=this.time+o,r.wake()},r.useRAF=function(t){if(!arguments.length)return l;r.sleep(),l=t,r.fps(i)},r.fps(t),setTimeout(function(){l&&r.frame<5&&r.useRAF(!1)},1500)}),(c=f.Ticker.prototype=new f.events.EventDispatcher).constructor=f.Ticker;var E=b("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,K){p||u.wake();var i=this.vars.useFrames?Z:K;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});u=E.ticker=new f.Ticker,(c=E.prototype)._dirty=c._gc=c._initted=c._paused=!1,c._totalTime=c._time=0,c._rawPrevTime=-1,c._next=c._last=c._onUpdate=c._timeline=c.timeline=null,c._paused=!1;var P=function(){p&&$()-B>2e3&&u.wake(),setTimeout(P,2e3)};P(),c.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},c.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},c.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},c.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},c.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},c.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},c.render=function(t,e,i){},c.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},c.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},c._enabled=function(t,e){return p||u.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},c._kill=function(t,e){return this._enabled(!1,!1)},c.kill=function(t,e){return this._kill(t,e),this},c._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},c._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},c._callback=function(t){var e=this.vars;e[t].apply(e[t+"Scope"]||e.callbackScope||this,e[t+"Params"]||T)},c.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var s=this.vars;if(1===arguments.length)return s[t];null==e?delete s[t]:(s[t]=e,s[t+"Params"]=v(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,s[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},c.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},c.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},c.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},c.totalTime=function(t,e,i){if(p||u.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,s=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:s._time)-(this._reversed?n-t:t)/this._timeScale,s._dirty||this._uncache(!1),s._timeline)for(;s._timeline;)s._timeline._time!==(s._startTime+s._totalTime)/s._timeScale&&s.totalTime(s._totalTime,!0),s=s._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(N.length&&Q(),this.render(t,e,!1),N.length&&Q())}return this},c.progress=c.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},c.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},c.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},c.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||1e-10,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},c.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},c.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(p||t||u.wake(),i=(e=n.rawTime())-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var k=b("core.SimpleTimeline",function(t){E.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(c=k.prototype=new E).constructor=k,c.kill()._gc=!1,c._first=c._last=c._recent=null,c._sortChildren=!1,c.add=c.insert=function(t,e,i,n){var s,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),s=this._last,this._sortChildren)for(o=t._startTime;s&&s._startTime>o;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=s,this._recent=t,this._timeline&&this._uncache(!0),this},c._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},c.render=function(t,e,i){var n,s=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;s;)n=s._next,(s._active||t>=s._startTime&&!s._paused)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=n},c.rawTime=function(){return p||u.wake(),this._totalTime};var V=b("TweenLite",function(t,e,i){if(E.call(this,e,i),this.render=V.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:V.selector(t)||t;var n,s,a,r=t.jquery||t.length&&t!==o&&t[0]&&(t[0]===o||t[0].nodeType&&t[0].style&&!t.nodeType),h=this.vars.overwrite;if(this._overwrite=h=null==h?G[V.defaultOverwrite]:"number"==typeof h?h>>0:G[h],(r||t instanceof Array||t.push&&v(t))&&"number"!=typeof t[0])for(this._targets=a=m(t),this._propLookup=[],this._siblings=[],n=0;n<a.length;n++)(s=a[n])?"string"!=typeof s?s.length&&s!==o&&s[0]&&(s[0]===o||s[0].nodeType&&s[0].style&&!s.nodeType)?(a.splice(n--,1),this._targets=a=a.concat(m(s))):(this._siblings[n]=tt(s,this,!1),1===h&&this._siblings[n].length>1&&it(s,this,null,1,this._siblings[n])):"string"==typeof(s=a[n--]=V.selector(s))&&a.splice(n+1,1):a.splice(n--,1);else this._propLookup={},this._siblings=tt(t,this,!1),1===h&&this._siblings.length>1&&it(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(-this._delay))},!0),D=function(t){return t&&t.length&&t!==o&&t[0]&&(t[0]===o||t[0].nodeType&&t[0].style&&!t.nodeType)},L=function(t,e){var i,n={};for(i in t)X[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!Y[i]||Y[i]&&Y[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};(c=V.prototype=new E).constructor=V,c.kill()._gc=!1,c.ratio=0,c._firstPT=c._targets=c._overwrittenProps=c._startAt=null,c._notifyPluginsOfEnabled=c._lazy=!1,V.version="1.18.0",V.defaultEase=c._ease=new C(null,null,1,1),V.defaultOverwrite="auto",V.ticker=u,V.autoSleep=120,V.lagSmoothing=function(t,e){u.lagSmoothing(t,e)},V.selector=o.$||o.jQuery||function(t){var e=o.$||o.jQuery;return e?(V.selector=e,e(t)):"undefined"==typeof document?t:document.querySelectorAll?document.querySelectorAll(t):document.getElementById("#"===t.charAt(0)?t.substr(1):t)};var N=[],z={},R=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,H=function(t){for(var e,i=this._firstPT;i;)e=i.blob?t?this.join(""):this.start:i.c*t+i.s,i.r?e=Math.round(e):e<1e-6&&e>-1e-6&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},F=function(t,e,i,n){var s,o,a,r,h,l,c,u=[t,e],p=0,d="",f=0;for(u.start=t,i&&(i(u),t=u[0],e=u[1]),u.length=0,s=t.match(R)||[],o=e.match(R)||[],n&&(n._next=null,n.blob=1,u._firstPT=n),h=o.length,r=0;r<h;r++)c=o[r],d+=(l=e.substr(p,e.indexOf(c,p)-p))||!r?l:",",p+=l.length,f?f=(f+1)%5:"rgba("===l.substr(-5)&&(f=1),c===s[r]||s.length<=r?d+=c:(d&&(u.push(d),d=""),a=parseFloat(s[r]),u.push(a),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:a,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-a)||0,f:0,r:f&&f<4}),p+=c.length;return(d+=e.substr(p))&&u.push(d),u.setRatio=H,u},j=function(t,e,i,n,s,o,a,r){var h,l="get"===i?t[e]:i,c=typeof t[e],u="string"==typeof n&&"="===n.charAt(1),p={t:t,p:e,s:l,f:"function"===c,pg:0,n:s||e,r:o,pr:0,c:u?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-l||0};if("number"!==c&&("function"===c&&"get"===i&&(h=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),p.s=l=a?t[h](a):t[h]()),"string"==typeof l&&(a||isNaN(l))?(p.fp=a,p={t:F(l,n,r||V.defaultStringFilter,p),p:"setRatio",s:0,c:1,f:2,pg:0,n:s||e,pr:0}):u||(p.c=parseFloat(n)-parseFloat(l)||0)),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p},U=V._internals={isArray:v,isSelector:D,lazyTweens:N,blobDif:F},Y=V._plugins={},W=U.tweenLookup={},q=0,X=U.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1},G={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Z=E._rootFramesTimeline=new k,K=E._rootTimeline=new k,J=30,Q=U.lazyRender=function(){var t,e=N.length;for(z={};--e>-1;)(t=N[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);N.length=0};K._startTime=u.time,Z._startTime=u.frame,K._active=Z._active=!0,setTimeout(Q,1),E._updateRoot=V.render=function(){var t,e,i;if(N.length&&Q(),K.render((u.time-K._startTime)*K._timeScale,!1,!1),Z.render((u.frame-Z._startTime)*Z._timeScale,!1,!1),N.length&&Q(),u.frame>=J){J=u.frame+(parseInt(V.autoSleep,10)||120);for(i in W){for(t=(e=W[i].tweens).length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete W[i]}if((!(i=K._first)||i._paused)&&V.autoSleep&&!Z._first&&1===u._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||u.sleep()}}},u.addEventListener("tick",E._updateRoot);var tt=function(t,e,i){var n,s,o=t._gsTweenID;if(W[o||(t._gsTweenID=o="t"+q++)]||(W[o]={target:t,tweens:[]}),e&&(n=W[o].tweens,n[s=n.length]=e,i))for(;--s>-1;)n[s]===e&&n.splice(s,1);return W[o].tweens},et=function(t,e,i,n){var s,o,a=t.vars.onOverwrite;return a&&(s=a(t,e,i,n)),(a=V.onOverwrite)&&(o=a(t,e,i,n)),!1!==s&&!1!==o},it=function(t,e,i,n,s){var o,a,r,h;if(1===n||n>=4){for(h=s.length,o=0;o<h;o++)if((r=s[o])!==e)r._gc||r._kill(null,t,e)&&(a=!0);else if(5===n)break;return a}var l,c=e._startTime+1e-10,u=[],p=0,d=0===e._duration;for(o=s.length;--o>-1;)(r=s[o])===e||r._gc||r._paused||(r._timeline!==e._timeline?(l=l||nt(e,0,d),0===nt(r,l,d)&&(u[p++]=r)):r._startTime<=c&&r._startTime+r.totalDuration()/r._timeScale>c&&((d||!r._initted)&&c-r._startTime<=2e-10||(u[p++]=r)));for(o=p;--o>-1;)if(r=u[o],2===n&&r._kill(i,t,e)&&(a=!0),2!==n||!r._firstPT&&r._initted){if(2!==n&&!et(r,e))continue;r._enabled(!1,!1)&&(a=!0)}return a},nt=function(t,e,i){for(var n=t._timeline,s=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,s*=n._timeScale,n._paused)return-100;n=n._timeline}return o/=s,o>e?o-e:i&&o===e||!t._initted&&o-e<2e-10?1e-10:(o+=t.totalDuration()/t._timeScale/s)>e+1e-10?0:o-e-1e-10};c._init=function(){var t,e,i,n,s,o=this.vars,a=this._overwrittenProps,r=this._duration,h=!!o.immediateRender,l=o.ease;if(o.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),s={};for(n in o.startAt)s[n]=o.startAt[n];if(s.overwrite=!1,s.immediateRender=!0,s.lazy=h&&!1!==o.lazy,s.startAt=s.delay=null,this._startAt=V.to(this.target,0,s),h)if(this._time>0)this._startAt=null;else if(0!==r)return}else if(o.runBackwards&&0!==r)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(h=!1),i={};for(n in o)X[n]&&"autoCSS"!==n||(i[n]=o[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=h&&!1!==o.lazy,i.immediateRender=h,this._startAt=V.to(this.target,0,i),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=l=l?l instanceof C?l:"function"==typeof l?new C(l,o.easeParams):S[l]||V.defaultEase:V.defaultEase,o.easeParams instanceof Array&&l.config&&(this._ease=l.config.apply(l,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a);if(e&&V._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},c._initProps=function(t,e,i,n){var s,a,r,h,l,c;if(null==t)return!1;z[t._gsTweenID]&&Q(),this.vars.css||t.style&&t!==o&&t.nodeType&&Y.css&&!1!==this.vars.autoCSS&&L(this.vars,t);for(s in this.vars)if(c=this.vars[s],X[s])c&&(c instanceof Array||c.push&&v(c))&&-1!==c.join("").indexOf("{self}")&&(this.vars[s]=c=this._swapSelfInParams(c,this));else if(Y[s]&&(h=new Y[s])._onInitTween(t,this.vars[s],this)){for(this._firstPT=l={_next:this._firstPT,t:h,p:"setRatio",s:0,c:1,f:1,n:s,pg:1,pr:h._priority},a=h._overwriteProps.length;--a>-1;)e[h._overwriteProps[a]]=this._firstPT;(h._priority||h._onInitAllProps)&&(r=!0),(h._onDisable||h._onEnable)&&(this._notifyPluginsOfEnabled=!0),l._next&&(l._next._prev=l)}else e[s]=j.call(this,t,s,"get",c,s,0,null,this.vars.stringFilter);return n&&this._kill(n,t)?this._initProps(t,e,i,n):this._overwrite>1&&this._firstPT&&i.length>1&&it(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,n)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(z[t._gsTweenID]=!0),r)},c.render=function(t,e,i){var n,s,o,a,r=this._time,h=this._duration,l=this._rawPrevTime;if(t>=h)this._totalTime=this._time=h,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,s="onComplete",i=i||this._timeline.autoRemoveChildren),0===h&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||l<0||1e-10===l&&"isPause"!==this.data)&&l!==t&&(i=!0,l>1e-10&&(s="onReverseComplete")),this._rawPrevTime=a=!e||t||l===t?t:1e-10);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==r||0===h&&l>0)&&(s="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===h&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(1e-10!==l||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||l===t?t:1e-10)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/h,u=this._easeType,p=this._easePower;(1===u||3===u&&c>=.5)&&(c=1-c),3===u&&(c*=2),1===p?c*=c:2===p?c*=c*c:3===p?c*=c*c*c:4===p&&(c*=c*c*c*c),this.ratio=1===u?1-c:2===u?c:t/h<.5?c/2:1-c/2}else this.ratio=this._ease.getRatio(t/h);if(this._time!==r||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=r,this._rawPrevTime=l,N.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/h):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==r&&t>=0&&(this._active=!0),0===r&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):s||(s="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==h||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,e,i),e||(this._time!==r||n)&&this._callback("onUpdate")),s&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s),0===h&&1e-10===this._rawPrevTime&&1e-10!==a&&(this._rawPrevTime=0)))}},c._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:V.selector(e)||e;var n,s,o,a,r,h,l,c,u,p=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((v(e)||D(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(h=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){r=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],s=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;r=this._propLookup,s=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(r){if(l=t||r,c=t!==s&&"all"!==s&&t!==r&&("object"!=typeof t||!t._tempKill),i&&(V.onOverwrite||this.vars.onOverwrite)){for(o in l)r[o]&&(u||(u=[]),u.push(o));if((u||!t)&&!et(this,i,e,u))return!1}for(o in l)(a=r[o])&&(p&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,h=!0),a.pg&&a.t._kill(l)&&(h=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete r[o]),c&&(s[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return h},c.invalidate=function(){return this._notifyPluginsOfEnabled&&V._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],E.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(-this._delay)),this},c._enabled=function(t,e){if(p||u.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=tt(n[i],this,!0);else this._siblings=tt(this.target,this,!0)}return E.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&V._onPluginEvent(t?"_onEnable":"_onDisable",this)},V.to=function(t,e,i){return new V(t,e,i)},V.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new V(t,e,i)},V.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new V(t,e,n)},V.delayedCall=function(t,e,i,n,s){return new V(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:s,overwrite:0})},V.set=function(t,e){return new V(t,0,e)},V.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:V.selector(t)||t;var i,n,s,o;if((v(t)||D(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(V.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(o=n[i],s=i;--s>-1;)o===n[s]&&n.splice(i,1)}else for(i=(n=tt(t).concat()).length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},V.killTweensOf=V.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=V.getTweensOf(t,e),s=n.length;--s>-1;)n[s]._kill(i,t)};var st=b("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=st.prototype},!0);if(c=st.prototype,st.version="1.18.0",st.API=2,c._firstPT=null,c._addTween=j,c.setRatio=H,c._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},c._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},V._onPluginEvent=function(t,e){var i,n,s,o,a,r=e._firstPT;if("_onInitAllProps"===t){for(;r;){for(a=r._next,n=s;n&&n.pr>r.pr;)n=n._next;(r._prev=n?n._prev:o)?r._prev._next=r:s=r,(r._next=n)?n._prev=r:o=r,r=a}r=e._firstPT=s}for(;r;)r.pg&&"function"==typeof r.t[t]&&r.t[t]()&&(i=!0),r=r._next;return i},st.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===st.API&&(Y[(new t[e])._propName]=t[e]);return!0},w.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,s=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=b("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){st.call(this,i,n),this._overwriteProps=s||[]},!0===t.global),r=a.prototype=new st(i);r.constructor=a,a.API=t.API;for(e in o)"function"==typeof t[e]&&(r[o[e]]=t[e]);return a.version=t.version,st.activate([a]),a},h=o._gsQueue){for(l=0;l<h.length;l++)h[l]();for(c in y)y[c].func||o.console.log("GSAP encountered missing dependency: com.greensock."+c)}p=!1}}(void 0!==t&&t.exports&&void 0!==o?o:this||window)}).call(e,function(){return this}())},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,i){var n,s,o=i(17),a=i(20);!function(i,r,h){"use strict";function l(t){var e=arguments.length<=0||arguments[0]===h?{}:arguments[0];this.el=e.el===h||null===e.el?r.createElement("div"):e.elements,this.elements=e.elements===h||null===e.elements?[]:e.elements,this.aElements=[],this.isMobile=e.isMobile!==h&&null!==e.isMobile&&e.isMobile,this.aType={image:["gif","jpg","webp","png","svg"],video:["mp4"],iframe:[]},this.viewport={height:i.innerHeight||r.documentElement.clientHeight||r.body.clientHeight,width:i.innerWidth||r.documentElement.clientWidth||r.body.clientWidth},this.allLoaded=!1,this.ticketScroll=!1,this.raf=null,this.isBinded=!1,this.scrollY=i.scrollY||i.pageYOffset,this.handlers={onImageLoaded:m.bind(this),onScroll:T.bind(this),onUpdate:C.bind(this)}}l.EVENT={ELEMENT_LOADED:"onElementLoaded",COMPLETE:"onLazyLoadLoaded"},l.prototype.init=function(){this.scrollY=i.scrollY||r.documentElement.scrollTop;for(var t=this.elements.length-1;t>=0;t--){var e=c.call(this,this.elements[t],t,this.elements);e.error?console.info(this.aElements[t].errorMessage,this.aElements[t]):this.aElements.push(e)}return this.elements=null,this.bindEvents(),this.load(),this},l.prototype.bindEvents=function(){return this.isBinded?this:(this.isBinded=!0,i.addEventListener("scroll",this.handlers.onScroll),this.raf=o(this.handlers.onUpdate),this)},l.prototype.unbindEvents=function(){return this.isBinded?(this.isBinded=!1,i.removeEventListener("scroll",this.handlers.onScroll),o.cancel(this.raf),this):this},l.prototype.reflow=function(t){var e=t!==h?t:null;this.scrollY=i.scrollY||r.documentElement.scrollTop;for(var n=this.aElements.length-1;n>=0;n--)null!==e?this.aElements[n].el===e&&this.reflow(this.aElements[n],!1):this.reflow(this.aElements[n],!1);return this},l.prototype.reset=function(t){for(var e=t!==h?t:null,i=this.aElements.length-1;i>=0;i--)null!==e?this.aElements[i].el===e&&b.call(this,this.aElements[i]):b.call(this,this.aElements[i]);return null===e&&(this.allLoaded=!1),this.bindEvents(),this},l.prototype.load=function(){for(var t=this.aElements.length-1;t>=0;t--){var e=this.aElements[t];if(x.call(this,e)&&!e.isLoaded&&!e.isLoading)switch(this.isMobile?e.typeMobile:e.type){case"image":f.call(this,e);break;case"video":g.call(this,e);break;case"iframe":v.call(this,e)}}return this},l.prototype.dispose=function(){this.unbindEvents();for(var t=this.aElements.length-1;t>=0;t--)b.call(this,this.aElements[t]);return this.aElements.length=0,this.aElements=[],this.el=null,this};var c=function(t,e,n){var s=u.call(this,t);return null===t.getAttribute("data-src")?(s.error=!0,s.errorMessage="no src provided",s.isLoaded=!0,s):(s.src=t.getAttribute("data-src").replace(" ",""),s.src="http"!==s.src.substr(0,4)&&"//"!==s.src.substr(0,2)?"/"===s.src.substr(0,1)?"//"+i.location.hostname+s.src:"//"+i.location.hostname+i.location.pathname+s.src:s.src,s.src=encodeURI(s.src),s.srcMobile=null!==t.getAttribute("data-src-m")?t.getAttribute("data-src-m").replace(" ",""):s.src,s.srcMobile="http"!==s.srcMobile.substr(0,4)&&"//"!==s.srcMobile.substr(0,2)?"/"===s.srcMobile.substr(0,1)?"//"+i.location.hostname+s.srcMobile:"//"+i.location.hostname+i.location.pathname+s.srcMobile:s.srcMobile,s.srcMobile=encodeURI(s.srcMobile),s.height=null!==t.getAttribute("data-height")?parseInt(t.getAttribute("data-height"),0):t.clientHeight,s.top=t.getBoundingClientRect().top+this.scrollY,s.type=null!==t.getAttribute("data-type")?d.call(this,t.getAttribute("data-type")):p.call(this,s.src),s.typeMobile=t.getAttribute("data-type-m")?d.call(this,t.getAttribute("data-type-m")):p.call(this,s.srcMobile),null===s.typeMobile&&s.src===s.srcMobile&&(s.typeMobile=s.type),null===s.type?(s.error=!0,s.errorMessage="no type recognized",s.isLoaded=!0,s):s)},u=function(t){return{container:t,src:null,error:!1,errorMessage:"",srcMobile:null,isLoaded:!1,isLoading:!1,isShown:!1,height:0,top:0,type:null,typeMobile:null}},p=function(t){var e=t.split(".").pop();e=e.split("?")[0].toLowerCase();for(var i in this.aType)for(var n=this.aType[i],s=n.length-1;s>=0;s--)if(n[s]===e)return i;return null},d=function(t){for(var e in this.aType)if(e===t.toLowerCase())return e;return null},f=function(t){t.xhr=null,t.isLoading=!0;var e=new Image,n=this.isMobile?t.srcMobile:t.src;if(t.el=e,!(/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor))&&URL&&Blob&&XMLHttpRequest){var s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType="arraybuffer",t.xhr=s,s.onerror=function(i){e.addEventListener("onload",this.handlers.onImageLoaded(e,t)),e.src=n}.bind(this),s.onload=function(o){if(4===s.readyState)if(200===s.status){var a=n.split(".").pop();a=a.split("?")[0].toLowerCase();var r=new i.Uint8Array(s.response),h=new Blob([r],{type:"image/"+a}),l=URL.createObjectURL(h);e.addEventListener("onload",this.handlers.onImageLoaded(e,t)),e.src=l}else e.addEventListener("onload",this.handlers.onImageLoaded(e,t)),e.src=n}.bind(this),s.send()}else e.addEventListener("onload",this.handlers.onImageLoaded(e,t)),e.src=n},m=function(t,e){e.isLoaded=!0,e.isLoading=!1;var n=this.isMobile?e.srcMobile:e.src,s="http"!==n.substr(0,4)?i.location.protocol+n:n;e.el.setAttribute("data-pin-media",s),e.el.setAttribute("srcset",s),e.el.setAttribute("data-pin-url",i.location.pathname),URL&&URL.revokeObjectURL(t.src),null!==e.xhr&&(e.xhr=null),e.container.appendChild(e.el),_.call(this,e)},g=function(t){t.isLoading=!0;var e=r.createElement("video");t.el=e,e.autoplay=null===t.container.getAttribute("data-autoplay")||t.container.getAttribute("data-autoplay"),e.muted=null===t.container.getAttribute("data-muted")||t.container.getAttribute("data-muted"),e.loop=null===t.container.getAttribute("data-loop")||t.container.getAttribute("data-loop"),e.controls=null!==t.container.getAttribute("data-controls")&&t.container.getAttribute("data-controls"),e.src=this.isMobile?t.srcMobile:t.src,e.onloadedmetadata=function(){t.isLoaded=!0,t.isLoading=!1,e.onloadedmetadata=null,t.container.appendChild(e),_.call(this,t)}.bind(this)},v=function(t){if(t.isLoading=!0,t.xhr=null,XMLHttpRequest){var e=new XMLHttpRequest;e.open("GET",t.src,!0),e.responseType="document",t.xhr=e,e.onreadystatechange=function(i){4===e.readyState&&y.call(this,t)}.bind(this),e.send(null)}else y.call(this,t)},y=function(t){t.isLoaded=!0,t.isLoading=!1,null!==t.xhr&&(t.xhr=null);var e=r.createElement("iframe");e.src=t.src,t.container.appendChild(e),t.el=e,_.call(this,t)},_=function(t){var e=new a(l.EVENT.ELEMENT_LOADED,{detail:t});this.el.dispatchEvent(e),setTimeout(function(){t.container.classList.add("show"),t.container.classList.add("loaded"),t.isShown=!0}.bind(this),300),w.call(this)},w=function(){for(var t=!0,e=this.aElements.length-1;e>=0;e--)this.aElements[e].isLoaded||(t=!1);if(t){var i=new a(l.EVENT.COMPLETE);this.el.dispatchEvent(i),this.allLoaded=!0,this.unbindEvents()}},b=function(t){t.xhr!==h&&null!==t.xhr&&(t.xhr.abort(),t.xhr=null),t.isLoaded=!1,t.isLoading=!1,t.container.classList.remove("show"),t.container.classList.remove("loaded"),t.el!==h&&null!==t.el.parentNode&&t.el.parentNode.removeChild(t.el)},x=function(t){var e=t.top;return e<=this.viewport.height+this.scrollY&&e+t.height>=this.scrollY},T=function(t){this.ticketScroll=!0},C=function(t){this.allLoaded||(this.ticketScroll&&(this.ticketScroll=!1,this.scrollY=i.scrollY||i.pageYOffset,this.load()),this.raf=o(this.handlers.onUpdate))};n=[],(s=function(){return l}.apply(e,n))!==h&&(t.exports=s)}(window,document)},function(t,e,i){(function(e){for(var n=i(18),s="undefined"==typeof window?e:window,o=["moz","webkit"],a="AnimationFrame",r=s["request"+a],h=s["cancel"+a]||s["cancelRequest"+a],l=0;!r&&l<o.length;l++)r=s[o[l]+"Request"+a],h=s[o[l]+"Cancel"+a]||s[o[l]+"CancelRequest"+a];if(!r||!h){var c=0,u=0,p=[];r=function(t){if(0===p.length){var e=n(),i=Math.max(0,1e3/60-(e-c));c=i+e,setTimeout(function(){var t=p.slice(0);p.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(c)}catch(t){setTimeout(function(){throw t},0)}},Math.round(i))}return p.push({handle:++u,callback:t,cancelled:!1}),u},h=function(t){for(var e=0;e<p.length;e++)p[e].handle===t&&(p[e].cancelled=!0)}}t.exports=function(t){return r.call(s,t)},t.exports.cancel=function(){h.apply(s,arguments)},t.exports.polyfill=function(){s.requestAnimationFrame=r,s.cancelAnimationFrame=h}}).call(e,function(){return this}())},function(t,e,i){(function(e){(function(){var i,n,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(t.exports=function(){return(i()-s)/1e6},n=e.hrtime,s=(i=function(){var t;return 1e9*(t=n())[0]+t[1]})()):Date.now?(t.exports=function(){return Date.now()-s},s=Date.now()):(t.exports=function(){return(new Date).getTime()-s},s=(new Date).getTime())}).call(this)}).call(e,i(19))},function(t,e){function i(t){return h===setTimeout?setTimeout(t,0):h.call(null,t,0)}function n(t){l===clearTimeout?clearTimeout(t):l.call(null,t)}function s(){d&&u&&(d=!1,u.length?p=u.concat(p):f=-1,p.length&&o())}function o(){if(!d){var t=i(s);d=!0;for(var e=p.length;e;){for(u=p,p=[];++f<e;)u&&u[f].run();f=-1,e=p.length}u=null,d=!1,n(t)}}function a(t,e){this.fun=t,this.array=e}function r(){}var h,l,c=t.exports={};!function(){try{h=setTimeout}catch(t){h=function(){throw new Error("setTimeout is not defined")}}try{l=clearTimeout}catch(t){l=function(){throw new Error("clearTimeout is not defined")}}}();var u,p=[],d=!1,f=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new a(t,e)),1!==p.length||d||i(o)},a.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=r,c.addListener=r,c.once=r,c.off=r,c.removeListener=r,c.removeAllListeners=r,c.emit=r,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(t,e){(function(e){var i=e.CustomEvent;t.exports=function(){try{var t=new i("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?i:"function"==typeof document.createEvent?function(t,e){var i=document.createEvent("CustomEvent");return e?i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):i.initCustomEvent(t,!1,!1,void 0),i}:function(t,e){var i=document.createEventObject();return i.type=t,e?(i.bubbles=Boolean(e.bubbles),i.cancelable=Boolean(e.cancelable),i.detail=e.detail):(i.bubbles=!1,i.cancelable=!1,i.detail=void 0),i}}).call(e,function(){return this}())},function(t,e){"use strict";var i=function(){this.appName="Zocdoc",this.isIE=!1,this.gaID="",this.baseUrl=window.location.origin||"http://"+window.location.host,this.root="",this.isRetina=!1,this.device=null,this.hasWEBGL=!0,this.breakPointMobile=722,this.isDevMode="http://dev.zocdoc.sdny.in"!=window.location.origin,this.folderPath="https://www.zocdoc.com"==window.location.origin?"https://zocdocstatic.wpengine.com/wp-content/themes/zocdoc-careers/":window.location.origin+"/wp-content/themes/zocdoc-careers/"};i.prototype.init=function(){Detectizr.detect()};t.exports=new i},function(t,e,i){(function(e,n){var s=i(21),o=(i(12),i(23),i(7),function(t,i){this.assetsImages=[],this.loadedAssets=0,this.assetsAreLoaded=!1,this.steps=[],this.assetsManager(t,i),e.View.call(this)});n.extend(o,e.View),n.extend(o.prototype,e.View.prototype),o.prototype.assetsManager=function(t,e){var i,o=[];n.each(t,function(n,a){for(var a=n.first;a<=n.end;a++)(i=new Image).src=s.folderPath+"assets/images/"+n.path+"/"+n.name+a+n.format,this.steps.push(i.src),i.onload=function(){100==(o=++this.loadedAssets/t.length*100)&&(this.assetsAreLoaded=!0,this.steps=[],e&&e())}.bind(this),i.onerror=function(){console.log(i.src+"------------- ASSET LOAD ERROR")}.bind(this),a==n.end&&(this.assetsImages.push(this.steps),this.steps=[])}.bind(this))},t.exports=o}).call(e,i(2),i(3))},function(t,e,i){var n=i(12);t.exports=new function(){this.getScaledFontSize=function(t){var e,i,n=t.maxHeight instanceof Function?t.maxHeight.call(this):t.maxHeight;return t.currentHeight&&null!==n?t.currentHeight>n&&(i=(e=n/t.currentHeight*t.currentFontSize)>t.maxFont?t.maxFont:e<t.minFont?t.minFont:e):i=(e=t.maxWidth/t.currentWidth*t.currentFontSize)>t.maxFont?t.maxFont:e<t.minFont?t.minFont:e,i},this.getMaxNumberInArray=function(t){return Math.max.apply(Math,t)},this.getRandomNumber=function(t,e,i){var n=Math.round(Math.random());void 0!=e&&e&&(n=!0);var s=Math.round(Math.random()*t);return void 0!=i&&s<i&&(s=i),n?s:-s},this.rgbToHex=function(t,e,i){return t=1==parseInt(t).toString(16).length?"0"+parseInt(t).toString(16):parseInt(t).toString(16),e=1==parseInt(e).toString(16).length?"0"+parseInt(e).toString(16):parseInt(e).toString(16),i=1==parseInt(i).toString(16).length?"0"+parseInt(i).toString(16):parseInt(i).toString(16),"#"+t+e+i},this.disappearPage=function(t){window.location.href=t},this.triggerEl=function(t,e){var i=t,s=t.getBoundingClientRect().top;return{el:i,y:s,visible:s>=-e&&s<=n.viewport.height,percentage:s>=-e&&s<=n.viewport.height?(-s+n.viewport.height)/(e+n.viewport.height):null,top:s,height:e}},this.loadYTAPI=function(t){if(window.onYouTubeIframeAPIReady)t();else{var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i),window.onYouTubeIframeAPIReady=function(){t.call(this)}.bind(this)}}}},function(t,e,i){(function(e,n){var s=i(11),o=i(25),a=i(30),r=i(12),h=i(7),l=function(t,e){this.hasBeenPlayed=!1,this.$title=null,this.$description=null,this.$headerNavigation=null,this.isShown=!1,this.id="intro",this.events={click:"onClickContent","click .arrow":"onArrowClicked"},s.call(this,t,e)};e.extend(l,s),e.extend(l.prototype,s.prototype),l.prototype.init=function(){this.options.mainCanvasView.register(this.id,new o({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.intro,h.CANVAS_SHOWN,u.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.intro,h.CANVAS_HIDDEN,p.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.intro,h.LOADER_COMPLETE,c.bind(this)),s.prototype.init.call(this)};var c=function(){this.trigger(h.LOADER_COMPLETE)};l.prototype.animateZee=function(){this.options.mainCanvasView.aCanvasAnimViews.intro.generateImages(this.options.mainView.loader.assetsImages[0],this.options.mainCanvasView.aCanvasAnimViews.intro.rastersLoader,0,function(){this.options.mainCanvasView.aCanvasAnimViews.intro.manageStep(-1,"Loader",0,function(){this.options.mainCanvasView.aCanvasAnimViews.intro.hideZee(),this.show()}.bind(this))}.bind(this))},l.prototype.onClickContent=function(t){this.options.mainCanvasView.aCanvasAnimViews.intro.mouseDown({x:t.clientX,y:t.clientY})},l.prototype.onArrowClicked=function(){this.options.mainView.goToNextSection()},l.prototype.initDOM=function(){this.$title=this.$el.find("h2"),this.$description=this.$el.find("p"),this.$arrowCTA=this.$el.find(".arrow"),this.$headerNavigation=n(".page-header .navigation"),this.animateArrow(),s.prototype.initDOM.call(this)},l.prototype.setupDOM=function(){TweenMax.set(this.$title,{autoAlpha:0,y:40}),TweenMax.set(this.$description,{autoAlpha:0,y:40}),TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),n(this.$el).removeClass("hidden"),s.prototype.setupDOM.call(this)},l.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},l.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,0,{autoAlpha:1,display:"flex"},0),this.TL.show.to(this.$title,.5,{autoAlpha:1,y:0,ease:new Ease(a(.25,1,.5,1.25))},.4),this.TL.show.to(this.$description,.5,{autoAlpha:1,y:0,ease:new Ease(a(.25,1,.5,1.25))},.45)},l.prototype.show=function(){this.isLoaded&&this.TL&&this.TL.show&&(TweenMax.set(this.$el,{zIndex:30}),this.TL.show.play(0),this.options.mainCanvasView.showCanvas(this.id),"default"===r.breakpoint&&(this.menuIsFixed=!1,TweenMax.to(this.$headerNavigation,.4,{y:0,ease:Expo.easeOut})))},l.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.options.mainCanvasView.aCanvasAnimViews.intro.canAnimate=!0,this.trigger(h.BLOCK_SHOWN),this.isShown=!0,s.prototype.onShown.call(this)};var u=function(){this.trigger(h.CANVAS_SHOWN)};l.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$title,.5,{autoAlpha:0,y:-100,ease:Cubic.easeIn},.1),this.TL.hide.to(this.$description,.5,{autoAlpha:0,y:-80,ease:Cubic.easeIn},.15),this.TL.hide.to(this.$el,.5,{autoAlpha:0,display:"none",ease:Cubic.easeIn},.2)},l.prototype.hide=function(){"default"===r.breakpoint&&(this.menuIsFixed=!0,TweenMax.to(this.$headerNavigation,.4,{y:-64,ease:Expo.easeOut})),this.TL.hide.play(0),this.options.mainCanvasView.hideCanvas(this.id),this.options.mainCanvasView.aCanvasAnimViews.intro.canAnimate=!1},l.prototype.onHidden=function(){TweenMax.set(this.$el,{zIndex:0}),this.isShown=!1,this.trigger(h.BLOCK_HIDDEN),s.prototype.onHidden.call(this)};var p=function(){this.trigger(h.CANVAS_HIDDEN)};l.prototype.onResize=function(){"default"!==r.breakpoint||this.menuIsFixed||this.isShown?"sml"===r.breakpoint&&(this.menuIsFixed=!1,TweenMax.set(this.$headerNavigation,{y:0})):(this.menuIsFixed=!0,TweenMax.set(this.$headerNavigation,{y:-64})),s.prototype.onResize.call(this)},l.prototype.onUpdate=function(){},l.prototype.animateArrow=function(){TweenMax.fromTo(this.$arrowCTA,.6,{y:0},{y:5,ease:Power4.easeNone,repeat:-1,yoyo:!0})},l.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=l}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(29),o=i(13),a=(i(30),i(7)),r=i(12),h=function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.indexLoader=0,this.rasters=[],this.isInit=!1,this.canAnimate=!1,this.scale=r.isMobile?640/r.viewport.height*.3:640/r.viewport.height*.7,o.call(this,t,e)};e.extend(h,o),e.extend(h.prototype,o.prototype),h.prototype.init=function(){if(this.paper=this.options.mainCanvasView.paper,this.itemsPosition=[],r.viewport.width>1500)t=800;else if(r.viewport.width<1500&&r.viewport.width>922)t=550;else var t=475;if(r.viewport.width>1500)e=200;else if(r.viewport.width<1500&&r.viewport.width>922)e=175;else var e=150;this.mainBlob=new s({scope:this,canvasView:this.mainCanvasView,color:"#d5b5fb",position:{x:"window.innerWidth / 2",y:"CV.isMobile ? window.innerHeight / 2 - 20 : window.innerHeight / 2"},size:{w:"window.innerWidth * 4",maxW:"window.innerWidth * 4"},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",orbit:{h:2,w:2},divide:2,multiply:.2}),this.controlBlob=new s({scope:this,canvasView:this.mainCanvasView,position:{x:"window.innerWidth / 2",y:"window.innerHeight / 2"},size:{w:t,maxW:t},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",orbit:{h:0,w:0}}),this.joinBlob=new s({scope:this,canvasView:this.mainCanvasView,color:"#fef25c",position:{x:"window.innerWidth / 2 + this.scope.controlBlob.path.bounds._width / 3",y:"window.innerHeight / 2 + this.scope.controlBlob.path.bounds._height / 2"},size:{w:"40",maxW:e},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",orbit:{h:2,w:2},text:{content:"Join us",color:"#0b215a",position:{x:"this.scope.joinBlob.position._x",y:"this.scope.joinBlob.position._y"}},divide:2,multiply:.2,canHover:!0,canClick:!0,goTo:"/about/careers-list"}),this.joinBlob.path.opacity=0,this.joinBlob.text.opacity=0,this.controlBlob.path.visible=!1,this.rastersLoader=[],o.prototype.init.call(this)},h.prototype.initTL=function(){this.initTLShow(),o.prototype.initTL.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),l.call(this);var t={width:this.mainBlob.path.bounds._width,y:this.mainBlob.path.position.y},e={width:this.joinBlob.path.bounds._width,y:this.joinBlob.path.position.y,opacity:this.joinBlob.path.opacity},i={opacity:0};if(r.viewport.width>1500)n=800;else if(r.viewport.width<1500&&r.viewport.width>922)n=550;else var n=450;if(r.viewport.width>1500)s=200;else if(r.viewport.width<1500&&r.viewport.width>922)s=175;else var s=150;this.TL.show.to(t,1,{width:n,y:"sml"===r.breakpoint?r.viewport.height/2-80:r.viewport.height/2,onUpdate:function(){var e=this.mainBlob.getScale({w:t.width},this.mainBlob.path);this.mainBlob.path.scale(e),this.mainBlob.path.position.y=t.y}.bind(this),onUpdateParams:["{self}"],ease:Elastic.easeOut.config(1,1.2)},0).to(e,.6,{width:s,y:this.joinBlob.path.position.y,opacity:1,y:r.isMobile?r.viewport.height/2+this.controlBlob.path.bounds._height/2-70:r.viewport.height/2+this.controlBlob.path.bounds._height/2-20,onUpdate:function(){var t=this.joinBlob.getScale({w:e.width},this.joinBlob.path);this.joinBlob.path.scale(t),this.joinBlob.path.position.y=e.y,this.joinBlob.text.position.y=e.y,this.joinBlob.path.opacity=e.opacity}.bind(this),onUpdateParams:["{self}"],ease:Elastic.easeOut.config(1,.75)},.8).to(i,.6,{opacity:1,onUpdate:function(){this.joinBlob.text.opacity=i.opacity}.bind(this),onUpdateParams:["{self}"]},.9)};var l=function(){var t=this.joinBlob.getScale({w:40},this.joinBlob.path);this.joinBlob.path.scale(t),this.joinBlob.path.opacity=0,this.joinBlob.path.visible=!0,this.joinBlob.path.position.x="default"===r.breakpoint?r.viewport.width/2+this.controlBlob.path.bounds._width/3+40:r.viewport.width/2,this.joinBlob.path.position.y=r.viewport.height/2+this.controlBlob.path.bounds._height/2+60};h.prototype.show=function(){this.TL.show&&this.killTL("show"),this.initTLShow(),TweenMax.set(this.mainCanvasView.options.el,{zIndex:0}),this.mainBlob.path.visible=!0,this.mainBlob.canAnimate=!1,this.joinBlob.canAnimate=!1,this.canAnimate=!1,setTimeout(function(){var t=new n.Rectangle(new n.Point(0,0),new n.Size(500,500)),e=new n.Shape.Rectangle(t);this.mainBlob.path.toShape(e)}.bind(this),600),this.TL.show&&this.TL.show.play(0)},h.prototype.onShown=function(){this.mainBlob.generateSettingsPoints(),this.joinBlob.generateSettingsPoints(),this.mainBlob.canAnimate=!0,this.joinBlob.canAnimate=!0,this.canAnimate=!0,this.isShown=!0,this.itemsPosition.push({name:"joinBlob",i:0,y:this.joinBlob.path.position.y,x:this.joinBlob.path.position.x,w:this.joinBlob.path.bounds._width,h:this.joinBlob.path.bounds._height}),this.trigger(a.CANVAS_SHOWN)},h.prototype.initTLHide=function(){this.mainBlob.canAnimate=!0,this.joinBlob.canAnimate=!0,this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)});var t={width:this.mainBlob.path.bounds._width,height:this.mainBlob.path.bounds._height,y:this.mainBlob.path.position.y},e={width:this.joinBlob.path.bounds._width,y:this.joinBlob.path.position.y},i={opacity:1};this.TL.hide.to(t,.8,{width:100,height:this.mainBlob.path.bounds._height+500,y:0-this.mainBlob.path.bounds._height,onUpdate:function(){var e=this.mainBlob.getScale({w:t.width},this.mainBlob.path);this.mainBlob.path.scale(e),this.mainBlob.path.position.y=t.y}.bind(this),onUpdateParams:["{self}"],ease:Power4.easeIn,onComplete:function(){this.mainBlob.path.visible=!1}.bind(this)},.15).to(e,.8,{width:100,y:0-this.joinBlob.path.bounds._width,onUpdate:function(){var t=this.joinBlob.getScale({w:e.width},this.joinBlob.path);this.joinBlob.path.scale(t),this.joinBlob.path.position.y=e.y}.bind(this),onUpdateParams:["{self}"],ease:Power4.easeIn},.1).to(i,.3,{opacity:0,onUpdate:function(){this.joinBlob.text.opacity=i.opacity}.bind(this),onUpdateParams:["{self}"]},0)},h.prototype.manageStep=function(t,e,i,n){this.rasterStep=this["rasters"+e],this["index"+e]=this["index"+e]-t,this.indexStep=this["index"+e],this.rasterStep[this.indexStep].visible=!0,this.rasterStep[this.indexStep+t]&&(this.rasterStep[this.indexStep+t].visible=!1),this.indexStep<this.rasterStep.length-1&&this.indexStep>0?setTimeout(function(){this.manageStep(t,e,i,n)}.bind(this),25):n()},h.prototype.generateImages=function(t,i,s,o){var a;this.rasters.push(e.each(t,function(t){(a=new n.Raster(t)).visible=!1,a.position=new n.Point(this.paper.view.size.width/2,this.paper.view.size.height/2+s),a.scale(this.scale),i.push(a)}.bind(this))),o()},h.prototype.hideZee=function(){var t={opacity:1,width:640/r.viewport.width/2};this.trigger(a.LOADER_COMPLETE),TweenMax.to(t,.3,{opacity:0,width:320/r.viewport.width/2,delay:.1,onUpdate:function(){this.rastersLoader[this.rastersLoader.length-1].opacity=t.opacity}.bind(this)})},h.prototype.hide=function(){this.mainBlob.canAnimate=!1,this.joinBlob.canAnimate=!1,this.canAnimate=!1,this.TL.hide&&this.killTL("hide"),this.initTLHide(),this.TL.hide&&this.TL.hide.play(0)},h.prototype.onHidden=function(){this.trigger(a.CANVAS_HIDDEN),this.joinBlob.path.opacity=0,this.joinBlob.path.visible=!1,this.mainBlob.generateSettingsPoints(),this.joinBlob.generateSettingsPoints(),this.mainBlob.path.visible=!1},h.prototype.animate=function(t){this.event=t,this.canAnimate&&!r.isMobile&&this.mainBlob.animate(t),this.canAnimate&&!r.isMobile&&this.joinBlob.animate(t)},h.prototype.mouseMove=function(t){if(this.canAnimate){var e=this.isItem(t.point);document.body.style.cursor=e||0==e?"pointer":"default"}},h.prototype.mouseDown=function(t){if(this.canAnimate){var e=this.isItem(t);(e||0==e)&&this.isShown&&"joinBlob"==this.itemsPosition[e].name&&(location.href="http://"+window.location.hostname+"/about/careers-list")}},h.prototype.isItem=function(t){var i,n,s,o,a=null;return e.each(this.itemsPosition,function(e,r){i=e.y,n=e.x,s=e.w/2,o=e.h/2,t.y>i-o&&t.y<i+o&&t.x>n-s&&t.x<n+s&&(this.currentItem=e,a=r)}.bind(this)),a},h.prototype.onResize=function(){if(this.isShown){if(r.viewport.width>1500)t=this.mainBlob.getScale({w:800},this.mainBlob.path);else if(r.viewport.width<1500&&r.viewport.width>922)t=this.mainBlob.getScale({w:550},this.mainBlob.path);else var t=this.mainBlob.getScale({w:450},this.mainBlob.path);if(r.viewport.width>1500)e=this.controlBlob.getScale({w:800},this.controlBlob.path);else if(r.viewport.width<1500&&r.viewport.width>922)e=this.controlBlob.getScale({w:550},this.controlBlob.path);else var e=this.controlBlob.getScale({w:450},this.controlBlob.path);if(r.viewport.width>1500)i=this.joinBlob.getScale({w:200},this.joinBlob.path);else if(r.viewport.width<1500&&r.viewport.width>922)i=this.joinBlob.getScale({w:175},this.joinBlob.path);else var i=this.joinBlob.getScale({w:150},this.joinBlob.path);this.mainBlob.path.scale(t),this.controlBlob.path.scale(e),this.joinBlob.path.scale(i),"sml"===r.breakpoint?(this.mainBlob.path.position.x=r.viewport.width/2,this.mainBlob.path.position.y=r.viewport.height/2-80,this.controlBlob.path.position.x=r.viewport.width/2,this.controlBlob.path.position.y=r.viewport.height/2-80,this.joinBlob.path.position.x=r.viewport.width/2,this.joinBlob.path.position.y=r.viewport.height/2+this.controlBlob.path.bounds._height/2-40):(this.mainBlob.path.position.x=r.viewport.width/2,this.mainBlob.path.position.y=r.viewport.height/2,this.controlBlob.path.position.x=r.viewport.width/2,this.controlBlob.path.position.y=r.viewport.height/2,this.joinBlob.path.position.x=r.viewport.width/2+this.controlBlob.path.bounds._width/3+40,this.joinBlob.path.position.y=r.viewport.height/2+this.controlBlob.path.bounds._height/2-20),this.joinBlob.text.position.x=this.joinBlob.path.position._x,this.joinBlob.text.position.y=this.joinBlob.path.position._y,this.controlBlob.onResize(),this.mainBlob.onResize(),this.joinBlob.onResize()}},t.exports=h}).call(e,i(3),i(26))},function(t,e,i){var n,s;(function(o,a){var r=function(o,a){var h=o?o.window:i(27),l=h&&h.document;o=o||h;var c=new function(){function t(t,e,i,s,o){function a(n,a){"string"==typeof(a=a||(a=h(e,n))&&(a.get?a:a.value))&&"#"===a[0]&&(a=t[a.substring(1)]||a);var l,p="function"==typeof a,d=a,f=o||p&&!a.base?a&&a.get?n in t:t[n]:null;o&&f||(p&&f&&(a.base=f),p&&!1!==s&&(l=n.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(r[l[3].toLowerCase()+l[4]]=l[2]),d&&!p&&d.get&&"function"==typeof d.get&&c.isPlainObject(d)||(d={value:d,writable:!0}),(h(t,n)||{configurable:!0}).configurable&&(d.configurable=!0,d.enumerable=i),u(t,n,d))}var r={};if(e){for(var l in e)e.hasOwnProperty(l)&&!n.test(l)&&a(l);for(var l in r){var p=r[l],d=t["set"+p],f=t["get"+p]||d&&t["is"+p];!f||!0!==s&&0!==f.length||a(l,{get:f,set:d})}}return t}function e(t,e,i){return t&&("length"in t&&!t.getLength&&"number"==typeof t.length?s:o).call(t,e,i=i||t),i}function i(t,e,i){for(var n=i,s=e.length;n<s;n++){var o=e[n];for(var a in o)o.hasOwnProperty(a)&&(t[a]=o[a])}return t}var n=/^(statics|enumerable|beans|preserve)$/,s=[].forEach||function(t,e){for(var i=0,n=this.length;i<n;i++)t.call(e,this[i],i,this)},o=function(t,e){for(var i in this)this.hasOwnProperty(i)&&t.call(e,this[i],i,this)},r=Object.create||function(t){return{__proto__:t}},h=Object.getOwnPropertyDescriptor||function(t,e){var i=t.__lookupGetter__&&t.__lookupGetter__(e);return i?{get:i,set:t.__lookupSetter__(e),enumerable:!0,configurable:!0}:t.hasOwnProperty(e)?{value:t[e],enumerable:!0,configurable:!0,writable:!0}:null},l=Object.defineProperty||function(t,e,i){return(i.get||i.set)&&t.__defineGetter__?(i.get&&t.__defineGetter__(e,i.get),i.set&&t.__defineSetter__(e,i.set)):t[e]=i.value,t},u=function(t,e,i){return delete t[e],l(t,e,i)};return t(function(){i(this,arguments,0)},{inject:function(e){if(e){var i=!0===e.statics?e:e.statics,n=e.beans,s=e.preserve;i!==e&&t(this.prototype,e,e.enumerable,n,s),t(this,i,!0,n,s)}for(var o=1,a=arguments.length;o<a;o++)this.inject(arguments[o]);return this},extend:function(){for(var e,i,n,s=this,o=0,a=arguments.length;o<a&&(!e||!i);o++)n=arguments[o],e=e||n.initialize,i=i||n.prototype;return e=e||function(){s.apply(this,arguments)},i=e.prototype=i||r(this.prototype),u(i,"constructor",{value:e,writable:!0,configurable:!0}),t(e,this,!0),arguments.length&&this.inject.apply(e,arguments),e.base=s,e}},!0).inject({inject:function(){for(var e=0,i=arguments.length;e<i;e++){var n=arguments[e];n&&t(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var t=r(this);return t.inject.apply(t,arguments)},each:function(t,i){return e(this,t,i)},set:function(){return i(this,arguments,0)},clone:function(){return new this.constructor(this)},statics:{each:e,create:r,define:u,describe:h,set:function(t){return i(t,arguments,1)},clone:function(t){return i(new t.constructor,arguments,0)},isPlainObject:function(t){var e=null!=t&&t.constructor;return e&&(e===Object||e===c||"Object"===e.name)},pick:function(t,e){return t!==a?t:e}}})};t.exports=c,c.inject({toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+c.each(this,function(t,e){if(!/^_/.test(e)){var i=typeof t;this.push(e+": "+("number"===i?f.instance.number(t):"string"===i?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return c.importJSON(t,this)},exportJSON:function(t){return c.exportJSON(this,t)},toJSON:function(){return c.serialize(this)},_set:function(t){if(t&&c.isPlainObject(t))return c.filter(this,t)},statics:{exports:{enumerable:!0},extend:function t(){var e=t.base.apply(this,arguments),i=e.prototype._class;return i&&!c.exports[i]&&(c.exports[i]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)&&Array.isArray(e)){if((n=t.length)!==e.length)return!1;for(;n--;)if(!c.equals(t[n],e[n]))return!1}else{var i=Object.keys(t),n=i.length;if(n!==Object.keys(e).length)return!1;for(;n--;){var s=i[n];if(!e.hasOwnProperty(s)||!c.equals(t[s],e[s]))return!1}}return!0}return!1},read:function(t,e,i,n){if(this===c){var s=this.peek(t,e);return t.__index++,s}var o=this.prototype._readIndex,r=e||o&&t.__index||0;n||(n=t.length-r);var h=t[r];return h instanceof this||i&&i.readNull&&null==h&&n<=1?(o&&(t.__index=r+1),h&&i&&i.clone?h.clone():h):(h=c.create(this.prototype),o&&(h.__read=!0),h=h.initialize.apply(h,r>0||n<t.length?Array.prototype.slice.call(t,r,r+n):t)||h,o&&(t.__index=r+h.__read,h.__read=a),h)},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readAll:function(t,e,i){for(var n,s=[],o=e||0,a=t.length;o<a;o++)s.push(Array.isArray(n=t[o])?this.read(n,0,i):this.read(t,o,i,1));return s},readNamed:function(t,e,i,n,s){var o=this.getNamed(t,e),r=o!==a;if(r){var h=t._filtered;h||((h=t._filtered=c.create(t[0]))._filtering=t[0]),h[e]=a}return this.read(r?[o]:t,i,n,s)},getNamed:function(t,e){var i=t[0];if(t._hasObject===a&&(t._hasObject=1===t.length&&c.isPlainObject(i)),t._hasObject)return e?i[e]:t._filtered||i},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,i){for(var n=Object.keys(e._filtering||e),s=0,o=n.length;s<o;s++){var r=n[s];if(!i||!i[r]){var h=e[r];h!==a&&(t[r]=h)}}return t},isPlainValue:function(t,e){return this.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,i,n){e=e||{};var s,o=!n;if(o&&(e.formatter=new f(e.precision),n={length:0,definitions:{},references:{},add:function(t,e){var i="#"+t._id,n=this.references[i];if(!n){this.length++;var s=e.call(t),o=t._class;o&&s[0]!==o&&s.unshift(o),this.definitions[i]=s,n=this.references[i]=[i]}return n}}),t&&t._serialize){s=t._serialize(e,n);var a=t._class;!a||t._compactSerialize||!o&&i||s[0]===a||s.unshift(a)}else if(Array.isArray(t)){s=[];for(var r=0,h=t.length;r<h;r++)s[r]=c.serialize(t[r],e,i,n)}else if(c.isPlainObject(t)){s={};for(var l=Object.keys(t),r=0,h=l.length;r<h;r++){var u=l[r];s[u]=c.serialize(t[u],e,i,n)}}else s="number"==typeof t?e.formatter.number(t,e.precision):t;return o&&n.length>0?[["dictionary",n.definitions],s]:s},deserialize:function(t,e,i,n,s){var o=t,a=!i,r=a&&t&&t.length&&"dictionary"===t[0][0];if(i=i||{},Array.isArray(t)){var h=t[0],l="dictionary"===h;if(1==t.length&&/^#/.test(h))return i.dictionary[h];o=[];for(var u=(h=c.exports[h])?1:0,p=t.length;u<p;u++)o.push(c.deserialize(t[u],e,i,l,r));if(h){var d=o;e?o=e(h,d,a||s):(o=c.create(h.prototype),h.apply(o,d))}}else if(c.isPlainObject(t)){o={},n&&(i.dictionary=o);for(var f in t)o[f]=c.deserialize(t[f],e,i)}return r?o[1]:o},exportJSON:function(t,e){var i=c.serialize(t,e);return e&&!1===e.asString?i:JSON.stringify(i)},importJSON:function(t,e){return c.deserialize("string"==typeof t?JSON.parse(t):t,function(t,i,n){var s=n&&e&&e.constructor===t,o=s?e:c.create(t.prototype);if(1===i.length&&o instanceof M&&(s||!(o instanceof O))){var a=i[0];c.isPlainObject(a)&&(a.insert=!1)}return(s?o._set:t).apply(o,i),s&&(e=null),o})},splice:function(t,e,i,n){var s=e&&e.length,o=i===a;(i=o?t.length:i)>t.length&&(i=t.length);for(l=0;l<s;l++)e[l]._index=i+l;if(o)return t.push.apply(t,e),[];var r=[i,n];e&&r.push.apply(r,e);for(var h=t.splice.apply(t,r),l=0,c=h.length;l<c;l++)h[l]._index=a;for(var l=i+s,c=t.length;l<c;l++)t[l]._index=l;return h},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var u={on:function(t,e){if("string"!=typeof t)c.each(t,function(t,e){this.on(e,t)},this);else{var i=this._eventTypes,n=i&&i[t],s=this._callbacks=this._callbacks||{};-1===(s=s[t]=s[t]||[]).indexOf(e)&&(s.push(e),n&&n.install&&1===s.length&&n.install.call(this,t))}return this},off:function(t,e){if("string"==typeof t){var i,n=this._eventTypes,s=n&&n[t],o=this._callbacks&&this._callbacks[t];return o&&(!e||-1!==(i=o.indexOf(e))&&1===o.length?(s&&s.uninstall&&s.uninstall.call(this,t),delete this._callbacks[t]):-1!==i&&o.splice(i,1)),this}c.each(t,function(t,e){this.off(e,t)},this)},once:function(t,e){return this.on(t,function(){e.apply(this,arguments),this.off(t,e)})},emit:function(t,e){var i=this._callbacks&&this._callbacks[t];if(!i)return!1;var n=[].slice.call(arguments,1),s=e&&e.target&&!e.currentTarget;i=i.slice(),s&&(e.currentTarget=this);for(var o=0,a=i.length;o<a;o++)if(!1===i[o].apply(this,n)){e&&e.stop&&e.stop();break}return s&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,i=this._callbacks,n=t?"install":"uninstall";if(e)for(var s in i)if(i[s].length>0){var o=e[s],a=o&&o[n];a&&a.call(this,s)}},statics:{inject:function t(e){var i=e._events;if(i){var n={};c.each(i,function(t,i){var s="string"==typeof t,o=s?t:i,a=c.capitalize(o),r=o.substring(2).toLowerCase();n[r]=s?{}:t,o="_"+o,e["get"+a]=function(){return this[o]},e["set"+a]=function(t){var e=this[o];e&&this.off(r,e),t&&this.on(r,t),this[o]=t}}),e._eventTypes=n}return t.base.apply(this,arguments)}}},p=c.extend({_class:"PaperScope",initialize:function t(){r=this,this.settings=new c({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this.palettes=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var i=at.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in i||"mozDash"in i,nativeBlendModes:rt.nativeModes},at.release(i)}if(!this.agent){var n=o.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(n)||[])[0],a="darwin"===s?"mac":s,h=e.agent=e.browser={platform:a};a&&(h[a]=!0),n.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(t,e,i,n,s){if(!h.chrome){var o="opera"===e?n:/^(node|trident)$/.test(e)?s:i;h.version=o,h.versionNumber=parseFloat(o),e="trident"===e?"msie":e,h.name=e,h[e]=!0}}),h.chrome&&delete h.webkit,h.atom&&delete h.chrome}},version:"0.10.2",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){r.PaperScript.execute(t,this,e),K.updateFocus()},install:function(t){var e=this;c.each(["project","view","tool"],function(i){c.define(t,i,{configurable:!0,get:function(){return e[i]}})});for(var i in this)!/^_/.test(i)&&this[i]&&(t[i]=this[i])},setup:function(t){return r=this,this.project=new S(t),this},createCanvas:function(t,e){return at.getCanvas(t,e)},activate:function(){r=this},clear:function(){for(var t=this.projects,e=this.tools,i=this.palettes,n=t.length-1;n>=0;n--)t[n].remove();for(n=e.length-1;n>=0;n--)e[n].remove();for(n=i.length-1;n>=0;n--)i[n].remove()},remove:function(){this.clear(),delete p._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,i){return e[t](i)||e[t]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),d=c.extend(u,{initialize:function(t){this._scope=r,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(c.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),f=c.extend({initialize:function(t){this.precision=c.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,i){return this.number(t)+(i||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});f.instance=new f;var m=new function(){function t(t,e,i){return t<e?e:t>i?i:t}function e(t,e,i){function n(t){var e=134217729*t,i=t-e+e;return[i,t-i]}var s=e*e-t*i,a=e*e+t*i;if(3*o(s)<a){var r=n(t),h=n(e),l=n(i),c=e*e,u=t*i;s=c-u+(h[0]*h[0]-c+2*h[0]*h[1]+h[1]*h[1]-(r[0]*l[0]-u+r[0]*l[1]+r[1]*l[0]+r[1]*l[1]))}return s}function i(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||t>1e8)?r(2,-Math.round(h(t))):0}var n=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],s=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],o=Math.abs,a=Math.sqrt,r=Math.pow,h=Math.log2||function(t){return Math.log(t)*Math.LOG2E};return{TOLERANCE:1e-6,EPSILON:1e-12,MACHINE_EPSILON:1.12e-16,CURVETIME_EPSILON:4e-7,GEOMETRIC_EPSILON:2e-7,WINDING_EPSILON:2e-7,TRIGONOMETRIC_EPSILON:1e-7,CLIPPING_EPSILON:1e-9,KAPPA:4*(a(2)-1)/3,isZero:function(t){return t>=-1e-12&&t<=1e-12},clamp:t,integrate:function(t,e,i,o){for(var a=n[o-2],r=s[o-2],h=.5*(i-e),l=h+e,c=0,u=o+1>>1,p=1&o?r[c++]*t(l):0;c<u;){var d=h*a[c];p+=r[c++]*(t(l+d)+t(l-d))}return h*p},findRoot:function(t,e,i,n,s,a,r){for(var h=0;h<a;h++){var l=t(i),c=l/e(i),u=i-c;if(o(c)<r)return u;l>0?(s=i,i=u<=n?.5*(n+s):u):(n=i,i=u>=s?.5*(n+s):u)}return i},solveQuadratic:function(n,s,r,h,l,c){var u,p=1/0;if(o(n)<1e-12){if(o(s)<1e-12)return o(r)<1e-12?-1:0;u=-r/s}else{var d=e(n,s*=-.5,r);if(d&&o(d)<1.12e-16){var f=i(o(n),o(s),o(r));f&&(d=e(n*=f,s*=f,r*=f))}if(d>=-1.12e-16){var m=d<0?0:a(d),g=s+(s<0?-m:m);0===g?p=-(u=r/n):(u=g/n,p=r/g)}}var v=0,y=null==l,_=l-1e-12,w=c+1e-12;return isFinite(u)&&(y||u>_&&u<w)&&(h[v++]=y?u:t(u,l,c)),p!==u&&isFinite(p)&&(y||p>_&&p<w)&&(h[v++]=y?p:t(p,l,c)),v},solveCubic:function(e,n,s,h,l,c,u){function p(t){var i=e*(d=t);v=(i+(f=i+n))*d+(g=f*d+s),y=g*d+h}var d,f,g,v,y,_=i(o(e),o(n),o(s),o(h));if(_&&(e*=_,n*=_,s*=_,h*=_),o(e)<1e-12)e=n,f=s,g=h,d=1/0;else if(o(h)<1e-12)f=n,g=s,d=0;else{p(-n/e/3);var w=y/e,b=r(o(w),1/3),x=w<0?-1:1,T=-v/e,C=T>0?1.324717957244746*Math.max(b,a(T)):b,S=d-x*C;if(S!==d){do{p(S),S=0===v?d:d-y/v/(1+1.12e-16)}while(x*S>x*d);o(e)*d*d>o(h/d)&&(f=((g=-h/d)-s)/d)}}var M=m.solveQuadratic(e,f,g,l,c,u),A=null==c;return isFinite(d)&&(0===M||M>0&&d!==l[0]&&d!==l[1])&&(A||d>c-1e-12&&d<u+1e-12)&&(l[M++]=A?d:t(d,c,u)),M}}},g={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},v=c.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var i=typeof t;if("number"===i){var n="number"==typeof e;this.x=t,this.y=n?e:t,this.__read&&(this.__read=n?2:1)}else if("undefined"===i||null===t)this.x=this.y=0,this.__read&&(this.__read=null===t?1:0);else{var s="string"===i?t.split(/[\s,]+/)||[]:t;Array.isArray(s)?(this.x=s[0],this.y=s.length>1?s[1]:s[0]):"x"in s?(this.x=s.x,this.y=s.y):"width"in s?(this.x=s.width,this.y=s.height):"angle"in s?(this.x=s.length,this.y=0,this.setAngle(s.angle)):(this.x=this.y=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1)}},set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new v(this.x,this.y)},toString:function(){var t=f.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this.set(Math.cos(e)*t,Math.sin(e)*t)}else{var i=t/this.getLength();m.isZero(i)&&this.getAngle(),this.set(this.x*i,this.y*i)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=v.read(arguments),e=this.getLength()*t.getLength();if(m.isZero(e))return NaN;var i=this.dot(t)/e;return Math.acos(i<-1?-1:i>1?1:i)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this.set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=v.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=v.read(arguments),e=t.x-this.x,i=t.y-this.y,n=e*e+i*i;return c.read(arguments)?n:Math.sqrt(n)},normalize:function(t){t===a&&(t=1);var e=this.getLength(),i=0!==e?t/e:0,n=new v(this.x*i,this.y*i);return i>=0&&(n._angle=this._angle),n},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var i=e?this.subtract(e):this,n=Math.sin(t),s=Math.cos(t);return i=new v(i.x*s-i.y*n,i.x*n+i.y*s),e?i.add(e):i},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=v.read(arguments);return new v(this.x+t.x,this.y+t.y)},subtract:function(){var t=v.read(arguments);return new v(this.x-t.x,this.y-t.y)},multiply:function(){var t=v.read(arguments);return new v(this.x*t.x,this.y*t.y)},divide:function(){var t=v.read(arguments);return new v(this.x/t.x,this.y/t.y)},modulo:function(){var t=v.read(arguments);return new v(this.x%t.x,this.y%t.y)},negate:function(){return new v(-this.x,-this.y)},isInside:function(){return b.read(arguments).contains(this)},isClose:function(){var t=v.read(arguments),e=c.read(arguments);return this.getDistance(t)<=e},isCollinear:function(){var t=v.read(arguments);return v.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=v.read(arguments);return v.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){return m.isZero(this.x)&&m.isZero(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},dot:function(){var t=v.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=v.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=v.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new v(t.x*e,t.y*e)},statics:{min:function(){var t=v.read(arguments),e=v.read(arguments);return new v(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=v.read(arguments),e=v.read(arguments);return new v(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new v(Math.random(),Math.random())},isCollinear:function(t,e,i,n){return Math.abs(t*n-e*i)<=1e-7*Math.sqrt((t*t+e*e)*(i*i+n*n))},isOrthogonal:function(t,e,i,n){return Math.abs(t*i+e*n)<=1e-7*Math.sqrt((t*t+e*e)*(i*i+n*n))}}},c.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new v(e(this.x),e(this.y))}},{})),y=v.extend({initialize:function(t,e,i,n){this._x=t,this._y=e,this._owner=i,this._setter=n},set:function(t,e,i){return this._x=t,this._y=e,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner.changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),_=c.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var i=typeof t;if("number"===i){var n="number"==typeof e;this.width=t,this.height=n?e:t,this.__read&&(this.__read=n?2:1)}else if("undefined"===i||null===t)this.width=this.height=0,this.__read&&(this.__read=null===t?1:0);else{var s="string"===i?t.split(/[\s,]+/)||[]:t;Array.isArray(s)?(this.width=s[0],this.height=s.length>1?s[1]:s[0]):"width"in s?(this.width=s.width,this.height=s.height):"x"in s?(this.width=s.x,this.height=s.y):(this.width=this.height=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1)}},set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new _(this.width,this.height)},toString:function(){var t=f.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=_.read(arguments);return new _(this.width+t.width,this.height+t.height)},subtract:function(){var t=_.read(arguments);return new _(this.width-t.width,this.height-t.height)},multiply:function(){var t=_.read(arguments);return new _(this.width*t.width,this.height*t.height)},divide:function(){var t=_.read(arguments);return new _(this.width/t.width,this.height/t.height)},modulo:function(){var t=_.read(arguments);return new _(this.width%t.width,this.height%t.height)},negate:function(){return new _(-this.width,-this.height)},isZero:function(){return m.isZero(this.width)&&m.isZero(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new _(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new _(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new _(Math.random(),Math.random())}}},c.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new _(e(this.width),e(this.height))}},{})),w=_.extend({initialize:function(t,e,i,n){this._width=t,this._height=e,this._owner=i,this._setter=n},set:function(t,e,i){return this._width=t,this._height=e,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),b=c.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,i,n){var s=typeof t,o=0;if("number"===s?(this.x=t,this.y=e,this.width=i,this.height=n,o=4):"undefined"===s||null===t?(this.x=this.y=this.width=this.height=0,o=null===t?1:0):1===arguments.length&&(Array.isArray(t)?(this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3],o=1):t.x!==a||t.width!==a?(this.x=t.x||0,this.y=t.y||0,this.width=t.width||0,this.height=t.height||0,o=1):t.from===a&&t.to===a&&(this.x=this.y=this.width=this.height=0,this._set(t),o=1)),!o){var r=v.readNamed(arguments,"from"),h=c.peek(arguments);if(this.x=r.x,this.y=r.y,h&&h.x!==a||c.hasNamed(arguments,"to")){var l=v.readNamed(arguments,"to");this.width=l.x-r.x,this.height=l.y-r.y,this.width<0&&(this.x=l.x,this.width=-this.width),this.height<0&&(this.y=l.y,this.height=-this.height)}else{var u=_.read(arguments);this.width=u.width,this.height=u.height}o=arguments.__index}this.__read&&(this.__read=o)},set:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},clone:function(){return new b(this.x,this.y,this.width,this.height)},equals:function(t){var e=c.isPlainValue(t)?b.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=f.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){return new(t?v:y)(this.x,this.y,this,"setPoint")},setPoint:function(){var t=v.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){return new(t?_:w)(this.width,this.height,this,"setSize")},setSize:function(){var t=_.read(arguments);this._fixX&&(this.x+=(this.width-t.width)*this._fixX),this._fixY&&(this.y+=(this.height-t.height)*this._fixY),this.width=t.width,this.height=t.height,this._fixW=1,this._fixH=1},getLeft:function(){return this.x},setLeft:function(t){this._fixW||(this.width-=t-this.x),this.x=t,this._fixX=0},getTop:function(){return this.y},setTop:function(t){this._fixH||(this.height-=t-this.y),this.y=t,this._fixY=0},getRight:function(){return this.x+this.width},setRight:function(t){this._fixX!==a&&1!==this._fixX&&(this._fixW=0),this._fixW?this.x=t-this.width:this.width=t-this.x,this._fixX=1},getBottom:function(){return this.y+this.height},setBottom:function(t){this._fixY!==a&&1!==this._fixY&&(this._fixH=0),this._fixH?this.y=t-this.height:this.height=t-this.y,this._fixY=1},getCenterX:function(){return this.x+.5*this.width},setCenterX:function(t){this.x=t-.5*this.width,this._fixX=.5},getCenterY:function(){return this.y+.5*this.height},setCenterY:function(t){this.y=t-.5*this.height,this._fixY=.5},getCenter:function(t){return new(t?v:y)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=v.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==a||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(b.read(arguments)):this._containsPoint(v.read(arguments))},_containsPoint:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e+t.width<=this.x+this.width&&i+t.height<=this.y+this.height},intersects:function(){var t=b.read(arguments);return t.x+t.width>this.x&&t.y+t.height>this.y&&t.x<this.x+this.width&&t.y<this.y+this.height},touches:function(){var t=b.read(arguments);return t.x+t.width>=this.x&&t.y+t.height>=this.y&&t.x<=this.x+this.width&&t.y<=this.y+this.height},intersect:function(){var t=b.read(arguments),e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),n=Math.min(this.x+this.width,t.x+t.width),s=Math.min(this.y+this.height,t.y+t.height);return new b(e,i,n-e,s-i)},unite:function(){var t=b.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),s=Math.max(this.y+this.height,t.y+t.height);return new b(e,i,n-e,s-i)},include:function(){var t=v.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x),s=Math.max(this.y+this.height,t.y);return new b(e,i,n-e,s-i)},expand:function(){var t=_.read(arguments),e=t.width,i=t.height;return new b(this.x-e/2,this.y-i/2,this.width+e,this.height+i)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===a?t:e)-this.height)}},c.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var i=t.join(""),n=/^[RL]/.test(i);e>=4&&(t[1]+=n?"Y":"X");var s=t[n?0:1],o=t[n?1:0],a="get"+s,r="get"+o,h="set"+s,l="set"+o,c="set"+i;this["get"+i]=function(t){return new(t?v:y)(this[a](),this[r](),this,c)},this[c]=function(){var t=v.read(arguments);this[h](t.x),this[l](t.y)}},{beans:!0})),x=b.extend({initialize:function(t,e,i,n,s,o){this.set(t,e,i,n,!0),this._owner=s,this._setter=o},set:function(t,e,i,n,s){return this._x=t,this._y=e,this._width=i,this._height=n,s||this._owner[this._setter](this),this}},new function(){var t=b.prototype;return c.each(["x","y","width","height"],function(t){var e=c.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(t){this[i]=t,this._dontNotify||this._owner[this._setter](this)}},c.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var i="set"+e;this[i]=function(){this._dontNotify=!0,t[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e.changeSelection&&e.changeSelection(2,t)}}))}),T=c.extend({_class:"Matrix",initialize:function t(e){var i=arguments.length,n=!0;if(6===i?this.set.apply(this,arguments):1===i?e instanceof t?this.set(e._a,e._b,e._c,e._d,e._tx,e._ty):Array.isArray(e)?this.set.apply(this,e):n=!1:0===i?this.reset():n=!1,!n)throw new Error("Unsupported matrix parameters")},set:function(t,e,i,n,s,o,a){return this._a=t,this._b=e,this._c=i,this._d=n,this._tx=s,this._ty=o,a||this._changed(),this},_serialize:function(t,e){return c.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){return new T(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=f.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var i=this._owner;return!!i&&(i.transform(null,!0,c.pick(t,!0),e),this.isIdentity())},translate:function(){var t=v.read(arguments),e=t.x,i=t.y;return this._tx+=e*this._a+i*this._c,this._ty+=e*this._b+i*this._d,this._changed(),this},scale:function(){var t=v.read(arguments),e=v.read(arguments,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=v.read(arguments,1),i=e.x,n=e.y,s=Math.cos(t),o=Math.sin(t),a=i-i*s+n*o,r=n-i*o-n*s,h=this._a,l=this._b,c=this._c,u=this._d;return this._a=s*h+o*c,this._b=s*l+o*u,this._c=-o*h+s*c,this._d=-o*l+s*u,this._tx+=a*h+r*c,this._ty+=a*l+r*u,this._changed(),this},shear:function(){var t=v.read(arguments),e=v.read(arguments,0,{readNull:!0});e&&this.translate(e);var i=this._a,n=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*i,this._d+=t.x*n,e&&this.translate(e.negate()),this._changed(),this},skew:function(){var t=v.read(arguments),e=v.read(arguments,0,{readNull:!0}),i=Math.PI/180,n=new v(Math.tan(t.x*i),Math.tan(t.y*i));return this.shear(n,e)},append:function(t){if(t){var e=this._a,i=this._b,n=this._c,s=this._d,o=t._a,a=t._c,r=t._b,h=t._d,l=t._tx,c=t._ty;this._a=o*e+r*n,this._c=a*e+h*n,this._b=o*i+r*s,this._d=a*i+h*s,this._tx+=l*e+c*n,this._ty+=l*i+c*s,this._changed()}return this},prepend:function(t){if(t){var e=this._a,i=this._b,n=this._c,s=this._d,o=this._tx,a=this._ty,r=t._a,h=t._c,l=t._b,c=t._d,u=t._tx,p=t._ty;this._a=r*e+h*i,this._c=r*n+h*s,this._b=l*e+c*i,this._d=l*n+c*s,this._tx=r*o+h*a+u,this._ty=l*o+c*a+p,this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,i=this._c,n=this._d,s=this._tx,o=this._ty,a=t*n-e*i,r=null;return a&&!isNaN(a)&&isFinite(s)&&isFinite(o)&&(this._a=n/a,this._b=-e/a,this._c=-i/a,this._d=t/a,this._tx=(i*o-n*s)/a,this._ty=(e*s-t*o)/a,r=this),r},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new T(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,i){return arguments.length<3?this._transformPoint(v.read(arguments)):this._transformCoordinates(t,e,i)},_transformPoint:function(t,e,i){var n=t.x,s=t.y;return e||(e=new v),e.set(n*this._a+s*this._c+this._tx,n*this._b+s*this._d+this._ty,i)},_transformCoordinates:function(t,e,i){for(var n=0,s=2*i;n<s;n+=2){var o=t[n],a=t[n+1];e[n]=o*this._a+a*this._c+this._tx,e[n+1]=o*this._b+a*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,i=t.y,n=e+t.width,s=i+t.height,o=[e,i,n,i,n,s,e,s];return this._transformCoordinates(o,o,4)},_transformBounds:function(t,e,i){for(var n=this._transformCorners(t),s=n.slice(0,2),o=s.slice(),a=2;a<8;a++){var r=n[a],h=1&a;r<s[h]?s[h]=r:r>o[h]&&(o[h]=r)}return e||(e=new b),e.set(s[0],s[1],o[0]-s[0],o[1]-s[1],i)},inverseTransform:function(){return this._inverseTransform(v.read(arguments))},_inverseTransform:function(t,e,i){var n=this._a,s=this._b,o=this._c,a=this._d,r=this._tx,h=this._ty,l=n*a-s*o,c=null;if(l&&!isNaN(l)&&isFinite(r)&&isFinite(h)){var u=t.x-this._tx,p=t.y-this._ty;e||(e=new v),c=e.set((u*a-p*o)/l,(p*n-u*s)/l,i)}return c},decompose:function(){var t,e,i,n=this._a,s=this._b,o=this._c,a=this._d,r=n*a-s*o,h=Math.sqrt,l=Math.atan2,c=180/Math.PI;if(0!==n||0!==s){var u=h(n*n+s*s);t=Math.acos(n/u)*(s>0?1:-1),e=[u,r/u],i=[l(n*o+s*a,u*u),0]}else if(0!==o||0!==a){var p=h(o*o+a*a);t=Math.asin(o/p)*(a>0?1:-1),e=[r/p,p],i=[0,l(n*o+s*a,p*p)]}else t=0,i=e=[0,0];return{translation:this.getTranslation(),rotation:t*c,scaling:new v(e),skewing:new v(i[0]*c,i[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new v(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},c.each(["a","b","c","d","tx","ty"],function(t){var e=c.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(t){this[i]=t,this._changed()}},{})),C=c.extend({_class:"Line",initialize:function(t,e,i,n,s){var o=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=i,this._vy=n,o=s):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,o=i),o||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new v(this._px,this._py)},getVector:function(){return new v(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return C.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return C.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(C.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0))},isCollinear:function(t){return v.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return v.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,i,n,s,o,a,r,h,l){h||(i-=t,n-=e,a-=s,r-=o);var c=i*r-n*a;if(!m.isZero(c)){var u=t-s,p=e-o,d=(a*p-r*u)/c,f=(i*p-n*u)/c;if(l||-1e-12<d&&d<1+1e-12&&-1e-12<f&&f<1+1e-12)return l||(d=d<=0?0:d>=1?1:d),new v(t+d*i,e+d*n)}},getSide:function(t,e,i,n,s,o,a,r){a||(i-=t,n-=e);var h=s-t,l=h*n-(o-e)*i;return 0!==l||r||(l=(h*i+h*i)/(i*i+n*n))>=0&&l<=1&&(l=0),l<0?-1:l>0?1:0},getSignedDistance:function(t,e,i,n,s,o,a){return a||(i-=t,n-=e),0===i?n>0?s-t:t-s:0===n?i<0?o-e:e-o:((s-t)*n-(o-e)*i)/Math.sqrt(i*i+n*n)}}}),S=d.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){d.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new X(null,null,this),this._view=K.create(this,t||at.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return c.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var n=this._changes;if(n&&e){var s=this._changesById,o=e._id,a=s[o];a?a.flags|=t:n.push(s[o]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return 0===this._children.length},remove:function t(){return!!t.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.initialize(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new O({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:B,match:function(i){var n=i._definition,s=n._id;return e[s]||(e[s]=!0,t.push(n)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var i in t){var n=t[i],s=n._selection;1&s&&n.isInserted()?e.push(n):s||this._updateSelection(n)}return e},_updateSelection:function(t){var e=t._id,i=this._selectionItems;t._selection?i[e]!==t&&(this._selectionCount++,i[e]=t):i[e]===t&&(this._selectionCount--,delete i[e])},selectAll:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(a,t)},insertLayer:function(t,e){if(e instanceof O){e._remove(!1,!0),c.splice(this._children,[e],t,0),e._setProject(this,!0);var i=e._name;i&&e.setName(i),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,i,n){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(a,new O(M.NO_INSERT),!0,!0)).insertChild(t,e,i),n&&e.activate&&e.activate(),e},getItems:function(t){return M._getItems(this,t)},getItem:function(t){return M._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return c.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var i=e[t];if(i){for(var n in i){var s=i[n];for(var o in e){var a=e[o];a&&a!=i&&delete a[s._id]}s.remove()}e[t]=null}}},draw:function(t,e,i){this._updateVersion++,t.save(),e.applyToContext(t);for(var n=this._children,s=new c({offset:new v(0,0),pixelRatio:i,viewMatrix:e.isIdentity()?null:e,matrices:[new T],updateMatrix:!0}),o=0,a=n.length;o<a;o++)n[o].draw(t,s);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var r=this._selectionItems,h=this._scope.settings.handleSize,l=this._updateVersion;for(var u in r)r[u]._drawSelection(t,e,h,r,l);t.restore()}}}),M=c.extend(u,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=c.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new T,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}}},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return c.each(t,function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var i=t&&c.isPlainObject(t),n=i&&!0===t.internal,s=this._matrix=new T,o=i&&t.project||r.project,h=r.settings;return this._id=n?null:g.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&h.applyMatrix,e&&s.translate(e),s._owner=this,this._style=new X(o._currentStyle,this,o),n||i&&!1===t.insert||!h.insertItems&&(!i||!0!==t.insert)?this._setProject(o):(i&&t.parent||o)._insertItem(a,this,!0,!0),i&&t!==M.NO_INSERT&&c.filter(this,t,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(t,e){function i(i){for(var o in i){var a=s[o];c.equals(a,"leading"===o?1.2*i.fontSize:i[o])||(n[o]=c.serialize(a,t,"data"!==o,e))}}var n={},s=this;return i(this._serializeFields),this instanceof A||i(this._style._defaults),[this._class,n]},_changed:function(t){var e=this._symbol,i=this._parent||e,n=this._project;8&t&&(this._bounds=this._position=this._decomposed=this._globalMatrix=a),i&&40&t&&M._clearBoundsCache(i),2&t&&M._clearBoundsCache(this),n&&n._changed(t,this),e&&e._changed(t)},set:function(t){return t&&this._set(t),this},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var i=e._children,n=e._namedChildren;(n[t]=n[t]||[]).push(this),t in i||(i[t]=this)}this._name=t||a,this._changed(128)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},c.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=c.capitalize(t),t="_"+t;this["get"+e]=function(){return this[t]},this["set"+e]=function(e){e!=this[t]&&(this[t]=e,this._changed("_locked"===t?128:129))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(129))}},changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,i=t.length;e<i;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setSelected(t);this.changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var i=0,n=t.length;i<n;i++)if(!t[i].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var i=0,n=e.length;i<n;i++)e[i].setFullySelected(t);this.changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=this._position,i=t?v:y;if(!e){var n=this._pivot;e=this._position=n?this._matrix._transformPoint(n):this.getBounds().getCenter(!0)}return new i(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(v.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(t){var e=this._pivot;return e&&(e=new(t?v:y)(e.x,e.y,this,"setPivot")),e},setPivot:function(){this._pivot=v.read(arguments,0,{clone:!0,readNull:!0}),this._position=a}},c.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(e){return this.getBounds(e,t)}},{beans:!0,getBounds:function(t,e){var i=e||t instanceof T,n=c.set({},i?e:t,this._boundsOptions);n.stroke&&!this.getStrokeScaling()||(n.cacheItem=this);var s=this._getCachedBounds(i&&t,n);return 0===arguments.length?new x(s.x,s.y,s.width,s.height,this,"setBounds"):s},setBounds:function(){var t=b.read(arguments),e=this.getBounds(),i=this._matrix,n=new T,s=t.getCenter();n.translate(s),t.width==e.width&&t.height==e.height||(i.isInvertible()||(i.initialize(i._backup||(new T).translate(i.getTranslation())),e=this.getBounds()),n.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),s=e.getCenter(),n.translate(-s.x,-s.y),this.transform(n)},_getBounds:function(t,e){var i=this._children;return i&&0!==i.length?(M._updateBoundsCache(this,e.cacheItem),M._getBounds(i,t,e)):new b},_getCachedBounds:function(t,e){t=t&&t._orNullIfIdentity();var i=e.internal,n=e.cacheItem,s=i?null:this._matrix._orNullIfIdentity(),o=n&&(!t||t.equals(s))&&[e.stroke?1:0,e.handle?1:0,i?1:0].join("");if(M._updateBoundsCache(this._parent||this._symbol,n),o&&this._bounds&&o in this._bounds)return this._bounds[o].rect.clone();var a=this._getBounds(t||s,e);if(o){this._bounds||(this._bounds={});this._bounds[o]={rect:a.clone(),internal:e.internal}}return a},_getStrokeMatrix:function(t,e){var i=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,n=i?i.getViewMatrix().invert():t;return n&&n._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var i=e._id,n=t._boundsCache=t._boundsCache||{ids:{},list:[]};n.ids[i]||(n.list.push(e),n.ids[i]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=a;for(var i=0,n=e.list,s=n.length;i<s;i++){var o=n[i];o!==t&&(o._bounds=o._position=a,o._boundsCache&&M._clearBoundsCache(o))}}},_getBounds:function(t,e,i){var n=1/0,s=-n,o=n,a=s;i=i||{};for(var r=0,h=t.length;r<h;r++){var l=t[r];if(l._visible&&!l.isEmpty()){var c=l._getCachedBounds(e&&e.appended(l._matrix),i);n=Math.min(c.x,n),o=Math.min(c.y,o),s=Math.max(c.x+c.width,s),a=Math.max(c.y+c.height,a)}}return isFinite(n)?new b(n,o,s-n,a-o):new b}}}),{beans:!0,_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t&&t.rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(t){var e=this._decompose(),i=e&&e.scaling,n=t?v:y;return i&&new n(i.x,i.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=v.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix,i=this._project._updateVersion;if(e&&e._updateVersion!==i&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();var n=this._parent;n&&e.prepend(n.getGlobalMatrix(!0)),e._updateVersion=i}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var i=this._children,n=0,s=i&&i.length;n<s;n++)i[n]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var i=this._children,n=0,s=i&&i.length;n<s;n++)i[n]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof O)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t,e){this.removeChildren(),this.addChildren(t,e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return c.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(M.NO_INSERT),i=this._children,n=c.pick(t?t.insert:a,t===a||!0===t),s=c.pick(t?t.deep:a,!0);i&&e.copyAttributes(this),i&&!s||e.copyContent(this),i||e.copyAttributes(this),n&&e.insertAbove(this);var o=this._name,r=this._parent;if(o&&r){for(var i=r._children,h=o,l=1;i[o];)o=h+" "+l++;o!==h&&e.setName(o)}return e},copyContent:function(t){for(var e=t._children,i=0,n=e&&e.length;i<n;i++)this.addChild(e[i].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],n=0,s=i.length;n<s;n++){var o=i[n];t.hasOwnProperty(o)&&(this[o]=t[o])}e||this._matrix.initialize(t._matrix),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var a=t._data,r=t._name;this._data=a?c.clone(a):null,r&&this.setName(r)},rasterize:function(t,e){var i=this.getStrokeBounds(),n=(t||this.getView().getResolution())/72,s=i.getTopLeft().floor(),o=i.getBottomRight().ceil(),r=new _(o.subtract(s)),h=new $(M.NO_INSERT);if(!r.isZero()){var l=at.getCanvas(r.multiply(n)),u=l.getContext("2d"),p=(new T).scale(n).translate(s.negate());u.save(),p.applyToContext(u),this.draw(u,new c({matrices:[p]})),u.restore(),h.setCanvas(l)}return h.transform((new T).translate(s.add(r.divide(2))).scale(1/n)),(e===a||e)&&h.insertAbove(this),h},contains:function(){return!!this._contains(this._matrix._inverseTransform(v.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var i=e.length-1;i>=0;i--)if(e[i].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return b.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new z.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof M&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){return this._hitTest(v.read(arguments),P.getOptions(arguments))}function e(){var t=v.read(arguments),e=P.getOptions(arguments),i=e.match,n=[];return e=c.set({},e,{match:function(t){i&&!i(t)||n.push(t)}}),this._hitTest(t,e),n}function i(t,e,i,n){var s=this._children;if(s)for(var o=s.length-1;o>=0;o--){var a=s[o],r=a!==n&&a._hitTest(t,e,i);if(r)return r}return null}return S.inject({hitTest:t,hitTestAll:e,_hitTest:i}),{hitTest:t,hitTestAll:e,_hitTestChildren:i}},{_hitTest:function(t,e,i){function n(t){return!f||t&&f(t)?t:null}function s(e,i){var n=u["get"+i]();if(t.subtract(n).divide(l).length<=1)return new P(e,m,{name:c.hyphenate(i),point:n})}if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var o=this._matrix,a=i?i.appended(o):this.getGlobalMatrix().prepend(this.getView()._matrix),r=this.getStrokeScaling()?null:a.inverted()._shiftless(),h=Math.max(e.tolerance,1e-6),l=e._tolerancePadding=new _(z._getStrokePadding(h,r));if(!(t=o._inverseTransform(t))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(t))return null;var u,p,d=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==c.hyphenate(this._class)||e.class&&!(this instanceof e.class)),f=e.match,m=this;if(d&&(e.center||e.bounds)&&this._parent){if(u=this.getInternalBounds(),e.center&&(p=s("center","Center")),!p&&e.bounds)for(var g=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],v=0;v<8&&!p;v++)p=s("bounds",g[v]);p=n(p)}return p||(p=this._hitTestChildren(t,e,a)||d&&n(this._hitTestSelf(t,e,a,r))||null),p&&p.point&&(p.point=o.transform(p.point)),p},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new P("fill",this)},matches:function(t,e){function i(t,e){for(var n in t)if(t.hasOwnProperty(n)){var s=t[n],o=e[n];if(c.isPlainObject(s)&&c.isPlainObject(o)){if(!i(s,o))return!1}else if(!c.equals(s,o))return!1}return!0}var n=typeof t;if("object"===n){for(var s in t)if(t.hasOwnProperty(s)&&!this.matches(s,t[s]))return!1;return!0}if("function"===n)return t(this);if("match"===t)return e(this);var o=/^(empty|editable)$/.test(t)?this["is"+c.capitalize(t)]():"type"===t?c.hyphenate(this._class):this[t];if("class"===t){if("function"==typeof e)return this instanceof e;o=this._class}if("function"==typeof e)return!!e(o);if(e){if(e.test)return e.test(o);if(c.isPlainObject(e))return i(e,o)}return c.equals(o,e)},getItems:function(t){return M._getItems(this,t,this._matrix)},getItem:function(t){return M._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,i,n,s,o){if(!s){var a="object"==typeof i&&i,r=a&&a.overlapping,h=a&&a.inside,l=(y=r||h)&&b.read([y]);s={items:[],recursive:a&&!1!==a.recursive,inside:!!h,overlapping:!!r,rect:l,path:r&&new z.Rectangle({rectangle:l,insert:!1})},a&&(i=c.filter({},i,{recursive:!0,inside:!0,overlapping:!0}))}var u=e._children,p=s.items;n=(l=s.rect)&&(n||new T);for(var d=0,f=u&&u.length;d<f;d++){var m=u[d],g=n&&n.appended(m._matrix),v=!0;if(l){var y=m.getBounds(g);if(!l.intersects(y))continue;l.contains(y)||s.overlapping&&(y.contains(l)||s.path.intersects(m,g))||(v=!1)}if(v&&m.matches(i)&&(p.push(m),o))break;if(!1!==s.recursive&&t(m,i,g,s,o),o&&p.length>0)break}return p}}},{importJSON:function(t){var e=c.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t,e){return this.insertChild(a,t,e)},insertChild:function(t,e,i){var n=e?this.insertChildren(t,[e],i):null;return n&&n[0]},addChildren:function(t,e){return this.insertChildren(this._children.length,t,e)},insertChildren:function(t,e,i,n){var s=this._children;if(s&&e&&e.length>0){for(r=(e=Array.prototype.slice.apply(e)).length-1;r>=0;r--)(l=e[r])&&(!n||l instanceof n)?l._remove(!1,!0):e.splice(r,1);c.splice(s,e,t,0);for(var o=this._project,a=o._changes,r=0,h=e.length;r<h;r++){var l=e[r],u=l._name;l._parent=this,l._setProject(o,!0),u&&l.setName(u),a&&this._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e,i){var n=this;if(n!==t){var s=t&&t._getOwner();s?(n._remove(!1,!0),s._insertItem(t._index+e,n,i)):n=null}return n},insertAbove:function(t,e){return this._insertAt(t,1,e)},insertBelow:function(t,e){return this._insertAt(t,0,e)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(a,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",copyTo:function(t){return t._insertItem(a,this.clone(!1))},reduce:function(t){var e=this._children;if(e&&1===e.length){var i=e[0].reduce(t);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,i=t._namedChildren,n=this._name,s=i[n],o=s?s.indexOf(this):-1;-1!==o&&(e[n]==this&&delete e[n],s.splice(o,1),s.length?e[n]=s[0]:delete i[n])}},_remove:function(t,e){var i=this._getOwner(),n=this._project,s=this._index;return!!i&&(null!=s&&(n._activeLayer===this&&(n._activeLayer=this.getNextSibling()||this.getPreviousSibling()),c.splice(i._children,null,s,1)),this._name&&this._removeNamed(),this._installEvents(!1),t&&n._changes&&this._changed(5),e&&i._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=c.pick(e,this._children.length);for(var i=c.splice(this._children,null,t,e-t),n=i.length-1;n>=0;n--)i[n]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(){return!this._children||0===this._children.length},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do{e.unshift(t)}while(t=t._parent);return e}for(var i=e(this),n=e(t),s=0,o=Math.min(i.length,n.length);s<o;s++)if(i[s]!=n[s])return i[s]._index<n[s]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},c.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var i=(e?c:v).read(arguments),n=v.read(arguments,0,{readNull:!0});return this.transform((new T)[t](i,n||this.getPosition(!0)))}},{translate:function(){var t=new T;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,i,n){t&&t.isIdentity()&&(t=null);var s=this._matrix,o=(e||this._applyMatrix)&&(!s.isIdentity()||t||e&&i&&this._children);if(!t&&!o)return this;if(t&&(!t.isInvertible()&&s.isInvertible()&&(s._backup=s.getValues()),s.prepend(t)),o=o&&this._transformContent(s,i,n)){var a=this._pivot,r=this._style,h=r.getFillColor(!0),l=r.getStrokeColor(!0);a&&s._transformPoint(a,a,!0),h&&h.transform(s),l&&l.transform(s),s.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var c=this._bounds,u=this._position;this._changed(9);var p=c&&t&&t.decompose();if(p&&!p.shearing&&p.rotation%90==0){for(var d in c){var f=c[d];if(o||!f.internal){var m=f.rect;t._transformBounds(m,m)}}var g=this._boundsGetter;(m=c[g&&g.getBounds||g||"getBounds"])&&(this._position=m.getCenter(!0)),this._bounds=c}else t&&u&&(this._position=t._transformPoint(u,u));return this},_transformContent:function(t,e,i){var n=this._children;if(n){for(var s=0,o=n.length;s<o;s++)n[s].transform(t,!0,e,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(v.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(v.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(v.read(arguments))},localToParent:function(){return this._matrix._transformPoint(v.read(arguments))},fitBounds:function(t,e){t=b.read(arguments);var i=this.getBounds(),n=i.height/i.width,s=t.height/t.width,o=(e?n>s:n<s)?t.width/i.width:t.height/i.height,a=new b(new v,new _(i.width*o,i.height*o));a.setCenter(t.getCenter()),this.setBounds(a)}}),{_setStyles:function(t,e,i){var n=this._style;if(n.hasFill()&&(t.fillStyle=n.getFillColor().toCanvasStyle(t)),n.hasStroke()){t.strokeStyle=n.getStrokeColor().toCanvasStyle(t),t.lineWidth=n.getStrokeWidth();var s=n.getStrokeJoin(),o=n.getStrokeCap(),a=n.getMiterLimit();if(s&&(t.lineJoin=s),o&&(t.lineCap=o),a&&(t.miterLimit=a),r.support.nativeDash){var h=n.getDashArray(),l=n.getDashOffset();h&&h.length&&("setLineDash"in t?(t.setLineDash(h),t.lineDashOffset=l):(t.mozDash=h,t.mozDashOffset=l))}}if(n.hasShadow()){var c=e.pixelRatio||1,u=i._shiftless().prepend((new T).scale(c,c)),p=u.transform(new v(n.getShadowBlur(),0)),d=u.transform(this.getShadowOffset());t.shadowColor=n.getShadowColor().toCanvasStyle(t),t.shadowBlur=p.getLength(),t.shadowOffsetX=d.x,t.shadowOffsetY=d.y}},draw:function(t,e,i){var n=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var s=e.matrices,o=e.viewMatrix,a=this._matrix,r=s[s.length-1].appended(a);if(r.isInvertible()){o=o?o.appended(r):r,s.push(r),e.updateMatrix&&(r._updateVersion=n,this._globalMatrix=r);var h,l,c,u=this._blendMode,p=this._opacity,d="normal"===u,f=rt.nativeModes[u],m=d&&1===p||e.dontStart||e.clip||(f||d&&p<1)&&this._canComposite(),g=e.pixelRatio||1;if(!m){var v=this.getStrokeBounds(o);if(!v.width||!v.height)return;c=e.offset,l=e.offset=v.getTopLeft().floor(),h=t,t=at.getContext(v.getSize().ceil().add(1).multiply(g)),1!==g&&t.scale(g,g)}t.save();var y=i?i.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&o,_=!m&&e.clipItem,w=!y||_;if(m?(t.globalAlpha=p,f&&(t.globalCompositeOperation=u)):w&&t.translate(-l.x,-l.y),w&&(m?a:o).applyToContext(t),_&&e.clipItem.draw(t,e.extend({clip:!0})),y){t.setTransform(g,0,0,g,0,0);var b=e.offset;b&&t.translate(-b.x,-b.y)}this._draw(t,e,o,y),t.restore(),s.pop(),e.clip&&!e.dontFinish&&t.clip(),m||(rt.process(u,t,h,p,l.subtract(c).multiply(g)),at.release(t),e.offset=c)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof R)return e._isUpdated(t);var i=this._updateVersion===t;return!i&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,i=!0),i},_drawSelection:function(t,e,i,n,s){var o=this._selection,a=1&o,r=2&o||a&&this._selectBounds,h=4&o;if(this._drawSelected||(a=!1),(a||r||h)&&this._isUpdated(s)){var l,c=this.getSelectedColor(!0)||(l=this.getLayer())&&l.getSelectedColor(!0),u=e.appended(this.getGlobalMatrix(!0)),p=i/2;if(t.strokeStyle=t.fillStyle=c?c.toCanvasStyle(t):"#009dec",a&&this._drawSelected(t,u,n),h){var d=this.getPosition(!0),f=d.x,m=d.y;t.beginPath(),t.arc(f,m,p,0,2*Math.PI,!0),t.stroke();for(var g=[[0,-1],[1,0],[0,1],[-1,0]],v=p,y=i+1,_=0;_<4;_++){var w=g[_],b=w[0],x=w[1];t.moveTo(f+b*v,m+x*v),t.lineTo(f+b*y,m+x*y),t.stroke()}}if(r){var T=u._transformCorners(this.getInternalBounds());t.beginPath();for(_=0;_<8;_++)t[0===_?"moveTo":"lineTo"](T[_],T[++_]);t.closePath(),t.stroke();for(_=0;_<8;_++)t.fillRect(T[_]-p,T[++_]-p,i,i)}}},_canComposite:function(){return!1}},c.each(["down","drag","up","move"],function(t){this["removeOn"+c.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var i="mouse"+e,n=this._project,s=n._removeSets=n._removeSets||{};s[i]=s[i]||{},s[i][this._id]=this}return this}})),A=M.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function t(e){t.base.call(this,e),1026&e&&(this._clipItem=a)},_getClipItem:function(){var t=this._clipItem;if(t===a){t=null;for(var e=this._children,i=0,n=e.length;i<n;i++)if(e[i]._clipMask){t=e[i];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,i){var n=this._getClipItem();return n?n._getCachedBounds(e&&e.appended(n._matrix),c.set({},i,{stroke:!1})):t.base.call(this,e,i)},_hitTestChildren:function t(e,i,n){var s=this._getClipItem();return(!s||s.contains(e))&&t.base.call(this,e,i,n,s)},_draw:function(t,e){var i=e.clip,n=!i&&this._getClipItem();e=e.extend({clipItem:n,clip:!1}),i?(t.beginPath(),e.dontStart=e.dontFinish=!0):n&&n.draw(t,e.extend({clip:!0}));for(var s=this._children,o=0,a=s.length;o<a;o++){var r=s[o];r!==n&&r.draw(t,e)}}}),O=A.extend({_class:"Layer",initialize:function(){A.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function t(){return this._parent?t.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),I=M.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t){this._initialize(t)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&c.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new w(t.width,t.height,this,"setSize")},setSize:function(){var t=_.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,i=t.width,n=t.height;if("rectangle"===e){var s=_.min(this._radius,t.divide(2));this._radius.set(s.width,s.height)}else"circle"===e?(i=n=(i+n)/2,this._radius=i/2):"ellipse"===e&&this._radius.set(i/2,n/2);this._size.set(i,n),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new w(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;i=2*t;this._radius=t,this._size.set(i,i)}else if(t=_.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t.width,t.height),"rectangle"===e){var i=_.max(this._size,t.multiply(2));this._size.set(i.width,i.height)}else"ellipse"===e&&this._size.set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new(z[c.capitalize(this._type)])({center:new v,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),r.settings.applyMatrix&&e.setApplyMatrix(!0),(t===a||t)&&e.insertAbove(this),e},toShape:"#clone",_draw:function(t,e,i,n){var s=this._style,o=s.hasFill(),a=s.hasStroke(),r=e.dontFinish||e.clip,h=!n;if(o||a||r){var l=this._type,c=this._radius,u="circle"===l;if(e.dontStart||t.beginPath(),h&&u)t.arc(0,0,c,0,2*Math.PI,!0);else{var p=u?c:c.width,d=u?c:c.height,f=this._size,m=f.width,g=f.height;if(h&&"rectangle"===l&&0===p&&0===d)t.rect(-m/2,-g/2,m,g);else{var v=m/2,y=g/2,_=.44771525016920644,w=p*_,b=d*_,x=[-v,-y+d,-v,-y+b,-v+w,-y,-v+p,-y,v-p,-y,v-w,-y,v,-y+b,v,-y+d,v,y-d,v,y-b,v-w,y,v-p,y,-v+p,y,-v+w,y,-v,y-b,-v,y-d];n&&n.transform(x,x,32),t.moveTo(x[0],x[1]),t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]),v!==p&&t.lineTo(x[8],x[9]),t.bezierCurveTo(x[10],x[11],x[12],x[13],x[14],x[15]),y!==d&&t.lineTo(x[16],x[17]),t.bezierCurveTo(x[18],x[19],x[20],x[21],x[22],x[23]),v!==p&&t.lineTo(x[24],x[25]),t.bezierCurveTo(x[26],x[27],x[28],x[29],x[30],x[31])}}t.closePath()}r||!o&&!a||(this._setStyles(t,e,i),o&&(t.fill(s.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var i=new b(this._size).setCenter(0,0),n=this._style,s=e.stroke&&n.hasStroke()&&n.getStrokeWidth();return t&&(i=t._transformBounds(i)),s?i.expand(z._getStrokePadding(s,this._getStrokeMatrix(t,e))):i}},new function(){function t(t,e,i){var n=t._radius;if(!n.isZero())for(var s=t._size.divide(2),o=0;o<4;o++){var a=new v(1&o?1:-1,o>1?1:-1),r=a.multiply(s),h=r.subtract(a.multiply(n)),l=new b(r,h);if((i?l.expand(i):l).contains(e))return h}}function e(t,e,i,n){var s=t.divide(e);return(!n||s.quadrant===n)&&s.subtract(s.normalize()).multiply(e).divide(i).length<=1}return{_contains:function e(i){if("rectangle"===this._type){var n=t(this,i);return n?i.subtract(n).divide(this._radius).getLength()<=1:e.base.call(this,i)}return i.divide(this.size).getLength()<=.5},_hitTestSelf:function i(n,s,o,a){var r=!1,h=this._style,l=s.stroke&&h.hasStroke(),c=s.fill&&h.hasFill();if(l||c){var u=this._type,p=this._radius,d=l?h.getStrokeWidth()/2:0,f=s._tolerancePadding.add(z._getStrokePadding(d,!h.getStrokeScaling()&&a));if("rectangle"===u){var m=f.multiply(2),g=t(this,n,m);if(g)r=e(n.subtract(g),p,f,g.getQuadrant());else{var v=new b(this._size).setCenter(0,0),y=v.expand(m),_=v.expand(m.negate());r=y._containsPoint(n)&&!_._containsPoint(n)}}else r=e(n,p,f)}return r?new P(l?"stroke":"fill",this):i.base.apply(this,arguments)}}},{statics:new function(){function t(t,e,i,n,s){var o=new I(c.getNamed(s));return o._type=t,o._size=i,o._radius=n,o.translate(e)}return{Circle:function(){var e=v.readNamed(arguments,"center"),i=c.readNamed(arguments,"radius");return t("circle",e,new _(2*i),i,arguments)},Rectangle:function(){var e=b.readNamed(arguments,"rectangle"),i=_.min(_.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return t("rectangle",e.getCenter(!0),e.getSize(!0),i,arguments)},Ellipse:function(){var e=I._readEllipse(arguments),i=e.radius;return t("ellipse",e.center,i.multiply(2),i,arguments)},_readEllipse:function(t){var e,i;if(c.hasNamed(t,"radius"))e=v.readNamed(t,"center"),i=_.readNamed(t,"radius");else{var n=b.readNamed(t,"rectangle");e=n.getCenter(!0),i=n.getSize(!0).divide(2)}return{center:e,radius:i}}}}}),$=M.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},initialize:function(t,e){if(!this._initialize(t,e!==a&&v.read(arguments,1))){var i="string"==typeof t?l.getElementById(t):t;i?this.setImage(i):this.setSource(t)}this._size||(this._size=new _,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,i=t._canvas;if(e)this._setImage(e);else if(i){var n=at.getCanvas(t._size);n.getContext("2d").drawImage(i,0,0),this._setImage(n)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new w(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=_.read(arguments);if(!t.equals(this._size))if(t.width>0&&t.height>0){var e=this.getElement();this._setImage(at.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&at.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new v(0,0).transform(t),i=new v(1,0).transform(t).subtract(e),n=new v(0,1).transform(t).subtract(e);return new _(72/i.getLength(),72/n.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){function e(t){var e=i.getView(),n=t&&t.type||"load";e&&i.responds(n)&&(r=e._scope,i.emit(n,new Q(t)))}var i=this;this._setImage(t),this._loaded?setTimeout(e,0):t&&Z.add(t,{load:function(n){i._setImage(t),e(n)},error:e})},_setImage:function(t){this._canvas&&at.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new _(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var t=at.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){at.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new h.Image,i=this._crossOrigin;i&&(e.crossOrigin=i),e.src=t,this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=b.read(arguments),e=at.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=b.read(arguments),e=new $(M.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(t){var e=v.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,i;if(t?t instanceof N?(i=t,e=t.getBounds()):"object"==typeof t&&("width"in t?e=new b(t):"x"in t&&(e=new b(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var n=Math.min(e.width,32),s=Math.min(e.height,32),o=$._sampleContext;o?o.clearRect(0,0,33,33):o=$._sampleContext=at.getContext(new _(32)),o.save();var a=(new T).scale(n/e.width,s/e.height).translate(-e.x,-e.y);a.applyToContext(o),i&&i.draw(o,new c({clip:!0,matrices:[a]})),this._matrix.applyToContext(o);var r=this.getElement(),h=this._size;r&&o.drawImage(r,-h.width/2,-h.height/2),o.restore();for(var l=o.getImageData(.5,.5,Math.ceil(n),Math.ceil(s)).data,u=[0,0,0],p=0,d=0,f=l.length;d<f;d+=4){var m=l[d+3];p+=m,m/=255,u[0]+=l[d]*m,u[1]+=l[d+1]*m,u[2]+=l[d+2]*m}for(d=0;d<3;d++)u[d]/=p;return p?Y.read(u):null},getPixel:function(){var t=v.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new Y("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=v.read(arguments),e=Y.read(arguments),i=e._convert("rgb"),n=e._alpha,s=this.getContext(!0),o=s.createImageData(1,1),a=o.data;a[0]=255*i[0],a[1]=255*i[1],a[2]=255*i[2],a[3]=null!=n?255*n:255,s.putImageData(o,t.x,t.y)},createImageData:function(){var t=_.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=b.read(arguments);return t.isEmpty()&&(t=new b(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=v.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var i=new b(this._size).setCenter(0,0);return t?t._transformBounds(i):i},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new P("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),B=M.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==a&&v.read(arguments,1))||this.setDefinition(t instanceof E?t:new E(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(t),e)},_hitTestSelf:function(t,e,i,n){var s=this._definition._item._hitTest(t,e,i);return s&&(s.item=this),s},_draw:function(t,e){this._definition._item.draw(t,e)}}),E=c.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=g.get(),this.project=r.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,function(){return c.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&M._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new v),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new B(this,t)},clone:function(){return new E(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),P=c.extend({_class:"HitResult",initialize:function(t,e,i){this.type=t,this.item=e,i&&(i.enumerable=!0,this.inject(i))},statics:{getOptions:function(t){var e=t&&c.read(t);return c.set({type:null,tolerance:r.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),k=c.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,i,n,s,o){var r,h,l,c,u=arguments.length;0===u||(1===u?t&&"point"in t?(r=t.point,h=t.handleIn,l=t.handleOut,c=t.selection):r=t:null==t||"object"==typeof t?(r=t,h=e,l=i,c=n):(r=t!==a?[t,e]:null,h=i!==a?[i,n]:null,l=s!==a?[s,o]:null)),new V(r,this,"_point"),new V(h,this,"_handleIn"),new V(l,this,"_handleOut"),c&&this.setSelection(c)},_serialize:function(t,e){var i=this._point,n=this._selection,s=n||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return n&&s.push(n),c.serialize(s,t,!0,e)},_changed:function(t){var e=this._path;if(e){var i,n=e._curves,s=this._index;n&&(t&&t!==this._point&&t!==this._handleIn||!(i=s>0?n[s-1]:e._closed?n[n.length-1]:null)||i._changed(),t&&t!==this._point&&t!==this._handleOut||!(i=n[s])||i._changed()),e._changed(25)}},getPoint:function(){return this._point},setPoint:function(){var t=v.read(arguments);this._point.set(t.x,t.y)},getHandleIn:function(){return this._handleIn},setHandleIn:function(){var t=v.read(arguments);this._handleIn.set(t.x,t.y)},getHandleOut:function(){return this._handleOut},setHandleOut:function(){var t=v.read(arguments);this._handleOut.set(t.x,t.y)},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},clearHandles:function(){this._handleIn.set(0,0),this._handleOut.set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,i=this._path;this._selection=t=t||0,i&&t!==e&&(i._updateSelection(this,e,t),i._changed(129))},changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this.changeSelection(7,t)},getIndex:function(){return this._index!==a?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new L(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,i){var n=t||{},s=n.type,o=n.factor,r=this.getPrevious(),h=this.getNext(),l=(r||this)._point,c=this._point,u=(h||this)._point,p=l.getDistance(c),d=c.getDistance(u);if(s&&"catmull-rom"!==s){if("geometric"!==s)throw new Error("Smoothing method '"+s+"' not supported.");if(r&&h){var f=l.subtract(u),m=o===a?.4:o,g=m*p/(p+d);e||this.setHandleIn(f.multiply(g)),i||this.setHandleOut(f.multiply(g-m))}}else{var y=o===a?.5:o,_=Math.pow(p,y),w=_*_,b=Math.pow(d,y),x=b*b;if(!e&&r){var T=2*x+3*b*_+w,C=3*b*(b+_);this.setHandleIn(0!==C?new v((x*l._x+T*c._x-w*u._x)/C-c._x,(x*l._y+T*c._y-w*u._y)/C-c._y):new v)}if(!i&&h){var T=2*w+3*_*b+x,C=3*_*(_+b);this.setHandleOut(0!==C?new v((w*u._x+T*c._x-x*l._x)/C-c._x,(w*u._y+T*c._y-x*l._y)/C-c._y):new v)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return 0===this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,i=t._x,n=t._y;t.set(e._x,e._y),e.set(i,n)},reversed:function(){return new k(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new k(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,i){var n=1-i,s=i,o=t._point,a=e._point,r=t._handleIn,h=e._handleIn,l=e._handleOut,c=t._handleOut;this._point.set(n*o._x+s*a._x,n*o._y+s*a._y,!0),this._handleIn.set(n*r._x+s*h._x,n*r._y+s*h._y,!0),this._handleOut.set(n*c._x+s*l._x,n*c._y+s*l._y,!0),this._changed()},_transformCoordinates:function(t,e,i){var n=this._point,s=i&&this._handleIn.isZero()?null:this._handleIn,o=i&&this._handleOut.isZero()?null:this._handleOut,a=n._x,r=n._y,h=2;return e[0]=a,e[1]=r,s&&(e[h++]=s._x+a,e[h++]=s._y+r),o&&(e[h++]=o._x+a,e[h++]=o._y+r),t&&(t._transformCoordinates(e,e,h/2),a=e[0],r=e[1],i?(n._x=a,n._y=r,h=2,s&&(s._x=e[h++]-a,s._y=e[h++]-r),o&&(o._x=e[h++]-a,o._y=e[h++]-r)):(s||(e[h++]=a,e[h++]=r),o||(e[h++]=a,e[h++]=r))),e}}),V=v.extend({initialize:function(t,e,i){var n,s,o;if(t)if((n=t[0])!==a)s=t[1];else{var r=t;(n=r.x)===a&&(n=(r=v.read(arguments)).x),s=r.y,o=r.selected}else n=s=0;this._x=n,this._y=s,this._owner=e,e[i]=this,o&&this.setSelected(!0)},set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){return m.isZero(this._x)&&m.isZero(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner.changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),D=c.extend({_class:"Curve",initialize:function(t,e,i,n,s,o,a,r){var h,l,c,u,p,d,f=arguments.length;3===f?(this._path=t,h=e,l=i):0===f?(h=new k,l=new k):1===f?"segment1"in t?(h=new k(t.segment1),l=new k(t.segment2)):"point1"in t?(c=t.point1,p=t.handle1,d=t.handle2,u=t.point2):Array.isArray(t)&&(c=[t[0],t[1]],u=[t[6],t[7]],p=[t[2]-t[0],t[3]-t[1]],d=[t[4]-t[6],t[5]-t[7]]):2===f?(h=new k(t),l=new k(e)):4===f?(c=t,p=e,d=i,u=n):8===f&&(c=[t,e],u=[a,r],p=[i-t,n-e],d=[s-a,o-r]),this._segment1=h||new k(c,null,p),this._segment2=l||new k(u,d,null)},_serialize:function(t,e){return c.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=a},clone:function(){return new D(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},remove:function(){var t=!1;if(this._path){var e=this._segment2,i=e._handleOut;(t=e.remove())&&this._segment1._handleOut.set(i.x,i.y)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){var t=v.read(arguments);this._segment1._point.set(t.x,t.y)},getPoint2:function(){return this._segment2._point},setPoint2:function(){var t=v.read(arguments);this._segment2._point.set(t.x,t.y)},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){var t=v.read(arguments);this._segment1._handleOut.set(t.x,t.y)},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){var t=v.read(arguments);this._segment2._handleIn.set(t.x,t.y)},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return 0===this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle2().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return D.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],i=0;i<8;i+=2)e.push(new v(t[i],t[i+1]));return e},getLength:function(){return null==this._length&&(this._length=D.getLength(this.getValues(),0,1)),this._length},getArea:function(){return D.getArea(this.getValues())},getLine:function(){return new C(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new D(D.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return D.getLength(this.getValues(),t,e)},getIntersections:function(t){return D._getIntersections(this.getValues(),t&&t!==this?t.getValues():null,this,t,[],{})},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:t)},divideAtTime:function(t,e){var i=null;if(t>=4e-7&&t<=1-4e-7){var n=D.subdivide(this.getValues(),t),s=n[0],o=n[1],a=e||this.hasHandles(),r=this._segment1,h=this._segment2,l=this._path;a&&(r._handleOut.set(s[2]-s[0],s[3]-s[1]),h._handleIn.set(o[4]-o[6],o[5]-o[7]));var c=s[6],u=s[7],p=new k(new v(c,u),a&&new v(s[4]-c,s[5]-u),a&&new v(o[2]-c,o[3]-u));l?(l.insert(r._index+1,p),i=this.getNext()):(this._segment2=p,this._changed(),i=new D(p,h))}return i},splitAt:function(t){return this._path?this._path.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===a?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===a?.5:e?t:this.getTimeAt(t))},reversed:function(){return new D(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut.set(0,0),this._segment2._handleIn.set(0,0)},statics:{getValues:function(t,e,i){var n=t._point,s=t._handleOut,o=e._handleIn,a=e._point,r=[n._x,n._y,n._x+s._x,n._y+s._y,a._x+o._x,a._y+o._y,a._x,a._y];return i&&i._transformCoordinates(r,r,4),r},subdivide:function(t,e){var i=t[0],n=t[1],s=t[2],o=t[3],r=t[4],h=t[5],l=t[6],c=t[7];e===a&&(e=.5);var u=1-e,p=u*i+e*s,d=u*n+e*o,f=u*s+e*r,m=u*o+e*h,g=u*r+e*l,v=u*h+e*c,y=u*p+e*f,_=u*d+e*m,w=u*f+e*g,b=u*m+e*v,x=u*y+e*w,T=u*_+e*b;return[[i,n,p,d,y,_,x,T],[x,T,w,b,g,v,l,c]]},solveCubic:function(t,e,i,n,s,o){var a=t[e],r=t[e+2],h=t[e+4],l=t[e+6],c=0;if(!(a<i&&l<i&&r<i&&h<i||a>i&&l>i&&r>i&&h>i)){var u=3*(r-a),p=3*(h-r)-u,d=l-a-u-p;c=m.solveCubic(d,p,u,a-i,n,s,o)}return c},getTimeOf:function(t,e){var i=new v(t[0],t[1]),n=new v(t[6],t[7]),s=e.isClose(i,1e-12)?0:e.isClose(n,1e-12)?1:null;if(null!==s)return s;for(var o=[e.x,e.y],a=[],r=0;r<2;r++)for(var h=D.solveCubic(t,r,o[r],a,0,1),l=0;l<h;l++)if(s=a[l],e.isClose(D.getPoint(t,s),2e-7))return s;return e.isClose(i,2e-7)?0:e.isClose(n,2e-7)?1:null},getNearestTime:function(t,e){function i(i){if(i>=0&&i<=1){var n=e.getDistance(D.getPoint(t,i),!0);if(n<l)return l=n,c=i,!0}}if(D.isStraight(t)){var n=t[0],s=t[1],o=t[6]-n,a=t[7]-s,r=o*o+a*a;if(0===r)return 0;var h=((e.x-n)*o+(e.y-s)*a)/r;return h<1e-12?0:h>.999999999999?1:D.getTimeOf(t,new v(n+h*o,s+h*a))}for(var l=1/0,c=0,u=0;u<=100;u++)i(u/100);for(var p=.005;p>4e-7;)i(c-p)||i(c+p)||(p/=2);return c},getPart:function(t,e,i){var n=e>i;if(n){var s=e;e=i,i=s}return e>0&&(t=D.subdivide(t,e)[1]),i<1&&(t=D.subdivide(t,(i-e)/(1-e))[0]),n?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var i=t[0],n=t[1],s=t[2],o=t[3],a=t[4],r=t[5],h=t[6],l=t[7],c=3*s-2*i-h,u=3*o-2*n-l,p=3*a-2*h-i,d=3*r-2*l-n;return Math.max(c*c,p*p)+Math.max(u*u,d*d)<=16*e*e},getArea:function(t){var e=t[0],i=t[1],n=t[2],s=t[3],o=t[4],a=t[5],r=t[6],h=t[7];return 3*((h-i)*(n+o)-(r-e)*(s+a)+s*(e-o)-n*(i-a)+h*(o+e/3)-r*(a+i/3))/20},getBounds:function(t){for(var e=t.slice(0,2),i=e.slice(),n=[0,0],s=0;s<2;s++)D._addBounds(t[s],t[s+2],t[s+4],t[s+6],s,0,e,i,n);return new b(e[0],e[1],i[0]-e[0],i[1]-e[1])},_addBounds:function(t,e,i,n,s,o,a,r,h){function l(t,e){var i=t-e,n=t+e;i<a[s]&&(a[s]=i),n>r[s]&&(r[s]=n)}o/=2;var c=a[s]-o,u=r[s]+o;if(t<c||e<c||i<c||n<c||t>u||e>u||i>u||n>u)if(e<t!=e<n&&i<t!=i<n)l(t,o),l(n,o);else{var p=3*(e-i)-t+n,d=2*(t+i)-4*e,f=e-t,g=m.solveQuadratic(p,d,f,h);l(n,0);for(var v=0;v<g;v++){var y=h[v],_=1-y;4e-7<y&&y<1-4e-7&&l(_*_*_*t+3*_*_*y*e+3*_*y*y*i+y*y*y*n,o)}}}}},c.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=z[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),c.each({isStraight:function(t,e,i){if(e.isZero()&&i.isZero())return!0;var n=t.getVector();if(n.isZero())return!1;if(t.getDistance(e)<2e-7&&t.getDistance(i)<2e-7){var s=n.dot(n),o=n.dot(e)/s,a=n.dot(i)/s;return o>=0&&o<=1&&a<=0&&a>=-1}return!1},isLinear:function(t,e,i){var n=t.getVector().divide(3);return e.equals(n)&&i.negate().equals(n)}},function(t,e){this[e]=function(){var e=this._segment1,i=this._segment2;return t(new C(e._point,i._point),e._handleOut,i._handleIn)},this.statics[e]=function(e){var i=e[0],n=e[1],s=e[6],o=e[7];return t(new C(i,n,s,o),new v(e[2]-i,e[3]-n),new v(e[4]-s,e[5]-o))}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-7},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-7}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new L(this,t):null},getTimeAt:function(t,e){return D.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(v.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return D.getTimeOf(this.getValues(),v.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=v.read(arguments),e=this.getValues(),i=D.getNearestTime(e,t),n=D.getPoint(e,i);return new L(this,i,n,null,t.getDistance(n))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return c.each(t,function(t){this[t+"At"]=function(e,i){var n=this.getValues();return D[t](n,i?e:D.getTimeAt(n,e))},this[t+"AtTime"]=function(e){return D[t](this.getValues(),e)}},{statics:{_evaluateMethods:t}})},new function(){function t(t){var e=t[0],i=t[1],n=t[2],s=t[3],o=t[4],a=t[5],r=9*(n-o)+3*(t[6]-e),h=6*(e+o)-12*n,l=3*(n-e),c=9*(s-a)+3*(t[7]-i),u=6*(i+a)-12*s,p=3*(s-i);return function(t){var e=(r*t+h)*t+l,i=(c*t+u)*t+p;return Math.sqrt(e*e+i*i)}}function e(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function i(t,e,i,n){if(null==e||e<0||e>1)return null;var s=t[0],o=t[1],a=t[2],r=t[3],h=t[4],l=t[5],c=t[6],u=t[7],p=m.isZero;p(a-s)&&p(r-o)&&(a=s,r=o),p(h-c)&&p(l-u)&&(h=c,l=u);var d,f,g=3*(a-s),y=3*(h-a)-g,_=c-s-g-y,w=3*(r-o),b=3*(l-r)-w,x=u-o-w-b;if(0===i)d=0===e?s:1===e?c:((_*e+y)*e+g)*e+s,f=0===e?o:1===e?u:((x*e+b)*e+w)*e+o;else{if(e<4e-7?(d=g,f=w):e>1-4e-7?(d=3*(c-h),f=3*(u-l)):(d=(3*_*e+2*y)*e+g,f=(3*x*e+2*b)*e+w),n){0===d&&0===f&&(e<4e-7||e>1-4e-7)&&(d=h-a,f=l-r);var T=Math.sqrt(d*d+f*f);T&&(d/=T,f/=T)}if(3===i){var C=6*_*e+2*y,S=6*x*e+2*b,M=Math.pow(d*d+f*f,1.5);d=0!==M?(d*S-f*C)/M:0,f=0}}return 2===i?new v(f,-d):new v(d,f)}return{statics:{getLength:function(i,n,s,o){if(n===a&&(n=0),s===a&&(s=1),D.isStraight(i)){var r=i;s<1&&(r=D.subdivide(r,s)[0],n/=s),n>0&&(r=D.subdivide(r,n)[1]);var h=r[6]-r[0],l=r[7]-r[1];return Math.sqrt(h*h+l*l)}return m.integrate(o||t(i),n,s,e(n,s))},getTimeAt:function(i,n,s){if(s===a&&(s=n<0?1:0),0===n)return s;var o=Math.abs,r=n>0,h=r?s:0,l=r?1:s,c=t(i),u=D.getLength(i,h,l,c),p=o(n)-u;if(o(p)<1e-12)return r?l:h;if(p>1e-12)return null;var d=n/u,f=0;return m.findRoot(function(t){return f+=m.integrate(c,s,t,e(s,t)),s=t,f-n},c,s+d,h,l,32,1e-12)},getPoint:function(t,e){return i(t,e,0,!1)},getTangent:function(t,e){return i(t,e,1,!0)},getWeightedTangent:function(t,e){return i(t,e,1,!1)},getNormal:function(t,e){return i(t,e,2,!0)},getWeightedNormal:function(t,e){return i(t,e,2,!1)},getCurvature:function(t,e){return i(t,e,3,!1).x}}}},new function(){function t(t,e,i,n,s,o,a,r,h,l,c){var u=!c&&e.excludeStart,p=!c&&e.excludeEnd;if(null==s&&(s=D.getTimeOf(i,o)),null!==s&&s>=(u?4e-7:0)&&s<=(p?1-4e-7:1)&&(null==h&&(h=D.getTimeOf(a,l)),null!==h&&h>=(p?4e-7:0)&&h<=(u?1-4e-7:1))){var d=e.renormalize;if(d){var f=d(s,h);s=f[0],h=f[1]}var m=new L(n,s,o||D.getPoint(i,s),c),g=new L(r,h,l||D.getPoint(a,h),c),v=m.getPath()===g.getPath()&&m.getIndex()>g.getIndex()?g:m,y=e.include;m._intersection=g,g._intersection=m,y&&!y(v)||L.insert(t,v,!0)}}function e(s,o,a,r,h,l,c,u,p,d,f,m,g){if(++m>=48||++g>4096)return g;var v,y,_=o[0],w=o[1],b=o[6],x=o[7],T=C.getSignedDistance,S=T(_,w,b,x,o[2],o[3]),M=T(_,w,b,x,o[4],o[5]),A=S*M>0?.75:4/9,O=A*Math.min(0,S,M),I=A*Math.max(0,S,M),$=T(_,w,b,x,s[0],s[1]),B=T(_,w,b,x,s[2],s[3]),E=T(_,w,b,x,s[4],s[5]),P=T(_,w,b,x,s[6],s[7]),k=i($,B,E,P),V=k[0],L=k[1];if(0===S&&0===M&&0===$&&0===B&&0===E&&0===P||null==(v=n(V,L,O,I))||null==(y=n(V.reverse(),L.reverse(),O,I)))return g;var N=c+(u-c)*v,z=c+(u-c)*y;if(Math.max(d-p,z-N)<1e-9){var R=(N+z)/2,H=(p+d)/2;s=a.getValues(),o=r.getValues(),t(h,l,f?o:s,f?r:a,f?H:R,null,f?s:o,f?a:r,f?R:H,null)}else if(s=D.getPart(s,v,y),y-v>.8)if(z-N>d-p){R=(N+z)/2;g=e(o,(F=D.subdivide(s,.5))[0],r,a,h,l,p,d,N,R,!f,m,g),g=e(o,F[1],r,a,h,l,p,d,R,z,!f,m,g)}else{var F=D.subdivide(o,.5),H=(p+d)/2;g=e(F[0],s,r,a,h,l,p,H,N,z,!f,m,g),g=e(F[1],s,r,a,h,l,H,d,N,z,!f,m,g)}else g=e(o,s,r,a,h,l,p,d,N,z,!f,m,g);return g}function i(t,e,i,n){var s,o=[0,t],a=[1/3,e],r=[2/3,i],h=[1,n],l=e-(2*t+n)/3,c=i-(t+2*n)/3;if(l*c<0)s=[[o,a,h],[o,r,h]];else{var u=l/c;s=[u>=2?[o,a,h]:u<=.5?[o,r,h]:[o,a,r,h],[o,h]]}return(l||c)<0?s.reverse():s}function n(t,e,i,n){return t[0][1]<i?s(t,!0,i):e[0][1]>n?s(e,!1,n):t[0][0]}function s(t,e,i){for(var n=t[0][0],s=t[0][1],o=1,a=t.length;o<a;o++){var r=t[o][0],h=t[o][1];if(e?h>=i:h<=i)return h===i?r:n+(i-s)*(r-n)/(h-s);n=r,s=h}return null}function o(e,i,n,s,o,a){for(var r=D.isStraight(e),h=r?i:e,l=r?e:i,c=l[0],u=l[1],p=l[6]-c,d=l[7]-u,f=Math.atan2(-d,p),g=Math.sin(f),v=Math.cos(f),y=[],_=0;_<8;_+=2){var w=h[_]-c,b=h[_+1]-u;y.push(w*v-b*g,w*g+b*v)}for(var x=[],T=D.solveCubic(y,1,0,x,0,1),_=0;_<T;_++){var C=x[_],S=D.getPoint(h,C),M=D.getTimeOf(l,S);if(null!==M){var A=D.getPoint(l,M),O=r?M:C,I=r?C:M;(!a.excludeEnd||I>m.CURVETIME_EPSILON)&&t(o,a,e,n,O,r?A:S,i,s,I,r?S:A)}}}function a(e,i,n,s,o,a){var r=C.intersect(e[0],e[1],e[6],e[7],i[0],i[1],i[6],i[7]);r&&t(o,a,e,n,null,r,i,s,null,r)}return{statics:{_getIntersections:function(i,n,s,r,h,l){if(!n)return D._getSelfIntersection(i,s,h,l);var c=i[0],u=i[1],p=i[6],d=i[7],f=n[0],m=n[1],g=n[6],y=n[7],_=(3*i[2]+c)/4,w=(3*i[3]+u)/4,b=(3*i[4]+p)/4,x=(3*i[5]+d)/4,T=(3*n[2]+f)/4,C=(3*n[3]+m)/4,S=(3*n[4]+g)/4,M=(3*n[5]+y)/4,A=Math.min,O=Math.max;if(!(O(c,_,b,p)+2e-7>A(f,T,S,g)&&A(c,_,b,p)-2e-7<O(f,T,S,g)&&O(u,w,x,d)+2e-7>A(m,C,M,y)&&A(u,w,x,d)-2e-7<O(m,C,M,y)))return h;var I=D.getOverlaps(i,n);if(I){for(var $=0;$<2;$++){var B=I[$];t(h,l,i,s,B[0],null,n,r,B[1],null,!0)}return h}var E=D.isStraight(i),P=D.isStraight(n),k=E&&P,V=h.length;if((k?a:E||P?o:e)(i,n,s,r,h,l,0,1,0,1,0,0,0),k&&h.length>V)return h;var L=new v(c,u),N=new v(p,d),z=new v(f,m),R=new v(g,y);return L.isClose(z,2e-7)&&t(h,l,i,s,0,L,n,r,0,z),!l.excludeStart&&L.isClose(R,2e-7)&&t(h,l,i,s,0,L,n,r,1,R),!l.excludeEnd&&N.isClose(z,2e-7)&&t(h,l,i,s,1,N,n,r,0,z),N.isClose(R,2e-7)&&t(h,l,i,s,1,N,n,r,1,R),h},_getSelfIntersection:function(t,e,i,n){var s=t[0],o=t[1],a=t[2],r=t[3],h=t[4],l=t[5],c=t[6],u=t[7],p=new C(s,o,c,u,!1),d=p.getSide(new v(a,r),!0);if(d===p.getSide(new v(h,l),!0)&&((s-h)*(r-u)+(a-c)*(l-o))*d>0)return i;var f=c-3*h+3*a-s,g=h-2*a+s,y=a-s,_=u-3*l+3*r-o,w=l-2*r+o,b=r-o,x=_*y-f*b;if(x*x-4*(_*g-f*w)*(w*y-g*b)<0){var T,S=[],M=m.solveCubic(f*f+_*_,3*(f*g+_*w),2*(g*g+w*w)+f*y+_*b,g*y+w*b,S,0,1);if(M>0){for(var A=0,O=0;A<M;A++){var I=Math.abs(e.getCurvatureAtTime(S[A]));I>O&&(O=I,T=S[A])}var $=D.subdivide(t,T);n.excludeEnd=!0,n.renormalize=function(t,e){return[t*T,e*(1-T)+T]},D._getIntersections($[0],$[1],e,e,i,n)}}return i},getOverlaps:function(t,e){function i(t){var e=t[6]-t[0],i=t[7]-t[1];return e*e+i*i}var n=Math.abs,s=D.isStraight(t),o=D.isStraight(e),a=s&&o,r=i(t)<i(e),h=r?e:t,l=r?t:e,c=new C(h[0],h[1],h[6],h[7]);if(c.getDistance(new v(l[0],l[1]))<2e-7&&c.getDistance(new v(l[6],l[7]))<2e-7)!a&&c.getDistance(new v(h[2],h[3]))<2e-7&&c.getDistance(new v(h[4],h[5]))<2e-7&&c.getDistance(new v(l[2],l[3]))<2e-7&&c.getDistance(new v(l[4],l[5]))<2e-7&&(s=o=a=!0);else if(a)return null;if(s^o)return null;for(var u=[t,e],p=[],d=0,f=0;d<2&&p.length<2;d+=0===f?0:1,f^=1){var m=D.getTimeOf(u[1^d],new v(u[d][0===f?0:6],u[d][0===f?1:7]));if(null!=m){var g=0===d?[f,m]:[m,f];(0===p.length||n(g[0]-p[0][0])>4e-7&&n(g[1]-p[0][1])>4e-7)&&p.push(g)}if(1===d&&0===p.length)break}if(2!==p.length)p=null;else if(!a){var y=D.getPart(t,p[0][0],p[1][0]),_=D.getPart(e,p[0][1],p[1][1]);(n(_[2]-y[2])>2e-7||n(_[3]-y[3])>2e-7||n(_[4]-y[4])>2e-7||n(_[5]-y[5])>2e-7)&&(p=null)}return p}}}}),L=c.extend({_class:"CurveLocation",beans:!0,initialize:function(t,e,i,n,s){if(e>.9999996){var o=t.getNext();o&&(e=0,t=o)}this._setCurve(t),this._time=e,this._point=i||t.getPointAtTime(e),this._overlap=n,this._distance=s,this._intersection=this._next=this._previous=null},_setCurve:function(t){var e=t._path;this._path=e,this._version=e?e._version:0,this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){this._setCurve(t.getCurve()),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this.getCurve(),e=this._segment;if(!e){var i=this.getTime();0===i?e=t._segment1:1===i?e=t._segment2:null!=i&&(e=t.getPartLength(0,i)<t.getPartLength(i,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){function t(t){var e=t&&t.getCurve();if(e&&null!=(i._time=e.getTimeOf(i._point)))return i._setCurve(e),i._segment=t,e}var e=this._path,i=this;return e&&e._version!==this._version&&(this._time=this._curve=this._offset=null),this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),i=this.getIndex();if(e&&null!=i)for(var n=e.getCurves(),s=0;s<i;s++)t+=n[s].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this.getCurve(),e=this.getTime();return null!=e&&t&&t.getPartLength(0,e)},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=null;return t&&(e=t.divideAtTime(this.getTime()))&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve();return t?t.splitAtTime(this.getTime()):null},equals:function(t,e){var i=this===t;if(!i&&t instanceof L&&this.getPath()===t.getPath()&&this.getPoint().isClose(t.getPoint(),2e-7)){var n=this.getCurve(),s=t.getCurve(),o=Math.abs,a=o((n.isLast()&&s.isFirst()?-1:n.getIndex())+this.getTime()-((s.isLast()&&n.isFirst()?-1:s.getIndex())+t.getTime()));i=(a<4e-7||(a=o(this.getOffset()-t.getOffset()))<2e-7||o(this.getPath().getLength()-a)<2e-7)&&(e||!this._intersection&&!t._intersection||this._intersection&&this._intersection.equals(t._intersection,!0))}return i},toString:function(){var t=[],e=this.getPoint(),i=f.instance;e&&t.push("point: "+e);var n=this.getIndex();null!=n&&t.push("index: "+n);var s=this.getTime();return null!=s&&t.push("time: "+i.number(s)),null!=this._distance&&t.push("distance: "+i.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),i=t.getCurve();return!(e.isStraight()&&i.isStraight()&&e.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){function t(t,e,i){return e<i?t>e&&t<i:t>e||t<i}var e=this._intersection;if(!e)return!1;var i=this.getTime(),n=e.getTime(),s=i>4e-7&&i<1-4e-7,o=n>4e-7&&n<1-4e-7;if(s&&o)return!this.isTouching();var a=this.getCurve(),r=i<=4e-7?a.getPrevious():a,h=e.getCurve(),l=n<=4e-7?h.getPrevious():h;if(i>=1-4e-7&&(a=a.getNext()),n>=1-4e-7&&(h=h.getNext()),!(r&&a&&l&&h))return!1;var c=[];s||c.push(r.getLength(),a.getLength()),o||c.push(l.getLength(),h.getLength());var u=this.getPoint(),p=Math.min.apply(Math,c)/64,d=s?a.getTangentAtTime(i):a.getPointAt(p).subtract(u),f=s?d.negate():r.getPointAt(-p).subtract(u),m=o?h.getTangentAtTime(n):h.getPointAt(p).subtract(u),g=o?m.negate():l.getPointAt(-p).subtract(u),v=f.getAngle(),y=d.getAngle(),_=g.getAngle(),w=m.getAngle();return!!(s?t(v,_,w)^t(y,_,w)&&t(v,w,_)^t(y,w,_):t(_,v,y)^t(w,v,y)&&t(_,y,v)^t(w,y,v))},hasOverlap:function(){return!!this._overlap}},c.each(D._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var t=this.getCurve(),i=this.getTime();return null!=i&&t&&t[e](i,!0)}},{preserve:!0}),new function(){function t(t,e,i){function n(i,n){for(var o=i+n;o>=-1&&o<=s;o+=n){var a=t[(o%s+s)%s];if(!e.getPoint().isClose(a.getPoint(),2e-7))break;if(e.equals(a))return a}return null}for(var s=t.length,o=0,a=s-1;o<=a;){var r,h=o+a>>>1,l=t[h];if(i&&(r=e.equals(l)?l:n(h,-1)||n(h,1)))return e._overlap&&(r._overlap=r._intersection._overlap=!0),r;var c=e.getPath(),u=l.getPath();(c===u?e.getIndex()+e.getTime()-(l.getIndex()+l.getTime()):c._id-u._id)<0?a=h-1:o=h+1}return t.splice(o,0,e),e}return{statics:{insert:t,expand:function(e){for(var i=e.slice(),n=e.length-1;n>=0;n--)t(i,e[n]._intersection,!1);return i}}}}),N=M.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,initialize:function(){},statics:{create:function(t){return new((t&&t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t)?R:z)(t)}},_asPathItem:function(){return this},setPathData:function(t){function e(t,e){var i=+n[t];return r&&(i+=h[e]),i}function i(t){return new v(e(t,"x"),e(t+1,"y"))}var n,s,o,a=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),r=!1,h=new v,l=new v;this.clear();for(var c=0,u=a&&a.length;c<u;c++){var p=a[c],d=p[0],f=d.toLowerCase(),m=(n=p.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&n.length;switch(r=d===f,"z"!==s||/[mz]/.test(f)||this.moveTo(h=l),f){case"m":case"l":for(var g="m"===f,y=0;y<m;y+=2)this[0===y&&g?"moveTo":"lineTo"](h=i(y));o=h,g&&(l=h);break;case"h":case"v":for(var w="h"===f?"x":"y",y=0;y<m;y++)h[w]=e(y,w),this.lineTo(h);o=h;break;case"c":for(y=0;y<m;y+=6)this.cubicCurveTo(i(y),o=i(y+2),h=i(y+4));break;case"s":for(y=0;y<m;y+=4)this.cubicCurveTo(/[cs]/.test(s)?h.multiply(2).subtract(o):h,o=i(y),h=i(y+2)),s=f;break;case"q":for(y=0;y<m;y+=4)this.quadraticCurveTo(o=i(y),h=i(y+2));break;case"t":for(y=0;y<m;y+=2)this.quadraticCurveTo(o=/[qt]/.test(s)?h.multiply(2).subtract(o):h,h=i(y)),s=f;break;case"a":for(y=0;y<m;y+=7)this.arcTo(h=i(y+5),new _(+n[y],+n[y+1]),+n[y+2],+n[y+4],+n[y+3]);break;case"z":this.closePath(1e-12)}s=f}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))&&this._getWinding(t);return!!("evenodd"===this.getFillRule()?1&e:e)},getIntersections:function(t,e,i,n){var s=this===t||!t,o=this._matrix._orNullIfIdentity(),a=s?o:(i||t._matrix)._orNullIfIdentity();if(!s&&!this.getBounds(o).touches(t.getBounds(a)))return[];for(var r,t,h=this.getCurves(),l=s?h:t.getCurves(),c=h.length,u=s?c:l.length,p=[],d=[],f=0;f<u;f++)p[f]=l[f].getValues(a);for(f=0;f<c;f++){var m=h[f],g=s?p[f]:m.getValues(o),v=m.getPath();v!==t&&(t=v,r=[],d.push(r)),s&&D._getSelfIntersection(g,m,r,{include:e,excludeStart:1===c&&m.getPoint1().equals(m.getPoint2())});for(var y=s?f+1:0;y<u;y++){if(n&&r.length)return r;var _=l[y];D._getIntersections(g,p[y],m,_,r,{include:e,excludeStart:s&&m.getPrevious()===_,excludeEnd:s&&m.getNext()===_})}}r=[];for(var f=0,w=d.length;f<w;f++)r.push.apply(r,d[f]);return r},getCrossings:function(t){return this.getIntersections(t,function(t){return t._overlap||t.isCrossing()})},getNearestLocation:function(){for(var t=v.read(arguments),e=this.getCurves(),i=1/0,n=null,s=0,o=e.length;s<o;s++){var a=e[s].getNearestLocation(t);a._distance<i&&(i=a._distance,n=a)}return n},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,i){var n=!this._children,s=n?"_segments":"_children",o=t[s],a=e[s],r=this[s];if(!o||!a||o.length!==a.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var h=r.length,l=a.length;if(h<l)for(var c=n?k:z,u=h;u<l;u++)this.add(new c);else h>l&&this[n?"removeSegments":"removeChildren"](l,h);for(u=0;u<l;u++)r[u].interpolate(o[u],a[u],i);n&&(this.setClosed(t._closed),this._changed(9))}}),z=N.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=Array.isArray(t)?"object"==typeof t[0]?t:arguments:!t||t.size!==a||t.x===a&&t.point===a?null:arguments;e&&e.length>0?this.setSegments(e):(this._curves=a,this._segmentSelection=0,e||"string"!=typeof t||(this.setPathData(t),t=null)),this._initialize(!e&&t)},_equals:function(t){return this._closed===t._closed&&c.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed;var e=t._clockwise;e!==a&&(this._clockwise=e)},_changed:function t(e){if(t.base.call(this,e),8&e){if(this._length=this._area=this._clockwise=this._monoCurves=a,16&e)this._version++;else if(this._curves)for(var i=0,n=this._curves.length;i<n;i++)this._curves[i]._changed()}else 32&e&&(this._bounds=a)},getStyle:function(){var t=this._parent;return(t instanceof R?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected();this._segments.length=0,this._segmentSelection=0,this._curves=a,t&&t.length>0&&this._add(k.readAll(t)),e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var i=this._countCurves();t=this._curves=new Array(i);for(var n=0;n<i;n++)t[n]=new D(this,e[n],e[n+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new D(this,this._segments[e-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(t,e){function i(e,i){e._transformCoordinates(t,m),n=m[0],s=m[1],g?(v.push("M"+d.pair(n,s)),g=!1):(r=m[2],h=m[3],r===n&&h===s&&l===o&&c===a?i||v.push("l"+d.pair(n-o,s-a)):v.push("c"+d.pair(l-o,c-a)+" "+d.pair(r-o,h-a)+" "+d.pair(n-o,s-a))),o=n,a=s,l=m[4],c=m[5]}var n,s,o,a,r,h,l,c,u=this._segments,p=u.length,d=new f(e),m=new Array(6),g=!0,v=[];if(0===p)return"";for(var y=0;y<p;y++)i(u[y]);return this._closed&&p>0&&(i(u[0],!0),v.push("z")),v.join("")},isEmpty:function(){return 0===this._segments.length},_transformContent:function(t){for(var e=this._segments,i=new Array(6),n=0,s=e.length;n<s;n++)e[n]._transformCoordinates(t,i,!0);return!0},_add:function(t,e){for(var i=this._segments,n=this._curves,s=t.length,o=null==e,e=o?i.length:e,a=0;a<s;a++){var r=t[a];r._path&&(r=t[a]=r.clone()),r._path=this,r._index=e+a,r._selection&&this._updateSelection(r,0,r._selection)}if(o)i.push.apply(i,t);else{i.splice.apply(i,[e,0].concat(t));for(var a=e+s,h=i.length;a<h;a++)i[a]._index=a}if(n){var l=this._countCurves(),c=e>0&&e+s-1===l?e-1:e,u=c,p=Math.min(c+s,l);t._curves&&(n.splice.apply(n,[c,0].concat(t._curves)),u+=t._curves.length);for(a=u;a<p;a++)n.splice(a,0,new D(this,null,null));this._adjustCurves(c,p)}return this._changed(25),t},_adjustCurves:function(t,e){for(var i,n=this._segments,s=this._curves,o=t;o<e;o++)(i=s[o])._path=this,i._segment1=n[o],i._segment2=n[o+1]||n[0],i._changed();(i=s[this._closed&&0===t?n.length-1:t-1])&&(i._segment2=n[t]||n[0],i._changed()),(i=s[e])&&(i._segment1=n[e],i._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){return arguments.length>1&&"number"!=typeof t?this._add(k.readAll(arguments)):this._add([k.read(arguments)])[0]},insert:function(t,e){return arguments.length>2&&"number"!=typeof e?this._add(k.readAll(arguments,1),t):this._add([k.read(arguments,1)],t)[0]},addSegment:function(){return this._add([k.read(arguments)])[0]},insertSegment:function(t){return this._add([k.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(k.readAll(t))},insertSegments:function(t,e){return this._add(k.readAll(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,i){t=t||0,e=c.pick(e,this._segments.length);var n=this._segments,s=this._curves,o=n.length,a=n.splice(t,e-t),r=a.length;if(!r)return a;for(l=0;l<r;l++){var h=a[l];h._selection&&this._updateSelection(h,h._selection,0),h._index=h._path=null}for(var l=t,u=n.length;l<u;l++)n[l]._index=l;if(s){for(var p=t>0&&e===o+(this._closed?1:0)?t-1:t,l=(s=s.splice(p,r)).length-1;l>=0;l--)s[l]._path=null;i&&(a._curves=s.slice(1)),this._adjustCurves(p,p)}return this._changed(25),a},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();this._length=e}return this._length},getArea:function(t){var e=t===a,i=this._area;if(!e||null==i){var n=this._segments,s=n.length,o=s-1;i=0;for(var r=0,h=(e?this._closed:t)?s:o;r<h;r++)i+=D.getArea(D.getValues(n[r],n[r<o?r+1:0]));e&&(this._area=i)}return i},isClockwise:function(){return this._clockwise!==a?this._clockwise:this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse(),this._clockwise=t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){1&e||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,i=e.length,n=t?7:0;this._segmentSelection=n*i;for(var s=0;s<i;s++)e[s]._selection=n},_updateSelection:function(t,e,i){t._selection=i,(this._segmentSelection+=i-e)>0&&this.setSelected(!0)},splitAt:function(t){var e="number"==typeof t?this.getLocationAt(t):t,i=e&&e.index,n=e&&e.time;n>=1-4e-7&&(i++,n=0);var s=this.getCurves();if(i>=0&&i<s.length){n>=4e-7&&s[i++].divideAtTime(n);var o,a=this.removeSegments(i,this._segments.length,!0);return this._closed?(this.setClosed(!1),o=this):((o=new z(M.NO_INSERT)).insertAbove(this,!0),o.copyAttributes(this)),o._add(a,0),this.addSegment(a[0]),o}return null},split:function(t,e){var i,n=e===a?t:(i=this.getCurves()[t])&&i.getLocationAtTime(e);return null!=n?this.splitAt(n):null},join:function(t,e){var i=e||0;if(t&&t!==this){var n=t._segments,s=this.getLastSegment(),o=t.getLastSegment();if(!o)return this;s&&s._point.isClose(o._point,i)&&t.reverse();var a=t.getFirstSegment();if(s&&s._point.isClose(a._point,i))s.setHandleOut(a._handleOut),this._add(n.slice(1));else{var r=this.getFirstSegment();r&&r._point.isClose(a._point,i)&&t.reverse(),o=t.getLastSegment(),r&&r._point.isClose(o._point,i)?(r.setHandleIn(o._handleIn),this._add(n.slice(0,n.length-1),0)):this._add(n.slice())}t._closed&&this._add([n[0]]),t.remove()}var h=this.getFirstSegment(),l=this.getLastSegment();return h!==l&&h._point.isClose(l._point,i)&&(h.setHandleIn(l._handleIn),l.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),i=t&&t.simplify,n=i?2e-7:0,s=e.length-1;s>=0;s--){var o=e[s];!o.hasHandles()&&(o.getLength()<n||i&&o.isCollinear(o.getNext()))&&o.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var i=this._segments[t],n=i._handleIn;i._handleIn=i._handleOut,i._handleOut=n,i._index=t}this._curves=null,this._clockwise!==a&&(this._clockwise=!this._clockwise),this._changed(9)},flatten:function(t){for(var e=new H(this,t||.25,256,!0).parts,i=e.length,n=[],s=0;s<i;s++)n.push(new k(e[s].curve.slice(0,2)));!this._closed&&i>0&&n.push(new k(e[i-1].curve.slice(6))),this.setSegments(n)},simplify:function(t){var e=new F(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){function e(t,e){var n=t&&t.index;if(null!=n){var s=t.path;if(s&&s!==i)throw new Error(t._class+" "+n+" of "+s+" is not part of "+i);e&&t instanceof D&&n++}else n="number"==typeof t?t:e;return Math.min(n<0&&h?n%r:n<0?n+r:n,r-1)}var i=this,n=t||{},s=n.type||"asymmetric",o=this._segments,r=o.length,h=this._closed,l=h&&n.from===a&&n.to===a,c=e(n.from,0),u=e(n.to,r-1);if(c>u)if(h)c-=r;else{var p=c;c=u,u=p}if(/^(?:asymmetric|continuous)$/.test(s)){var d="asymmetric"===s,f=Math.min,m=u-c+1,g=m-1,v=l?f(m,4):1,y=v,_=v,w=[];if(h||(y=f(1,c),_=f(1,r-u-1)),(g+=y+_)<=1)return;for(var b=0,x=c-y;b<=g;b++,x++)w[b]=o[(x<0?x+r:x)%r]._point;for(var T=w[0]._x+2*w[1]._x,C=w[0]._y+2*w[1]._y,S=2,M=g-1,A=[T],O=[C],I=[S],$=[],B=[],b=1;b<g;b++){var E=b<M,P=E?1:d?1:2,k=E?4:d?2:7,V=E?4:d?3:8,L=E?2:d?0:1,N=P/S;S=I[b]=k-N,T=A[b]=V*w[b]._x+L*w[b+1]._x-N*T,C=O[b]=V*w[b]._y+L*w[b+1]._y-N*C}$[M]=A[M]/I[M],B[M]=O[M]/I[M];for(b=g-2;b>=0;b--)$[b]=(A[b]-$[b+1])/I[b],B[b]=(O[b]-B[b+1])/I[b];$[g]=(3*w[g]._x-$[M])/2,B[g]=(3*w[g]._y-B[M])/2;for(var b=y,z=g-_,x=c;b<=z;b++,x++){var R=o[x<0?x+r:x],H=R._point,F=$[b]-H._x,j=B[b]-H._y;(l||b<z)&&R.setHandleOut(F,j),(l||b>y)&&R.setHandleIn(-F,-j)}}else for(b=c;b<=u;b++)o[b<0?b+r:b].smooth(n,!l&&b===c,!l&&b===u)},toShape:function(t){function e(t,e){var i=l[t],n=i.getNext(),s=l[e],o=s.getNext();return i._handleOut.isZero()&&n._handleIn.isZero()&&s._handleOut.isZero()&&o._handleIn.isZero()&&n._point.subtract(i._point).isCollinear(o._point.subtract(s._point))}function i(t){var e=l[t],i=e.getNext(),n=e._handleOut,s=i._handleIn;if(n.isOrthogonal(s)){var o=e._point,a=i._point,r=new C(o,n,!0).intersect(new C(a,s,!0),!0);return r&&m.isZero(n.getLength()/r.subtract(o).getLength()-.5522847498307936)&&m.isZero(s.getLength()/r.subtract(a).getLength()-.5522847498307936)}return!1}function n(t,e){return l[t]._point.getDistance(l[e]._point)}if(!this._closed)return null;var s,o,r,h,l=this._segments;if(!this.hasHandles()&&4===l.length&&e(0,2)&&e(1,3)&&function(t){var e=l[t],i=e.getPrevious(),n=e.getNext();return i._handleOut.isZero()&&e._handleIn.isZero()&&e._handleOut.isZero()&&n._handleIn.isZero()&&e._point.subtract(i._point).isOrthogonal(n._point.subtract(e._point))}(1)?(s=I.Rectangle,o=new _(n(0,3),n(0,1)),h=l[1]._point.add(l[2]._point).divide(2)):8===l.length&&i(0)&&i(2)&&i(4)&&i(6)&&e(1,5)&&e(3,7)?(s=I.Rectangle,r=(o=new _(n(1,6),n(0,3))).subtract(new _(n(0,7),n(1,2))).divide(2),h=l[3]._point.add(l[4]._point).divide(2)):4===l.length&&i(0)&&i(1)&&i(2)&&i(3)&&(m.isZero(n(0,2)-n(1,3))?(s=I.Circle,r=n(0,2)/2):(s=I.Ellipse,r=new _(n(2,0)/2,n(3,1)/2)),h=l[1]._point),s){var c=this.getPosition(!0),u=new s({center:c,size:o,radius:r,insert:!1});return u.copyAttributes(this,!0),u._matrix.prepend(this._matrix),u.rotate(h.subtract(c).getAngle()+90),(t===a||t)&&u.insertAbove(this),u}return null},toPath:"#clone",_hitTestSelf:function(t,e,i,n){function s(e,i){return t.subtract(e).divide(i).length<=1}function o(t,i,n){if(!e.selected||i.isSelected()){var o=t._point;if(i!==o&&(i=i.add(o)),s(i,b))return new P(n,m,{segment:t,point:i})}}function a(t,i){return(i||e.segments)&&o(t,t._point,"segment")||!i&&e.handles&&(o(t,t._handleIn,"handle-in")||o(t,t._handleOut,"handle-out"))}function r(t){p.add(t)}function h(e){if(("round"!==l||"round"!==c)&&(p=new z({internal:!0,closed:!0}),_||e._index>0&&e._index<y-1?"round"!==l&&(e._handleIn.isZero()||e._handleOut.isZero())&&z._addBevelJoin(e,l,S,u,null,n,r,!0):"round"!==c&&z._addSquareCap(e,c,S,null,n,r,!0),!p.isEmpty())){var i;return p.contains(t)||(i=p.getNearestLocation(t))&&s(i.getPoint(),w)}return s(e._point,b)}var l,c,u,p,d,f,m=this,g=this.getStyle(),v=this._segments,y=v.length,_=this._closed,w=e._tolerancePadding,b=w,x=e.stroke&&g.hasStroke(),T=e.fill&&g.hasFill(),C=e.curves,S=x?g.getStrokeWidth()/2:T&&e.tolerance>0||C?0:null;if(null!==S&&(S>0?(l=g.getStrokeJoin(),c=g.getStrokeCap(),u=S*g.getMiterLimit(),b=b.add(z._getStrokePadding(S,n))):l=c="round"),!e.ends||e.segments||_){if(e.segments||e.handles)for(A=0;A<y;A++)if(f=a(v[A]))return f}else if(f=a(v[0],!0)||a(v[y-1],!0))return f;if(null!==S){if(d=this.getNearestLocation(t)){var M=d.getTime();0===M||1===M&&y>1?h(d.getSegment())||(d=null):s(d.getPoint(),b)||(d=null)}if(!d&&"miter"===l&&y>1)for(var A=0;A<y;A++){var O=v[A];if(t.getDistance(O._point)<=u&&h(O)){d=O.getLocation();break}}}return!d&&T&&this._contains(t)||d&&!x&&!C?new P("fill",this):d?new P(x?"stroke":"curve",this,{location:d,point:d.getPoint()}):null}},c.each(D._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this.getLocationAt(e);return i&&i[t]()}},{beans:!1,getLocationOf:function(){for(var t=v.read(arguments),e=this.getCurves(),i=0,n=e.length;i<n;i++){var s=e[i].getLocationOf(t);if(s)return s}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){for(var e=this.getCurves(),i=0,n=0,s=e.length;n<s;n++){var o=i,a=e[n];if((i+=a.getLength())>t)return a.getLocationAt(t-o)}return e.length>0&&t<=this.getLength()?new L(e[e.length-1],1):null}}),new function(){function t(t,e,i,n){function s(e){var i=h[e],n=h[e+1];o==i&&a==n||(t.beginPath(),t.moveTo(o,a),t.lineTo(i,n),t.stroke(),t.beginPath(),t.arc(i,n,r,0,2*Math.PI,!0),t.fill())}for(var o,a,r=n/2,h=new Array(6),l=0,c=e.length;l<c;l++){var u=e[l],p=u._selection;if(u._transformCoordinates(i,h),o=h[0],a=h[1],2&p&&s(2),4&p&&s(4),t.fillRect(o-r,a-r,n,n),!(1&p)){var d=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(o-r+1,a-r+1,n-2,n-2),t.fillStyle=d}}}function e(t,e,i){function n(e){if(i)e._transformCoordinates(i,f),s=f[0],o=f[1];else{var n=e._point;s=n._x,o=n._y}if(m)t.moveTo(s,o),m=!1;else{if(i)h=f[2],l=f[3];else{p=e._handleIn;h=s+p._x,l=o+p._y}h===s&&l===o&&c===a&&u===r?t.lineTo(s,o):t.bezierCurveTo(c,u,h,l,s,o)}if(a=s,r=o,i)c=f[4],u=f[5];else{var p=e._handleOut;c=a+p._x,u=r+p._y}}for(var s,o,a,r,h,l,c,u,p=e._segments,d=p.length,f=new Array(6),m=!0,g=0;g<d;g++)n(p[g]);e._closed&&d>0&&n(p[0])}return{_draw:function(t,i,n,s){function o(t){return p[(t%d+d)%d]}var a=i.dontStart,h=i.dontFinish||i.clip,l=this.getStyle(),c=l.hasFill(),u=l.hasStroke(),p=l.getDashArray(),d=!r.support.nativeDash&&u&&p&&p.length;if(a||t.beginPath(),(c||u&&!d||h)&&(e(t,this,s),this._closed&&t.closePath()),!h&&(c||u)&&(this._setStyles(t,i,n),c&&(t.fill(l.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),u)){if(d){a||t.beginPath();var f,m=new H(this,.25,32,!1,s),g=m.length,v=-l.getDashOffset(),y=0;for(v%=g;v>0;)v-=o(y--)+o(y--);for(;v<g;)f=v+o(y++),(v>0||f>0)&&m.drawPart(t,Math.max(v,0),Math.max(f,0)),v=f+o(y++)}t.stroke()}},_drawSelected:function(i,n){i.beginPath(),e(i,this,n),i.stroke(),t(i,this._segments,n,r.settings.handleSize)}}},new function(){function t(t){var e=t._segments;if(0===e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new k(v.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new k(v.read(arguments))])},cubicCurveTo:function(){var e=v.read(arguments),i=v.read(arguments),n=v.read(arguments),s=t(this);s.setHandleOut(e.subtract(s._point)),this._add([new k(n,i.subtract(n))])},quadraticCurveTo:function(){var e=v.read(arguments),i=v.read(arguments),n=t(this)._point;this.cubicCurveTo(e.add(n.subtract(e).multiply(1/3)),e.add(i.subtract(e).multiply(1/3)),i)},curveTo:function(){var e=v.read(arguments),i=v.read(arguments),n=c.pick(c.read(arguments),.5),s=1-n,o=t(this)._point,a=e.subtract(o.multiply(s*s)).subtract(i.multiply(n*n)).divide(2*n*s);if(a.isNaN())throw new Error("Cannot put a curve through points with parameter = "+n);this.quadraticCurveTo(a,i)},arcTo:function(){var e,i,n,s,o=t(this),a=o._point,r=v.read(arguments),h=c.peek(arguments);if("boolean"==typeof(f=c.pick(h,!0)))var l=(y=a.add(r).divide(2)).add(y.subtract(a).rotate(f?-90:90));else if(c.remain(arguments)<=2)l=r,r=v.read(arguments);else{var u=_.read(arguments),p=m.isZero;if(p(u.width)||p(u.height))return this.lineTo(r);var d=c.read(arguments),f=!!c.read(arguments),g=!!c.read(arguments),y=a.add(r).divide(2),w=(Y=a.subtract(y).rotate(-d)).x,b=Y.y,x=Math.abs,S=x(u.width),M=x(u.height),A=S*S,O=M*M,I=w*w,$=b*b,B=Math.sqrt(I/A+$/O);if(B>1&&(A=(S*=B)*S,O=(M*=B)*M),B=(A*O-A*$-O*I)/(A*$+O*I),x(B)<1e-12&&(B=0),B<0)throw new Error("Cannot create an arc with the given arguments");e=new v(S*b/M,-M*w/S).multiply((g===f?-1:1)*Math.sqrt(B)).rotate(d).add(y),i=(n=(s=(new T).translate(e).rotate(d).scale(S,M))._inverseTransform(a)).getDirectedAngle(s._inverseTransform(r)),!f&&i>0?i-=360:f&&i<0&&(i+=360)}if(l){var E=new C(a.add(l).divide(2),l.subtract(a).rotate(90),!0),P=new C(l.add(r).divide(2),r.subtract(l).rotate(90),!0),V=new C(a,r),D=V.getSide(l);if(!(e=E.intersect(P,!0))){if(!D)return this.lineTo(r);throw new Error("Cannot create an arc with the given arguments")}i=(n=a.subtract(e)).getDirectedAngle(r.subtract(e));var L=V.getSide(e);0===L?i=D*Math.abs(i):D===L&&(i+=i<0?360:-360)}for(var N=Math.abs(i),z=N>=360?4:Math.ceil(N/90),R=i/z,H=R*Math.PI/360,F=4/3*Math.sin(H)/(1+Math.cos(H)),j=[],U=0;U<=z;U++){var Y=r,W=null;if(U<z&&(W=n.rotate(90).multiply(F),s?(Y=s._transformPoint(n),W=s._transformPoint(n.add(W)).subtract(Y)):Y=e.add(n)),0===U)o.setHandleOut(W);else{var q=n.rotate(-90).multiply(F);s&&(q=s._transformPoint(n.add(q)).subtract(Y)),j.push(new k(Y,q,W))}n=n.rotate(R)}this._add(j)},lineBy:function(){var e=v.read(arguments),i=t(this)._point;this.lineTo(i.add(e))},curveBy:function(){var e=v.read(arguments),i=v.read(arguments),n=c.read(arguments),s=t(this)._point;this.curveTo(s.add(e),s.add(i),n)},cubicCurveBy:function(){var e=v.read(arguments),i=v.read(arguments),n=v.read(arguments),s=t(this)._point;this.cubicCurveTo(s.add(e),s.add(i),s.add(n))},quadraticCurveBy:function(){var e=v.read(arguments),i=v.read(arguments),n=t(this)._point;this.quadraticCurveTo(n.add(e),n.add(i))},arcBy:function(){var e=t(this)._point,i=e.add(v.read(arguments)),n=c.pick(c.peek(arguments),!0);"boolean"==typeof n?this.arcTo(i,n):this.arcTo(i,e.add(v.read(arguments)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var i=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return z[i](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,i,n,s,o){function a(t){t._transformCoordinates(n,h);for(var e=0;e<2;e++)D._addBounds(l[e],l[e+4],h[e+2],h[e],e,o?o[e]:0,c,u,p);var i=l;l=h,h=i}var r=t[0];if(!r)return new b;for(var h=new Array(6),l=r._transformCoordinates(n,new Array(6)),c=l.slice(0,2),u=c.slice(),p=new Array(2),d=1,f=t.length;d<f;d++)a(t[d]);return e&&a(r),new b(c[0],c[1],u[0]-c[0],u[1]-c[1])},getStrokeBounds:function(t,e,i,n,s){function o(t){f=f.include(t)}function a(t){f=f.unite(w.setCenter(t._point.transform(n)))}function r(t,e){var i=t._handleIn,s=t._handleOut;"round"===e||!i.isZero()&&!s.isZero()&&i.isCollinear(s)?a(t):z._addBevelJoin(t,e,m,y,n,p,o)}function h(t,e){"round"===e?a(t):z._addSquareCap(t,e,m,n,p,o)}var l=i.getStyle(),c=l.hasStroke(),u=l.getStrokeWidth(),p=c&&i._getStrokeMatrix(n,s),d=c&&z._getStrokePadding(u,p),f=z.getBounds(t,e,i,n,s,d);if(!c)return f;for(var m=u/2,g=l.getStrokeJoin(),v=l.getStrokeCap(),y=m*l.getMiterLimit(),w=new b(new _(d)),x=t.length-(e?0:1),T=1;T<x;T++)r(t[T],g);return e?r(t[0],g):x>0&&(h(t[0],v),h(t[t.length-1],v)),f},_getStrokePadding:function(t,e){if(!e)return[t,t];var i=new v(t,0).transform(e),n=new v(0,t).transform(e),s=i.getAngleInRadians(),o=i.getLength(),a=n.getLength(),r=Math.sin(s),h=Math.cos(s),l=Math.tan(s),c=Math.atan2(a*l,o),u=Math.atan2(a,l*o);return[Math.abs(o*Math.cos(c)*h+a*Math.sin(c)*r),Math.abs(a*Math.sin(u)*h+o*Math.cos(u)*r)]},_addBevelJoin:function(t,e,i,n,s,o,a,r){var h=t.getCurve(),l=h.getPrevious(),c=h.getPointAtTime(0),u=l.getNormalAtTime(1),p=h.getNormalAtTime(0),d=u.getDirectedAngle(p)<0?-i:i;if(u.setLength(d),p.setLength(d),s&&s._transformPoint(c,c),o&&(o._transformPoint(u,u),o._transformPoint(p,p)),r&&(a(c),a(c.add(u))),"miter"===e){var f=new C(c.add(u),new v(-u.y,u.x),!0).intersect(new C(c.add(p),new v(-p.y,p.x),!0),!0);if(f&&c.getDistance(f)<=n&&(a(f),!r))return}r||a(c.add(u)),a(c.add(p))},_addSquareCap:function(t,e,i,n,s,o,a){var r=t._point,h=t.getLocation(),l=h.getNormal().multiply(i);n&&n._transformPoint(r,r),s&&s._transformPoint(l,l),a&&(o(r.subtract(l)),o(r.add(l))),"square"===e&&(r=r.add(l.rotate(0===h.getTime()?-90:90))),o(r.add(l)),o(r.subtract(l))},getHandleBounds:function(t,e,i,n,s){var o,a,r=i.getStyle();if(s.stroke&&r.hasStroke()){var h=i._getStrokeMatrix(n,s),l=r.getStrokeWidth()/2,c=l;"miter"===r.getStrokeJoin()&&(c=l*r.getMiterLimit()),"square"===r.getStrokeCap()&&(c=Math.max(c,l*Math.sqrt(2))),o=z._getStrokePadding(l,h),a=z._getStrokePadding(c,h)}for(var u=new Array(6),p=1/0,d=-p,f=p,m=d,g=0,v=t.length;g<v;g++){t[g]._transformCoordinates(n,u);for(var y=0;y<6;y+=2){var _=0===y?a:o,w=_?_[0]:0,x=_?_[1]:0,T=u[y],C=u[y+1],S=T-w,M=T+w,A=C-x,O=C+x;S<p&&(p=S),M>d&&(d=M),A<f&&(f=A),O>m&&(m=O)}}return new b(p,f,d-p,m-f)}}});z.inject({statics:new function(){function t(t,e,i){var n=c.getNamed(i),s=new z(n&&!1===n.insert&&M.NO_INSERT);return s._add(t),s._closed=e,s.set(n)}function e(e,i,s){for(var o=new Array(4),a=0;a<4;a++){var r=n[a];o[a]=new k(r._point.multiply(i).add(e),r._handleIn.multiply(i),r._handleOut.multiply(i))}return t(o,!0,s)}var i=.5522847498307936,n=[new k([-1,0],[0,i],[0,-i]),new k([0,-1],[-i,0],[i,0]),new k([1,0],[0,-i],[0,i]),new k([0,1],[i,0],[-i,0])];return{Line:function(){return t([new k(v.readNamed(arguments,"from")),new k(v.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var t=v.readNamed(arguments,"center"),i=c.readNamed(arguments,"radius");return e(t,new _(i),arguments)},Rectangle:function(){var e,n=b.readNamed(arguments,"rectangle"),s=_.readNamed(arguments,"radius",0,{readNull:!0}),o=n.getBottomLeft(!0),a=n.getTopLeft(!0),r=n.getTopRight(!0),h=n.getBottomRight(!0);if(!s||s.isZero())e=[new k(o),new k(a),new k(r),new k(h)];else{var l=(s=_.min(s,n.getSize(!0).divide(2))).width,c=s.height,u=l*i,p=c*i;e=[new k(o.add(l,0),null,[-u,0]),new k(o.subtract(0,c),[0,p]),new k(a.add(0,c),null,[0,-p]),new k(a.add(l,0),[-u,0],null),new k(r.subtract(l,0),null,[u,0]),new k(r.add(0,c),[0,-p],null),new k(h.subtract(0,c),null,[0,p]),new k(h.subtract(l,0),[u,0])]}return t(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=I._readEllipse(arguments);return e(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=v.readNamed(arguments,"from"),e=v.readNamed(arguments,"through"),i=v.readNamed(arguments,"to"),n=c.getNamed(arguments),s=new z(n&&!1===n.insert&&M.NO_INSERT);return s.moveTo(t),s.arcTo(e,i),s.set(n)},RegularPolygon:function(){for(var e=v.readNamed(arguments,"center"),i=c.readNamed(arguments,"sides"),n=c.readNamed(arguments,"radius"),s=360/i,o=i%3==0,a=new v(0,o?-n:n),r=o?-1:.5,h=new Array(i),l=0;l<i;l++)h[l]=new k(e.add(a.rotate((l+r)*s)));return t(h,!0,arguments)},Star:function(){for(var e=v.readNamed(arguments,"center"),i=2*c.readNamed(arguments,"points"),n=c.readNamed(arguments,"radius1"),s=c.readNamed(arguments,"radius2"),o=360/i,a=new v(0,-1),r=new Array(i),h=0;h<i;h++)r[h]=new k(e.add(a.rotate(o*h).multiply(h%2?s:n)));return t(r,!0,arguments)}}}});var R=N.extend({_class:"CompoundPath",_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function t(e,i,n){for(s=i.length-1;s>=0;s--)(r=i[s])instanceof R&&((i=i.slice()).splice.apply(i,[s,1].concat(r.removeChildren())),r.remove());i=t.base.call(this,e,i,n,z);for(var s=0,o=!n&&i&&i.length;s<o;s++){var r=i[s];r._clockwise===a&&r.setClockwise(0===r._index)}return i},reduce:function t(e){for(var i=this._children,n=i.length-1;n>=0;n--)(s=i[n].reduce(e)).isEmpty()&&s.remove();if(0===i.length){var s=new z(M.NO_INSERT);return s.copyAttributes(this),s.insertAbove(this),this.remove(),s}return t.base.call(this)},isClockwise:function(){var t=this.getFirstChild();return t&&t.isClockwise()},setClockwise:function(t){this.isClockwise()^!!t&&this.reverse()},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],i=0,n=t.length;i<n;i++)e.push.apply(e,t[i].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getFirstCurve()},getArea:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getArea();return e}},{beans:!0,getPathData:function(t,e){for(var i=this._children,n=[],s=0,o=i.length;s<o;s++){var a=i[s],r=a._matrix;n.push(a.getPathData(t&&!r.isIdentity()?t.appended(r):t,e))}return n.join(" ")}},{_hitTestChildren:function t(e,i,n){return t.base.call(this,e,i.class===z||"path"===i.type?i:c.set({},i,{fill:!1}),n)},_draw:function(t,e,i,n){var s=this._children;if(0!==s.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var o=0,a=s.length;o<a;o++)s[o].draw(t,e,n);if(!e.clip){this._setStyles(t,e,i);var r=this._style;r.hasFill()&&(t.fill(r.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),r.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,i){for(var n=this._children,s=0,o=n.length;s<o;s++){var a=n[s],r=a._matrix;i[a._id]||a._drawSelected(t,r.isIdentity()?e:e.appended(r))}}},new function(){function t(t,e){var i=t._children;if(e&&0===i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return c.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var i=t(this,!0);i[e].apply(i,arguments)}},{moveTo:function(){var e=t(this),i=e&&e.isEmpty()?e:new z(M.NO_INSERT);i!==e&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var e=t(this,!0),i=e&&e.getLastSegment(),n=v.read(arguments);this.moveTo(i?n.add(i._point):n)},closePath:function(e){t(this,!0).closePath(e)}})},c.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var i,n=this._children,s=0,o=n.length;s<o;s++)i=n[s][t](e)||i;return i}},{}));N.inject(new function(){function t(t,e){var i=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return e?i.resolveCrossings():i}function e(t,e,i,n,s){var o=new t(M.NO_INSERT);return o.addChildren(e,!0),i&&(o=o.reduce({simplify:!0})),o.insertAbove(s&&n.isSibling(s)&&n.getIndex()<s.getIndex()?s:n),o.copyAttributes(n,!0),o}function i(i,s,a){function c(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];m.push.apply(m,n._segments),g.push.apply(g,n._getMonoCurves()),n._overlapsOnly=n._validOverlapsOnly=!0}}var u=l[a];if(u[a]=!0,!i._children&&!i._closed)return n(i,s,u);var p=t(i,!0),d=s&&i!==s&&t(s,!0);d&&(u.subtract||u.exclude)^d.isClockwise()^p.isClockwise()&&d.reverse();var f=o(L.expand(p.getCrossings(d))),m=[],g=[];c(p._children||[p]),d&&c(d._children||[d]);for(var v=0,y=f.length;v<y;v++)r(f[v]._segment,p,d,g,u);for(var v=0,y=m.length;v<y;v++){var _=m[v],w=_._intersection;if(null==_._winding&&r(_,p,d,g,u),!w||!w._overlap){var b=_._path;b._overlapsOnly=!1,u[_._winding]&&(b._validOverlapsOnly=!1)}}return e(R,h(m,u),!0,i,s)}function n(i,n,s){function o(t){if(r.contains(t.getPointAt(t.getLength()/2))^l)return c.unshift(t),!0}if(!n||!n._children&&!n._closed||!s.subtract&&!s.intersect)return null;for(var a=t(i,!1),r=t(n,!1),h=a.getCrossings(r),l=s.subtract,c=[],u=h.length-1;u>=0;u--){var p=h[u].split();p&&(o(p)&&p.getFirstSegment().setHandleIn(0,0),a.getLastSegment().setHandleOut(0,0))}return o(a),e(A,c,!1,i,n)}function s(t,e){for(var i=t;i;){if(i===e)return;i=i._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;t._next=e,e._previous=t}}function o(t,e){for(var i,n,o=e&&[],a=!1,r=[],h=t.length-1;h>=0;h--){var l=t[h];if(e){if(!e(l))continue;o.unshift(l)}var c,u=l._curve,p=l._time,d=p;if(u!==i?a=!u.hasHandles():n>=4e-7&&n<=1-4e-7&&(p/=n),p<4e-7)c=u._segment1;else if(p>1-4e-7)c=u._segment2;else{var f=u.divideAtTime(p,!0);a&&r.push(u,f),c=f._segment1}l._setSegment(c);var m=c._intersection,g=l._intersection;if(m){s(m,g);for(var v=m;v;)s(v._intersection,m),v=v._next}else c._intersection=g;i=u,n=d}for(var h=0,y=r.length;h<y;h++)r[h].clearHandles();return o||t}function a(t,e,i){var n=t.x,s=t.y,o=0,r=0,h=e.length,l=[],c=Math.abs;if(i){for(var u=-1/0,p=1/0,d=s-2e-7,f=s+2e-7,m=0;m<h;m++)for(var g=e[m].values,y=D.solveCubic(g,0,n,l,0,1)-1;y>=0;y--){var _=D.getPoint(g,l[y]).y;_<d&&_>u?u=_:_>f&&_<p&&(p=_)}p=(p+s)/2,(u=(u+s)/2)>-1/0&&(o=a(new v(n,u),e).winding),p<1/0&&(r=a(new v(n,p),e).winding)}else{for(var w,b,x=n-2e-7,T=n+2e-7,C=0,S=0,M=!1,m=0;m<h;m++){var A=e[m],O=A.winding,I=(g=A.values)[1],$=g[7];if(A.last&&(w=A.last.winding,b=A.last.values[6],M=!1),s>=I&&s<=$||s>=$&&s<=I)if(O){var B=s===I?g[0]:s===$?g[6]:1===D.solveCubic(g,1,s,l,0,1)?D.getPoint(g,l[0]).x:null;null!=B&&(B>=x&&B<=T?M=!0:s===I&&O===w||s===I&&(n-B)*(n-b)<0||(B<x?o+=O:B>T&&(r+=O))),w=O,b=g[6]}else(n-g[0])*(n-g[6])<=0&&(M=!0);M&&(m>=h-1||e[m+1].last)&&(C+=1,S-=1)}0===o&&0===r&&(o=C,r=S)}return{winding:Math.max(c(o),c(r)),contour:!o^!r}}function r(t,e,i,n,s){var o,r=[],h=t,l=0;do{c=(m=t.getCurve()).getLength();r.push({segment:t,curve:m,length:c}),l+=c,t=t.getNext()}while(t&&!t._intersection&&t!==h);for(var c=l/2,u=0,p=r.length;u<p;u++){var d=r[u],f=d.length;if(c<=f){var m=d.curve,g=m._path,v=g._parent,y=m.getTimeAt(c),_=m.getPointAtTime(y),w=Math.abs(m.getTangentAtTime(y).y)<1e-7;v instanceof R&&(g=v),o=s.subtract&&i&&(g===e&&i._getWinding(_,w)||g===i&&!e._getWinding(_,w))?{winding:0}:a(_,n,w);break}c-=f}for(u=r.length-1;u>=0;u--){var b=r[u].segment;b._winding=o.winding,b._contour=o.contour}}function h(t,e){function i(t,i){return!(!t||t._visited||!(!e||e[t._winding]||!i&&e.unite&&t._contour))}function n(t){return t===s||t===o}for(var s,o,a=[],r=0,h=t.length;r<h;r++){var l,u=null,p=!1,d=t[r],f=d._intersection;if(!d._visited&&d._path._overlapsOnly){var g=d._path,v=f._segment._path,y=g._segments,_=v._segments;if(c.equals(y,_)){(e.unite||e.intersect)&&g.getArea()&&a.push(g.clone(!1));for(var w=0,b=y.length;w<b;w++)y[w]._visited=_[w]._visited=!0}}if(i(d,!0)&&(d._path._validOverlapsOnly||!f||!f._overlap)){for(s=o=null;;){var x=(f=f&&function(t,s){if(!t._next)return t;for(;t;){var o=t._segment,a=o.getNext(),r=a&&a._intersection;if(o!==s&&(n(o)||n(a)||!o._visited&&!a._visited&&(!e||i(o)&&(i(a)||r&&i(r._segment)))))return t;t=t._next}return null}(f,d)||f)&&f._segment;if(n(d)?p=!0:x&&(n(x)?(p=!0,d=x):i(x,i(d,!0))&&(e&&(e.intersect||e.subtract)&&(d._visited=!0),d=x)),p||d._visited){d._visited=!0;break}if(d._path._validOverlapsOnly&&!i(d))break;u||(u=new z(M.NO_INSERT),s=d,o=x);var T=d.getNext();u.add(new k(d._point,l,T&&d._handleOut)),d._visited=!0,d=T||d._path.getFirstSegment(),l=T&&T._handleIn,f=d._intersection}if(p)u.firstSegment.setHandleIn(l),u.setClosed(!0);else if(u){var C=u.getArea(!0);Math.abs(C)>=2e-7&&console.error("Boolean operation resulted in open path","segments =",u._segments.length,"length =",u.getLength(),"area=",C),u=null}u&&(u._segments.length>8||!m.isZero(u.getArea()))&&(a.push(u),u=null)}}return a}var l={unite:{1:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0}};return{_getWinding:function(t,e){return a(t,this._getMonoCurves(),e).winding},unite:function(t){return i(this,t,"unite")},intersect:function(t){return i(this,t,"intersect")},subtract:function(t){return i(this,t,"subtract")},exclude:function(t){return i(this,t,"exclude")},divide:function(t){return e(A,[this.subtract(t),this.intersect(t)],!0,this,t)},resolveCrossings:function(){function t(t){var e=t&&t._intersection;return e&&e._overlap}var e=this._children,i=e||[this],n=!1,s=!1,a=this.getIntersections(null,function(t){return t._overlap&&(n=!0)||t.isCrossing()&&(s=!0)});if(a=L.expand(a),n)for(var r=o(a,function(t){return t._overlap}),l=r.length-1;l>=0;l--){var u=r[l]._segment,p=u.getPrevious(),d=u.getNext();if(u._path&&t(p)&&t(d)){u.remove(),p._handleOut.set(0,0),d._handleIn.set(0,0);var f=p.getCurve();f.isStraight()&&0===f.getLength()&&p.remove()}}s&&(o(a,n&&function(t){var e=t.getCurve(),i=t._intersection._curve,n=t._segment;if(e&&i&&e._path&&i._path)return!0;n&&(n._intersection=null)}),i=h(c.each(i,function(t){this.push.apply(this,t._segments)},[])));var m,g=i.length;if(g>1){for(var v=(i=i.slice().sort(function(t,e){return e.getBounds().getArea()-t.getBounds().getArea()}))[0],y=[v],_={},w="nonzero"===this.getFillRule(),b=w&&c.each(i,function(t){this.push(t.isClockwise()?1:-1)},[]),l=1;l<g;l++){for(var x=i[l],T=x.getInteriorPoint(),C=!1,S=null,A=!1,O=l-1;O>=0&&!S;O--)if(i[O].contains(T)){if(w&&!C&&(b[l]+=b[O],b[l]&&b[O])){A=_[l]=!0;break}C=!0,S=!_[O]&&i[O]}A||(x.setClockwise(S?!S.isClockwise():v.isClockwise()),y.push(x))}i=y,g=y.length}return g>1&&e?(i!==e&&this.setChildren(i,!0),m=this):1!==g||e||(i[0]!==this&&this.setSegments(i[0].removeSegments()),m=this),m||((m=new R(M.NO_INSERT)).addChildren(i,!0),(m=m.reduce()).copyAttributes(this),this.replaceWith(m)),m}}}),z.inject({_getMonoCurves:function(){function t(t){var e=t[1],s=t[7],o=Math.abs((e-s)/(t[0]-t[6]))<2e-7?0:e>s?-1:1,a={values:t,winding:o};n.push(a),o&&(i=a)}function e(e){if(0!==D.getLength(e)){var i=e[1],n=e[3],s=e[5],o=e[7];if(D.isStraight(e)||i>=n==n>=s&&n>=s==s>=o)t(e);else{var a=3*(n-s)-i+o,r=2*(i+s)-4*n,h=n-i,l=[],c=m.solveQuadratic(a,r,h,l,4e-7,1-4e-7);if(c<1)t(e);else{l.sort();var u=l[0],p=D.subdivide(e,u);t(p[0]),c>1&&(u=(l[1]-u)/(1-u),t((p=D.subdivide(p[1],u))[0])),t(p[1])}}}}var i,n=this._monoCurves;if(!n){n=this._monoCurves=[];for(var s=this.getCurves(),o=this._segments,a=0,r=s.length;a<r;a++)e(s[a].getValues());if(!this._closed&&o.length>1){var h=o[o.length-1]._point,l=o[0]._point,c=h._x,u=h._y,p=l._x,d=l._y;e([c,u,c,u,p,d,p,d])}n.length>0&&(n[0].last=i)}return n},getInteriorPoint:function(){var t=this.getBounds().getCenter(!0);if(!this.contains(t)){for(var e=this._getMonoCurves(),i=[],n=t.y,s=[],o=0,a=e.length;o<a;o++){var r=e[o].values;if(1===e[o].winding&&n>r[1]&&n<=r[7]||n>=r[7]&&n<r[1])for(var h=D.solveCubic(r,1,n,i,0,1)-1;h>=0;h--)s.push(D.getPoint(r,i[h]).x)}s.sort(function(t,e){return t-e}),t.x=(s[0]+s[1])/2}return t}}),R.inject({_getMonoCurves:function(){for(var t=this._children,e=[],i=0,n=t.length;i<n;i++)e.push.apply(e,t[i]._getMonoCurves());return e}});var H=c.extend({_class:"PathIterator",initialize:function(t,e,i,n,s){function o(t,e){var i=D.getValues(t,e,s);h.push(i),a(i,t._index,0,1)}function a(t,i,s,o){if(!(o-s>u)||n&&D.isStraight(t)||D.isFlatEnough(t,e||.25)){var r=t[6]-t[0],h=t[7]-t[1],p=Math.sqrt(r*r+h*h);p>0&&(c+=p,l.push({offset:c,curve:t,index:i,time:o}))}else{var d=D.subdivide(t,.5),f=(s+o)/2;a(d[0],i,s,f),a(d[1],i,f,o)}}for(var r,h=[],l=[],c=0,u=1/(i||32),p=t._segments,d=p[0],f=1,m=p.length;f<m;f++)o(d,r=p[f]),d=r;t._closed&&o(r,p[0]),this.curves=h,this.parts=l,this.length=c,this.index=0},_get:function(t){for(var e,i=this.index;e=i,!(0===i||this.parts[--i].offset<t););for(var n=this.parts.length;e<n;e++)if((r=this.parts[e]).offset>=t){this.index=e;var s=this.parts[e-1],o=s&&s.index===r.index?s.time:0,a=s?s.offset:0;return{index:r.index,time:o+(r.time-o)*(t-a)/(r.offset-a)}}var r=this.parts[this.parts.length-1];return{index:r.index,time:1}},drawPart:function(t,e,i){for(var n=this._get(e),s=this._get(i),o=n.index,a=s.index;o<=a;o++){var r=D.getPart(this.curves[o],o===n.index?n.time:0,o===s.index?s.time:1);o===n.index&&t.moveTo(r[0],r[1]),t.bezierCurveTo.apply(t,r.slice(2))}}},c.each(D._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this._get(e);return D[t](this.curves[i.index],i.time)}},{})),F=c.extend({initialize:function(t){for(var e,i=this.points=[],n=t._segments,s=t._closed,o=0,a=n.length;o<a;o++){var r=n[o].point;e&&e.equals(r)||i.push(e=r.clone())}s&&(i.unshift(i[i.length-1]),i.push(i[1])),this.closed=s},fit:function(t){var e=this.points,i=e.length,n=null;return i>0&&(n=[new k(e[0])],i>1&&(this.fitCubic(n,t,0,i-1,e[1].subtract(e[0]),e[i-2].subtract(e[i-1])),this.closed&&(n.shift(),n.pop()))),n},fitCubic:function(t,e,i,n,s,o){var a=this.points;if(n-i!=1){for(var r,h=this.chordLengthParameterize(i,n),l=Math.max(e,e*e),c=!0,u=0;u<=4;u++){var p=this.generateBezier(i,n,h,s,o),d=this.findMaxError(i,n,p,h);if(d.error<e&&c)return void this.addCurve(t,p);if(r=d.index,d.error>=l)break;c=this.reparameterize(i,n,h,p),l=d.error}var f=a[r-1].subtract(a[r+1]);this.fitCubic(t,e,i,r,s,f),this.fitCubic(t,e,r,n,f.negate(),o)}else{var m=a[i],g=a[n],v=m.getDistance(g)/3;this.addCurve(t,[m,m.add(s.normalize(v)),g.add(o.normalize(v)),g])}},addCurve:function(t,e){t[t.length-1].setHandleOut(e[1].subtract(e[0])),t.push(new k(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,i,n,s){for(var o=Math.abs,a=this.points,r=a[t],h=a[e],l=[[0,0],[0,0]],c=[0,0],u=0,p=e-t+1;u<p;u++){var d=i[u],f=1-d,m=3*d*f,g=f*f*f,v=m*f,y=m*d,_=d*d*d,w=n.normalize(v),b=s.normalize(y),x=a[t+u].subtract(r.multiply(g+v)).subtract(h.multiply(y+_));l[0][0]+=w.dot(w),l[0][1]+=w.dot(b),l[1][0]=l[0][1],l[1][1]+=b.dot(b),c[0]+=w.dot(x),c[1]+=b.dot(x)}var T,C,S=l[0][0]*l[1][1]-l[1][0]*l[0][1];if(o(S)>1e-12){var M=l[0][0]*c[1]-l[1][0]*c[0];T=(c[0]*l[1][1]-c[1]*l[0][1])/S,C=M/S}else{var A=l[0][0]+l[0][1],O=l[1][0]+l[1][1];T=C=o(A)>1e-12?c[0]/A:o(O)>1e-12?c[1]/O:0}var I,$,B=h.getDistance(r),E=1e-12*B;if(T<E||C<E)T=C=B/3;else{var P=h.subtract(r);I=n.normalize(T),$=s.normalize(C),I.dot(P)-$.dot(P)>B*B&&(T=C=B/3,I=$=null)}return[r,r.add(I||n.normalize(T)),h.add($||s.normalize(C)),h]},reparameterize:function(t,e,i,n){for(s=t;s<=e;s++)i[s-t]=this.findRoot(n,this.points[s],i[s-t]);for(var s=1,o=i.length;s<o;s++)if(i[s]<=i[s-1])return!1;return!0},findRoot:function(t,e,i){for(var n=[],s=[],o=0;o<=2;o++)n[o]=t[o+1].subtract(t[o]).multiply(3);for(o=0;o<=1;o++)s[o]=n[o+1].subtract(n[o]).multiply(2);var a=this.evaluate(3,t,i),r=this.evaluate(2,n,i),h=this.evaluate(1,s,i),l=a.subtract(e),c=r.dot(r)+l.dot(h);return Math.abs(c)<1e-6?i:i-l.dot(r)/c},evaluate:function(t,e,i){for(var n=e.slice(),s=1;s<=t;s++)for(var o=0;o<=t-s;o++)n[o]=n[o].multiply(1-i).add(n[o+1].multiply(i));return n[0]},chordLengthParameterize:function(t,e){for(var i=[0],n=t+1;n<=e;n++)i[n-t]=i[n-t-1]+this.points[n].getDistance(this.points[n-1]);for(var n=1,s=e-t;n<=s;n++)i[n]/=i[s];return i},findMaxError:function(t,e,i,n){for(var s=Math.floor((e-t+1)/2),o=0,a=t+1;a<e;a++){var r=this.evaluate(3,i,n[a-t]).subtract(this.points[a]),h=r.x*r.x+r.y*r.y;h>=o&&(o=h,s=a)}return{error:o,index:s}}}),j=M.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&c.isPlainObject(t)&&t.x===a&&t.y===a;this._initialize(e&&t,!e&&v.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),U=j.extend({_class:"PointText",initialize:function(){j.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new y(t.x,t.y,this,"setPoint")},setPoint:function(){var t=v.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,i){if(this._content){this._setStyles(t,e,i);var n=this._lines,s=this._style,o=s.hasFill(),a=s.hasStroke(),r=s.getLeading(),h=t.shadowColor;t.font=s.getFontStyle(),t.textAlign=s.getJustification();for(var l=0,c=n.length;l<c;l++){t.shadowColor=h;var u=n[l];o&&(t.fillText(u,0,0),t.shadowColor="rgba(0,0,0,0)"),a&&t.strokeText(u,0,0),t.translate(0,r)}}},_getBounds:function(t,e){var i=this._style,n=this._lines,s=n.length,o=i.getJustification(),a=i.getLeading(),r=this.getView().getTextWidth(i.getFontStyle(),n),h=0;"left"!==o&&(h-=r/("center"===o?2:1));var l=new b(h,s?-.75*a:0,r,s*a);return t?t._transformBounds(l,l):l}}),Y=c.extend(new function(){function t(t){var i,n=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(n){i=[0,0,0];for(o=0;o<3;o++){r=n[o+1];i[o]=parseInt(1==r.length?r+r:r,16)/255}}else if(n=t.match(/^rgba?\((.*)\)$/))for(var o=0,a=(i=n[1].split(",")).length;o<a;o++){var r=+i[o];i[o]=o<3?r/255:r}else if(h){var l=s[t];if(!l){e||((e=at.getContext(1,1)).globalCompositeOperation="copy"),e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var c=e.getImageData(0,0,1,1).data;l=s[t]=[c[0]/255,c[1]/255,c[2]/255]}i=l.slice()}else i=[0,0,0];return i}var e,i={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},n={},s={},o=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],a={"rgb-hsb":function(t,e,i){var n=Math.max(t,e,i),s=n-Math.min(t,e,i);return[0===s?0:60*(n==t?(e-i)/s+(e<i?6:0):n==e?(i-t)/s+2:(t-e)/s+4),0===n?0:s/n,n]},"hsb-rgb":function(t,e,i){t=(t/60%6+6)%6;var n=Math.floor(t),s=t-n,a=[i,i*(1-e),i*(1-e*s),i*(1-e*(1-s))];return[a[(n=o[n])[0]],a[n[1]],a[n[2]]]},"rgb-hsl":function(t,e,i){var n=Math.max(t,e,i),s=Math.min(t,e,i),o=n-s,a=0===o,r=(n+s)/2;return[a?0:60*(n==t?(e-i)/o+(e<i?6:0):n==e?(i-t)/o+2:(t-e)/o+4),a?0:r<.5?o/(n+s):o/(2-n-s),r]},"hsl-rgb":function(t,e,i){if(t=(t/360%1+1)%1,0===e)return[i,i,i];for(var n=[t+1/3,t,t-1/3],s=i<.5?i*(1+e):i+e-i*e,o=2*i-s,a=[],r=0;r<3;r++){var h=n[r];h<0&&(h+=1),h>1&&(h-=1),a[r]=6*h<1?o+6*(s-o)*h:2*h<1?s:3*h<2?o+(s-o)*(2/3-h)*6:o}return a},"rgb-gray":function(t,e,i){return[.2989*t+.587*e+.114*i]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return c.each(i,function(t,e){n[e]=[],c.each(t,function(t,s){var o=c.capitalize(t),a=/^(hue|saturation)$/.test(t),r=n[e][s]="gradient"===t?function(t){var e=this._components[0];return t=W.read(Array.isArray(t)?t:arguments,0,{readNull:!0}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===e?function(){return v.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t};this["get"+o]=function(){return this._type===e||a&&/^hs[bl]$/.test(this._type)?this._components[s]:this._convert(e)[s]},this["set"+o]=function(t){this._type===e||a&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(e),this._properties=i[e],this._type=e),this._components[s]=r.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function e(s){var o,a,r,h,l=Array.prototype.slice,c=arguments,u=this.__read,p=0;Array.isArray(s)&&(s=(c=s)[0]);var d=null!=s&&typeof s;if("string"===d&&s in i&&(o=s,s=c[1],Array.isArray(s)?(a=s,r=c[2]):(u&&(p=1),c=l.call(c,1),d=typeof s)),!a){if(h="number"===d?c:"object"===d&&null!=s.length?s:null){o||(o=h.length>=3?"rgb":"gray");var f=i[o].length;r=h[f],u&&(p+=h===arguments?f+(null!=r?1:0):1),h.length>f&&(h=l.call(h,0,f))}else if("string"===d)o="rgb",4===(a=t(s)).length&&(r=a[3],a.length--);else if("object"===d)if(s.constructor===e){if(o=s._type,a=s._components.slice(),r=s._alpha,"gradient"===o)for(var m=1,g=a.length;m<g;m++){var v=a[m];v&&(a[m]=v.clone())}}else if(s.constructor===W)o="gradient",h=c;else{var y=i[o="hue"in s?"lightness"in s?"hsl":"hsb":"gradient"in s||"stops"in s||"radial"in s?"gradient":"gray"in s?"gray":"rgb"],_=n[o];this._components=a=[];for(var m=0,g=y.length;m<g;m++)null==(w=s[y[m]])&&0===m&&"gradient"===o&&"stops"in s&&(w={stops:s.stops,radial:s.radial}),null!=(w=_[m].call(this,w))&&(a[m]=w);r=s.alpha}u&&o&&(p=1)}if(this._type=o||"rgb",!a){this._components=a=[];for(var m=0,g=(_=n[this._type]).length;m<g;m++){var w=_[m].call(this,h&&h[m]);null!=w&&(a[m]=w)}}this._components=a,this._properties=i[this._type],this._alpha=r,u&&(this.__read=p)},_set:"#initialize",_serialize:function(t,e){var i=this.getComponents();return c.serialize(/^(gray|rgb)$/.test(this._type)?i:[this._type].concat(i),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(t){var e;return this._type===t?this._components.slice():(e=a[this._type+"-"+t])?e.apply(this,this._components):a["rgb-"+t].apply(this,a[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new Y(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=i[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=c.isPlainValue(t,!0)?Y.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this._alpha===e._alpha&&c.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],i="gradient"===this._type,n=f.instance,s=0,o=t.length;s<o;s++){var a=this._components[s];null!=a&&e.push(t[s]+": "+(i?a:n.number(a)))}return null!=this._alpha&&e.push("alpha: "+n.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(t<0?0:t>1?1:t))}var i=this._convert("rgb"),n=t||null==this._alpha?1:this._alpha;return i=[e(i[0]),e(i[1]),e(i[2])],n<1&&i.push(n<0?0:n),t?"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).slice(1):(4==i.length?"rgba(":"rgb(")+i.join(",")+")"},toCanvasStyle:function(t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var e,i=this._components,n=i[0],s=n._stops,o=i[1],a=i[2];if(n._radial){var r=a.getDistance(o),h=i[3];if(h){var l=h.subtract(o);l.getLength()>r&&(h=o.add(l.normalize(r-.1)))}var c=h||o;e=t.createRadialGradient(c.x,c.y,0,o.x,o.y,r)}else e=t.createLinearGradient(o.x,o.y,a.x,a.y);for(var u=0,p=s.length;u<p;u++){var d=s[u];e.addColorStop(d._offset||u/(p-1),d._color.toCanvasStyle())}return this._canvasStyle=e},transform:function(t){if("gradient"===this._type){for(var e=this._components,i=1,n=e.length;i<n;i++){var s=e[i];t._transformPoint(s,s,!0)}this._changed()}},statics:{_types:i,random:function(){var t=Math.random;return new Y(t(),t(),t())}}})},new function(){var t={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}};return c.each(t,function(t,e){this[e]=function(e){e=Y.read(arguments);for(var i=this._type,n=this._components,s=e._convert(i),o=0,a=n.length;o<a;o++)s[o]=t(n[o],s[o]);return new Y(i,s,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})}),W=c.extend({_class:"Gradient",initialize:function(t,e){this._id=g.get(),t&&this._set(t)&&(t=e=null),this._stops||this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,function(){return c.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;-1!=e&&(this._owners.splice(e,1),0===this._owners.length&&(this._owners=a))},clone:function(){for(var t=[],e=0,i=this._stops.length;e<i;e++)t[e]=this._stops[e].clone();return new W(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var i=0,n=e.length;i<n;i++)e[i]._owner=a;for(var i=0,n=(e=this._stops=q.readAll(t,0,{clone:!0})).length;i<n;i++)e[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,i=t._stops,n=e.length;if(n===i.length){for(var s=0;s<n;s++)if(!e[s].equals(i[s]))return!1;return!0}}return!1}}),q=c.extend({_class:"GradientStop",initialize:function(t,e){var i=t,n=e;"object"==typeof t&&e===a&&(Array.isArray(t)&&"number"!=typeof t[0]?(i=t[0],n=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(i=t.color,n=t.offset||t.rampPoint||0)),this.setColor(i),this.setOffset(n)},clone:function(){return new q(this._color.clone(),this._offset)},_serialize:function(t,e){var i=this._color,n=this._offset;return c.serialize(null==n?[i]:[i,n],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(65)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){var t=Y.read(arguments,0,{clone:!0});t&&(t._owner=this),this._color=t,this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),X=c.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new v,selectedColor:null},e=c.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),i=c.set({},e,{fillColor:new Y}),n={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},o={_class:"Style",beans:!0,initialize:function(n,s,o){this._values={},this._owner=s,this._project=s&&s._project||o||r.project,this._defaults=!s||s instanceof A?e:s instanceof j?i:t,n&&this.set(n)}};return c.each(e,function(t,e){var i=/Color$/.test(e),r="shadowOffset"===e,h=c.capitalize(e),l=n[e],u="set"+h,p="get"+h;o[u]=function(t){var n=this._owner,s=n&&n._children;if(s&&s.length>0&&!(n instanceof R))for(var o=0,r=s.length;o<r;o++)s[o]._style[u](t);else if(e in this._defaults){var h=this._values[e];h!==t&&(i&&(h&&h._owner!==a&&(h._owner=a),t&&t.constructor===Y&&(t._owner&&(t=t.clone()),t._owner=n)),this._values[e]=t,n&&n._changed(l||65))}},o[p]=function(t){var n,s=this._owner,o=s&&s._children;if(e in this._defaults&&(!o||0===o.length||t||s instanceof R))if((n=this._values[e])===a)(n=this._defaults[e])&&n.clone&&(n=n.clone());else{var h=i?Y:r?v:null;!h||n&&n.constructor===h||(this._values[e]=n=h.read([n],0,{readNull:!0,clone:!0}),n&&i&&(n._owner=s))}else if(o)for(var l=0,u=o.length;l<u;l++){var d=o[l]._style[p]();if(0===l)n=d;else if(!c.equals(n,d))return a}return n},s[p]=function(t){return this._style[p](t)},s[u]=function(t){this._style[u](t)}}),c.each({Font:"FontFamily",WindingRule:"FillRule"},function(t,e){var i="get"+e,n="set"+e;o[i]=s[i]="#get"+t,o[n]=s[n]="#set"+t}),M.inject(s),o},{set:function(t){var e=t instanceof X,i=e?t._values:t;if(i)for(var n in i)if(n in this._defaults){var s=i[n];this[n]=s&&e&&s.clone?s.clone():s}},equals:function(t){return t===this||t&&this._class===t._class&&c.equals(this._values,t._values)||!1},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),i=this.getFontSize();return/pt|em|%|px/.test(i)&&(i=this.getView().getPixelSize(i)),null!=e?e:1.2*i}}),G=new function(){function t(t,e,i,n){for(var s=["","webkit","moz","Moz","ms","o"],o=e[0].toUpperCase()+e.substring(1),a=0;a<6;a++){var r=s[a],h=r?r+o:e;if(h in t){if(!i)return t[h];t[h]=n;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,i=e&&e.defaultView;return i&&i.getComputedStyle(t,"")},getBounds:function(t,e){var i,n=t.ownerDocument,s=n.body,o=n.documentElement;try{i=t.getBoundingClientRect()}catch(t){i={left:0,top:0,width:0,height:0}}var a=i.left-(o.clientLeft||s.clientLeft||0),r=i.top-(o.clientTop||s.clientTop||0);if(!e){var h=n.defaultView;a+=h.pageXOffset||o.scrollLeft||s.scrollLeft,r+=h.pageYOffset||o.scrollTop||s.scrollTop}return new b(a,r,i.width,i.height)},getViewportBounds:function(t){var e=t.ownerDocument,i=e.defaultView,n=e.documentElement;return new b(0,0,i.innerWidth||n.clientWidth,i.innerHeight||n.clientHeight)},getOffset:function(t,e){return G.getBounds(t,e).getPoint()},getSize:function(t){return G.getBounds(t,!0).getSize()},isInvisible:function(t){return G.getSize(t).equals(new _(0,0))},isInView:function(t){return!G.isInvisible(t)&&G.getViewportBounds(t).intersects(G.getBounds(t,!0))},isInserted:function(t){return l.body.contains(t)},getPrefixed:function(e,i){return e&&t(e,i)},setPrefixed:function(e,i,n){if("object"==typeof i)for(var s in i)t(e,s,!0,i[s]);else t(e,i,!0,n)}}},Z={add:function(t,e){if(t)for(var i in e)for(var n=e[i],s=i.split(/[\s,]+/g),o=0,a=s.length;o<a;o++)t.addEventListener(s[o],n,!1)},remove:function(t,e){if(t)for(var i in e)for(var n=e[i],s=i.split(/[\s,]+/g),o=0,a=s.length;o<a;o++)t.removeEventListener(s[o],n,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new v(e.pageX||e.clientX+l.documentElement.scrollLeft,e.pageY||e.clientY+l.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return Z.getPoint(t).subtract(G.getOffset(e||Z.getTarget(t)))}};Z.requestAnimationFrame=new function(){function t(){var e=s;s=[];for(var o=0,a=e.length;o<a;o++)e[o]();(n=i&&s.length)&&i(t)}var e,i=G.getPrefixed(h,"requestAnimationFrame"),n=!1,s=[];return function(o){s.push(o),i?n||(i(t),n=!0):e||(e=setInterval(t,1e3/60))}};var K=c.extend(u,{_class:"View",initialize:function t(e,i){function n(t){return i[t]||parseInt(i.getAttribute(t),10)}function s(){var t=G.getSize(i);return t.isNaN()||t.isZero()?new _(n("width"),n("height")):t}var o;if(h&&i){this._id=i.getAttribute("id"),null==this._id&&i.setAttribute("id",this._id="view-"+t._id++),Z.add(i,this._viewEvents);if(G.setPrefixed(i.style,{userDrag:"none",userSelect:"none",touchCallout:"none",contentZooming:"none",tapHighlightColor:"rgba(0,0,0,0)"}),p.hasAttribute(i,"resize")){var a=this;Z.add(h,this._windowEvents={resize:function(){a.setViewSize(s())}})}if(o=s(),p.hasAttribute(i,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var c=this._stats.domElement,u=c.style,d=G.getOffset(i);u.position="absolute",u.left=d.x+"px",u.top=d.y+"px",l.body.appendChild(c)}}else o=new _(i),i=null;this._project=e,this._scope=e._scope,this._element=i,this._pixelRatio||(this._pixelRatio=h&&h.devicePixelRatio||1),this._setElementSize(o.width,o.height),this._viewSize=o,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new T)._owner=this,this._zoom=1,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!r.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;K._focused===this&&(K._focused=null),K._views.splice(K._views.indexOf(this),1),delete K._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),Z.remove(this._element,this._viewEvents),Z.remove(h,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:c.each(M._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;Z.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;G.getPrefixed(l,"hidden")&&"true"!==p.getAttribute(e,"keepalive")||!G.isInView(e)||t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){r=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new c({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var i=this._frameItems;e?(i[t._id]={item:t,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete i[t._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var i=this._frameItems[e];i.item.emit("frame",new c(t,{time:i.time+=t.delta,count:i.count++}))}},_changed:function(){this._project._changed(2049),this._bounds=null},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new w(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=_.read(arguments),e=t.width,i=t.height,n=t.subtract(this._viewSize);n.isZero()||(this._setElementSize(e,i),this._viewSize.set(e,i),this.emit("resize",{size:t,delta:n}),this._changed(),this._autoUpdate&&this.requestUpdate())},_setElementSize:function(t,e){var i=this._element;i&&(i.width!==t&&(i.width=t),i.height!==e&&(i.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new b(new v,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=v.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){return this._zoom},setZoom:function(t){this.transform((new T).scale(t/this._zoom,this.getCenter())),this._zoom=t},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},isVisible:function(){return G.isInView(this._element)},isInserted:function(){return G.isInserted(this._element)},getPixelSize:function(t){var e,i=this._element;if(i){var n=i.parentNode,s=l.createElement("div");s.style.fontSize=t,n.appendChild(s),e=parseFloat(G.getStyles(s).fontSize),n.removeChild(s)}else e=parseFloat(e);return e},getTextWidth:function(t,e){return 0}},c.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var i=(e?c:v).read(arguments),n=v.read(arguments,0,{readNull:!0});return this.transform((new T)[t](i,n||this.getCenter(!0)))}},{translate:function(){var t=new T;return this.transform(t.translate.apply(t,arguments))},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(v.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(v.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(v.read(arguments))},getEventPoint:function(t){return this.viewToProject(Z.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return l&&"string"==typeof e&&(e=l.getElementById(e)),new(h?J:K)(t,e)}}},new function(){function t(t){var e=Z.getTarget(t);return e.getAttribute&&K._viewsById[e.getAttribute("id")]}function e(){var t=K._focused;if(!t||!t.isVisible())for(var e=0,i=K._views.length;e<i;e++)if((t=K._views[e]).isVisible()){K._focused=a=t;break}}function i(t,e,i){t._handleMouseEvent("mousemove",e,i)}function n(t,e,i,n,s,o,a){function r(t,i){if(t.responds(i)){if(h||(h=new it(i,n,s,e||t,o?s.subtract(o):null)),t.emit(i,h)&&(A=!0,h.prevented&&(O=!0),h.stopped))return l=!0}else{var a=I[i];if(a)return r(t,a)}}for(var h,l=!1;t&&t!==a&&!r(t,i);)t=t._parent;return l}function s(t,e,i,s,o,a){return t._project.removeOn(i),O=A=!1,T&&n(T,null,i,s,o,a)||e&&e!==T&&!e.isDescendant(T)&&n(e,null,I[i]||i,s,o,a,T)||n(t,T||e||t,i,s,o,a)}if(h){var o,a,c,u,p,d=!1,f=!1,m=h.navigator;m.pointerEnabled||m.msPointerEnabled?(c="pointerdown MSPointerDown",u="pointermove MSPointerMove",p="pointerup pointercancel MSPointerUp MSPointerCancel"):(c="touchstart",u="touchmove",p="touchend touchcancel","ontouchstart"in h&&m.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(c+=" mousedown",u+=" mousemove",p+=" mouseup"));var g={},v={mouseout:function(t){var e=K._focused,n=Z.getRelatedTarget(t);if(e&&(!n||"HTML"===n.nodeName)){var s=Z.getOffset(t,e._element),o=s.x,a=Math.abs,r=a(o),h=r-(1<<25);s.x=a(h)<r?h*(o<0?-1:1):o,i(e,t,e.viewToProject(s))}},scroll:e};g[c]=function(e){var i=K._focused=t(e);d||(d=!0,i._handleMouseEvent("mousedown",e))},v[u]=function(n){var s=K._focused;if(!f){var r=t(n);r?s!==r&&(s&&i(s,n),o||(o=s),s=K._focused=a=r):a&&a===s&&(o&&!o.isInserted()&&(o=null),s=K._focused=o,o=null,e())}s&&i(s,n)},v[c]=function(){f=!0},v[p]=function(t){var e=K._focused;e&&d&&e._handleMouseEvent("mouseup",t),f=d=!1},Z.add(l,v),Z.add(h,{load:e});var y,_,w,b,x,T,C,S,M,A=!1,O=!1,I={doubleclick:"click",mousedrag:"mousemove"},$=!1,B={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:g,_handleMouseEvent:function(t,e,i){function o(t){return a.virtual[t]||c.responds(t)||l&&l.responds(t)}var a=this._itemEvents,r=a.native[t],h="mousemove"===t,l=this._scope.tool,c=this;h&&d&&o("mousedrag")&&(t="mousedrag"),i||(i=this.getEventPoint(e));var u=this.getBounds().contains(i),p=r&&u&&c._project.hitTest(i,{tolerance:0,fill:!0,stroke:!0}),f=p&&p.item||null,m=!1,g={};g[t.substr(5)]=!0,r&&f!==x&&(x&&n(x,null,"mouseleave",e,i),f&&n(f,null,"mouseenter",e,i),x=f),$^u&&(n(this,null,u?"mouseenter":"mouseleave",e,i),y=u?this:null,m=!0),!u&&!g.drag||i.equals(w)||(s(this,f,h?t:"mousemove",e,i,w),m=!0),$=u,(g.down&&u||g.up&&_)&&(s(this,f,t,e,i,_),g.down?(M=f===C&&Date.now()-S<300,b=C=f,T=!O&&f,_=i):g.up&&(O||f!==b||(S=Date.now(),s(this,f,M?"doubleclick":"click",e,i,_),M=!1),b=T=null),$=!1,m=!0),w=i,m&&l&&(A=l._handleMouseEvent(t,e,i,g)||A),(A&&!g.move||g.down&&o("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(t,e,i,n){function s(s){s.responds(t)&&(r=a,s.emit(t,o=o||new tt(t,e,i,n)))}var o,a=this._scope,h=a.tool;this.isVisible()&&(s(this),h&&h.responds(t)&&s(h))},_countItemEvent:function(t,e){var i=this._itemEvents,n=i.native,s=i.virtual;for(var o in B)n[o]=(n[o]||0)+(B[o][t]||0)*e;s[t]=(s[t]||0)+e},statics:{updateFocus:e}}}}),J=K.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof h.HTMLCanvasElement)){var i=_.read(arguments,1);if(i.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+[].slice.call(arguments,1));e=at.getCanvas(i)}var n=this._context=e.getContext("2d");if(n.save(),this._pixelRatio=1,!/^off|false$/.test(p.getAttribute(e,"hidpi"))){var s=h.devicePixelRatio||1,o=G.getPrefixed(n,"backingStorePixelRatio")||1;this._pixelRatio=s/o}K.call(this,t,e),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,i){var n=this._pixelRatio;if(t.base.call(this,e*n,i*n),1!==n){var s=this._element,o=this._context;if(!p.hasAttribute(s,"resize")){var a=s.style;a.width=e+"px",a.height=i+"px"}o.restore(),o.save(),o.scale(n,n)}},getPixelSize:function t(e){var i,n=r.agent;if(n&&n.firefox)i=t.base.call(this,e);else{var s=this._context,o=s.font;s.font=e+" serif",i=parseFloat(s.font),s.font=o}return i},getTextWidth:function(t,e){var i=this._context,n=i.font,s=0;i.font=t;for(var o=0,a=e.length;o<a;o++)s=Math.max(s,i.measureText(e[o]).width);return i.font=n,s},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,i=this._viewSize;return e.clearRect(0,0,i.width+1,i.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Q=c.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return et.modifiers}}),tt=Q.extend({_class:"KeyEvent",initialize:function(t,e,i,n){this.type=t,this.event=e,this.key=i,this.character=n},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),et=new function(){function t(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e?String.fromCharCode(t.keyCode):e,s[e]||(e.length>1?c.hyphenate(e):e.toLowerCase())}function e(t,n,s,o){var h,l=K._focused;if(a[n]=t,t?u[n]=s:delete u[n],n.length>1&&(h=c.camelize(n))in p){p[h]=t;var d=r&&r.agent;if("meta"===h&&d&&d.mac)if(t)i={};else{for(var f in i)f in u&&e(!1,f,i[f],o);i=null}}else t&&i&&(i[n]=s);l&&l._handleKeyEvent(t?"keydown":"keyup",o,n,s)}var i,n,s={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},o={tab:"\t",space:" ",enter:"\r"},a={},u={},p=new c({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=r&&r.agent;return t&&t.mac?this.meta:this.control}}});return Z.add(l,{keydown:function(i){var s=t(i),a=r&&r.agent;s.length>1||a&&a.chrome&&(i.altKey||a.mac&&i.metaKey||!a.mac&&i.ctrlKey)?e(!0,s,o[s]||(s.length>1?"":s),i):n=s},keypress:function(i){if(n){var s=t(i),o=i.charCode,a=o>=32?String.fromCharCode(o):s.length>1?"":s;s!==n&&(s=a.toLowerCase()),e(!0,s,a,i),n=null}},keyup:function(i){var n=t(i);n in u&&e(!1,n,u[n],i)}}),Z.add(h,{blur:function(t){for(var i in u)e(!1,i,u[i],t)}}),{modifiers:p,isDown:function(t){return!!a[t]}}},it=Q.extend({_class:"MouseEvent",initialize:function(t,e,i,n,s){this.type=t,this.event=e,this.point=i,this.target=n,this.delta=s},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),nt=Q.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,i){this.tool=t,this.type=e,this.event=i},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,i=e._parent;/^(Group|CompoundPath)$/.test(i._class);)e=i,i=i._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),st=d.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){d.call(this),this._moveCount=-1,this._downCount=-1,this._set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,i,n){function s(t,e){var s=i,o=a?p._point:p._downPoint||s;if(a){if(p._moveCount&&s.equals(o))return!1;if(o&&(null!=t||null!=e)){var r=s.subtract(o),h=r.getLength();if(h<(t||0))return!1;e&&(s=o.add(r.normalize(Math.min(h,e))))}p._moveCount++}return p._point=s,p._lastPoint=o||s,n.down&&(p._moveCount=-1,p._downPoint=s,p._downCount++),!0}function o(){h&&(u=p.emit(t,new nt(p,t,e))||u)}r=this._scope,n.drag&&!this.responds(t)&&(t="mousemove");var a=n.move||n.drag,h=this.responds(t),l=this.minDistance,c=this.maxDistance,u=!1,p=this;if(n.down)s(),o();else if(n.up)s(null,c),o();else if(h)for(;s(l,c);)o();return u}}),ot={request:function(t){var e=new h.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,c.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var i=e.status;0===i||200===i?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var i=e.status,n='Could not load "'+t.url+'" (Status: '+i+")";if(!t.onError)throw new Error(n);t.onError(n,i)},e.send(null)}},at={canvases:[],getCanvas:function(t,e){if(!h)return null;var i,n=!0;"object"==typeof t&&(e=t.height,t=t.width),this.canvases.length?i=this.canvases.pop():(i=l.createElement("canvas"),n=!1);var s=i.getContext("2d");if(!s)throw new Error("Canvas "+i+" is unable toprovide a 2D context.");return i.width===t&&i.height===e?n&&s.clearRect(0,0,t+1,e+1):(i.width=t,i.height=e),s.save(),i},getContext:function(t,e){var i=this.getCanvas(t,e);return i?i.getContext("2d"):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},rt=new function(){function t(t,e,i){return.2989*t+.587*e+.114*i}function e(e,i,n,s){var o=s-t(e,i,n),s=t(d=e+o,f=i+o,m=n+o),a=g(d,f,m),r=v(d,f,m);if(a<0){var h=s-a;d=s+(d-s)*s/h,f=s+(f-s)*s/h,m=s+(m-s)*s/h}if(r>255){var l=255-s,c=r-s;d=s+(d-s)*l/c,f=s+(f-s)*l/c,m=s+(m-s)*l/c}}function i(t,e,i){return v(t,e,i)-g(t,e,i)}function n(t,e,i,n){var s,o=[t,e,i],a=v(t,e,i),r=g(t,e,i);s=0===g(r=r===t?0:r===e?1:2,a=a===t?0:a===e?1:2)?1===v(r,a)?2:1:0,o[a]>o[r]?(o[s]=(o[s]-o[r])*n/(o[a]-o[r]),o[a]=n):o[s]=o[a]=0,o[r]=0,d=o[0],f=o[1],m=o[2]}var s,o,a,r,h,l,u,p,d,f,m,g=Math.min,v=Math.max,y=Math.abs,_={multiply:function(){d=h*s/255,f=l*o/255,m=u*a/255},screen:function(){d=h+s-h*s/255,f=l+o-l*o/255,m=u+a-u*a/255},overlay:function(){d=h<128?2*h*s/255:255-2*(255-h)*(255-s)/255,f=l<128?2*l*o/255:255-2*(255-l)*(255-o)/255,m=u<128?2*u*a/255:255-2*(255-u)*(255-a)/255},"soft-light":function(){var t=s*h/255;d=t+h*(255-(255-h)*(255-s)/255-t)/255,f=(t=o*l/255)+l*(255-(255-l)*(255-o)/255-t)/255,m=(t=a*u/255)+u*(255-(255-u)*(255-a)/255-t)/255},"hard-light":function(){d=s<128?2*s*h/255:255-2*(255-s)*(255-h)/255,f=o<128?2*o*l/255:255-2*(255-o)*(255-l)/255,m=a<128?2*a*u/255:255-2*(255-a)*(255-u)/255},"color-dodge":function(){d=0===h?0:255===s?255:g(255,255*h/(255-s)),f=0===l?0:255===o?255:g(255,255*l/(255-o)),m=0===u?0:255===a?255:g(255,255*u/(255-a))},"color-burn":function(){d=255===h?255:0===s?0:v(0,255-255*(255-h)/s),f=255===l?255:0===o?0:v(0,255-255*(255-l)/o),m=255===u?255:0===a?0:v(0,255-255*(255-u)/a)},darken:function(){d=h<s?h:s,f=l<o?l:o,m=u<a?u:a},lighten:function(){d=h>s?h:s,f=l>o?l:o,m=u>a?u:a},difference:function(){(d=h-s)<0&&(d=-d),(f=l-o)<0&&(f=-f),(m=u-a)<0&&(m=-m)},exclusion:function(){d=h+s*(255-h-h)/255,f=l+o*(255-l-l)/255,m=u+a*(255-u-u)/255},hue:function(){n(s,o,a,i(h,l,u)),e(d,f,m,t(h,l,u))},saturation:function(){n(h,l,u,i(s,o,a)),e(d,f,m,t(h,l,u))},luminosity:function(){e(h,l,u,t(s,o,a))},color:function(){e(s,o,a,t(h,l,u))},add:function(){d=g(h+s,255),f=g(l+o,255),m=g(u+a,255)},subtract:function(){d=v(h-s,0),f=v(l-o,0),m=v(u-a,0)},average:function(){d=(h+s)/2,f=(l+o)/2,m=(u+a)/2},negation:function(){d=255-y(255-s-h),f=255-y(255-o-l),m=255-y(255-a-u)}},w=this.nativeModes=c.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),b=at.getContext(1,1);b&&(c.each(_,function(t,e){var i="darken"===e,n=!1;b.save();try{b.fillStyle=i?"#300":"#a00",b.fillRect(0,0,1,1),b.globalCompositeOperation=e,b.globalCompositeOperation===e&&(b.fillStyle=i?"#a00":"#300",b.fillRect(0,0,1,1),n=b.getImageData(0,0,1,1).data[0]!==i?170:51)}catch(t){}b.restore(),w[e]=n}),at.release(b)),this.process=function(t,e,i,n,c){var g=e.canvas,v="normal"===t;if(v||w[t])i.save(),i.setTransform(1,0,0,1,0,0),i.globalAlpha=n,v||(i.globalCompositeOperation=t),i.drawImage(g,c.x,c.y),i.restore();else{var y=_[t];if(!y)return;for(var b=i.getImageData(c.x,c.y,g.width,g.height),x=b.data,T=e.getImageData(0,0,g.width,g.height).data,C=0,S=x.length;C<S;C+=4){s=T[C],h=x[C],o=T[C+1],l=x[C+1],a=T[C+2],u=x[C+2],r=T[C+3],p=x[C+3],y();var M=r*n/255,A=1-M;x[C]=M*d+A*h,x[C+1]=M*f+A*l,x[C+2]=M*m+A*u,x[C+3]=r*n+A*p}i.putImageData(b,c.x,c.y)}}},ht=new function(){function t(t,e,i){for(var n in e){var o=e[n],a=s[n];"number"==typeof o&&i&&(o=i.number(o)),a?t.setAttributeNS(a,n,o):t.setAttribute(n,o)}return t}var e="http://www.w3.org/2000/svg",i="http://www.w3.org/2000/xmlns",n="http://www.w3.org/1999/xlink",s={href:n,xlink:i,xmlns:i+"/","xmlns:xlink":i+"/"};return{svg:e,xmlns:i,xlink:n,create:function(i,n,s){return t(l.createElementNS(e,i),n,s)},get:function(t,e){var i=s[e],n=i?t.getAttributeNS(i,e):t.getAttribute(e);return"null"===n?null:n},set:t}},lt=c.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof N||t instanceof I||t instanceof j)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var i=c.capitalize(e),n=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:n,fromSVG:n&&c.each(n,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+i,set:"set"+i}},{});return new function(){function t(t,e,i){var n=new c,s=t.getTranslation();if(e){var o=(t=t._shiftless())._inverseTransform(s);n[i?"cx":"x"]=o.x,n[i?"cy":"y"]=o.y,s=null}if(!t.isIdentity()){var a=t.decompose();if(a){var r=[],h=a.rotation,l=a.scaling,u=a.skewing;s&&!s.isZero()&&r.push("translate("+p.point(s)+")"),h&&r.push("rotate("+p.number(h)+")"),m.isZero(l.x-1)&&m.isZero(l.y-1)||r.push("scale("+p.point(l)+")"),u&&u.x&&r.push("skewX("+p.number(u.x)+")"),u&&u.y&&r.push("skewY("+p.number(u.y)+")"),n.transform=r.join(" ")}else n.transform="matrix("+t.getValues().join(",")+")"}return n}function e(e,i){for(var n=t(e._matrix),s=e._children,o=ht.create("g",n,p),r=0,h=s.length;r<h;r++){var c=s[r],u=l(c,i);if(u)if(c.isClipMask()){var d=ht.create("clipPath");d.appendChild(u),a(c,d,"clip"),ht.set(o,{"clip-path":"url(#"+d.id+")"})}else o.appendChild(u)}return o}function i(e){var i=e._type,n=e._radius,s=t(e._matrix,!0,"rectangle"!==i);if("rectangle"===i){i="rect";var o=e._size,a=o.width,r=o.height;s.x-=a/2,s.y-=r/2,s.width=a,s.height=r,n.isZero()&&(n=null)}return n&&("circle"===i?s.r=n:(s.rx=n.width,s.ry=n.height)),ht.create(i,s,p)}function n(t){var e=o(t,"color");if(!e){var i,n=t.getGradient(),s=n._radial,r=t.getOrigin(),h=t.getDestination();if(s){i={cx:r.x,cy:r.y,r:r.getDistance(h)};var l=t.getHighlight();l&&(i.fx=l.x,i.fy=l.y)}else i={x1:r.x,y1:r.y,x2:h.x,y2:h.y};i.gradientUnits="userSpaceOnUse",e=ht.create((s?"radial":"linear")+"Gradient",i,p);for(var c=n._stops,u=0,d=c.length;u<d;u++){var f=c[u],m=f._color,g=m.getAlpha();i={offset:f._offset||u/(d-1)},m&&(i["stop-color"]=m.toCSS(!0)),g<1&&(i["stop-opacity"]=g),e.appendChild(ht.create("stop",i,p))}a(t,e,"color")}return"url(#"+e.id+")"}function s(t,e,i){var s={},o=!i&&t.getParent(),a=[];return null!=t._name&&(s.id=t._name),c.each(lt,function(e){var i=e.get,r=e.type,h=t[i]();if(e.exportFilter?e.exportFilter(t,h):!o||!c.equals(o[i](),h)){if("color"===r&&null!=h){var l=h.getAlpha();l<1&&(s[e.attribute+"-opacity"]=l)}"style"===r?a.push(e.attribute+": "+h):s[e.attribute]=null==h?"none":"color"===r?h.gradient?n(h,t):h.toCSS(!0):"array"===r?h.join(","):"lookup"===r?e.toSVG[h]:h}}),a.length&&(s.style=a.join(";")),1===s.opacity&&delete s.opacity,t._visible||(s.visibility="hidden"),ht.set(e,s,p)}function o(t,e){d||(d={ids:{},svgs:{}});var i=t._id||t.__id||(t.__id=g.get("svg"));return t&&d.svgs[e+"-"+i]}function a(t,e,i){d||o();var n=d.ids[i]=(d.ids[i]||0)+1;e.id=i+"-"+n,d.svgs[i+"-"+(t._id||t.__id)]=e}function r(t,e){var i=t,n=null;if(d){i="svg"===t.nodeName.toLowerCase()&&t;for(var s in d.svgs)n||(i||(i=ht.create("svg")).appendChild(t),n=i.insertBefore(ht.create("defs"),i.firstChild)),n.appendChild(d.svgs[s]);d=null}return e.asString?(new h.XMLSerializer).serializeToString(i):i}function l(t,e,i){var n=v[t._class],o=n&&n(t,e);if(o){var a=e.onExport;a&&(o=a(t,o,e)||o);var r=JSON.stringify(t._data);r&&"{}"!==r&&"null"!==r&&o.setAttribute("data-paper-data",r)}return o&&s(t,o,i)}function u(t){return t||(t={}),p=new f(t.precision),t}var p,d,v={Group:e,Layer:e,Raster:function(e,i){var n=t(e._matrix,!0),s=e.getSize(),o=e.getImage();return n.x-=s.width/2,n.y-=s.height/2,n.width=s.width,n.height=s.height,n.href=!1===i.embedImages&&o&&o.src||e.toDataURL(),ht.create("image",n,p)},Path:function(e,n){var s=n.matchShapes;if(s){var o=e.toShape(!1);if(o)return i(o)}var a,r=e._segments,h=r.length,l=t(e._matrix);if(s&&h>=2&&!e.hasHandles())if(h>2){a=e._closed?"polygon":"polyline";for(var c=[],u=0;u<h;u++)c.push(p.point(r[u]._point));l.points=c.join(" ")}else{a="line";var d=r[0]._point,f=r[1]._point;l.set({x1:d.x,y1:d.y,x2:f.x,y2:f.y})}else a="path",l.d=e.getPathData(null,n.precision);return ht.create(a,l,p)},Shape:i,CompoundPath:function(e,i){var n=t(e._matrix),s=e.getPathData(null,i.precision);return s&&(n.d=s),ht.create("path",n,p)},SymbolItem:function(e,i){var n=t(e._matrix,!0),s=e._definition,r=o(s,"symbol"),h=s._item,c=h.getBounds();return r||((r=ht.create("symbol",{viewBox:p.rectangle(c)})).appendChild(l(h,i)),a(s,r,"symbol")),n.href="#"+r.id,n.x+=c.x,n.y+=c.y,n.width=c.width,n.height=c.height,n.overflow="visible",ht.create("use",n,p)},PointText:function(e){var i=ht.create("text",t(e._matrix,!0),p);return i.textContent=e._content,i}};M.inject({exportSVG:function(t){return t=u(t),r(l(this,t,!0),t)}}),S.inject({exportSVG:function(e){e=u(e);var i=this._children,n=this.getView(),s=c.pick(e.bounds,"view"),o=e.matrix||"view"===s&&n._matrix,a=o&&T.read([o]),h="view"===s?new b([0,0],n.getViewSize()):"content"===s?M._getBounds(i,a,{stroke:!0}):b.read([s],0,{readNull:!0}),d={version:"1.1",xmlns:ht.svg,"xmlns:xlink":ht.xlink};h&&(d.width=h.width,d.height=h.height,(h.x||h.y)&&(d.viewBox=p.rectangle(h)));var f=ht.create("svg",d,p),m=f;a&&!a.isIdentity()&&(m=f.appendChild(ht.create("g",t(a),p)));for(var g=0,v=i.length;g<v;g++)m.appendChild(l(i[g],e,!0));return r(f,e)}})},new function(){function t(t,e,i,n,s){var o=ht.get(t,e),a=null==o?n?null:i?"":0:i?o:parseFloat(o);return/%\s*$/.test(o)?a/100*(s?1:x[/x|^width/.test(e)?"width":"height"]):a}function e(e,i,n,s,o){return i=t(e,i||"x",!1,s,o),n=t(e,n||"y",!1,s,o),!s||null!=i&&null!=n?new v(i,n):null}function i(e,i,n,s,o){return i=t(e,i||"width",!1,s,o),n=t(e,n||"height",!1,s,o),!s||null!=i&&null!=n?new _(i,n):null}function n(t,e,i){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?g(t)||t:"lookup"===e?i[t]:t}function s(t,e,i,n){var s=t.childNodes,o="clippath"===e,a="defs"===e,r=new A,h=r._project,l=h._currentStyle,c=[];if(o||a||(r=m(r,t,n),h._currentStyle=r._style.clone()),n)for(var u=t.querySelectorAll("defs"),p=0,d=u.length;p<d;p++)y(u[p],i,!1);for(var p=0,d=s.length;p<d;p++){var f,g=s[p];1!==g.nodeType||/^defs$/i.test(g.nodeName)||!(f=y(g,i,!1))||f instanceof E||c.push(f)}return r.addChildren(c),o&&(r=m(r.reduce(),t,n)),h._currentStyle=l,(o||a)&&(r.remove(),r=null),r}function o(t,e){for(var i=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),n=[],s=0,o=i.length;s<o;s+=2)n.push(new v(parseFloat(i[s]),parseFloat(i[s+1])));var a=new z(n);return"polygon"===e&&a.closePath(),a}function u(i,n){var s,o=(t(i,"href",!0)||"").substring(1),a="radialgradient"===n;if(o)(s=C[o].getGradient())._radial^a&&((s=s.clone())._radial=a);else{for(var r=i.childNodes,h=[],l=0,c=r.length;l<c;l++){var u=r[l];1===u.nodeType&&h.push(m(new q,u))}s=new W(h,a)}var p,d,f,g="userSpaceOnUse"!==t(i,"gradientUnits",!0);return a?(d=(p=e(i,"cx","cy",!1,g)).add(t(i,"r",!1,!1,g),0),f=e(i,"fx","fy",!0,g)):(p=e(i,"x1","y1",!1,g),d=e(i,"x2","y2",!1,g)),m(new Y(s,p,d,f),i)._scaleToBounds=g,null}function p(t,e,i,n){if(t.transform){for(var s=(n.getAttribute(i)||"").split(/\)\s*/g),o=new T,a=0,r=s.length;a<r;a++){var h=s[a];if(!h)break;for(var l=h.split(/\(\s*/),c=l[0],u=l[1].split(/[\s,]+/g),p=0,d=u.length;p<d;p++)u[p]=parseFloat(u[p]);switch(c){case"matrix":o.append(new T(u[0],u[1],u[2],u[3],u[4],u[5]));break;case"rotate":o.rotate(u[0],u[1],u[2]);break;case"translate":o.translate(u[0],u[1]);break;case"scale":o.scale(u);break;case"skewX":o.skew(u[0],0);break;case"skewY":o.skew(0,u[0])}}t.transform(o)}}function d(t,e,i){var n="fill-opacity"===i?"getFillColor":"getStrokeColor",s=t[n]&&t[n]();s&&s.setAlpha(parseFloat(e))}function f(t,e,i){var n=t.attributes[e],s=n&&n.value;if(!s){var o=c.camelize(e);(s=t.style[o])||i.node[o]===i.parent[o]||(s=i.node[o])}return s?"none"===s?null:s:a}function m(t,e,i){var n=e.parentNode,s={node:G.getStyles(e)||{},parent:!i&&!/^defs$/i.test(n.tagName)&&G.getStyles(n)||{}};return c.each(B,function(i,n){var o=f(e,n,s);t=o!==a&&i(t,o,n,e,s)||t}),t}function g(t){var e=t&&t.match(/\((?:["'#]*)([^"')]+)/),i=e&&C[e[1].replace(h.location.href.split("#")[0]+"#","")];return i&&i._scaleToBounds&&((i=i.clone())._scaleToBounds=!0),i}function y(t,e,n){var s,o,a,h=t.nodeName.toLowerCase(),u="#document"!==h,p=l.body;n&&u&&(x=i(t,null,null,!0)||r.getView().getSize(),s=ht.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),o=t.parentNode,a=t.nextSibling,s.appendChild(t),p.appendChild(s));var d=r.settings,f=d.applyMatrix,g=d.insertItems;d.applyMatrix=!1,d.insertItems=!1;var v=O[h],y=v&&v(t,h,e,n)||null;if(d.insertItems=g,d.applyMatrix=f,y){!u||y instanceof A||(y=m(y,t,n));var _=e.onImport,w=u&&t.getAttribute("data-paper-data");_&&(y=_(t,y,e)||y),e.expandShapes&&y instanceof I&&(y.remove(),y=y.toPath()),w&&(y._data=JSON.parse(w))}return s&&(p.removeChild(s),o&&(a?o.insertBefore(t,a):o.appendChild(t))),n&&(C={},y&&c.pick(e.applyMatrix,f)&&y.matrix.apply(!0,!0)),y}function w(t,e,i){function n(n){try{var l="object"==typeof n?n:(new h.DOMParser).parseFromString(n,"image/svg+xml");if(!l.nodeName)throw l=null,new Error("Unsupported SVG source: "+t);r=o,c=y(l,e,!0),e&&!1===e.insert||i._insertItem(a,c);var u=e.onLoad;u&&u(c,n)}catch(t){s(t)}}function s(t,i){var n=e.onError;if(!n)throw new Error(t);n(t,i)}if(!t)return null;e="function"==typeof e?{onLoad:e}:e||{};var o=r,c=null;if("string"!=typeof t||/^.*</.test(t)){if("undefined"!=typeof File&&t instanceof File){var u=new FileReader;return u.onload=function(){n(u.result)},u.onerror=function(){s(u.error)},u.readAsText(t)}n(t)}else{var p=l.getElementById(t);p?n(p):ot.request({url:t,async:!0,onLoad:n,onError:s})}return c}var x,C={},O={"#document":function(t,e,i,n){for(var s=t.childNodes,o=0,a=s.length;o<a;o++){var r=s[o];if(1===r.nodeType)return y(r,i,n)}},g:s,svg:s,clippath:s,polygon:o,polyline:o,path:function(t){return N.create(t.getAttribute("d"))},lineargradient:u,radialgradient:u,image:function(n){var s=new $(t(n,"href",!0));return s.on("load",function(){var t=i(n);this.setSize(t);var s=this._matrix._transformPoint(e(n).add(t.divide(2)));this.translate(s)}),s},symbol:function(t,e,i,n){return new E(s(t,e,i,n),!0)},defs:s,use:function(i){var n=(t(i,"href",!0)||"").substring(1),s=C[n],o=e(i);return s?s instanceof E?s.place(o):s.clone().translate(o):null},circle:function(i){return new I.Circle(e(i,"cx","cy"),t(i,"r"))},ellipse:function(t){return new I.Ellipse({center:e(t,"cx","cy"),radius:i(t,"rx","ry")})},rect:function(t){return new I.Rectangle(new b(e(t),i(t)),i(t,"rx","ry"))},line:function(t){return new z.Line(e(t,"x1","y1"),e(t,"x2","y2"))},text:function(t){var i=new U(e(t).add(e(t,"dx","dy")));return i.setContent(t.textContent.trim()||""),i}},B=c.set(c.each(lt,function(t){this[t.attribute]=function(e,i){if(e[t.set]&&(e[t.set](n(i,t.type,t.fromSVG)),"color"===t.type)){var s=e[t.get]();if(s){if(s._scaleToBounds){var o=e.getBounds();s.transform((new T).translate(o.getPoint()).scale(o.getSize()))}e instanceof I&&s.transform((new T).translate(e.getPosition(!0).negate()))}}}},{}),{id:function(t,e){C[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){var i=g(e);if(i){if((i=i.clone()).setClipMask(!0),!(t instanceof A))return new A(i,t);t.insertChild(0,i)}},gradientTransform:p,transform:p,"fill-opacity":d,"stroke-opacity":d,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var i=e.match(/(.*)%$/);t.setOffset(i?i[1]/100:parseFloat(e))}},viewBox:function(t,e,s,o,a){var r,h=new b(n(e,"array")),l=i(o,null,null,!0);if(t instanceof A){var c=l?l.divide(h.getSize()):1,u=(new T).scale(c).translate(h.getPoint().negate());r=t}else t instanceof E&&(l&&h.setSize(l),r=t._item);if(r){if("visible"!==f(o,"overflow",a)){var p=new I.Rectangle(h);p.setClipMask(!0),r.addChild(p)}u&&r.transform(u)}}});M.inject({importSVG:function(t,e){return w(t,e,this)}}),S.inject({importSVG:function(t,e){return this.activate(),w(t,e,this)}})},c.exports.PaperScript=function(){function t(t,e,i){var n=d[e];if(t&&t[n]){var s=t[n](i);return"!="===e?!s:s}switch(e){case"+":return t+i;case"-":return t-i;case"*":return t*i;case"/":return t/i;case"%":return t%i;case"==":return t==i;case"!=":return t!=i}}function e(t,e){var i=f[t];if(i&&e&&e[i])return e[i]();switch(t){case"+":return+e;case"-":return-e}}function i(t,e){return u.acorn.parse(t,e)}function n(t,e){function n(t){for(var e=0,i=p.length;e<i;e++){var n=p[e];if(n[0]>=t)break;t+=n[1]}return t}function s(e){return t.substring(n(e.range[0]),n(e.range[1]))}function o(e,i){return t.substring(n(e.range[1]),n(i.range[0]))}function a(e,i){for(var s=n(e.range[0]),o=n(e.range[1]),a=0,r=p.length-1;r>=0;r--)if(s>p[r][0]){a=r+1;break}p.splice(a,0,[s,i.length-o+s]),t=t.substring(0,s)+i+t.substring(o)}function c(t,e){if(t){for(var i in t)if("range"!==i&&"loc"!==i){var n=t[i];if(Array.isArray(n))for(var r=0,h=n.length;r<h;r++)c(n[r],t);else n&&"object"==typeof n&&c(n,t)}switch(t.type){case"UnaryExpression":if(t.operator in f&&"Literal"!==t.argument.type){var l=s(t.argument);a(t,'$__("'+t.operator+'", '+l+")")}break;case"BinaryExpression":if(t.operator in d&&"Literal"!==t.left.type){var u=s(t.left),p=s(t.right),m=o(t.left,t.right),g=t.operator;a(t,"__$__("+u+","+m.replace(new RegExp("\\"+g),'"'+g+'"')+", "+p+")")}break;case"UpdateExpression":case"AssignmentExpression":var v=e&&e.type;if(!("ForStatement"===v||"BinaryExpression"===v&&/^[=!<>]/.test(e.operator)||"MemberExpression"===v&&e.computed))if("UpdateExpression"===t.type){var y="__$__("+(l=s(t.argument))+', "'+t.operator[0]+'", 1)',_=l+" = "+y;t.prefix||"AssignmentExpression"!==v&&"VariableDeclarator"!==v||(s(e.left||e.id)===l&&(_=y),_=l+"; "+_),a(t,_)}else if(/^.=$/.test(t.operator)&&"Literal"!==t.left.type){var u=s(t.left),p=s(t.right);a(t,u+" = __$__("+u+', "'+t.operator[0]+'", '+p+")")}}}}if(!t)return"";var u,p=[],m=(e=e||{}).url||"",g=r.agent,v=g.versionNumber,y=!1,_=e.sourceMaps,w=e.source||t,b=/\r\n|\n|\r/gm,x=e.offset||0;if(_&&(g.chrome&&v>=30||g.webkit&&v>=537.76||g.firefox&&v>=23||g.node)){if(g.node)x-=2;else if(h&&m&&!h.location.href.indexOf(m)){var T=l.getElementsByTagName("html")[0].innerHTML;x=T.substr(0,T.indexOf(t)+1).match(b).length+1}var C=["AA"+function(t){var e="";for(t=(Math.abs(t)<<1)+(t<0?1:0);t||!e;){var i=31&t;(t>>=5)&&(i|=32),e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[i]}return e}((y=x>0&&!(g.chrome&&v>=36||g.safari&&v>=600||g.firefox&&v>=40||g.node))?0:x)+"A"];C.length=(t.match(b)||[]).length+1+(y?x:0),u={version:3,file:m,names:[],mappings:C.join(";AACA"),sourceRoot:"",sources:[m],sourcesContent:[w]}}return c(i(t,{ranges:!0})),u&&(y&&(t=new Array(x+1).join("\n")+t),/^(inline|both)$/.test(_)&&(t+="\n//# sourceMappingURL=data:application/json;base64,"+h.btoa(unescape(encodeURIComponent(JSON.stringify(u))))),t+="\n//# sourceURL="+(m||"paperscript")),{url:m,source:w,code:t,map:u}}function s(i,s,o){function a(t,e){for(var n in t)!e&&/^_/.test(n)||!new RegExp("([\\b\\s\\W]|^)"+n.replace(/\$/g,"\\$")+"\\b").test(i)||(m.push(n),g.push(t[n]))}r=s;var h,u=s.getView(),p=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(i)&&!/\bnew\s+Tool\b/.test(i)?new st:null,d=p?p._events:[],f=["onFrame","onResize"].concat(d),m=[],g=[],y="object"==typeof i?i:n(i,o);i=y.code,a({__$__:t,$__:e,paper:s,view:u,tool:p},!0),a(s),(f=c.each(f,function(t){new RegExp("\\s+"+t+"\\b").test(i)&&(m.push(t),this.push(t+": "+t))},[]).join(", "))&&(i+="\nreturn { "+f+" };");var _=r.agent;if(l&&(_.chrome||_.firefox&&_.versionNumber<40)){var w=l.createElement("script"),b=l.head||l.getElementsByTagName("head")[0];_.firefox&&(i="\n"+i),w.appendChild(l.createTextNode("paper._execute = function("+m+") {"+i+"\n}")),b.appendChild(w),h=r._execute,delete r._execute,b.removeChild(w)}else h=Function(m,i);var x=h.apply(s,g)||{};return c.each(d,function(t){var e=x[t];e&&(p[t]=e)}),u&&(x.onResize&&u.setOnResize(x.onResize),u.emit("resize",{size:u.size,delta:new v}),x.onFrame&&u.setOnFrame(x.onFrame),u.requestUpdate()),y}function o(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&"true"!==p.getAttribute(t,"ignore")){var e=p.getAttribute(t,"canvas"),i=l.getElementById(e),n=t.src||t.getAttribute("data-src"),o=p.hasAttribute(t,"async");if(!i)throw new Error('Unable to find canvas with id "'+e+'"');var a=p.get(i.getAttribute("data-paper-scope"))||(new p).setup(i);return i.setAttribute("data-paper-scope",a._id),n?ot.request({url:n,async:o,mimeType:"text/plain",onLoad:function(t){s(t,a,n)}}):s(t.innerHTML,a,t.baseURI),t.setAttribute("data-paper-ignore","true"),a}}function a(){c.each(l&&l.getElementsByTagName("script"),o)}var u=this;!function(t,e){e(t.acorn||(t.acorn={}))}(this,function(t){"use strict";function e(t){ut=t||{};for(var e in mt)Object.prototype.hasOwnProperty.call(ut,e)||(ut[e]=mt[e]);ft=ut.sourceFile||null}function i(t,e){var i=gt(pt,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=vt,n}function n(t){function e(t){if(1==t.length)return i+="return str === "+JSON.stringify(t[0])+";";i+="switch(str){";for(var e=0;e<t.length;++e)i+="case "+JSON.stringify(t[e])+":";i+="return true}return false;"}t=t.split(" ");var i="",n=[];t:for(o=0;o<t.length;++o){for(var s=0;s<n.length;++s)if(n[s][0].length==t[o].length){n[s].push(t[o]);continue t}n.push([t[o]])}if(n.length>3){n.sort(function(t,e){return e.length-t.length}),i+="switch(str.length){";for(var o=0;o<n.length;++o){var a=n[o];i+="case "+a[0].length+":",e(a)}i+="}"}else e(t);return new Function("str",i)}function s(){this.line=St,this.column=vt-Mt}function o(){St=1,vt=Mt=0,Ct=!0,l()}function a(t,e){_t=vt,ut.locations&&(bt=new s),xt=t,l(),Tt=e,Ct=t.beforeExpr}function r(){var t=ut.onComment&&ut.locations&&new s,e=vt,n=pt.indexOf("*/",vt+=2);if(-1===n&&i(vt-2,"Unterminated comment"),vt=n+2,ut.locations){Ge.lastIndex=e;for(var o;(o=Ge.exec(pt))&&o.index<vt;)++St,Mt=o.index+o[0].length}ut.onComment&&ut.onComment(!0,pt.slice(e+2,n),e,vt,t,ut.locations&&new s)}function h(){for(var t=vt,e=ut.onComment&&ut.locations&&new s,i=pt.charCodeAt(vt+=2);dt>vt&&10!==i&&13!==i&&8232!==i&&8233!==i;)++vt,i=pt.charCodeAt(vt);ut.onComment&&ut.onComment(!1,pt.slice(t+2,vt),t,vt,e,ut.locations&&new s)}function l(){for(;dt>vt;){var t=pt.charCodeAt(vt);if(32===t)++vt;else if(13===t)++vt,10===(e=pt.charCodeAt(vt))&&++vt,ut.locations&&(++St,Mt=vt);else if(10===t||8232===t||8233===t)++vt,ut.locations&&(++St,Mt=vt);else if(t>8&&14>t)++vt;else if(47===t){var e=pt.charCodeAt(vt+1);if(42===e)r();else{if(47!==e)break;h()}}else if(160===t)++vt;else{if(!(t>=5760&&Ue.test(String.fromCharCode(t))))break;++vt}}}function c(){var t=pt.charCodeAt(vt+1);return t>=48&&57>=t?C(!0):(++vt,a(we))}function u(){var t=pt.charCodeAt(vt+1);return Ct?(++vt,b()):61===t?w(Ce,2):w(xe,1)}function p(){return 61===pt.charCodeAt(vt+1)?w(Ce,2):w(De,1)}function d(t){var e=pt.charCodeAt(vt+1);return e===t?w(124===t?Ae:Oe,2):61===e?w(Ce,2):w(124===t?Ie:Be,1)}function f(){return 61===pt.charCodeAt(vt+1)?w(Ce,2):w($e,1)}function m(t){var e=pt.charCodeAt(vt+1);return e===t?45==e&&62==pt.charCodeAt(vt+2)&&Xe.test(pt.slice(Ot,vt))?(vt+=3,h(),l(),_()):w(Se,2):61===e?w(Ce,2):w(Ve,1)}function g(t){var e=pt.charCodeAt(vt+1),i=1;return e===t?(i=62===t&&62===pt.charCodeAt(vt+2)?3:2,61===pt.charCodeAt(vt+i)?w(Ce,i+1):w(ke,i)):33==e&&60==t&&45==pt.charCodeAt(vt+2)&&45==pt.charCodeAt(vt+3)?(vt+=4,h(),l(),_()):(61===e&&(i=61===pt.charCodeAt(vt+2)?3:2),w(Pe,i))}function v(t){return 61===pt.charCodeAt(vt+1)?w(Ee,61===pt.charCodeAt(vt+2)?3:2):w(61===t?Te:Me,1)}function y(t){switch(t){case 46:return c();case 40:return++vt,a(me);case 41:return++vt,a(ge);case 59:return++vt,a(ye);case 44:return++vt,a(ve);case 91:return++vt,a(ue);case 93:return++vt,a(pe);case 123:return++vt,a(de);case 125:return++vt,a(fe);case 58:return++vt,a(_e);case 63:return++vt,a(be);case 48:var e=pt.charCodeAt(vt+1);if(120===e||88===e)return T();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return C(!1);case 34:case 39:return S(t);case 47:return u(t);case 37:case 42:return p();case 124:case 38:return d(t);case 94:return f();case 43:case 45:return m(t);case 60:case 62:return g(t);case 61:case 33:return v(t);case 126:return w(Me,1)}return!1}function _(t){if(t?vt=yt+1:yt=vt,ut.locations&&(wt=new s),t)return b();if(vt>=dt)return a(Nt);var e=pt.charCodeAt(vt);if(Ze(e)||92===e)return O();var n=y(e);if(!1===n){var o=String.fromCharCode(e);if("\\"===o||We.test(o))return O();i(vt,"Unexpected character '"+o+"'")}return n}function w(t,e){var i=pt.slice(vt,vt+e);vt+=e,a(t,i)}function b(){for(var t,e,n="",s=vt;;){vt>=dt&&i(s,"Unterminated regular expression");var o=pt.charAt(vt);if(Xe.test(o)&&i(s,"Unterminated regular expression"),t)t=!1;else{if("["===o)e=!0;else if("]"===o&&e)e=!1;else if("/"===o&&!e)break;t="\\"===o}++vt}n=pt.slice(s,vt);++vt;var r=A();r&&!/^[gmsiy]*$/.test(r)&&i(s,"Invalid regexp flag");try{var h=new RegExp(n,r)}catch(t){t instanceof SyntaxError&&i(s,t.message),i(t)}return a(Vt,h)}function x(t,e){for(var i=vt,n=0,s=0,o=null==e?1/0:e;o>s;++s){var a,r=pt.charCodeAt(vt);if((a=r>=97?r-97+10:r>=65?r-65+10:r>=48&&57>=r?r-48:1/0)>=t)break;++vt,n=n*t+a}return vt===i||null!=e&&vt-i!==e?null:n}function T(){vt+=2;var t=x(16);return null==t&&i(yt+2,"Expected hexadecimal number"),Ze(pt.charCodeAt(vt))&&i(vt,"Identifier directly after number"),a(kt,t)}function C(t){var e=vt,n=!1,s=48===pt.charCodeAt(vt);t||null!==x(10)||i(e,"Invalid number"),46===pt.charCodeAt(vt)&&(++vt,x(10),n=!0);var o=pt.charCodeAt(vt);69!==o&&101!==o||(43!==(o=pt.charCodeAt(++vt))&&45!==o||++vt,null===x(10)&&i(e,"Invalid number"),n=!0),Ze(pt.charCodeAt(vt))&&i(vt,"Identifier directly after number");var r,h=pt.slice(e,vt);return n?r=parseFloat(h):s&&1!==h.length?/[89]/.test(h)||Et?i(e,"Invalid number"):r=parseInt(h,8):r=parseInt(h,10),a(kt,r)}function S(t){vt++;for(var e="";;){vt>=dt&&i(yt,"Unterminated string constant");var n=pt.charCodeAt(vt);if(n===t)return++vt,a(Dt,e);if(92===n){n=pt.charCodeAt(++vt);var s=/^[0-7]+/.exec(pt.slice(vt,vt+3));for(s&&(s=s[0]);s&&parseInt(s,8)>255;)s=s.slice(0,-1);if("0"===s&&(s=null),++vt,s)Et&&i(vt-2,"Octal literal in strict mode"),e+=String.fromCharCode(parseInt(s,8)),vt+=s.length-1;else switch(n){case 110:e+="\n";break;case 114:e+="\r";break;case 120:e+=String.fromCharCode(M(2));break;case 117:e+=String.fromCharCode(M(4));break;case 85:e+=String.fromCharCode(M(8));break;case 116:e+="\t";break;case 98:e+="\b";break;case 118:e+="\v";break;case 102:e+="\f";break;case 48:e+="\0";break;case 13:10===pt.charCodeAt(vt)&&++vt;case 10:ut.locations&&(Mt=vt,++St);break;default:e+=String.fromCharCode(n)}}else 13!==n&&10!==n&&8232!==n&&8233!==n||i(yt,"Unterminated string constant"),e+=String.fromCharCode(n),++vt}}function M(t){var e=x(16,t);return null===e&&i(yt,"Bad character escape sequence"),e}function A(){Ne=!1;for(var t,e=!0,n=vt;;){var s=pt.charCodeAt(vt);if(Ke(s))Ne&&(t+=pt.charAt(vt)),++vt;else{if(92!==s)break;Ne||(t=pt.slice(n,vt)),Ne=!0,117!=pt.charCodeAt(++vt)&&i(vt,"Expecting Unicode escape sequence \\uXXXX"),++vt;var o=M(4),a=String.fromCharCode(o);a||i(vt-1,"Invalid Unicode escape"),(e?Ze(o):Ke(o))||i(vt-4,"Invalid Unicode escape"),t+=a}e=!1}return Ne?t:pt.slice(n,vt)}function O(){var t=A(),e=Lt;return!Ne&&je(t)&&(e=ce[t]),a(e,t)}function I(){At=yt,Ot=_t,It=bt,_()}function $(t){if(Et=t,vt=yt,ut.locations)for(;Mt>vt;)Mt=pt.lastIndexOf("\n",Mt-2)+1,--St;l(),_()}function B(){this.type=null,this.start=yt,this.end=null}function E(){this.start=wt,this.end=null,null!==ft&&(this.source=ft)}function P(){var t=new B;return ut.locations&&(t.loc=new E),ut.directSourceFile&&(t.sourceFile=ut.directSourceFile),ut.ranges&&(t.range=[yt,0]),t}function k(t){var e=new B;return e.start=t.start,ut.locations&&(e.loc=new E,e.loc.start=t.loc.start),ut.ranges&&(e.range=[t.range[0],0]),e}function V(t,e){return t.type=e,t.end=Ot,ut.locations&&(t.loc.end=It),ut.ranges&&(t.range[1]=Ot),t}function D(t){return ut.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value}function L(t){return xt===t?(I(),!0):void 0}function N(){return!ut.strictSemicolons&&(xt===Nt||xt===fe||Xe.test(pt.slice(Ot,yt)))}function z(){L(ye)||N()||H()}function R(t){xt===t?I():H()}function H(){i(yt,"Unexpected token")}function F(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&i(t.start,"Assigning to rvalue"),Et&&"Identifier"===t.type&&Fe(t.name)&&i(t.start,"Assigning to "+t.name+" in strict mode")}function j(t){At=Ot=vt,ut.locations&&(It=new s),$t=Et=null,Bt=[],_();var e=t||P(),i=!0;for(t||(e.body=[]);xt!==Nt;){var n=U();e.body.push(n),i&&D(n)&&$(!0),i=!1}return V(e,"Program")}function U(){(xt===xe||xt===Ce&&"/="==Tt)&&_(!0);var t=xt,e=P();switch(t){case zt:case Ft:I();var n=t===zt;L(ye)||N()?e.label=null:xt!==Lt?H():(e.label=ct(),z());for(p=0;p<Bt.length;++p){var s=Bt[p];if(null==e.label||s.name===e.label.name){if(null!=s.kind&&(n||"loop"===s.kind))break;if(e.label&&n)break}}return p===Bt.length&&i(e.start,"Unsyntactic "+t.keyword),V(e,n?"BreakStatement":"ContinueStatement");case jt:return I(),z(),V(e,"DebuggerStatement");case Yt:return I(),Bt.push(Je),e.body=U(),Bt.pop(),R(ie),e.test=Y(),z(),V(e,"DoWhileStatement");case Xt:if(I(),Bt.push(Je),R(me),xt===ye)return q(e,null);if(xt===ee){o=P();return I(),G(o,!0),V(o,"VariableDeclaration"),1===o.declarations.length&&L(le)?X(e,o):q(e,o)}var o=Z(!1,!0);return L(le)?(F(o),X(e,o)):q(e,o);case Gt:return I(),ht(e,!0);case Zt:return I(),e.test=Y(),e.consequent=U(),e.alternate=L(Wt)?U():null,V(e,"IfStatement");case Kt:return $t||ut.allowReturnOutsideFunction||i(yt,"'return' outside of function"),I(),L(ye)||N()?e.argument=null:(e.argument=Z(),z()),V(e,"ReturnStatement");case Jt:I(),e.discriminant=Y(),e.cases=[],R(de),Bt.push(Qe);for(var a,r;xt!=fe;)if(xt===Rt||xt===Ut){var h=xt===Rt;a&&V(a,"SwitchCase"),e.cases.push(a=P()),a.consequent=[],I(),h?a.test=Z():(r&&i(At,"Multiple default clauses"),r=!0,a.test=null),R(_e)}else a||H(),a.consequent.push(U());return a&&V(a,"SwitchCase"),I(),Bt.pop(),V(e,"SwitchStatement");case Qt:return I(),Xe.test(pt.slice(Ot,yt))&&i(Ot,"Illegal newline after throw"),e.argument=Z(),z(),V(e,"ThrowStatement");case te:if(I(),e.block=W(),e.handler=null,xt===Ht){var l=P();I(),R(me),l.param=ct(),Et&&Fe(l.param.name)&&i(l.param.start,"Binding "+l.param.name+" in strict mode"),R(ge),l.guard=null,l.body=W(),e.handler=V(l,"CatchClause")}return e.guardedHandlers=Pt,e.finalizer=L(qt)?W():null,e.handler||e.finalizer||i(e.start,"Missing catch or finally clause"),V(e,"TryStatement");case ee:return I(),G(e),z(),V(e,"VariableDeclaration");case ie:return I(),e.test=Y(),Bt.push(Je),e.body=U(),Bt.pop(),V(e,"WhileStatement");case ne:return Et&&i(yt,"'with' in strict mode"),I(),e.object=Y(),e.body=U(),V(e,"WithStatement");case de:return W();case ye:return I(),V(e,"EmptyStatement");default:var c=Tt,u=Z();if(t===Lt&&"Identifier"===u.type&&L(_e)){for(var p=0;p<Bt.length;++p)Bt[p].name===c&&i(u.start,"Label '"+c+"' is already declared");var d=xt.isLoop?"loop":xt===Jt?"switch":null;return Bt.push({name:c,kind:d}),e.body=U(),Bt.pop(),e.label=u,V(e,"LabeledStatement")}return e.expression=u,z(),V(e,"ExpressionStatement")}}function Y(){R(me);var t=Z();return R(ge),t}function W(t){var e,i=P(),n=!0,s=!1;for(i.body=[],R(de);!L(fe);){var o=U();i.body.push(o),n&&t&&D(o)&&(e=s,$(s=!0)),n=!1}return s&&!e&&$(!1),V(i,"BlockStatement")}function q(t,e){return t.init=e,R(ye),t.test=xt===ye?null:Z(),R(ye),t.update=xt===ge?null:Z(),R(ge),t.body=U(),Bt.pop(),V(t,"ForStatement")}function X(t,e){return t.left=e,t.right=Z(),R(ge),t.body=U(),Bt.pop(),V(t,"ForInStatement")}function G(t,e){for(t.declarations=[],t.kind="var";;){var n=P();if(n.id=ct(),Et&&Fe(n.id.name)&&i(n.id.start,"Binding "+n.id.name+" in strict mode"),n.init=L(Te)?Z(!0,e):null,t.declarations.push(V(n,"VariableDeclarator")),!L(ve))break}return t}function Z(t,e){var i=K(e);if(!t&&xt===ve){var n=k(i);for(n.expressions=[i];L(ve);)n.expressions.push(K(e));return V(n,"SequenceExpression")}return i}function K(t){var e=J(t);if(xt.isAssign){var i=k(e);return i.operator=Tt,i.left=e,I(),i.right=K(t),F(e),V(i,"AssignmentExpression")}return e}function J(t){var e=Q(t);if(L(be)){var i=k(e);return i.test=e,i.consequent=Z(!0),R(_e),i.alternate=Z(!0,t),V(i,"ConditionalExpression")}return e}function Q(t){return tt(et(),-1,t)}function tt(t,e,i){var n=xt.binop;if(null!=n&&(!i||xt!==le)&&n>e){var s=k(t);s.left=t,s.operator=Tt;var o=xt;return I(),s.right=tt(et(),n,i),tt(V(s,o===Ae||o===Oe?"LogicalExpression":"BinaryExpression"),e,i)}return t}function et(){if(xt.prefix){var t=P(),e=xt.isUpdate;return t.operator=Tt,t.prefix=!0,Ct=!0,I(),t.argument=et(),e?F(t.argument):Et&&"delete"===t.operator&&"Identifier"===t.argument.type&&i(t.start,"Deleting local variable in strict mode"),V(t,e?"UpdateExpression":"UnaryExpression")}for(var n=it();xt.postfix&&!N();)(t=k(n)).operator=Tt,t.prefix=!1,t.argument=n,F(n),I(),n=V(t,"UpdateExpression");return n}function it(){return nt(st())}function nt(t,e){if(L(we))return(i=k(t)).object=t,i.property=ct(!0),i.computed=!1,nt(V(i,"MemberExpression"),e);if(L(ue))return(i=k(t)).object=t,i.property=Z(),i.computed=!0,R(pe),nt(V(i,"MemberExpression"),e);if(!e&&L(me)){var i=k(t);return i.callee=t,i.arguments=lt(ge,!1),nt(V(i,"CallExpression"),e)}return t}function st(){switch(xt){case oe:n=P();return I(),V(n,"ThisExpression");case Lt:return ct();case kt:case Dt:case Vt:return(n=P()).value=Tt,n.raw=pt.slice(yt,_t),I(),V(n,"Literal");case ae:case re:case he:return(n=P()).value=xt.atomValue,n.raw=xt.keyword,I(),V(n,"Literal");case me:var t=wt,e=yt;I();var i=Z();return i.start=e,i.end=_t,ut.locations&&(i.loc.start=t,i.loc.end=bt),ut.ranges&&(i.range=[e,_t]),R(ge),i;case ue:n=P();return I(),n.elements=lt(pe,!0,!0),V(n,"ArrayExpression");case de:return at();case Gt:var n=P();return I(),ht(n,!1);case se:return ot();default:H()}}function ot(){var t=P();return I(),t.callee=nt(st(),!0),L(me)?t.arguments=lt(ge,!1):t.arguments=Pt,V(t,"NewExpression")}function at(){var t=P(),e=!0,n=!1;for(t.properties=[],I();!L(fe);){if(e)e=!1;else if(R(ve),ut.allowTrailingCommas&&L(fe))break;var s,o={key:rt()},a=!1;if(L(_e)?(o.value=Z(!0),s=o.kind="init"):ut.ecmaVersion>=5&&"Identifier"===o.key.type&&("get"===o.key.name||"set"===o.key.name)?(a=n=!0,s=o.kind=o.key.name,o.key=rt(),xt!==me&&H(),o.value=ht(P(),!1)):H(),"Identifier"===o.key.type&&(Et||n))for(var r=0;r<t.properties.length;++r){var h=t.properties[r];if(h.key.name===o.key.name){var l=s==h.kind||a&&"init"===h.kind||"init"===s&&("get"===h.kind||"set"===h.kind);l&&!Et&&"init"===s&&"init"===h.kind&&(l=!1),l&&i(o.key.start,"Redefinition of property")}}t.properties.push(o)}return V(t,"ObjectExpression")}function rt(){return xt===kt||xt===Dt?st():ct(!0)}function ht(t,e){xt===Lt?t.id=ct():e?H():t.id=null,t.params=[];var n=!0;for(R(me);!L(ge);)n?n=!1:R(ve),t.params.push(ct());var s=$t,o=Bt;if($t=!0,Bt=[],t.body=W(!0),$t=s,Bt=o,Et||t.body.body.length&&D(t.body.body[0]))for(var a=t.id?-1:0;a<t.params.length;++a){var r=0>a?t.id:t.params[a];if((He(r.name)||Fe(r.name))&&i(r.start,"Defining '"+r.name+"' in strict mode"),a>=0)for(var h=0;a>h;++h)r.name===t.params[h].name&&i(r.start,"Argument name clash in strict mode")}return V(t,e?"FunctionDeclaration":"FunctionExpression")}function lt(t,e,i){for(var n=[],s=!0;!L(t);){if(s)s=!1;else if(R(ve),e&&ut.allowTrailingCommas&&L(t))break;i&&xt===ve?n.push(null):n.push(Z(!0))}return n}function ct(t){var e=P();return t&&"everywhere"==ut.forbidReserved&&(t=!1),xt===Lt?(!t&&(ut.forbidReserved&&(3===ut.ecmaVersion?ze:Re)(Tt)||Et&&He(Tt))&&-1==pt.slice(yt,_t).indexOf("\\")&&i(yt,"The keyword '"+Tt+"' is reserved"),e.name=Tt):t&&xt.keyword?e.name=xt.keyword:H(),Ct=!1,I(),V(e,"Identifier")}t.version="0.5.0";var ut,pt,dt,ft;t.parse=function(t,i){return pt=String(t),dt=pt.length,e(i),o(),j(ut.program)};var mt=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},gt=t.getLineInfo=function(t,e){for(var i=1,n=0;;){Ge.lastIndex=n;var s=Ge.exec(t);if(!(s&&s.index<e))break;++i,n=s.index+s[0].length}return{line:i,column:e-n}};t.tokenize=function(t,i){function n(t){return Ot=_t,_(t),s.start=yt,s.end=_t,s.startLoc=wt,s.endLoc=bt,s.type=xt,s.value=Tt,s}pt=String(t),dt=pt.length,e(i),o();var s={};return n.jumpTo=function(t,e){if(vt=t,ut.locations){St=1,Mt=Ge.lastIndex=0;for(var i;(i=Ge.exec(pt))&&i.index<t;)++St,Mt=i.index+i[0].length}Ct=e,l()},n};var vt,yt,_t,wt,bt,xt,Tt,Ct,St,Mt,At,Ot,It,$t,Bt,Et,Pt=[],kt={type:"num"},Vt={type:"regexp"},Dt={type:"string"},Lt={type:"name"},Nt={type:"eof"},zt={keyword:"break"},Rt={keyword:"case",beforeExpr:!0},Ht={keyword:"catch"},Ft={keyword:"continue"},jt={keyword:"debugger"},Ut={keyword:"default"},Yt={keyword:"do",isLoop:!0},Wt={keyword:"else",beforeExpr:!0},qt={keyword:"finally"},Xt={keyword:"for",isLoop:!0},Gt={keyword:"function"},Zt={keyword:"if"},Kt={keyword:"return",beforeExpr:!0},Jt={keyword:"switch"},Qt={keyword:"throw",beforeExpr:!0},te={keyword:"try"},ee={keyword:"var"},ie={keyword:"while",isLoop:!0},ne={keyword:"with"},se={keyword:"new",beforeExpr:!0},oe={keyword:"this"},ae={keyword:"null",atomValue:null},re={keyword:"true",atomValue:!0},he={keyword:"false",atomValue:!1},le={keyword:"in",binop:7,beforeExpr:!0},ce={break:zt,case:Rt,catch:Ht,continue:Ft,debugger:jt,default:Ut,do:Yt,else:Wt,finally:qt,for:Xt,function:Gt,if:Zt,return:Kt,switch:Jt,throw:Qt,try:te,var:ee,while:ie,with:ne,null:ae,true:re,false:he,new:se,in:le,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:oe,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},ue={type:"[",beforeExpr:!0},pe={type:"]"},de={type:"{",beforeExpr:!0},fe={type:"}"},me={type:"(",beforeExpr:!0},ge={type:")"},ve={type:",",beforeExpr:!0},ye={type:";",beforeExpr:!0},_e={type:":",beforeExpr:!0},we={type:"."},be={type:"?",beforeExpr:!0},xe={binop:10,beforeExpr:!0},Te={isAssign:!0,beforeExpr:!0},Ce={isAssign:!0,beforeExpr:!0},Se={postfix:!0,prefix:!0,isUpdate:!0},Me={prefix:!0,beforeExpr:!0},Ae={binop:1,beforeExpr:!0},Oe={binop:2,beforeExpr:!0},Ie={binop:3,beforeExpr:!0},$e={binop:4,beforeExpr:!0},Be={binop:5,beforeExpr:!0},Ee={binop:6,beforeExpr:!0},Pe={binop:7,beforeExpr:!0},ke={binop:8,beforeExpr:!0},Ve={binop:9,prefix:!0,beforeExpr:!0},De={binop:10,beforeExpr:!0};t.tokTypes={bracketL:ue,bracketR:pe,braceL:de,braceR:fe,parenL:me,parenR:ge,comma:ve,semi:ye,colon:_e,dot:we,question:be,slash:xe,eq:Te,name:Lt,eof:Nt,num:kt,regexp:Vt,string:Dt};for(var Le in ce)t.tokTypes["_"+Le]=ce[Le];var Ne,ze=n("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Re=n("class enum extends super const export import"),He=n("implements interface let package private protected public static yield"),Fe=n("eval arguments"),je=n("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Ue=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ye="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",We=new RegExp("["+Ye+"]"),qe=new RegExp("["+Ye+"------------------------------------------------------------------------------------------------------------------------------------------]"),Xe=/[\n\r\u2028\u2029]/,Ge=/\r\n|[\n\r\u2028\u2029]/g,Ze=t.isIdentifierStart=function(t){return 65>t?36===t:91>t||(97>t?95===t:123>t||t>=170&&We.test(String.fromCharCode(t)))},Ke=t.isIdentifierChar=function(t){return 48>t?36===t:58>t||!(65>t)&&(91>t||(97>t?95===t:123>t||t>=170&&qe.test(String.fromCharCode(t))))},Je={kind:"loop"},Qe={kind:"switch"}});var d={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},f={"-":"__negate","+":null},m=c.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(t){this["__"+t]="#"+t},{});return v.inject(m),_.inject(m),Y.inject(m),h&&("complete"===l.readyState?setTimeout(a):Z.add(h,{load:a})),{compile:n,execute:s,load:function(t){return t?o(t):a()},parse:i}}.call(this),(r=new(p.inject(c.exports,{enumerable:!0,Base:c,Numerical:m,Key:et,DomEvent:Z,DomElement:G,document:l,window:h,Symbol:E,PlacedSymbol:B}))).agent.node&&i(28)(r),(s="function"==typeof(n=r)?n.call(e,i,e,t):n)!==a&&(t.exports=s),r}.call(this,"object"==typeof self?self:null)}).call(e,i(1),i(3))},function(t,e){},function(t,e){},function(module,exports,__webpack_require__){(function(Backbone,_,paper,$){var Config=__webpack_require__(21),CV=__webpack_require__(12),Tools=__webpack_require__(23),EVENT=__webpack_require__(7),Blob=function(blob){this.canvasView=blob.canvasView,this.paper=blob.canvasView.paper?blob.canvasView.paper:blob.paper,this.scope=blob.scope,this.blob=blob,this.radiusMultiplicator=blob.radiusMultiplicator?blob.radiusMultiplicator:.4,this.radius=blob.radius?blob.radius:Math.min(this.paper.view.size.width,this.paper.view.size.height)/2*this.radiusMultiplicator,this.mouseForce=blob.mouseForce?blob.mouseForce:.2,this.orbit=blob.orbit?blob.orbit:{h:0,w:0},this.rotate=blob.rotate?blob.rotate:null,this.Angle=0,this.img=blob.img?blob.img:null,this.index=blob.index?blob.index:null,this.bgImg=blob.bgImg?blob.bgImg:null,this.bgColor=blob.bgColor?blob.bgColor:null,this.content=blob.text?blob.text:null,this.multipleContent=blob.multipleContent?blob.multipleContent:null,this.size=blob.size?blob.size:null,this.divide=blob.divide?blob.divide:2,this.multiply=blob.multiply?blob.multiply:.2,this.typeID=blob.typeID?blob.typeID:"NA",this.position={x:blob.position.x,y:blob.position.y},this.blobColor=blob.color?blob.color:"#03215B",this.aGroupElements=[],this.resizeTO=null,this.posX=blob.position.x?eval(blob.position.x):this.paper.view.size.width/2,this.posY=blob.position.y?eval(blob.position.y):this.paper.view.size.height/2,this.canHover=!!blob.canHover&&blob.canHover,this.canClick=!!blob.canClick&&blob.canClick,this.canTrigger=!!blob.canTrigger&&blob.canTrigger,this.goTo=blob.goTo?blob.goTo:null,this.figures=[],this.build(this.radius,blob.path,blob.color,this.posX,this.posY,blob.size,blob.img,blob.bgImg,blob.text,blob.rectangle,blob.bgColor,blob.rotate,blob.multipleContent),Backbone.View.call(this)};_.extend(Blob,Backbone.View),_.extend(Blob.prototype,Backbone.View.prototype),Blob.prototype.build=function(radius,path,color,posX,posY,size,img,bgImg,text,rectangle,bgColor,rotate,multipleContent){this.path=new paper.Path(path),this.path.position.x=text&&CV.isMobile||text&&CV.viewport.width<Config.breakPointMobile?this.paper.view.size.width/2+(this.orbit.w+this.orbit.w*Math.cos(this.Angle*Math.PI/180)):eval(this.position.x)-(this.orbit.w+this.orbit.w*Math.cos(this.Angle*Math.PI/180)),this.path.position.y=eval(this.position.y)-(this.orbit.h+this.orbit.h*Math.sin(this.Angle*Math.PI/180)),this.path.fillColor=color||"#03215B",this.path.selected=!1,this.threshold=1*radius,this.path.flatten(1.5*radius),this.defaultScale=this.getScale(size,this.path),this.path.scale(this.defaultScale),this.path.smooth(),this.index||(this.path.name="blob"+this.index),this.figures.push(this.path),rotate&&this.path.rotate(rotate,this.anchor),this.els=[],this.els.push(this.path),bgImg&&(this.bgRaster=new this.paper.Raster({source:bgImg.url}),this.bgRaster.visible=!1,this.bgRectangle=new paper.Rectangle(new paper.Point(0,0),new paper.Point(this.paper.view.size.width,this.paper.view.size.height)),this.bgRaster.on("load",function(){this.bgRaster.position=new paper.Point(posX,posY),this.defaultBgImgScale=this.getScale(bgImg.size,this.bgRaster),this.bgRaster.scale(this.defaultBgImgScale),this.figures.push(this.bgRaster),bgImg.layer&&(this.rectangle=new paper.Path.Rectangle(this.bgRectangle),this.rectangle.fillColor=bgImg.layer.color,this.rectangle.opacity=bgImg.layer.opacity,this.rectangle.selected=!1,this.bgImgGroup=new paper.Group([this.bgRaster,this.rectangle]),this.bgImgGroup.blendMode="source-out",this.figures.push(this.bgRectangle),this.figures.push(this.rectangle),this.figures.push(this.bgImgGroup),this.bgImgGroup.opacity=0,this.trigger(EVENT.BLOB_IMG_LOADED))}.bind(this))),img&&(this.raster=new this.paper.Raster({source:img}),this.raster.on("load",function(){this.raster.position=new paper.Point(posX,posY),this.defaultImgScale=this.getScale(size,this.raster)+.2,this.raster.scale(this.defaultImgScale)}.bind(this)),this.figures.push(this.raster),this.els.push(this.raster)),text&&(this.text=new paper.PointText,this.text.justification="center",this.text.style={fontFamily:"sharp-sans-bold",fontSize:CV.isMobile?20:28,fillColor:text.color},this.text.content=text.content,this.text.position=new paper.Point(this.path.bounds._x+this.path.bounds._width/2,this.path.bounds._y+this.path.bounds._height/2),this.figures.push(this.text),this.els.push(this.text)),rectangle&&(this.bgRectangle=new paper.Rectangle(new paper.Point(0,0),new paper.Size(this.paper.view.size.width,this.paper.view.size.height)),this.rectangle=new paper.Path.Rectangle(this.bgRectangle),this.rectangle.fillColor=rectangle.color,this.rectangle.opacity=rectangle.opacity,this.rectangle.selected=!1,this.figures.push(this.bgRectangle),this.figures.push(this.rectangle),this.els.push(this.rectangle)),bgColor?(this.bgRectangle=new paper.Rectangle(new paper.Point(0,0),new paper.Size(this.paper.view.size.width+10,this.paper.view.size.height+10)),this.rectanglePath=new paper.Path.Rectangle(this.bgRectangle),this.rectanglePath.selected=!1,this.compoundPath=new paper.CompoundPath({children:[this.rectanglePath,this.path],fillColor:bgColor}),this.figures.push(this.bgRectangle),this.figures.push(this.rectanglePath)):(this.group=new this.paper.Group(this.els),this.img&&(this.group.clipped=!0)),this.controlCircle=this.path.clone(),this.controlCircle.fullySelected=!1,this.controlCircle.visible=!1,this.generateSettingsPoints(),this.bindEvents(),this.onResize()},Blob.prototype.remove=function(t){_.each(this.figures,function(e,i){e.remove?e.remove():e=null,this.figures.length-1===i&&t()}.bind(this))},Blob.prototype.generateContent=function(t,e){var i=t||16,n=e||40;this.title=new paper.PointText,this.title.justification="center",this.title.style={fontFamily:"sharp-sans-bold",fontSize:i,fillColor:this.multipleContent.color},this.title.content=this.multipleContent.title,this.title.position=new paper.Point(this.path.bounds._x+this.path.bounds._width/2,this.path.bounds._y+this.path.bounds._height+n),this.subtitle=new paper.PointText,this.subtitle.justification="center",this.subtitle.style={fontFamily:"kievit-slab-pro-book",fontSize:14,fillColor:this.multipleContent.color},this.subtitle.content=this.multipleContent.subtitle,this.subtitle.position=new paper.Point(this.path.bounds._x+this.path.bounds._width/2,this.title.bounds._y+this.title.bounds._height+10),this.subtitle.opacity=0,this.title.opacity=0,this.figures.push(this.title),this.figures.push(this.subtitle),this.els.push(this.title),this.els.push(this.subtitle)},Blob.prototype.bindEvents=function(){this.path.onMouseEnter=this.onMouseEnter.bind(this)},Blob.prototype.onMouseEnter=function(){},Blob.prototype.onMouseLeave=function(){},Blob.prototype.triggerBlob=function(t){var e={blobX:0,blobY:0,blobColor:this.blobColor};TweenLite.to(e,.2,{blobX:Tools.getRandomNumber(-3,3),blobY:2,blobColor:t,ease:Power1.easeOut,onUpdate:$.proxy(this.animateTriggerBlob,this),onUpdateParams:[e,["blobX","blobY","blobColor"]]})},Blob.prototype.animateTriggerBlob=function(t){this.path.fillColor=t.blobColor,CV.isMobile||CV.isTablet||(this.path.segments[0].point.y+=t.blobY,this.path.segments[0].point.x+=t.blobX,this.path.smooth())},Blob.prototype.generateSettingsPoints=function(){this.controlCircle.remove(),this.controlCircle=null,this.settingsPoints=[],_.each(this.path.segments,function(t,e){this.settingsPoints[e]={relativeX:t.point.x-this.paper.view.center.x,relativeY:t.point.y-this.paper.view.center.y,offsetX:this.radius/200,offsetY:this.radius/200,momentum:new paper.Point(0,0)}}.bind(this)),this.controlCircle=this.path.clone(),this.controlCircle.fullySelected=!1,this.controlCircle.visible=!1,this.text&&(this.text.position=new paper.Point(this.path.bounds._x+this.path.bounds._width/2,this.path.bounds._y+this.path.bounds._height/2)),this.canAnimate=!0},Blob.prototype.animate=function(t){this.canAnimate&&(this.path.smooth(),_.each(this.path.segments,function(e,i){var n=this.settingsPoints[i],s=new paper.Point;s=this.controlCircle.segments[i].point;var o=this.canvasView.mousePoint.subtract(s),a=this.canvasView.mousePoint.getDistance(s),r=a<this.threshold?(a-this.threshold)*this.mouseForce:0,h=0!==a?new paper.Point(-o.x/a*r/5,-o.y/a*r/5):new paper.Point(0,0),l=s.add(h),c=e.point.subtract(l);n.momentum=n.momentum.subtract(c.divide(this.divide)),n.momentum=n.momentum.multiply(this.multiply);var u=n.offsetX/4,p=n.offsetY/4,d=Math.sin(t.time+2*i),f=Math.cos(t.time+2*i);n.momentum=n.momentum.add(new this.paper.Point(f*-u,d*-p)),e.point=e.point.add(n.momentum)}.bind(this)),this.Angle=this.Angle++>360?0:this.Angle++)},Blob.prototype.getScale=function(size,container){var containerSize=container.bounds?container.bounds:container.size;if(size.w){var scale=eval(size.w)/container.bounds._width;size.h&&scale*container.bounds._height<size.h&&(scale=size.h/container.bounds._height),scale*container.bounds._width>size.maxW&&(scale=eval(size.maxW)/container.bounds._width)}else scale=eval(size.h)/containerSize._height;return scale},Blob.prototype.onResize=function(){this.canResize=!0,this.canAnimate=!1,this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){this.onResizeEnd()}.bind(this),300)},Blob.prototype.onResizeEnd=function(){this.generateSettingsPoints()},module.exports=Blob}).call(exports,__webpack_require__(2),__webpack_require__(3),__webpack_require__(26),__webpack_require__(1))},function(t,e,i){var n;!function(e){t.exports=e()}(function(){return function t(e,i,s){function o(r,h){if(!i[r]){if(!e[r]){var l="function"==typeof n&&n;if(!h&&l)return n(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[r]={exports:{}};e[r][0].call(u.exports,function(t){var i=e[r][1][t];return o(i||t)},u,u.exports,t,e,i,s)}return i[r].exports}for(var a="function"==typeof n&&n,r=0;r<s.length;r++)o(s[r]);return o}({1:[function(t,e,i){function n(t,e){return 1-3*e+3*t}function s(t,e){return 3*e-6*t}function o(t){return 3*t}function a(t,e,i){return((n(e,i)*t+s(e,i))*t+o(e))*t}function r(t,e,i){return 3*n(e,i)*t*t+2*s(e,i)*t+o(e)}function h(t,e,i,n,s){var o,r,h=0;do{r=e+(i-e)/2,o=a(r,n,s)-t,o>0?i=r:e=r}while(Math.abs(o)>p&&++h<d);return r}function l(t,e,i,n){for(var s=0;c>s;++s){var o=r(e,i,n);if(0===o)return e;e-=(a(e,i,n)-t)/o}return e}var c=4,u=.001,p=1e-7,d=10,f=11,m=1/(f-1),g="function"==typeof Float32Array;e.exports=function(t,e,i,n){function s(e){for(var n=0,s=1,a=f-1;s!==a&&o[s]<=e;++s)n+=m;var c=n+(e-o[--s])/(o[s+1]-o[s])*m,p=r(c,t,i);return p>=u?l(e,c,t,i):0===p?c:h(e,n,n+m,t,i)}if(!(t>=0&&1>=t&&i>=0&&1>=i))throw new Error("bezier x values must be in [0, 1] range");var o=g?new Float32Array(f):new Array(f);if(t!==e||i!==n)for(var c=0;f>c;++c)o[c]=a(c*m,t,i);return function(o){return t===e&&i===n?o:0===o?0:1===o?1:a(s(o),e,n)}}},{}]},{},[1])(1)})},function(t,e,i){(function(e,n){var s=i(11),o=i(32),a=i(35),r=i(37),h=i(30),l=i(12),c=i(7),u=i(23),p=function(t,e){this.canUpdate=!0,this.$videoContainer=null,this.videoPlayer=null,this.$overlay=null,this.videoIsPlaying=!1,this.storyCanvasView=null,this.missionId="mission",this.storyId="story",this.imgURL=null,this.isOverlayActive=!1,this.videoLoaded=!1,this.playerIsLoaded=this.playerIsLoaded.bind(this),s.call(this,t,e)};e.extend(p,s),e.extend(p.prototype,s.prototype),p.prototype.init=function(){this.options.mainCanvasView.register(this.missionId,new r({mainCanvasView:this.options.mainCanvasView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.mission,c.CANVAS_SHOWN,d.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.mission,c.CANVAS_HIDDEN,f.bind(this)),s.prototype.init.call(this)},p.prototype.initDOM=function(){this.$videoContainer=this.$el.find(".video-container"),this.$overlay=this.$el.find(".story-video-overlay"),this.$videoCanvas=this.$el.find("#overlay-canvas"),this.$title=this.$el.find(".story-content h2"),this.$description=this.$el.find(".story-content p"),this.$button=this.$el.find(".mask-wrapper"),this.$backButton=this.$el.find(".btn-back"),this.$button[0].addEventListener("click",n.proxy(this.showOverlay,this),!1),this.$backButton[0].addEventListener("click",n.proxy(this.hideOverlay,this),!1),this.imgURL=this.$el[0].dataset.src,s.prototype.initDOM.call(this)},p.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),TweenMax.set(this.$title,{autoAlpha:0,y:25}),TweenMax.set(this.$description,{autoAlpha:0,y:25}),TweenMax.set(this.$button,{autoAlpha:0,y:25}),TweenLite.set(this.$overlay,{autoAlpha:0,ease:Cubic.easeOut}),n(this.$el).removeClass("hidden"),s.prototype.setupDOM.call(this)},p.prototype.onDOMInit=function(){this.storyCanvasView=new a({el:this.$videoCanvas[0],imgURL:this.imgURL},null),this.storyCanvasView.init(),s.prototype.onDOMInit.call(this)},p.prototype.initTLShow=function(){if(this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),"default"===l.breakpoint)t=0;else var t=.5;this.TL.show.to(this.$el,t,{autoAlpha:1,display:"flex",ease:Power4.easeOut},.1).to(this.$title,.5,{autoAlpha:1,y:0,ease:Power4.easeOut},.8).to(this.$description,.5,{autoAlpha:1,y:0,ease:Power4.easeOut},.85).to(this.$button,.5,{autoAlpha:1,y:0,ease:Power4.easeOut},.9)},p.prototype.show=function(){this.TL.show.play(0),"default"===l.breakpoint&&this.options.mainCanvasView.showCanvas(this.missionId)},p.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(c.BLOCK_SHOWN),"sml"===l.breakpoint&&this.trigger(c.CANVAS_SHOWN),s.prototype.onShown.call(this)};var d=function(){this.trigger(c.CANVAS_SHOWN)};p.prototype.initTLHide=function(){if(this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),"default"===l.breakpoint)var t="+=1",e=.1;else var t=.5,e=.5;this.TL.hide.to(this.$title,.5,{autoAlpha:0,y:-20,ease:new Ease(h(.25,1,.5,1.25))},.2).to(this.$description,.5,{autoAlpha:0,y:-20,ease:new Ease(h(.25,1,.5,1.25))},.3).to(this.$button,.5,{autoAlpha:0,y:-20,ease:new Ease(h(.25,1,.5,1.25))},.4).to(this.$el,e,{autoAlpha:0,display:"none",ease:new Ease(h(.25,1,.5,1.25))},t)},p.prototype.hide=function(){"default"===l.breakpoint?this.options.mainCanvasView.hideCanvas(this.missionId):this.TL.hide.play(0)},p.prototype.onHidden=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),TweenMax.set(this.$title,{autoAlpha:0,y:-20}),TweenMax.set(this.$description,{autoAlpha:0,y:-20}),TweenMax.set(this.$button,{autoAlpha:0,y:-20}),this.trigger(c.BLOCK_HIDDEN),"sml"===l.breakpoint&&this.trigger(c.CANVAS_HIDDEN),s.prototype.onHidden.call(this)};var f=function(){this.onHidden(),this.trigger(c.CANVAS_HIDDEN)};p.prototype.onUpdate=function(){s.prototype.onUpdate.call(this)},p.prototype.showOverlay=function(){TweenMax.set([this.options.mainView.$canvas,this.$videoCanvas],{pointerEvents:"none"}),TweenMax.set(this.$el[0],{zIndex:"initial"}),this.videoLoaded?(this.trigger(c.STORY_OVERLAY_SHOWN),this.isOverlayActive=!0,TweenLite.to(this.$overlay,.3,{autoAlpha:1,delay:.1,onComplete:function(){this.videoPlayer.togglePlay(),this.videoIsPlaying=!0}.bind(this)})):u.loadYTAPI(function(){this.initVideo()}.bind(this))},p.prototype.initVideo=function(){this.videoIsPlaying=!0,this.videoPlayer=new o({el:this.$videoContainer,hasCustomControls:!0,callback:this.playerIsLoaded},null),this.videoPlayer.init()},p.prototype.playerIsLoaded=function(){this.videoLoaded=!0,this.trigger(c.STORY_OVERLAY_SHOWN),this.isOverlayActive=!0,TweenLite.to(this.$overlay,.3,{autoAlpha:1,delay:0,onComplete:function(){this.videoPlayer.togglePlay(),this.videoIsPlaying=!0}.bind(this)})},p.prototype.hideOverlay=function(){TweenMax.set([this.options.mainView.$canvas,this.$videoCanvas],{pointerEvents:"auto"}),this.videoPlayer&&this.videoPlayer.stop(),this.videoIsPlaying=!1,TweenLite.to(this.$overlay,.15,{autoAlpha:0,onComplete:function(){this.isOverlayActive=!1,TweenMax.set(this.$el[0],{zIndex:9}),this.trigger(c.STORY_OVERLAY_HIDDEN)}.bind(this)})},p.prototype.onResize=function(){this.storyCanvasView&&this.storyCanvasView.onResize(),s.prototype.onResize.call(this)},p.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=p}).call(e,i(3),i(1))},function(t,e,i){(function(e){var n=i(13),s=i(7),o=i(12),a=i(33),r=function(t,e){this.YTPlayer=null,this.togglePoster=!!t.togglePoster&&t.togglePoster,this.$poster=null,this.$overlay=null,this.$YTPlayerContainer=null,this.$controlsContainer=null,this.callback=t.callback?t.callback:null,this.hasCustomControls=!!t.hasCustomControls&&t.hasCustomControls,this.autoPlay=!!t.autoPlay&&t.autoPlay,n.call(this,t,e)};e.extend(r,n),e.extend(r.prototype,n.prototype),r.prototype.initDOM=function(){this.$mask=this.$el.find(".mask"),this.$poster=this.$el.find(".poster"),this.$overlay=this.$el.find(".overlay-content"),this.$title=this.$el.find(".overlay-content h3"),this.$subtitle=this.$el.find(".overlay-content p"),this.$button=this.$el.find(".overlay-content button"),this.$YTPlayerContainer=this.$el.find(".yt-player"),this.$elsText=[this.$title,this.$subtitle],this.$elsContent=[this.$title,this.$subtitle,this.$button],this.hasCustomControls&&(this.$controlsContainer=this.$el.find(".custom-video-controls-container")),n.prototype.initDOM.call(this)},r.prototype.onDOMInit=function(){h.call(this),n.prototype.onDOMInit.call(this)},r.prototype.bindEvents=function(){this.listenToOnce(this.YTPlayer,s.READY,l.bind(this)),this.listenTo(this.YTPlayer,s.ON_END,c.bind(this)),n.prototype.bindEvents.call(this)},r.prototype.show=function(){n.prototype.show.call(this)},r.prototype.hide=function(){n.prototype.hide.call(this)},r.prototype.togglePlay=function(t){var e=!(!t||!t.cssMask)&&t.cssMask;this.YTPlayer&&(e&&this.toggleMask(),this.YTPlayer.togglePlay())},r.prototype.pause=function(t){var e=!(!t||!t.cssMask)&&t.cssMask;this.YTPlayer&&(e&&this.toggleMask({forceShow:!0}),this.YTPlayer.pause())},r.prototype.play=function(t){var e=!(!t||!t.cssMask)&&t.cssMask;this.YTPlayer&&(e&&this.toggleMask(),this.YTPlayer.play())},r.prototype.toggleMask=function(t){var e=!(!t||!t.forceShow)&&t.forceShow;if(this.$mask){this.YTPlayer.isPlaying||1==e?(this.$mask.removeClass("hide"),(o.isMobile||o.isTablet)&&(TweenMax.set(this.$mask,{zIndex:5}),TweenMax.set(this.$overlay,{zIndex:5}))):(this.$mask.addClass("hide"),(o.isMobile||o.isTablet)&&(TweenMax.set(this.$mask,{zIndex:0}),TweenMax.set(this.$overlay,{zIndex:0})))}},r.prototype.stop=function(){this.YTPlayer&&this.YTPlayer.stop()};var h=function(){this.YTPlayer=new a,this.YTPlayer.init({id:this.$YTPlayerContainer.attr("id"),youtubeID:this.$YTPlayerContainer.attr("data-youtubeid"),noInit:!0,$YTPlayerContainer:this.$YTPlayerContainer,hasCustomControls:this.hasCustomControls,$controlsContainer:this.$controlsContainer,$poster:this.$poster,$overlay:this.$overlay,$elsText:this.$elsText,$button:this.$button,$elsContent:this.$elsContent,$mask:this.$mask,togglePoster:this.togglePoster})},l=function(){this.callback&&this.callback(),this.callback=null,this.autoPlay&&this.YTPlayer.togglePlay(),this.trigger(s.READY)},c=function(){this.toggleMask({forceShow:!0}),this.trigger(s.ON_END)};r.prototype.dispose=function(){this.YTPlayer.dispose(),this.YTPlayer=null,this.stopListening(),n.prototype.dispose.call(this)},t.exports=r}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(13),o=i(7),a=i(12),r=i(34),h=function(t,e){this.config={},this.player=null,this.isPlaying=!1,this.isInit=!1,this.isInitializing=!1,this.currentTime=0,this.quality=100,this.state=0,this.iframe=null,this.hasCustomControls=null,this.customControlsView=null,s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.init=function(t){if(this.config=t,!this.config.youtubeID)return console.log("YTPlayer:: Please provide a youtubeID"),null;this.quality=this.config.quality||100,this.customPlayer=this.config.customPlayer||!0,this.hasCustomControls=this.config.hasCustomControls||!1,this.config.hasCustomControls&&v.call(this),l.call(this),u.call(this)};var l=function(){},c=function(){},u=function(){if(!this.isInitializing){if(this.isInitializing=!0,null!=this.player)return console.log("YTPlayer:: Player is already initialised!"),null;var t={autoplay:0,controls:this.customPlayer?0:1,showinfo:0,modestbranding:1,iv_load_policy:3};this.player=new YT.Player(this.config.id,{height:this.config.height||"100%",width:this.config.width||"100%",videoId:this.config.youtubeID,playerVars:this.config.playerVars||t,events:{onReady:n.proxy(p,this),onStateChange:n.proxy(d,this),onPlaybackQualityChange:n.proxy(f,this),onError:n.proxy(m,this)}})}},p=function(){this.player.setPlaybackQuality(this.quality),this.isInit=!0,this.isInitializing=!1,this.duration=this.player.getDuration(),this.config.hasCustomControls&&this.customControlsView.setDuration(this.duration),this.trigger(o.READY)},d=function(t){this.state=t.data,this.trigger(o.STATE_CHANGE,t),this.noRAF=2==this.state||0==this.state,this.isPlaying=1==this.state,this.isBuffering=3==this.state,0==this.state?(this.trigger(o.ON_END,{mediaID:this.config.youtubeID}),w.call(this),this.stop()):this.state<=2?1==this.state?(this.duration=this.player.getDuration(),this.onUpdate(),this.trigger(o.ON_PLAY,{mediaID:this.config.youtubeID}),b.call(this)):(this.trigger(o.ON_PAUSE,{mediaID:this.config.youtubeID}),w.call(this)):g.call(this)},f=function(t){this.quality=t.data,this.trigger(o.QUALITY_CHANGE,t)},m=function(t){switch(t.data){case 2:console.log("Youtube Error :: The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.");break;case 5:console.log("Youtube Error :: The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.");break;case 100:console.log("Youtube Error :: The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.");break;case 101:console.log("Youtube Error :: The owner of the requested video does not allow it to be played in embedded players.");break;case 150:console.log("Youtube Error :: This error is the same as 101. It's just a 101 error in disguise!")}},g=function(){console.log("onBuffering")},v=function(){this.config.hasCustomControls&&(this.customControlsView=new r({el:this.config.$controlsContainer},null),this.customControlsView.init(),y.call(this))},y=function(){this.listenTo(this.customControlsView,o.ON_FULLSCREEN,this.toggleFullScreen.bind(this)),this.listenTo(this.customControlsView,o.ON_TOGGLE_PLAY,this.togglePlay.bind(this)),this.listenTo(this.customControlsView,o.ON_SEEK,this.onSeek.bind(this))},_=function(){this.stopListening(this.customControlsView,o.ON_FULLSCREEN,this.toggleFullScreen.bind(this)),this.stopListening(this.customControlsView,o.ON_TOGGLE_PLAY,this.togglePlay.bind(this)),this.stopListening(this.customControlsView,o.ON_SEEK,this.onSeek.bind(this))};h.prototype.toggleFullScreen=function(){this.iframe=this.player.a;var t=this.iframe.requestFullScreen||this.iframe.mozRequestFullScreen||this.iframe.webkitRequestFullScreen||this.iframe.msRequestFullscreen;t&&t.bind(this.iframe)()},h.prototype.togglePlay=function(){console.log(" toggle play..."),a.isMobile||a.isTablet?b.call(this):this.isPlaying?this.pause():this.play()},h.prototype.onMouseEnter=function(){this.mouseIsHover||(document.body.style.cursor="pointer",this.mouseIsHover=!0)},h.prototype.onMouseLeave=function(){this.mouseIsHover&&(document.body.style.cursor="default",this.posterIsVisibile&&!this.textIsVisible&&(this.textIsVisible=!0,TweenMax.staggerTo(this.config.$elsText,.3,{autoAlpha:1,ease:Cubic.easeOut},.1)),this.mouseIsHover=!1)},h.prototype.play=function(){!this.player||!this.isInit||this.isBuffering||this.isPlaying||a.isMobile||a.isTablet||(this.player.playVideo(),x.call(this),this.config.hasCustomControls&&(this.customControlsView.isPlaying=!0))},h.prototype.pause=function(){this.player&&this.isInit&&!this.isBuffering&&this.isPlaying&&(this.player.pauseVideo(),T.call(this),this.config.hasCustomControls&&(this.customControlsView.isPlaying=!1))},h.prototype.stop=function(){this.player&&this.isInit&&(this.player.stopVideo(),T.call(this),this.config.hasCustomControls&&(this.customControlsView.isPlaying=!1),w.call(this))};var w=function(){this.config.$poster&&(this.config.togglePoster&&TweenLite.to(this.config.$poster,.3,{autoAlpha:1,ease:Cubic.easeOut}),this.config.$elsContent&&(a.isMobile||a.isTablet?TweenMax.staggerTo(this.config.$elsContent,.3,{autoAlpha:1,display:"block",ease:Cubic.easeOut},.1):TweenMax.staggerTo(this.config.$button,.3,{autoAlpha:1,ease:Cubic.easeOut},.1),this.posterIsVisibile=!0))},b=function(){this.config.$poster&&(TweenLite.to(this.config.$poster,.3,{autoAlpha:0,ease:Cubic.easeOut}),this.config.$elsContent&&(TweenMax.staggerTo(this.config.$elsContent,.3,{autoAlpha:0,ease:Cubic.easeOut},.1,function(){(a.isMobile||a.isTablet)&&TweenMax.set(this.config.$elsContent,{display:"none"})}.bind(this)),this.posterIsVisibile=!1,this.textIsVisible=!1))},x=function(){this.hasCustomControls&&this.customControlsView.togglePlayBtn()},T=function(){this.hasCustomControls&&this.customControlsView.resetPlayBtn()};h.prototype.currentTime=function(t){if(this.player&&this.isInit)return t?void this.player.seekTo(t):this.player.getCurrentTime()},h.prototype.bufferedPercent=function(){return this.player&&this.isInit?this.player.getVideoLoadedFraction():null},h.prototype.onSeek=function(t){if(this.player&&this.isInit){var e=this.duration*t.pct;this.player.seekTo(e),this.play()}},h.prototype.onUpdate=function(){this.player&&this.isInit&&(C.call(this),this.noRAF||window.requestAnimationFrame(this.onUpdate.bind(this)))};var C=function(){this.hasCustomControls&&this.duration&&(this.currentTime=this.player.getCurrentTime(),this.customControlsView.setCurrentPctPlayed(this.currentTime/this.duration),this.customControlsView.updateDuration(this.currentTime))};h.prototype.dispose=function(){this.noRAF=!0,this.player=null,this.isInit=!1,this.hasCustomControls||(_.call(this),this.customControlsView.dispose()),this.customControlsView=null,c.call(this),this.config.$poster=null,this.config.$YTPlayerContainer=null,this.config.$controlsContainer=null,this.config=null},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(13),o=i(7),a=function(t,e){this.events={"click .timeline":"onTimelineClick","click .btn-play, .btn-pause ":"togglePlay","click .btn-fullscreen":"toggleFullScreen"},this.$timeline=null,this.$currentTime=null,this.$playBtn=null,this.$pauseBtn=null,this.$elapsed=null,this.$duration=null,this.isPlaying=!1,s.call(this,t,e)};e.extend(a,s),e.extend(a.prototype,s.prototype),a.prototype.initDOM=function(){this.$timeline=this.$el.find(".timeline"),this.$currentTime=this.$timeline.find(".current-time"),this.$playBtn=this.$el.find(".btn-play"),this.$pauseBtn=this.$el.find(".btn-pause"),this.$elapsed=this.$el.find(".elapsed-time"),this.$duration=this.$el.find(".total-time")},a.prototype.initPlay=function(){this.isPlaying||(this.isPlaying=!0)},a.prototype.togglePlay=function(){this.trigger(o.ON_TOGGLE_PLAY)},a.prototype.toggleFullScreen=function(){this.trigger(o.ON_FULLSCREEN)},a.prototype.togglePlayBtn=function(){n(this.$pauseBtn).toggleClass("active"),n(this.$playBtn).toggleClass("active")},a.prototype.resetPlayBtn=function(){n(this.$pauseBtn).removeClass("active"),n(this.$playBtn).addClass("active")},a.prototype.onTimelineClick=function(t){this.trigger(o.ON_SEEK,{pct:(t.pageX-this.$el.offset().left)/parseInt(this.$timeline.width(),10)})},a.prototype.setCurrentPctPlayed=function(t){TweenLite.set(this.$currentTime,{x:(100*t).toFixed(2)+"%",force3D:!0})},a.prototype.setDuration=function(t){this.$elapsed[0]&&(this.$elapsed[0].textContent="00:00",this.$duration[0].textContent=this.toHHMMSS(t).toString())},a.prototype.updateDuration=function(t){this.$elapsed[0]&&(this.$elapsed[0].textContent=this.toHHMMSS(t).toString())},a.prototype.toHHMMSS=function(t){var e=parseInt(t,10),i=Math.floor(e/3600),n=Math.floor((e-3600*i)/60),s=e-3600*i-60*n;return i=i<10?"0"+i:i,n=n<10?"0"+n:n,s=s<10?"0"+s:s,n+":"+s},a.prototype.dispose=function(){this.$timeline=null,this.$currentTime=null,this.$playBtn=null,AbstractDOMView.prototype.dispose.call(this)},t.exports=a}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(29),o=i(36),a=i(7),r=i(12),h=function(t,e){this.TL={},this.imgURL=t.imgURL,o.call(this,t,e)};e.extend(h,o),e.extend(h.prototype,o.prototype),h.prototype.init=function(){this.paper=new n.PaperScope,this.paper.setup(this.options.el),this.tool=new this.paper.Tool,this.mousePoint=new n.Point(-500,-500),r.viewport.width>1500?this.blobMaxSize=700:r.viewport.width<1500&&r.viewport.width>922?this.blobMaxSize=550:this.blobMaxSize=.75*r.viewport.width,this.mainBlob=new s({scope:this,canvasView:this,path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",position:{x:"this.paper.view.size.width / 2",y:"this.paper.view.size.height / 2"},size:{w:this.blobMaxSize,maxW:this.blobMaxSize},orbit:{h:3,w:3},divide:3,multiply:.3,bgImg:{url:this.imgURL,size:{w:r.viewport.width,h:r.viewport.height},layer:{color:"black",opacity:.8}},canHover:!0}),this.imgLoaded=!1,this.mainBlob.canAnimate=!1,this.listenTo(this.mainBlob,a.BLOB_IMG_LOADED,l.bind(this)),o.prototype.init.call(this)};var l=function(){this.imgLoaded=!0,this.mainBlob.bgRaster.visible=!0,this.mainBlob.bgImgGroup.opacity=1};h.prototype.onResize=function(){if(this.mainBlob&&this.imgLoaded){if(this.mainBlob.bgRaster.bounds.width=r.viewport.width+20,this.mainBlob.bgRaster.bounds.height=r.viewport.height+20,this.mainBlob.rectangle.bounds.width=r.viewport.width+20,this.mainBlob.rectangle.bounds.height=r.viewport.height+20,this.mainBlob.rectangle.position.x=r.viewport.width/2,this.mainBlob.rectangle.position.y=r.viewport.height/2,this.mainBlob.bgRaster.position.x=r.viewport.width/2,this.mainBlob.bgRaster.position.y=r.viewport.height/2,this.mainBlob.path.position.x=r.viewport.width/2,this.mainBlob.path.position.y=r.viewport.height/2,r.viewport.width>1500)t=700;else if(r.viewport.width<1500&&r.viewport.width>922)t=550;else var t=.75*r.viewport.width;var e=this.mainBlob.getScale({w:t},this.mainBlob.path);this.mainBlob.path.scale(e),this.mainBlob.onResize()}},t.exports=h}).call(e,i(3),i(26))},function(t,e,i){(function(e){var n=i(13),s=(i(12),function(t,e){this.options=t});e.extend(s,n),e.extend(s.prototype,n.prototype),s.prototype.init=function(){this.bindEvents()},s.prototype.bindEvents=function(){},s.prototype.onResize=function(){},s.prototype.animate=function(){},s.prototype.dispose=function(){},t.exports=s}).call(e,i(3))},function(t,e,i){(function(e){var n=i(29),s=i(13),o=(i(30),i(7)),a=i(12),r=function(t,e){this.mainCanvasView=t.mainCanvasView,this.canAnimate=!1,this.hideDirection=null,s.call(this,t,e)};e.extend(r,s),e.extend(r.prototype,s.prototype),r.prototype.init=function(){"default"===a.breakpoint?this.blobMaxSize=2.5*window.innerWidth:this.blobMaxSize=2.5*window.innerHeight,this.mainBlob=new n({scope:this,canvasView:this.mainCanvasView,bgColor:"#F1F1F9",position:{x:"this.paper.view.size.width / 2",y:"this.paper.view.size.height"},size:{w:"window.innerWidth * 0.2",maxW:"window.innerWidth * 1.2"},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",orbit:{h:2,w:2}}),this.mainBlob.path.visible=!1,this.mainBlob.rectanglePath.visible=!1,this.mainBlob.canAnimate=!1,s.prototype.init.call(this)},r.prototype.initTL=function(){this.initTLShow(),s.prototype.initTL.call(this)},r.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.resetBlob();var t={width:this.mainBlob.path.bounds._width,y:this.mainBlob.path.position.y};this.TL.show.to(t,.8,{width:this.blobMaxSize,y:a.viewport.height,onUpdate:function(){var e=this.mainBlob.getScale({w:t.width},this.mainBlob.path);this.mainBlob.path.scale(e)}.bind(this),onUpdateParams:["{self}"],ease:Power2.easeInOut},0)},r.prototype.show=function(){this.TL.show&&this.killTL("show"),this.initTLShow(),TweenMax.set(this.mainCanvasView.options.el,{zIndex:30}),this.mainBlob.path.visible=!0,this.mainBlob.rectanglePath.visible=!0,this.TL.show&&this.TL.show.play(0)},r.prototype.onShown=function(){TweenMax.set(this.mainCanvasView.options.el,{zIndex:0}),this.mainBlob.generateSettingsPoints(),this.trigger(o.CANVAS_SHOWN)},r.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)});var t={width:this.mainBlob.path.bounds._width,y:this.mainBlob.path.position.y};this.TL.hide.to(t,.9,{width:.4*window.innerWidth,onUpdate:function(){var e=this.mainBlob.getScale({w:t.width},this.mainBlob.path);this.mainBlob.path.scale(e)}.bind(this),onUpdateParams:["{self}"],ease:Sine.easeOut},0).to(t,1.1,{y:0-this.mainBlob.path.bounds._height,onUpdate:function(){this.mainBlob.path.position.y=t.y}.bind(this),onUpdateParams:["{self}"],ease:Sine.easeInOut},"-=0.6")},r.prototype.hide=function(){this.TL.hide&&this.killTL("hide"),this.initTLHide(),TweenMax.set(this.mainCanvasView.options.el,{zIndex:30}),"DOWN"===a.scrollYDirection?this.hideDirection=0-this.mainBlob.path.bounds._height:this.hideDirection=a.viewport.height+this.mainBlob.path.bounds._height,this.TL.hide&&this.TL.hide.play(0)},r.prototype.onHidden=function(){TweenMax.set(this.mainCanvasView.options.el,{zIndex:0}),this.resetBlob(),this.mainBlob.path.visible=!1,this.mainBlob.rectanglePath.visible=!1,this.trigger(o.CANVAS_HIDDEN),this.mainBlob.generateSettingsPoints()},r.prototype.resetBlob=function(){this.mainBlob.path.position.y=a.viewport.height;var t=this.mainBlob.getScale({w:.2*a.viewport.width},this.mainBlob.path);this.mainBlob.path.scale(t)},r.prototype.animate=function(){},r.prototype.onResize=function(){this.mainBlob.rectanglePath.bounds.width=a.viewport.width+20,this.mainBlob.rectanglePath.bounds.height=a.viewport.height+20,this.mainBlob.rectanglePath.position.x=a.viewport.width/2,this.mainBlob.rectanglePath.position.y=a.viewport.height/2,this.mainBlob.path.position.x=a.viewport.width/2;var t=this.mainBlob.getScale({w:this.blobMaxSize},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.onResize()},t.exports=r}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(11),o=i(32),a=(i(39),i(12)),r=i(7),h=i(23),l=(i(21),function(t,e){this.canUpdate=!0,this.$videoContainers=null,this.aVideoPlayers=[],this.$canvasElements=null,this.aCanvasElements=[],this.elementIndex=0,this.canvasHeight=null,this.currentVideoIndex=0,this.scrollOffset=null,this.descriptions=[],this.height=0,this.canScroll=!0,this.id="values",this.events={"click .video-container":"onVideoClick","mouseenter .mask":"onMouseEnterMask","mouseleave .mask":"onMouseLeaveMask"},this.currentIndexMenu=0,s.call(this,t,e)});e.extend(l,s),e.extend(l.prototype,s.prototype),l.prototype.init=function(){s.prototype.init.call(this)},l.prototype.initDOM=function(){this.$videoContainers=this.$el.find(".video-container"),this.$valuesContainers=this.$el.find(".value-video"),this.$posters=this.$el.find(".poster img"),this.$title=this.$el.find("h2"),this.$blocksValuesEls=this.$el.find(".video-container"),this.$menu=this.$el.find(".value-title-wrapper")[0];var t;e.each(this.$valuesContainers,function(e){var i=n(e).attr("data-description");t=i.replace(/<\/?p[^>]*>/g,""),this.descriptions.push(t)}.bind(this)),this.hBlock=n(this.$el).height(),this.wBlock=n(this.$el).width(),this.indexVideo=0,s.prototype.initDOM.call(this)},l.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),n(this.$el).removeClass("hidden"),s.prototype.setupDOM.call(this)},l.prototype.onDOMInit=function(){h.loadYTAPI(function(){this.initVideos()}.bind(this)),s.prototype.onDOMInit.call(this)},l.prototype.onMouseEnterMask=function(t){t.target.parentElement.classList.contains("no-video-player")||TweenMax.to(this.$posters[parseInt(n(t.currentTarget).attr("data-id"))],.8,{scale:1.05,ease:Expo.easeOut})},l.prototype.onMouseLeaveMask=function(t){t.target.parentElement.classList.contains("no-video-player")||TweenMax.to(this.$posters[parseInt(n(t.currentTarget).attr("data-id"))],.8,{scale:1,ease:Expo.easeOut})},l.prototype.onVideoClick=function(t){t.target.parentElement.classList.contains("custom-video-controls-container")||t.target.parentElement.classList.contains("no-video-player")||this.playVideo(parseInt(n(t.currentTarget).attr("data-id")))},l.prototype.playVideo=function(t){e.each(this.aVideoPlayers,function(e){e.id===t?(this.currentVideoIndex=e.id,e.isInit?c(e.player):(e.player.init(),e.isInit=!0,this.listenToOnce(e.player,r.READY,c.bind(this,e.player)),this.listenTo(e.player,r.ON_END,u.bind(this,e.player)))):u(e.player)}.bind(this))},l.prototype.playerEnded=function(){},l.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.5,{autoAlpha:1,display:"block"},0),this.TL.show.staggerFromTo(this.$videoContainers,.6,{opacity:0,y:100},{opacity:1,ease:Expo.easeOut,y:0,scale:1},.05,.5),this.TL.show.fromTo(this.$title,.4,{opacity:0,y:50},{opacity:1,y:0,ease:Expo.easeOut},.4)},l.prototype.show=function(){setTimeout(function(){this.TL.show.play(0)}.bind(this),0)},l.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.hBlock=n(this.$el).height(),TweenMax.set(this.options.mainView.$canvas,{display:"none",zIndex:0}),TweenMax.set(this.options.mainCanvasView.options.el,{zIndex:0}),a.mainView.setNormalScrollBehavior(),this.trigger(r.BLOCK_SHOWN),this.trigger(r.CANVAS_SHOWN),s.prototype.onShown.call(this)},l.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$videoContainers,.5,{opacity:0,y:-200,ease:Power4.easeIn},0).to(this.$title,.5,{opacity:0,y:-50,ease:Power4.easeIn},0).to(this.$el,.3,{autoAlpha:0,display:"none"},"-=0.1")},l.prototype.hide=function(){TweenMax.set(this.options.mainView.$canvas,{display:"block"}),e.each(this.aVideoPlayers,function(t){t.player.YTPlayer&&t.player.YTPlayer.isPlaying&&t.player.stop()}.bind(this)),this.TL.hide.play(0)},l.prototype.onHidden=function(){this.trigger(r.BLOCK_HIDDEN),this.trigger(r.CANVAS_HIDDEN),a.mainView.setNormalScrollBehavior(!1),s.prototype.onHidden.call(this)};var c=function(t){if(t.YTPlayer.isPlaying)t.pause({cssMask:!1});else if(t.togglePlay({cssMask:!0}),!a.isMobile){var e=n(t.el).find(".custom-video-controls-container"),i=n(t.el).find(".description");e.removeClass("hidden"),i.addClass("hidden")}},u=function(t){if(t.pause({cssMask:!0}),!a.isMobile){var e=n(t.el).find(".custom-video-controls-container"),i=n(t.el).find(".description");e.addClass("hidden"),i.removeClass("hidden")}};l.prototype.onResize=function(){this.hBlock=n(this.$el).height(),s.prototype.onResize.call(this)},l.prototype.dispose=function(){s.prototype.dispose.call(this)},l.prototype.onUpdate=function(){if(a.isScrolling){if(this.percentage=(a.scrollY+a.viewport.height)/this.hBlock,a.viewport.width>920)for(var t=0;t<this.$valuesContainers.length;t++){var e=t%2==0?-100:-150;TweenMax.to(this.$valuesContainers[t],.2,{y:this.percentage*e,ease:Linear.easeNone,delay:.2})}else TweenMax.set(this.$valuesContainers,{y:0});s.prototype.onUpdate.call(this)}},l.prototype.initVideos=function(){var t;e.each(this.$videoContainers,function(e,i){e.classList.contains("no-video-player")||(t=new o({el:e,hasCustomControls:!0,onVideoEnd:this.playerEnded,togglePoster:!0},null),this.aVideoPlayers.push({id:i,player:t,isInit:!1}))}.bind(this))},t.exports=l}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(29),o=i(13),a=i(7),r=i(12),h=(i(23),function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.$valuesContainers=null,this.canvasHeight=0,this.canvasWidth=0,this.blockConfig=[],this.descriptions=[],this.isShown=!1,this.blobs=[],this.itemsPosition=[],o.call(this,t,e)});e.extend(h,o),e.extend(h.prototype,o.prototype),h.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,o.prototype.init.call(this)},h.prototype.onDOMInit=function(){this.buildBlobs(),o.prototype.onDOMInit.call(this)},h.prototype.buildBlobs=function(){this.bgRectangle=new n.Rectangle(new n.Point(0,0),new n.Size(this.paper.view.size.width+10,this.paper.view.size.height+10)),this.rectanglePath=new n.Path.Rectangle(this.bgRectangle),this.paths=["M71.4,39.9c26.3-0.3,73.5-6.5,104.9,3.9c18.2,6.1,21.6,18.5,22.4,41c0,0,7,36.1-16.9,58.6c-12.2,11.5-43.3,7.8-74.3,7.2c-36-0.9-48.3,4.8-85.9-2.6c-22.9-4.5-19.9-27.2-20.4-61.4c-1-23.4,6.3-33.7,17.4-40C31.8,39.2,52.5,41.6,71.4,39.9z","M131.5,150.4c-21.9-0.1-67.8,6.7-99.1-3.7c-18.2-6.1-31.5-18-32.3-40.4c0,0-0.9-29.9,24-50c13-10.5,33.2-18.3,64.2-17.8c36,0.9,63.5-0.6,82.1,5.9c19,6.6,28.9,21.5,29.3,55.7c1,23.4-5.9,35.3-16.9,41.6C169.6,149.1,150.4,148.7,131.5,150.4z","M131.3,147.6c-21.9-0.1-74.1,9.6-105.4-0.8c-18.2-6.1-25-18.1-25.8-40.5c0,0-2.1-32.1,22.8-52.2c13-10.5,34.6-12.6,65.6-12c36,0.9,65.7-2.2,84.4,4.3c19,6.6,26.4,19.6,26.9,53.8c1,23.4-5.6,37.3-16.7,43.5C169.9,151.1,150.2,145.9,131.3,147.6z","M70.5,41c26.3-0.3,74.5-7.7,105.8,2.7c18.2,6.1,21.6,18.5,22.4,41c0,0,7,36.1-16.9,58.6c-12.2,11.5-67.2,10.1-98.3,9.5c-36-0.9-48.6,0.4-67.1-6.6c-14.3-5.4-14.7-20.8-15.1-55c-1-23.4,6.1-36.2,17.2-42.4C31.7,41.3,51.5,42.7,70.5,41z","M131.5,150.4c-21.9-0.1-76.6,7.5-107.9-2.9c-18.2-6.1-21.6-18.5-22.4-41c0,0-0.7-37.5,24.2-57.6c13-10.5,59.9-11.1,91-10.5c36,0.9,48.6-0.4,67.1,6.6c14.3,5.4,14.7,20.8,15.1,55c1,23.4-6.1,36.2-17.2,42.4C168.2,149.9,150.4,148.7,131.5,150.4z","M133,151.8c-21.9-0.1-72.2,6.5-103.5-3.9C11.2,141.8,0.8,128.7,0,106.2c0,0-3.5-31.5,21.4-51.6c13-10.5,35.8-16.7,66.8-16.2c36,0.9,65.5-1.3,84.2,5.1c19,6.6,26.8,22.2,27.3,56.5c1,23.4-5.9,35.3-16.9,41.6C169.6,149.1,151.9,150.1,133,151.8z","M131.5,150.4c-21.9-0.1-67.8,6.7-99.1-3.7c-18.2-6.1-31.5-18-32.3-40.4c0,0-0.9-29.9,24-50c13-10.5,33.2-18.3,64.2-17.8c36,0.9,63.5-0.6,82.1,5.9c19,6.6,28.9,21.5,29.3,55.7c1,23.4-5.9,35.3-16.9,41.6C169.6,149.1,150.4,148.7,131.5,150.4z"];var t=0,i=0,o=null,a="default"===r.breakpoint?.25*window.innerWidth:.65*window.innerWidth;e.each(this.$valuesContainers,function(e,n){o=e.getBoundingClientRect(),t=o.left,i=o.top;var h=/<br[^>]*>/gi;this.blobs.push(new s({index:n,scope:this,canvasView:this.mainCanvasView,path:this.paths[n],position:{x:t,y:i},canHover:!0,size:{w:a,maxW:"window.innerWidth * 0.8"},orbit:{h:2,w:2},multipleContent:{title:this.descriptions[n].replace(h,"\n"),subtitle:null,color:"#052449"}})),r.isMobile?this.blobs[n].path.bounds.height=200:this.blobs[n].path.bounds.width=.2*r.viewport.width,this.blobs[n].path.position.x=o.left+o.width/2,this.blobs[n].path.position.y=o.top+this.blobs[n].path.bounds._height/2,this.itemsPosition.push({name:"blob"+n,i:n,isBig:!1,y:this.blobs[n].path.position.y,x:this.blobs[n].path.position.x,w:this.blobs[n].path.bounds._width,h:this.blobs[n].path.bounds._height})}.bind(this)),this.compoundPath=new n.CompoundPath({children:[this.rectanglePath,this.blobs[0].path,this.blobs[1].path,this.blobs[2].path,this.blobs[3].path,this.blobs[4].path,this.blobs[5].path,this.blobs[6].path],fillColor:"#7ce2f7"}),e.each(this.blobs,function(t){t.generateContent(22,70),t.title.opacity=0}.bind(this)),this.compoundPath.visible=!1,this.compoundPath.opacity=0},h.prototype.initTL=function(){this.initTLShow(),o.prototype.initTL.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)});var t={opacity:0};this.TL.show.to(t,.5,{opacity:1,onUpdate:function(){this.compoundPath.opacity=t.opacity}.bind(this),onUpdateParams:["{self}"]},.1)},h.prototype.bindEvents=function(){},h.prototype.mouseMove=function(t){var e=this.isItem(t.point),i=e||0==e?"pointer":"default";TweenMax.set(this.options.mainCanvasView.options.el,{cursor:i})},h.prototype.mouseDown=function(t){var e=this.isItem(t.point);if((e||0==e)&&this.isShown){if(this.currentItem.isBig){this.currentItem.isBig=!1,this.blobs[this.currentItem.i].canAnimate=!1;i={width:this.blobs[this.currentItem.i].path.bounds._width,x:this.blobs[this.currentItem.i].path.position.x};TweenMax.to(i,.5,{width:.2*r.viewport.width,x:this.blobs[this.currentItem.i].path.position.x+.005*r.viewport.width,ease:Expo.easeOut,onUpdate:function(){this.blobs[this.currentItem.i].path.bounds.width=i.width,this.blobs[this.currentItem.i].path.position.x=i.x}.bind(this),onComplete:function(){this.blobs[this.currentItem.i].canAnimate=!0}.bind(this)})}else{this.currentItem.isBig=!0,this.blobs[this.currentItem.i].canAnimate=!1;var i={width:this.blobs[this.currentItem.i].path.bounds._width,x:this.blobs[this.currentItem.i].path.position.x};TweenMax.to(i,.5,{width:.27*r.viewport.width,x:this.blobs[this.currentItem.i].path.position.x-.005*r.viewport.width,ease:Expo.easeOut,onUpdate:function(){this.blobs[this.currentItem.i].path.bounds.width=i.width,this.blobs[this.currentItem.i].path.position.x=i.x}.bind(this)})}this.trigger(a.CANVAS_MASK_OVERLAY_CLICKED,{index:e})}},h.prototype.isItem=function(t){var i,n,s,o,a=null;return e.each(this.itemsPosition,function(e,r){i=e.y,n=e.x,s=e.w/2,o=e.h/2,t.y>i-o&&t.y<i+o&&t.x>n-s&&t.x<n+s&&(this.currentItem=e,a=r)}.bind(this)),a},h.prototype.show=function(){this.compoundPath.visible=!0,TweenMax.set(this.mainCanvasView.options.el,{zIndex:0}),TweenMax.set(this.mainCanvasView.options.el,{position:"absolute",height:this.canvasHeight}),this.onResize(),this.rectanglePath.bounds.width=r.viewport.width,this.rectanglePath.bounds.height=this.canvasHeight,e.each(this.blobs,function(t,e){t.generateSettingsPoints(),e==this.blobs.length-1&&(this.canAnimate=!0)}.bind(this));var t={opacity:0};TweenMax.to(t,.3,{opacity:1,delay:.65,ease:Expo.easeOut,onUpdate:function(){e.each(this.blobs,function(e){e.title.opacity=t.opacity}.bind(this))}.bind(this)}),this.TL.show&&this.TL.show.play(0)},h.prototype.onShown=function(){this.trigger(a.CANVAS_SHOWN),this.isShown=!0,this.TL.hide&&(this.TL.hide={}),this.initTLHide()},h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:function(){this.onHidden()}.bind(this)});var t={opacity:1};this.TL.hide.to(t,.5,{opacity:0,onUpdate:function(){this.compoundPath.opacity=t.opacity}.bind(this),onUpdateParams:["{self}"]},.1)},h.prototype.hide=function(){e.each(this.blobs,function(t,e){t.title.opacity=0,e==this.blobs.length-1&&(this.canAnimate=!1)}.bind(this));var t={opacity:1};TweenMax.to(t,{opacity:0,onUpdate:function(){e.each(this.blobs,function(e){e.title.opacity=t.opacity}.bind(this))}}),this.TL.hide&&this.TL.hide.play(0)},h.prototype.onHidden=function(){this.isShown=!1,this.compoundPath.visible=!1,TweenMax.set(this.mainCanvasView.options.el,{position:"fixed",height:"100%"}),this.rectanglePath.bounds.width=r.viewport.width,this.rectanglePath.bounds.height=this.canvasHeight,this.trigger(a.CANVAS_HIDDEN),this.TL.show&&(this.TL.show={}),this.initTLShow()},h.prototype.animate=function(t){},h.prototype.onResize=function(){if(this.blobs[0]&&!r.isMobile&&this.isShown){this.compoundPath.children[0].bounds.width=r.viewport.width,this.compoundPath.children[0].bounds.height=this.canvasHeight;var t,i="default"===r.breakpoint?.19*window.innerWidth:.65*window.innerWidth,n=0,s=0;this.itemsPosition=[],e.each(this.$valuesContainers,function(e,o){t=e.getBoundingClientRect(),this.blobs[o].canAnimate=!1,n=t.left,s=t.top;var a=this.blobs[o].getScale({w:i},this.blobs[o].path);this.blobs[o].path.scale(a),this.blobs[o].path.position.x=t.left+t.width/2,this.blobs[o].path.position.y=t.top+this.blobs[o].path.bounds._height/2,this.blobs[o].title.position.x=this.blobs[o].path.bounds._x+this.blobs[o].path.bounds._width/2,this.blobs[o].title.position.y=this.blobs[o].path.bounds._y+this.blobs[o].path.bounds._height+70,this.itemsPosition.push({name:"blob"+o,i:o,isBig:!1,y:this.blobs[o].path.position.y,x:this.blobs[o].path.position.x,w:this.blobs[o].path.bounds._width,h:this.blobs[o].path.bounds._height}),this.blobs[o].generateSettingsPoints(),this.blobs[o].onResize()}.bind(this)),o.prototype.onResize.call(this)}},t.exports=h}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(12),a=i(7),r=i(30),h=function(t,e){this.canUpdate=!0,this.currentFirstRound=-1,this.currentSecondRound=-1,this.currentThirdRound=-1,this.currentPop=0,"default"===o.breakpoint?this.canScroll=!1:this.canScroll=!0,s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.initDOM=function(){this.$title=this.$el.find("h2"),this.$roundsAnimateFirst=this.$el.find(".typing-0 .round-animate"),this.$roundsAnimateSecond=this.$el.find(".typing-1 .round-animate"),this.$roundsAnimateThird=this.$el.find(".typing-2 .round-animate"),this.$title=this.$el.find("h2"),this.$blocks=this.$el.find(".patient-block"),this.$blocksContent=this.$el.find(".content-block"),this.$blockPatients=this.$el.find(".patients-content"),this.$roundsBlocks=this.$el.find(".round-animate"),this.$quotes=this.$el.find(".quote"),this.$imgs=this.$el.find(".img"),this.$texts=this.$el.find(".text"),this.$imgsProfiles=this.$el.find(".type img"),this.$jobsProfiles=this.$el.find(".type p .job"),this.$namesProfiles=this.$el.find(".type p .name"),s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){this.hBlock=n(this.$el).height(),TweenMax.set(this.$title,{autoAlpha:0,y:20}),TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),n(this.$el).removeClass("hidden"),s.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0}),this.TL.show.to(this.$el,0,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0).to(this.$title,.5,{autoAlpha:1,y:0,ease:new Ease(r(.25,1,.5,1.25))},.1)},h.prototype.show=function(){setTimeout(function(){this.animatePops(),"sml"===o.breakpoint&&o.mainView.setNormalScrollBehavior()}.bind(this),700),this.TL.show.play(0)},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(a.BLOCK_SHOWN),this.trigger(a.CANVAS_SHOWN),s.prototype.onShown.call(this)},h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$title,.3,{autoAlpha:0,y:-20,ease:new Ease(r(.25,1,.5,1.25))},0).to(this.$el,.2,{autoAlpha:0,display:"none",ease:new Ease(r(.25,1,.5,1.25))},.05)},h.prototype.onHidden=function(){this.trigger(a.BLOCK_HIDDEN),this.trigger(a.CANVAS_HIDDEN),o.mainView.setNormalScrollBehavior(!1),TweenMax.set(this.$title,{autoAlpha:0,y:20}),TweenMax.set(this.$el,{autoAlpha:0}),this.resetPopBlocks(),s.prototype.onHidden.call(this)},h.prototype.onResize=function(){if(this.hBlock=n(this.$el).height(),"default"===o.breakpoint){var t=n(this.$quotes[this.currentPop]).height()>290?n(this.$quotes[this.currentPop]).height():290,e=290;this.canScroll=!1}else{var t="auto",e="auto";this.canScroll=!0}for(var i=0;i<this.$quotes.length;i++)TweenMax.set(this.$quotes[i],{width:e,height:t});s.prototype.onResize.call(this)},h.prototype.dispose=function(){s.prototype.dispose.call(this)},h.prototype.animateRounds=function(t,e){},h.prototype.resetPopBlocks=function(){this.currentPop=0,clearTimeout(this.timeOut),this.quoteAnimation&&this.quoteAnimation.kill(),this.imageAnimation&&this.imageAnimation.kill(),this.textAnimation&&this.textAnimation.kill(),this.imgProfileAnimation&&this.imgProfileAnimation.kill(),this.nameProfileAnimation&&this.nameProfileAnimation.kill(),this.jobProfileAnimation&&this.jobProfileAnimation.kill(),n(this.$quotes).removeAttr("style"),n(this.$namesProfiles).removeAttr("style"),n(this.$jobsProfiles).removeAttr("style"),n(this.$imgsProfiles).removeAttr("style")},h.prototype.animatePops=function(){this.currentPop==this.$blocks.length&&this.resetPopBlocks();if(TweenMax.set(this.$quotes[this.currentPop],{opacity:1,delay:0}),this.timeOut=setTimeout(function(){this.currentPop+=1,this.$blocks.length>this.currentPop?this.animatePops():this.onShown()}.bind(this),500),"default"===o.breakpoint)var t=n(this.$quotes[this.currentPop]).height()>290?n(this.$quotes[this.currentPop]).height():290,e=290;else var t="auto",e="auto";this.quoteAnimation=TweenMax.fromTo(this.$quotes[this.currentPop],.4,{width:0,height:0},{width:e,height:t,ease:Expo.easeOut,delay:0}),this.imageAnimation=TweenMax.fromTo(this.$imgs[this.currentPop],.4,{opacity:0,scale:.1},{opacity:1,scale:1,ease:Expo.easeOut,delay:.1}),this.textAnimation=TweenMax.fromTo(this.$texts[this.currentPop],.4,{opacity:0,x:-50},{opacity:1,x:0,ease:Expo.easeOut,delay:.15}),this.imgProfileAnimation=TweenMax.fromTo(this.$imgsProfiles[this.currentPop],.4,{opacity:0,scale:.1},{opacity:1,scale:1,ease:Expo.easeOut,delay:.2}),this.nameProfileAnimation=TweenMax.fromTo(this.$namesProfiles[this.currentPop],.4,{opacity:0,x:-30},{opacity:1,x:0,ease:Expo.easeOut,delay:.2}),this.jobProfileAnimation=TweenMax.fromTo(this.$jobsProfiles[this.currentPop],.4,{opacity:0,left:-30},{opacity:1,left:0,ease:Expo.easeOut,delay:.25})},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(11),o=i(12),a=i(7),r=i(30),h=function(t,e){s.call(this,t,e),this.$title=this.$el.find("h2"),this.$subtitle=this.$el.find("h3"),this.$perksBlock=this.$el.find(".perk-block"),this.canScroll=!0};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.initDOM=function(){s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){this.hBlock=n(this.$el).height(),TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),TweenMax.set(this.$title,{autoAlpha:0,y:20}),TweenMax.set(this.$subtitle,{autoAlpha:0,y:20}),TweenMax.set(this.$perksBlock,{autoAlpha:0,y:100}),n(this.$el).removeClass("hidden"),s.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,0,{autoAlpha:1,display:"block"},0).to(this.$title,.3,{autoAlpha:1,y:0,ease:new Ease(r(.25,1,.5,1.25))},0).to(this.$subtitle,.3,{autoAlpha:1,y:0,ease:new Ease(r(.25,1,.5,1.25))},.1).staggerTo(this.$perksBlock,.6,{autoAlpha:1,y:0,delay:.2,ease:Expo.easeOut},.05)},h.prototype.show=function(){this.TL.show&&this.TL.show.play(0),s.prototype.show.call(this)},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),o.mainView.setNormalScrollBehavior(),this.hBlock=n(this.$el).height(),this.trigger(a.BLOCK_SHOWN),this.trigger(a.CANVAS_SHOWN),s.prototype.onShown.call(this)},h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$title,.3,{autoAlpha:0,y:-20,ease:Expo.easeOut},0).to(this.$subtitle,.3,{autoAlpha:0,y:-20,ease:Expo.easeOut},0).to(this.$perksBlock,.6,{autoAlpha:0,y:-200,ease:Power4.easeIn},0).to(this.$el,0,{autoAlpha:0,display:"none"},1)},h.prototype.hide=function(){o.mainView.setNormalScrollBehavior(!1),this.TL.hide&&this.TL.hide.play(0)},h.prototype.reset=function(){TweenMax.set(this.$el,{autoAlpha:0}),TweenMax.set(this.$title,{autoAlpha:0,y:20}),TweenMax.set(this.$subtitle,{autoAlpha:0,y:20}),TweenMax.set(this.$perksBlock,{autoAlpha:0,y:40})},h.prototype.onHidden=function(){this.trigger(a.BLOCK_HIDDEN),this.trigger(a.CANVAS_HIDDEN),TweenMax.set(this.options.mainView.$bodyHtml,{scrollTo:0}),s.prototype.onHidden.call(this)},h.prototype.onResize=function(){this.hBlock=n(this.$el).height(),s.prototype.onResize.call(this)},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(11),o=i(43),a=(i(30),i(12)),r=i(7),h=function(t,e){this.canScroll=!0,this.id="join",this.imgURL=null,this.$title=null,this.$description=null,this.joinCanvas=null,this.events={"click .main-content":"onClickContent"},s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.initDOM=function(){this.imgURL=this.$el[0].dataset.src,this.$canvasElement=this.$el.find("#join-canvas"),this.joinCanvas=new o({el:this.$canvasElement[0],mainCanvasView:this.options.mainCanvasView,imgURL:this.imgURL},null),this.joinCanvas.init(),this.listenTo(this.joinCanvas,r.CANVAS_SHOWN,l.bind(this)),this.listenTo(this.joinCanvas,r.CANVAS_HIDDEN,c.bind(this)),this.$content=this.$el.find(".join-content"),this.$title=this.$el.find(".join-content h2"),this.$description=this.$el.find(".join-content p"),this.$description=this.$el.find(".join-content p"),this.$cover=this.$el.find(".main-content .cover"),this.$layer=this.$el.find(".main-content .layer"),this.$footerContainer=this.$el.find(".footer-container")[0],n(this.$footerContainer).append(this.options.mainView.$footer),this.hBlock=n(this.$el).height()+n(this.options.mainView.$footer).height(),this.wBlock=n(this.$el).width(),s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,y:20,display:"none"}),TweenMax.set(this.$title,{autoAlpha:0,y:20}),TweenMax.set(this.$description,{autoAlpha:0}),n(this.$el).removeClass("hidden"),s.prototype.setupDOM.call(this)},h.prototype.onClickContent=function(t){this.joinCanvas.mouseDown({x:t.clientX,y:t.clientY})},h.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,0,{autoAlpha:1,display:"flex",x:0,y:0},0).fromTo(this.$cover,1.2,{opacity:0,scale:1.2},{opacity:1,scale:1,ease:Expo.easeOut},.1).fromTo(this.$layer,1.2,{opacity:0},{opacity:1,ease:Expo.easeOut},.1).fromTo(this.$title,.6,{autoAlpha:0,y:100},{autoAlpha:1,y:0,ease:Expo.easeOut},.4).fromTo(this.$description,.5,{autoAlpha:0,y:75},{autoAlpha:1,y:0,ease:Expo.easeOut},.6)},h.prototype.show=function(){a.mainView.calculateScrollY(),TweenMax.set(this.options.mainView.$canvas,{zIndex:10,delay:.1}),TweenMax.set(this.options.mainCanvasView.options.el,{y:0}),this.TL.show&&this.TL.show.play(0),a.isMobile||a.isTablet?(TweenMax.set(n("#page-footer"),{display:"block"}),a.mainView.setNormalScrollBehavior(),this.trigger(r.CANVAS_SHOWN)):(this.joinCanvas.show(),TweenMax.set(n("#page-footer"),{display:"block"})),s.prototype.show.call(this)},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.isShown=!0,a.isMobile||a.isTablet||e.delay(function(){a.mainView.setNormalScrollBehavior()}.bind(this),350),this.trigger(r.BLOCK_SHOWN),s.prototype.onShown.call(this)};var l=function(){this.trigger(r.CANVAS_SHOWN)};h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0}),this.TL.hide.to(this.$title,.5,{autoAlpha:0,y:-40,ease:Expo.easeOut},.1).to(this.$description,.5,{autoAlpha:0,y:-40,ease:Expo.easeOut,onComplete:this.onHidden.bind(this)},.15).to(this.$el,.5,{autoAlpha:0,display:"none"},0)},h.prototype.hide=function(){this.TL.hide&&this.TL.hide.play(0),a.isMobile||a.isTablet?this.trigger(r.CANVAS_HIDDEN):this.joinCanvas.hide(),s.prototype.hide.call(this)},h.prototype.onHidden=function(){this.trigger(r.BLOCK_HIDDEN),this.isShown=!1,a.mainView.setNormalScrollBehavior(!1),TweenMax.set(n("#page-footer"),{display:"none"}),TweenMax.set(this.options.mainView.$canvas,{zIndex:1}),s.prototype.onHidden.call(this)};var c=function(){console.log("_onCanvasHidden"),this.trigger(r.CANVAS_HIDDEN)};h.prototype.onResize=function(){this.hBlock=n(this.$el).height()+n(this.options.mainView.$footer).height(),this.joinCanvas&&this.joinCanvas.onResize(),s.prototype.onResize.call(this)},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(29),o=i(36),a=i(7),r=i(12),h=function(t,e){this.imgURL=t.imgURL,this.mainCanvasView=t.mainCanvasView,this.paper=null,this.canAnimate=!1,this.scrollTO=null,this.TL={},o.call(this,t,e)};e.extend(h,o),e.extend(h.prototype,o.prototype),h.prototype.init=function(){this.paper=new n.PaperScope,this.paper.setup(this.options.el),this.tool=new this.paper.Tool,this.mousePoint=new n.Point(-500,-500),this.itemsPosition=[],this.maxOverlayBlobWidth="default"===r.breakpoint?2*window.innerWidth:2*window.innerHeight;var t="default"===r.breakpoint?700:1.2*window.innerWidth;if(r.viewport.width>1500)e=200;else if(r.viewport.width<1500&&r.viewport.width>922)e=175;else var e=150;this.mainBlob=new s({scope:this,canvasView:this,path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",bgColor:"#fa6876",position:{x:"window.innerWidth * .5",y:"window.innerHeight * .5"},size:{w:t,maxW:t},orbit:{h:2,w:2},divide:2,multiply:.2}),this.joinBlob=new s({scope:this,canvasView:this,color:"#fef25c",position:{x:"window.innerWidth / 2 + this.scope.mainBlob.path.bounds._width / 3",y:"window.innerHeight / 2 + this.scope.mainBlob.path.bounds._height / 2 - 20"},size:{w:"window.innerWidth * .4",maxW:e},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",orbit:{h:0,w:0},text:{content:"Join us",color:"#0b215a",position:{x:"this.scope.joinBlob.position._x",y:"this.scope.joinBlob.position._y"}},divide:2,multiply:.2,canHover:!0,canClick:!0,goTo:"/about/careers-list"}),this.overlayBlob=new s({scope:this,canvasView:this,path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",color:"#f1f1f9",position:{x:r.viewport.width/2,y:r.viewport.height/2},size:{w:this.maxOverlayBlobWidth,maxW:this.maxOverlayBlobWidth}}),this.mainBlob.path.visible=!1,this.overlayBlob.path.visible=!1,this.overlayBlob.path.opacity=0,this.mainBlob.rectanglePath.opacity=0,this.joinBlob.path.opacity=0,this.joinBlob.text.opacity=0,this.mainBlob.canAnimate=!1,this.joinBlob.canAnimate=!1,this.initTL(),o.prototype.init.call(this)},h.prototype.bindEvents=function(){this.tool.onMouseMove=function(t){this.mousePoint=t.lastPoint,this.mouseMove(t)}.bind(this),this.paper.view.onFrame=function(t){this.animate(t)}.bind(this),o.prototype.bindEvents.call(this)},h.prototype.initTL=function(){this.initTLShow()},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)});var t={opacity:this.mainBlob.path.opacity},e={opacity:this.joinBlob.path.opacity},i={opacity:this.joinBlob.path.opacity},n={y:this.overlayBlob.path.position.y,w:this.overlayBlob.path.bounds.width};this.TL.show.to(n,1,{y:-this.overlayBlob.path.bounds.height/2-r.viewport.height/2,w:.4*r.viewport.width,onUpdate:function(){this.overlayBlob.path.position.y=n.y;var t=this.overlayBlob.getScale({w:n.w},this.overlayBlob.path);this.overlayBlob.path.scale(t)}.bind(this),ease:Cubic.easeOut},0).to(t,.6,{opacity:1,onUpdate:function(){this.mainBlob.path.opacity=t.opacity,this.mainBlob.rectanglePath.opacity=t.opacity}.bind(this),ease:Elastic.easeOut.config(.7,.7)},0).to(e,.6,{opacity:1,onUpdate:function(){this.joinBlob.path.opacity=e.opacity}.bind(this),ease:Expo.easeOut},0).to(i,.6,{opacity:1,onUpdate:function(){this.joinBlob.text.opacity=i.opacity,TweenMax.set(this.mainCanvasView.options.el,{y:-r.scrollY})}.bind(this)},0)},h.prototype.show=function(){this.onResize(),this.isShown=!1,TweenMax.set(this.mainCanvasView.options.el,{zIndex:1,y:0}),this.mainBlob.path.visible=!0,this.mainBlob.path.opacity=1,this.overlayBlob.path.visible=!0,this.overlayBlob.path.opacity=1,this.mainBlob.canAnimate=!1,this.joinBlob.canAnimate=!1,this.canAnimate=!1,this.joinBlob.path.visible=!0,this.joinBlob.path.opacity=0,this.joinBlob.text.opacity=0,this.TL.show&&this.TL.show.play(0)},h.prototype.onShown=function(){this.trigger(a.CANVAS_SHOWN),this.isShown=!0,this.TL.hide&&(this.TL.hide={}),this.initTLHide(),this.mainBlob.canAnimate=!0,this.joinBlob.canAnimate=!0,this.canAnimate=!0,this.itemsPosition.push({name:"joinBlob",i:0,y:this.joinBlob.path.position.y,x:this.joinBlob.path.position.x,w:this.joinBlob.path.bounds._width,h:this.joinBlob.path.bounds._height}),this.onResize()},h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)});var t={y:this.overlayBlob.path.position.y,w:this.overlayBlob.path.bounds.width};this.TL.hide.to(t,1,{y:r.viewport.height/2,w:this.maxOverlayBlobWidth,onUpdate:function(){this.overlayBlob.path.position.y=t.y,this.overlayBlob.path.position.x=r.viewport.width/2;var e=this.overlayBlob.getScale({w:t.w},this.overlayBlob.path);this.overlayBlob.path.scale(e)}.bind(this),ease:Expo.easeOut},0)},h.prototype.hide=function(){TweenMax.set(this.mainCanvasView.options.el,{y:0}),this.mainBlob.canAnimate=!1,this.joinBlob.canAnimate=!1,this.canAnimate=!1,this.TL.hide&&this.TL.hide.play(0)},h.prototype.onHidden=function(){this.mainBlob.path.opacity=0,this.mainBlob.rectanglePath.opacity=0,this.joinBlob.text.opacity=0,this.mainBlob.path.visible=!1,this.joinBlob.path.visible=!1,this.overlayBlob.path.visible=!1,this.mainBlob.generateSettingsPoints(),this.joinBlob.generateSettingsPoints(),this.isShown=!1,this.trigger(a.CANVAS_HIDDEN)},h.prototype.mouseMove=function(t){if(this.canAnimate){var e=this.isItem(t.point);document.body.style.cursor=e||0==e?"pointer":"default"}},h.prototype.mouseDown=function(t){if(this.canAnimate){var e=this.isItem(t);(e||0==e)&&this.isShown&&"joinBlob"==this.itemsPosition[e].name&&(location.href="http://"+window.location.hostname+"/about/careers-list")}},h.prototype.isItem=function(t){var i,n,s,o,a=null;return e.each(this.itemsPosition,function(e,r){i=e.y,n=e.x,s=e.w/2,o=e.h/2,t.y>i-o&&t.y<i+o&&t.x>n-s&&t.x<n+s&&(this.currentItem=e,a=r)}.bind(this)),a},h.prototype.animate=function(t){!this.canAnimate||r.isMobile||r.isTablet||this.mainBlob.animate(t),!this.canAnimate||r.isMobile||r.isTablet||this.joinBlob.animate(t),o.prototype.animate.call(this)},h.prototype.onResize=function(){this.mainBlob.rectanglePath.bounds.width=r.viewport.width+20,this.mainBlob.rectanglePath.bounds.height=r.viewport.height+20,this.mainBlob.rectanglePath.position.x=r.viewport.width/2,this.mainBlob.rectanglePath.position.y=r.viewport.height/2,this.mainBlob.path.position.x=r.viewport.width/2,this.mainBlob.path.position.y=r.isMobile?r.viewport.height/2-40:r.viewport.height/2;var t;t=r.isMobile&&window.matchMedia("(orientation: landscape)").matches?this.mainBlob.getScale({h:"window.innerHeight * .7"},this.mainBlob.path):this.mainBlob.getScale({w:"window.innerWidth * .9",maxW:700},this.mainBlob.path),this.mainBlob.path.scale(t),this.joinBlob.path.position.x="sml"===r.breakpoint?r.viewport.width/2:r.viewport.width/2+this.mainBlob.path.bounds._width/3,this.joinBlob.path.position.y=(r.breakpoint,r.viewport.height/2+this.mainBlob.path.bounds._height/2),this.itemsPosition[0]={name:"joinBlob",i:0,x:this.joinBlob.path.position.x,y:this.joinBlob.path.position.y,w:this.joinBlob.path.bounds._width,h:this.joinBlob.path.bounds._height},this.joinBlob.text.position.x=this.joinBlob.path.position._x,this.joinBlob.text.position.y=this.joinBlob.path.position._y,this.mainBlob.onResize(),this.joinBlob.onResize()},t.exports=h}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(45),a=i(47),r=i(12),h=i(7),l=i(30),c=function(t,e){this.canUpdate=!0,this.$carouselEl=null,this.carousel=null,this.id="culture",this.isPressSectionActive=!1,this.steps=1,this.currentStep=-1,this.isFirstStep=!0,s.call(this,t,e)};e.extend(c,s),e.extend(c.prototype,s.prototype),c.prototype.init=function(){this.options.mainCanvasView.register(this.id,new a({mainCanvasView:this.options.mainCanvasView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.culture,h.CANVAS_SHOWN,u.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.culture,h.CANVAS_HIDDEN,p.bind(this)),this.stepsAnimation=[this.firstStep.bind(this)],s.prototype.init.call(this)},c.prototype.initDOM=function(){this.$carouselEl=this.$el.find(".culture-carousel"),this.$carouselElImg=this.$el.find(".carousel-items-container"),this.$carouselElText=this.$el.find(".content-carousel"),this.$cultureCanvas=this.$el.find("#culture-canvas"),this.$imagesContainer=this.$el.find(".image-container"),this.$carouselElPress=this.$el.find(".press"),this.$carouselElTitle=this.$el.find(".overlay-content-container"),this.hContentTitle=n(this.$carouselElTitle).height(),this.topContentTitle=r.viewport.height/2-this.hContentTitle/2,s.prototype.initDOM.call(this)},c.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),TweenMax.set(this.$carouselElPress,{autoAlpha:0,y:20}),TweenMax.set(this.$carouselElTitle,{autoAlpha:0,y:20}),TweenMax.set(this.$carouselElText,{autoAlpha:0,y:20}),n(this.$el).removeClass("hidden"),s.prototype.setupDOM.call(this)},c.prototype.onDOMInit=function(){this.carousel=new o({el:this.$carouselEl,hasTimer:!0},null),this.carousel.init(),s.prototype.onDOMInit.call(this)},c.prototype.initTLShow=function(){if(this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),"default"===r.breakpoint)t=0;else var t=.5;this.TL.show.to(this.$el,t,{autoAlpha:1,display:"flex",ease:new Ease(l(.25,1,.5,1.25))},.1).to(this.$carouselElTitle,.5,{autoAlpha:1,y:0,zIndex:10,ease:new Ease(l(.25,1,.5,1.25))},.3).to(this.$carouselElText,.5,{autoAlpha:1,y:0,ease:new Ease(l(.25,1,.5,1.25))},.5)},c.prototype.show=function(){this.TL.show.play(0),"default"===r.breakpoint&&this.options.mainCanvasView.showCanvas(this.id)},c.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(h.BLOCK_SHOWN),"sml"===r.breakpoint&&this.trigger(h.CANVAS_SHOWN),this.isFirstStep&&this.carousel.startTimer(),s.prototype.onShown.call(this)};var u=function(){this.trigger(h.CANVAS_SHOWN)};c.prototype.initTLHide=function(){if("default"===r.breakpoint)t=2.1;else var t=0;this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,ease:Expo.easeInOut},t)},c.prototype.hide=function(){"default"===r.breakpoint?this.options.mainCanvasView.hideCanvas(this.id):this.TL.hide.play(0)},c.prototype.onHidden=function(){this.trigger(h.BLOCK_HIDDEN),TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),"sml"===r.breakpoint&&this.trigger(h.CANVAS_HIDDEN),this.carousel.stopTimer(),this.resetBlock(),this.currentStep=-1,this.isFirstStep=!0,s.prototype.onHidden.call(this)},c.prototype.resetBlock=function(){TweenMax.set(this.$carouselElPress,{autoAlpha:0,y:20}),TweenMax.set(this.$carouselElTitle,{autoAlpha:0,y:20}),TweenMax.set(this.$carouselElText,{autoAlpha:0,y:20}),TweenMax.set(this.$imagesContainer[this.carousel.currentIndex],{opacity:.5})};var p=function(){this.onHidden(),this.trigger(h.CANVAS_HIDDEN)};c.prototype.onTouchStart=function(){this.currentSwipeDirection=null,this.currentTimestamp=Date.now(),this.startX=r.touch.startX,this.startY=r.touch.startY},c.prototype.onTouchMove=function(){this.lastDeltaX=this.startX-(r.touch.startX-r.touch.deltaX),this.lastDeltaY=this.startY-(r.touch.startY-r.touch.deltaY),null==this.currentSwipeDirection&&(this.currentSwipeDirection=d.call(this)),"x"==this.currentSwipeDirection?this.lastDeltaX<0?this.direction="LEFT":this.direction="RIGHT":this.direction=null,this.isDragging=!0},c.prototype.onTouchEnd=function(){this.isDragging=!1,this.startX=0,this.startY=0,null!==this.currentSwipeDirection&&null!==this.direction&&Date.now()-this.currentTimestamp>150&&("LEFT"===this.direction?this.carousel.goToPrevItem():"RIGHT"===this.direction&&this.carousel.goToNextItem())};var d=function(){return Math.abs(this.lastDeltaX)>Math.abs(this.lastDeltaY)?"x":Math.abs(this.lastDeltaX)<Math.abs(this.lastDeltaY)?"y":null};c.prototype.manageSteps=function(t,e){this.stepsAnimation[t](e,t)},c.prototype.firstStep=function(t){this.isAnimating||(this.isAnimating=!0,this.isFirstStep?(this.carousel.stopTimer(),TweenMax.to(this.$imagesContainer[this.carousel.currentIndex],.3,{opacity:.15,ease:Power4.easeNone}),TweenMax.to(this.$carouselElTitle,.5,{autoAlpha:0,y:-20,ease:new Ease(l(.25,1,.5,1.25)),delay:.1}),TweenMax.to(this.$carouselElText,.5,{autoAlpha:0,y:-20,ease:new Ease(l(.25,1,.5,1.25)),delay:.1}),TweenMax.to(this.$carouselElPress,.5,{autoAlpha:1,y:0,ease:new Ease(l(.25,1,.5,1.25)),delay:.1,onComplete:function(){t(),this.isFirstStep=!1,this.isAnimating=!1}.bind(this)})):(this.carousel.startTimer(),TweenMax.to(this.$imagesContainer[this.carousel.currentIndex],.3,{opacity:.5,ease:Power4.easeNone}),TweenMax.to(this.$carouselElPress,.5,{autoAlpha:0,y:-20,ease:new Ease(l(.25,1,.5,1.25)),delay:.1}),TweenMax.to(this.$carouselElTitle,.5,{autoAlpha:0,y:-20,ease:new Ease(l(.25,1,.5,1.25)),delay:.1}),TweenMax.to(this.$carouselElText,.5,{autoAlpha:1,y:0,ease:new Ease(l(.25,1,.5,1.25)),delay:.1,onComplete:function(){t(),this.isFirstStep=!0,this.isAnimating=!1}.bind(this)})))},c.prototype.onResize=function(){this.hContentPress=n(this.$carouselElPress).height(),this.topContentPress=r.viewport.height/2-this.hContentPress/2+40,TweenMax.set(this.$carouselElPress,{position:"absolute",top:this.topContentPress}),s.prototype.onResize.call(this)},c.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=c}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(13),o=(i(12),i(46)),a=i(7),r=function(t,e){this.$carouselItems=null,this.currentIndex=0,this.$indicatorEl=null,this.aCarouselIndicators=[],this.timer=null,s.call(this,t,e)};e.extend(r,s),e.extend(r.prototype,s.prototype),r.prototype.initDOM=function(){this.$carouselItems=this.$el.find(".carousel-item"),this.$carouselItemsContainer=this.$el.find(".carousel-items-container"),this.$indicatorEl=this.$el.find(".indicator"),s.prototype.initDOM.call(this)},r.prototype.onDOMInit=function(){e.each(this.$indicatorEl,function(t){var e=new o({el:t},null);e.init(),this.aCarouselIndicators.push(e),this.listenTo(e,a.CAROUSEL_INDICATOR_CLICKED,n.proxy(this.indicatorClicked,this))}.bind(this)),this.aCarouselIndicators[0].toggleActive(),s.prototype.onDOMInit.call(this)},r.prototype.ticker=function(){this.timer&&this.stopTimer(),this.goToItem(this.currentIndex+1)},r.prototype.startTimer=function(){this.timer&&this.stopTimer(),this.timer=setTimeout(this.ticker.bind(this),5e3)},r.prototype.stopTimer=function(){clearTimeout(this.timer),this.timer=null},r.prototype.resetTimer=function(){null!=this.timer&&this.stopTimer(),this.startTimer()},r.prototype.indicatorClicked=function(t){this.goToItem(t.indicator.index)},r.prototype.goToItem=function(t){t>this.$carouselItems.length-1?t=0:t<0&&(t=this.$carouselItems.length-1),this.updateCarouselItems(t),this.updateIndicators(t),this.currentIndex=t,this.resetTimer()},r.prototype.goToPrevItem=function(){this.goToItem(this.currentIndex-1)},r.prototype.goToNextItem=function(){this.goToItem(this.currentIndex+1)},r.prototype.updateCarouselItems=function(t){this.currentIndex!==t&&(n(this.$carouselItems[t]).addClass("active"),n(this.$carouselItems[this.currentIndex]).removeClass("active"))},r.prototype.updateIndicators=function(t){this.currentIndex!==t&&(this.aCarouselIndicators[t].toggleActive(),this.aCarouselIndicators[this.currentIndex].toggleActive())},r.prototype.onResize=function(){s.prototype.onResize.call(this)},t.exports=r}).call(e,i(3),i(1))},function(t,e,i){(function(e){var n=i(7),s=i(13),o=function(t,e){this.isActive=!1,this.index=0,this.events={click:"onClick"},s.call(this,t,e)};e.extend(o,s),e.extend(o.prototype,s.prototype),o.prototype.initDOM=function(){this.index=parseInt(this.$el.attr("data-id"),10),s.prototype.initDOM.call(this)},o.prototype.toggleActive=function(){this.isActive?(this.$el.removeClass("active"),this.isActive=!1):(this.$el.addClass("active"),this.isActive=!0)},o.prototype.onClick=function(){this.trigger(n.CAROUSEL_INDICATOR_CLICKED,{indicator:this})},t.exports=o}).call(e,i(3))},function(t,e,i){(function(e){var n=i(29),s=i(13),o=(i(30),i(7)),a=i(12),r=function(t,e){this.mainCanvasView=t.mainCanvasView,this.canAnimate=!1,s.call(this,t,e)};e.extend(r,s),e.extend(r.prototype,s.prototype),r.prototype.init=function(){this.mainBlob=new n({scope:this,canvasView:this.mainCanvasView,bgColor:"#F1F1F9",position:{x:"this.paper.view.size.width / 2",y:"this.paper.view.size.height"},size:{w:"window.innerWidth * 0.2",maxW:"window.innerWidth * 1.2"},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",orbit:{h:2,w:2}}),this.mainBlob.path.visible=!1,this.mainBlob.rectanglePath.visible=!1,this.mainBlob.canAnimate=!1,s.prototype.init.call(this)},r.prototype.initTL=function(){this.initTLShow(),s.prototype.initTL.call(this)},r.prototype.initTLShow=function(){if(this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.resetBlob(),"default"===a.breakpoint)t=2.5*window.innerWidth;else var t=2.5*window.innerHeight;var e={width:this.mainBlob.path.bounds._width,y:this.mainBlob.path.position.y};this.TL.show.to(e,.8,{width:t,y:a.viewport.height,onUpdate:function(){var t=this.mainBlob.getScale({w:e.width},this.mainBlob.path);this.mainBlob.path.scale(t)}.bind(this),onUpdateParams:["{self}"],ease:Power2.easeInOut},0)},r.prototype.show=function(){TweenMax.set(this.mainCanvasView.options.el,{zIndex:30}),this.TL.show&&this.killTL("show"),this.initTLShow(),this.mainBlob.path.visible=!0,this.mainBlob.rectanglePath.visible=!0,this.TL.show&&this.TL.show.play(0)},r.prototype.onShown=function(){TweenMax.set(this.mainCanvasView.options.el,{zIndex:0}),this.mainBlob.generateSettingsPoints(),this.trigger(o.CANVAS_SHOWN)},r.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)});var t={width:this.mainBlob.path.bounds._width,y:this.mainBlob.path.position.y};this.TL.hide.to(t,.9,{width:.4*window.innerWidth,onUpdate:function(){var e=this.mainBlob.getScale({w:t.width},this.mainBlob.path);this.mainBlob.path.scale(e)}.bind(this),onUpdateParams:["{self}"],ease:Sine.easeOut},0).to(t,1.1,{y:0-this.mainBlob.path.bounds._height,onUpdate:function(){this.mainBlob.path.position.y=t.y}.bind(this),onUpdateParams:["{self}"],ease:Sine.easeInOut},"-=0.6")},r.prototype.hide=function(){TweenMax.set(this.mainCanvasView.options.el,{zIndex:30}),this.TL.hide&&this.killTL("hide"),this.initTLHide(),this.TL.hide&&this.TL.hide.play(0)},r.prototype.onHidden=function(){this.resetBlob(),this.mainBlob.path.visible=!1,this.mainBlob.rectanglePath.visible=!1,this.trigger(o.CANVAS_HIDDEN),this.mainBlob.generateSettingsPoints()},r.prototype.resetBlob=function(){this.mainBlob.path.position.y=a.viewport.height;var t=this.mainBlob.getScale({w:.2*a.viewport.width},this.mainBlob.path);this.mainBlob.path.scale(t)},r.prototype.animate=function(t){},r.prototype.onResize=function(){if(this.mainBlob.rectanglePath.bounds.width=a.viewport.width+20,this.mainBlob.rectanglePath.bounds.height=a.viewport.height+20,this.mainBlob.rectanglePath.position.x=a.viewport.width/2,this.mainBlob.rectanglePath.position.y=a.viewport.height/2,this.mainBlob.path.position.x=a.viewport.width/2,"default"===a.breakpoint)t=2.5*window.innerWidth;else var t=2.5*window.innerHeight;var e=this.mainBlob.getScale({w:t},this.mainBlob.path);this.mainBlob.path.scale(e),this.mainBlob.onResize()},t.exports=r}).call(e,i(3))},function(t,e,i){(function(e){var n=i(11),s=(i(12),i(7)),o=function(t,e){n.call(this,t,e)};e.extend(o,n),e.extend(o.prototype,n.prototype),o.prototype.initDOM=function(){n.prototype.initDOM.call(this)},o.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),n.prototype.setupDOM.call(this)},o.prototype.onDOMInit=function(){n.prototype.onDOMInit.call(this)},o.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.3,{autoAlpha:1,ease:Expo.easeInOut},0)},o.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(s.BLOCK_SHOWN),n.prototype.onShown.call(this)},o.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,ease:Expo.easeInOut},0)},o.prototype.onHidden=function(){this.trigger(s.BLOCK_HIDDEN),n.prototype.onHidden.call(this)},o.prototype.onUpdate=function(){n.prototype.onUpdate.call(this)},o.prototype.onResize=function(){n.prototype.onResize.call(this)},o.prototype.dispose=function(){n.prototype.dispose.call(this)},t.exports=o}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(36),o=i(7),a=function(t,e){this.paper=null,this.aCanvasAnimViews={},this.currentCanvasAnimView=null,this.oldCanvasAnimView=null,this.isCanvasHidden=!1,s.call(this,t,e)};e.extend(a,s),e.extend(a.prototype,s.prototype),a.prototype.init=function(){this.paper=new n.PaperScope,this.paper.setup(this.options.el),this.paper.autoUpdate=!1,this.tool=new this.paper.Tool,this.mousePoint=new n.Point(-500,-500),s.prototype.init.call(this)},a.prototype.register=function(t,e){this.aCanvasAnimViews[t]=e,this.aCanvasAnimViews[t].init(),e&&this.listenTo(e,o.CANVAS_SHOWN,h.bind(this)),e&&this.listenTo(e,o.CANVAS_HIDDEN,l.bind(this)),e&&this.listenTo(e,o.LOADER_COMPLETE,r.bind(this))};var r=function(){this.trigger(o.LOADER_COMPLETE)};a.prototype.showCanvas=function(t){this.isCanvasHidden=!1,this.currentCanvasAnimView=this.aCanvasAnimViews[t],this.currentCanvasAnimView.show()};var h=function(){this.trigger(o.CANVAS_SHOWN)};a.prototype.hideCanvas=function(t){this.isCanvasHidden=!0,this.oldCanvasAnimView=this.aCanvasAnimViews[t],this.oldCanvasAnimView&&this.oldCanvasAnimView.hide()};var l=function(){this.trigger(o.CANVAS_HIDDEN)};a.prototype.bindEvents=function(){this.tool.onMouseMove=function(t){this.mousePoint=t.lastPoint,this.mouseMove(t)}.bind(this),this.paper.view.onMouseDown=function(t){this.mouseDown(t)}.bind(this),this.paper.view.onFrame=function(t){this.isCanvasHidden||this.animate(t)}.bind(this),s.prototype.bindEvents.call(this)},a.prototype.mouseDown=function(t){this.currentCanvasAnimView&&this.currentCanvasAnimView.mouseDown&&this.currentCanvasAnimView.mouseDown(t),this.oldCanvasAnimView&&this.oldCanvasAnimView.mouseDown&&this.oldCanvasAnimView.mouseDown(t)},a.prototype.mouseMove=function(t){this.currentCanvasAnimView&&this.currentCanvasAnimView.mouseMove&&this.currentCanvasAnimView.mouseMove(t),this.oldCanvasAnimView&&this.oldCanvasAnimView.mouseMove&&this.oldCanvasAnimView.mouseMove(t)},a.prototype.animate=function(t){this.currentCanvasAnimView&&this.currentCanvasAnimView.animate(t),this.oldCanvasAnimView&&this.oldCanvasAnimView.animate(t),s.prototype.animate.call(this)},a.prototype.onResize=function(){e.each(this.aCanvasAnimViews,function(t){t.onResize()}.bind(this)),s.prototype.onResize.call(this)},a.prototype.killTL=function(t){if(this.TL[t]){var e=this.TL[t];e.stop(),e.kill(),e.clear(),e=null,this.TL[t]=null}},a.prototype.destroyTL=function(){for(var t in this.TL)this.killTL(t);this.TL={}},a.prototype.dispose=function(){this.destroyTL()},t.exports=a}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(32),a=(i(7),i(12)),r=i(23),h=i(51),l=function(t,e){this.canUpdate=!0,this.$ghFormContainer=null,this.jobId=null,this.$videoContainer=null,this.videoPlayer=null,this.idVideoBlob="video",this.idHeaderBlob="header",this.$headerCanvasEl=null,this.headerCanvas=null,this.events={"click .btn-apply":"scrollToForm","click .video-container":"toggleVideo"},s.call(this,t,e)};e.extend(l,s),e.extend(l.prototype,s.prototype),l.prototype.initDOM=function(){this.$ghFormContainer=this.$el.find("#grnhse_app"),this.jobId=this.$ghFormContainer[0].dataset.id,this.$videoContainer=this.$el.find(".video-container"),this.$jobDetail=this.$el.find(".job-detail"),this.$text=this.$el.find(".content-text p"),this.$headerCanvasEl=this.$el.find(".header-canvas"),this.blobColor=n(this.$headerCanvasEl).attr("data-color"),n(this.$text).removeAttr("style"),a.mainView.setNormalScrollBehavior(),s.prototype.initDOM.call(this)},l.prototype.onDOMInit=function(){this.$videoContainer[0]&&r.loadYTAPI(function(){this.videoPlayer=new o({el:this.$videoContainer,hasCustomControls:!1,autoPlay:!1},null),this.videoPlayer.init()}.bind(this)),this.headerCanvas=new h({el:this.$headerCanvasEl[0],blobColor:this.blobColor},null),this.headerCanvas.init(),null!=this.jobId?Grnhse.Iframe.load(this.jobId):console.log("No job ID!")},l.prototype.toggleVideo=function(){console.log("toggleVideo!!!!"),this.videoPlayer&&this.videoPlayer.togglePlay({cssMask:!0})},l.prototype.scrollToForm=function(){var t="default"===a.breakpoint?80:50;TweenMax.to(window,.8,{scrollTo:n(this.$ghFormContainer)[0].offsetTop-t,ease:Expo.easeInOut})},l.prototype.onUpdate=function(){if(n("#grnhse_iframe")&&document.getElementById("grnhse_iframe")){var t=document.getElementById("grnhse_iframe"),e=document.createElement("style");e.textContent=".some-class-name {  some-style-name: some-value;}",t.contentDocument.head.appendChild(e)}s.prototype.onUpdate.call(this)},l.prototype.onResize=function(){this.headerCanvas&&this.headerCanvas.onResize(),s.prototype.onResize.call(this)},l.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=l}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(29),o=i(36),a=function(t,e){this.blobColor=t.blobColor?t.blobColor:"#05215a",console.log(this.blobColor),this.paper=null,o.call(this,t,e)};e.extend(a,o),e.extend(a.prototype,o.prototype),a.prototype.init=function(){this.paper=new n.PaperScope,this.paper.setup(this.options.el),this.tool=new this.paper.Tool,this.mousePoint=new n.Point(-500,-500),this.mainBlob=new s({type:0,scope:this,canvasView:this,path:"M369,580.5C189.4,599.1,11,547,11,322.5C11,98,193.4,8.5,371.5,8.5S757,119.7,757,293.5C757,467.3,548.6,561.9,369,580.5z",color:this.blobColor,position:{x:"this.paper.view.size.width / 2",y:"(this.paper.view.size.height / 2) - (this.paper.view.size.height / 2 * 0.2)"},size:{w:"window.innerWidth * 1.2",maxW:800},mouseForce:.4,orbit:{h:4,w:4},canHover:!1}),o.prototype.init.call(this)},a.prototype.bindEvents=function(){this.tool.onMouseMove=function(t){this.mousePoint=t.lastPoint}.bind(this),this.tool.onMouseDown=function(t){}.bind(this),this.paper.view.onFrame=function(t){this.animate(t)}.bind(this),o.prototype.bindEvents.call(this)},a.prototype.triggerBlob=function(t){this.mainBlob.triggerBlob(t)},a.prototype.animate=function(t){this.mainBlob.animate(t),o.prototype.animate.call(this,t)},a.prototype.onResize=function(){o.prototype.onResize.call(this)},a.prototype.mouseMove=function(t){o.prototype.mouseMove.call(this,t)},t.exports=a}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(53),a=i(56),r=i(12),h=i(23),l=function(t,e){this.canUpdate=!0,this.$listHeaderViewEl=null,this.listHeaderBlock=null,this.listHeaderHeight=null,this.listHeaderView=null,this.$stickyHeaderEl=null,this.$stickyHeaderCanvasEl=null,this.stickyCanvasView=null,this.stickyHeaderheight=0,this.aTitles=null,this.$departmentContainerEl=null,this.departmentContainerBlock=null,this.departmentContainerHeight=null,this.$sideNavEl=null,this.sideNavHeight=null,this.$footerEl=null,this.footerBlock=null,this.footerHeight=null,this.aMenuItems=null,this.currentIndexMenu=0,this.$dropdownEl=null,this.dropDownHeight=0,this.aTeamEls=null,this.aTeamHeader=null,this.aColors=null,this.headerIsVisible=!0,this.yellowBarIsVisible=!0,this.triggerTopOffset="default"===r.breakpoint?50:30,this.lastTeamElementHeight=0,this.events={"click .department-list li":"onClickMenu","click .dropdown-btn":"expandDropdown","mouseenter .row.middle":"onMouseEnterLink","mouseleave .row.middle":"onMouseLeaveLink"},s.call(this,t,e)};e.extend(l,s),e.extend(l.prototype,s.prototype),l.prototype.initDOM=function(){this.$bgHeader=n(".page-header .bg"),this.$header=n(".page-header"),this.$footerEl=n("#page-footer"),this.$listHeaderViewEl=this.$el.find(".list-header"),this.$stickyHeaderEl=this.$el.find(".sticky-header"),this.$stickyHeaderCanvasEl=this.$el.find("#sticky-canvas"),this.aTitles=this.$stickyHeaderEl.find("h2"),this.$departmentContainerEl=this.$el.find(".department-list-container"),this.aTeamEls=this.$el.find(".team"),this.aTeamHeader=this.$el.find(".team-header"),this.$sideNavEl=this.$el.find(".deparment-side-nav"),this.aMenuItems=this.$sideNavEl.find(".department-list li button"),this.$dropdownEl=this.$el.find(".filter-wrapper"),r.mainView.setNormalScrollBehavior(),s.prototype.initDOM.call(this)},l.prototype.onDOMInit=function(){this.listHeaderView=new o({el:this.$listHeaderViewEl,mainView:this},null),this.listHeaderView.init();var t=n(this.aTeamEls[0]).data("color");this.stickyCanvasView=new a({el:this.$stickyHeaderCanvasEl[0],blobColor:t},null),this.stickyCanvasView.init(),this.calculateTriggers(),this.setCurrent(),s.prototype.onDOMInit.call(this)},l.prototype.calculateElHeights=function(){this.stickyHeaderheight=n(this.$stickyHeaderEl).height(),this.listHeaderHeight=n(this.$listHeaderViewEl).height(),this.departmentContainerHeight=n(this.$departmentContainerEl).height(),this.sideNavHeight=n(this.$sideNavEl).height(),this.footerHeight=n(this.$footerEl).height(),this.menuTop=r.viewport.height/2-this.sideNavHeight/2,this.dropDownHeight=n(".filter-wrapper ul").height()+40,this.aTeamEls.each(function(t){var e=n(this.aTeamEls[t]);e.data("originalPosition",e.offset().top),e.data("originalHeight",e.height())}.bind(this)),this.lastTeamElementHeight=n(this.aTeamEls[this.aTeamEls.length-1]).height()},l.prototype.calculateTriggers=function(){this.$listHeaderViewEl[0]&&(this.listHeaderBlock=h.triggerEl(this.$listHeaderViewEl[0],"sml"===r.breakpoint?this.listHeaderHeight-this.triggerTopOffset+this.sideNavHeight:this.listHeaderHeight-this.triggerTopOffset),this.departmentContainerBlock=h.triggerEl(this.$departmentContainerEl[0],this.departmentContainerHeight),this.footerBlock=h.triggerEl(this.$footerEl[0],this.footerHeight),this.setStickyElements())},l.prototype.hideMenu=function(){this.headerIsVisible=!1,TweenMax.to(this.$bgHeader,.2,{y:-75,ease:Expo.easeOut}),TweenMax.set(this.$header,{background:"none",borderBottom:"none"})},l.prototype.onShown=function(){r.mainView.calculateScrollY(),this.calculateElHeights(),this.calculateTriggers(),this.setCurrent(),this.canUpdate=!0;var t=n("."+localStorage.getItem("dept"))[0];window.location.href.indexOf("loc_id")>-1||t?(this.isScrolling=!0,setTimeout(function(){TweenMax.to(window,.7,{scrollTo:window.location.href.indexOf("loc_id")>-1?r.viewport.height+80:parseInt(n("."+localStorage.getItem("dept")).attr("data-original-position"))+80,onUpdate:function(){r.mainView.calculateScrollY(),this.calculateTriggers(),this.setCurrent(),this.onUpdate()}.bind(this),onComplete:function(){this.isScrolling=!1,localStorage.setItem("dept",null),this.headerIsVisible=!1,r.isMobile||(TweenMax.set(this.$bgHeader,{y:-75}),TweenMax.set(this.$header,{background:"none",borderBottom:"none"})),s.prototype.onShown.call(this)}.bind(this)})}.bind(this),0)):s.prototype.onShown.call(this)},l.prototype.onUpdate=function(){this.$bgHeader&&this.$header&&(r.isMobile&&"sml"==r.breakpoint||(r.scrollY>50&&this.yellowBarIsVisible?(this.yellowBarIsVisible=!1,TweenMax.to(this.$bgHeader,.2,{y:-75,ease:Expo.easeOut,onComplete:function(){this.headerIsVisible=!1}.bind(this)}),TweenMax.set(this.$header,{background:"none",borderBottom:"none"})):r.scrollY<50&&!this.yellowBarIsVisible&&(this.yellowBarIsVisible=!0,TweenMax.to(this.$bgHeader,.2,{y:0,ease:Expo.easeOut,onComplete:function(){this.headerIsVisible=!0,n(this.$header).removeAttr("style")}.bind(this)}))),((r.isTouching||r.isScrolling||this.listHeaderBlock)&&this.footerBlock||this.isScrollTo)&&(this.calculateTriggers(),this.setCurrent(),s.prototype.onUpdate.call(this)))},l.prototype.setCurrent=function(){(r.isTouching||r.isScrolling||this.isScrolling)&&this.aTeamEls.each(function(t){var e=n(this.aTeamEls[t]),i=e.data("originalPosition"),s=e.data("originalHeight");if(i<=r.scrollY&&c.call(this,i,s)){if(this.currentIndexMenu===t)return;n(this.aTitles[this.currentIndexMenu]).removeClass("current"),n(this.aMenuItems[this.currentIndexMenu]).removeClass("current"),n(this.aTeamHeader[this.currentIndexMenu]).removeClass("current"),this.currentIndexMenu=t;var o=n(this.aTeamEls[t]).data("color");this.stickyCanvasView.triggerBlob(o),n(this.aTitles[this.currentIndexMenu]).addClass("current"),n(this.aMenuItems[this.currentIndexMenu]).addClass("current"),n(this.aTeamHeader[this.currentIndexMenu]).addClass("current")}}.bind(this))};var c=function(t,e){return t<=r.viewport.height+r.scrollY&&t+e>=r.scrollY};l.prototype.setStickyElements=function(t){if(r.isTouching||r.isScrolling||this.isScrolling||this.menuTop||t)if((!r.isMobile||"sml"!=r.breakpoint)&&r.scrollY>=r.viewport.height&&r.viewport.width>920||r.scrollY>=this.sideNavHeight+r.viewport.height&&(r.isMobile||"sml"===r.breakpoint)){(!r.isMobile||"sml"!=r.breakpoint)&&r.viewport.width>920?TweenMax.set(this.$sideNavEl,{position:"fixed",top:this.menuTop,bottom:"auto"}):n(this.$sideNavEl).removeAttr("style"),n(".page-header").addClass("active");var e=r.isMobile?38:0;if(TweenMax.set(this.$stickyHeaderEl,{position:"fixed",top:e,bottom:"auto",left:0,right:0}),this.footerBlock.visible){if("sml"===r.breakpoint)return;TweenMax.set(this.$stickyHeaderEl,{position:"absolute",top:"auto",bottom:this.lastTeamElementHeight-this.stickyHeaderheight}),TweenMax.set(this.$sideNavEl,{position:"absolute",top:"auto",bottom:this.menuTop})}else TweenMax.set(this.$stickyHeaderEl,{position:"fixed",top:e,bottom:"auto",left:0,right:0}),"default"===r.breakpoint&&r.viewport.width>920?TweenMax.set(this.$sideNavEl,{position:"fixed",top:this.menuTop,bottom:"auto"}):n(this.$sideNavEl).removeAttr("style")}else TweenMax.set(this.$stickyHeaderEl,{position:"absolute",top:0,bottom:"auto"}),"default"===r.breakpoint&&r.viewport.width>920?TweenMax.set(this.$sideNavEl,{position:"absolute",top:this.menuTop,bottom:"auto"}):n(this.$sideNavEl).removeAttr("style")},l.prototype.onClickMenu=function(t){t.preventDefault();var e=n(t.currentTarget).data("id");if(this.isScrolling=!0,"default"===r.breakpoint)i=n('[data-anchor="'+e+'"]')[0].offsetTop+this.listHeaderHeight+100;else var i=n('[data-anchor="'+e+'"]')[0].offsetTop+this.listHeaderHeight+100+this.sideNavHeight;TweenMax.to(window,.8,{scrollTo:i,ease:Expo.easeInOut,onUpdate:function(){r.scrollY=window.scrollY||window.pageYOffset,this.calculateTriggers(),this.setCurrent()}.bind(this),onComplete:function(){this.isScrolling=!1}.bind(this)})},l.prototype.onMouseEnterLink=function(t){var e=n(n(t.currentTarget).find("a"));TweenMax.set(e,{color:e.attr("data-color")})},l.prototype.onMouseLeaveLink=function(t){n(n(t.currentTarget).find("a")).removeAttr("style")},l.prototype.expandDropdown=function(t){t.preventDefault(),n(this.$sideNavEl).hasClass("active")?(n(this.$sideNavEl).removeClass("active"),TweenMax.to(this.$dropdownEl,.8,{height:0,ease:Expo.easeInOut})):(n(this.$sideNavEl).addClass("active"),TweenMax.to(this.$dropdownEl,.8,{height:this.dropDownHeight,ease:Expo.easeInOut}))},l.prototype.onResize=function(){this.listHeaderView.onResize(),this.calculateElHeights(),this.calculateTriggers(),this.setStickyElements(!0),this.stickyCanvasView&&this.stickyCanvasView.onResize(),s.prototype.onResize.call(this)},l.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=l}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(13),o=i(54),a=i(7),r=i(12),h=function(t,e){this.canUpdate=!0,this.$canvasElement=null,this.canvasMask=null,this.events={click:"onClickContent"},s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.initDOM=function(){this.$canvasElement=this.$el.find(".canvas"),this.$cover=this.$el.find(".cover"),this.$layer=this.$el.find(".layer"),this.$content=this.$el.find(".content"),s.prototype.initDOM.call(this)},h.prototype.onDOMInit=function(){this.canvasMask=new o({el:this.$canvasElement[0],mainView:this.options.mainView},null),this.canvasMask.init(),this.listenTo(this.canvasMask,a.JOIN_BLOB_CLICKED,n.proxy(l,this)),TweenMax.to(this.$content,.4,{opacity:1,ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$cover,.4,{opacity:1,ease:Expo.easeOut,delay:.15}),TweenMax.to(this.$layer,.4,{opacity:1,ease:Expo.easeOut,delay:.2}),TweenMax.to(this.$canvasElement,.4,{opacity:1,ease:Expo.easeOut,delay:.2}),s.prototype.onDOMInit.call(this)},h.prototype.onClickContent=function(t){this.canvasMask.mouseDown({x:t.clientX,y:t.clientY})};var l=function(t){TweenMax.to(window,.8,{scrollTo:r.viewport.height,ease:Expo.easeInOut,onUpdate:function(){this.options.mainView.onUpdate(),this.options.mainView.isScrollTo=!0}.bind(this),onComplete:function(){this.options.mainView.isScrollTo=!1}.bind(this)})};h.prototype.onResize=function(){this.canvasMask&&this.canvasMask.onResize(),s.prototype.onResize.call(this)},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(module,exports,__webpack_require__){(function(_,paper,$){var Blob=__webpack_require__(29),AbstractCanvasView=__webpack_require__(36),EVENT=__webpack_require__(7),CV=__webpack_require__(12);__webpack_require__(55);var ListHeaderCanvasView=function(t,e){this.paper=null,AbstractCanvasView.call(this,t,e)};_.extend(ListHeaderCanvasView,AbstractCanvasView),_.extend(ListHeaderCanvasView.prototype,AbstractCanvasView.prototype),ListHeaderCanvasView.prototype.init=function(){this.paper=new paper.PaperScope,this.paper.setup(this.options.el),this.itemsPosition=[],this.tool=new this.paper.Tool,this.mousePoint=new paper.Point(-500,-500),this.mainBlob=new Blob({scope:this,canvasView:this,bgColor:"#F1F1F1",position:{x:"window.innerWidth / 2",y:'(CV.breakpoint === "sml") ? window.innerHeight / 2 + 20 : window.innerHeight / 2'},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",size:{w:.9*CV.viewport.width,maxW:600},orbit:{h:2,w:2},divide:2,multiply:.2,typeID:"listHeaderMainBlob"}),this.joinBlob=new Blob({type:0,scope:this,canvasView:this,color:"#fef25c",position:{x:"this.paper.view.size.width / 2 + this.scope.mainBlob.path.bounds._width / 3",y:"this.paper.view.size.height / 2 + this.scope.mainBlob.path.bounds._height / 2"},size:{w:"window.innerWidth * .4",maxW:200},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",divide:2,multiply:.2,orbit:{h:2,w:2},text:{content:"Explore \n Openings",color:"#0b215a",position:{x:"this.path.bounds._x + this.path.bounds._width / 2",y:"this.path.bounds._y + this.path.bounds._height / 2"}},canTrigger:!0,canHover:!0,canClick:!0,goTo:".department-list-container",typeID:"listHeaderJoinBlob"}),this.itemsPosition[0]={name:"joinBlob",i:0,x:"sml"===CV.breakpoint?CV.viewport.width/2:CV.viewport.width/2+this.mainBlob.path.bounds._width/3,y:"sml"===CV.breakpoint?CV.viewport.height/2+this.mainBlob.path.bounds._height/2+20:CV.viewport.height/2+this.mainBlob.path.bounds._height/2,w:this.joinBlob.path.bounds._width,h:this.joinBlob.path.bounds._height},this.mainBlob.canAnimate=!0,this.joinBlob.canAnimate=!0,this.onResize(),AbstractCanvasView.prototype.init.call(this)},ListHeaderCanvasView.prototype.bindEvents=function(){this.listenTo(this.joinBlob,EVENT.JOIN_BLOB_CLICKED,$.proxy(_onExploreClicked,this)),this.tool.onMouseMove=function(t){this.mousePoint=t.lastPoint}.bind(this),this.paper.view.onFrame=function(t){this.animate(t)}.bind(this),AbstractCanvasView.prototype.bindEvents.call(this)};var _onExploreClicked=function(t){this.trigger(EVENT.JOIN_BLOB_CLICKED,{goto:t.goto})};ListHeaderCanvasView.prototype.mouseDown=function(t){"joinBlob"==this.isItem(t)&&(TweenMax.to(window,.8,{scrollTo:{y:"sml"===CV.breakpoint?CV.viewport.height+650:CV.viewport.height+20},ease:Expo.easeOut,onUpdate:function(){CV.scrollY=window.scrollY||window.pageYOffset}}),this.options.mainView.hideMenu())},ListHeaderCanvasView.prototype.animate=function(t){CV.isMobile||this.mainBlob.animate(t),CV.isMobile||this.joinBlob.animate(t),AbstractCanvasView.prototype.animate.call(this,t)},ListHeaderCanvasView.prototype.onResize=function(){if(!(CV.isMobile||CV.isTablet&&"safari"==Detectizr.browser.name)){this.mainBlob.canAnimate=!1,this.mainBlob.path.position.x=CV.viewport.width/2,this.mainBlob.path.position.y=CV.viewport.height/2,this.mainBlob.rectanglePath.bounds.width=CV.viewport.width,this.mainBlob.rectanglePath.bounds.height=CV.viewport.height;var t;t="sml"===CV.breakpoint&&window.matchMedia("(orientation: landscape)").matches?this.mainBlob.getScale({h:"window.innerHeight * .7"},this.mainBlob.path):this.mainBlob.getScale({w:"window.innerWidth * .9",maxW:600},this.mainBlob.path),this.mainBlob.path.scale(t),this.mainBlob.generateSettingsPoints(),this.joinBlob.path.position.x="sml"===CV.breakpoint?CV.viewport.width/2:CV.viewport.width/2+this.mainBlob.path.bounds._width/3,this.joinBlob.path.position.y="sml"===CV.breakpoint?CV.viewport.height/2+this.mainBlob.path.bounds._height/2+20:CV.viewport.height/2+this.mainBlob.path.bounds._height/2,this.joinBlob.text.position.x=this.joinBlob.path.position._x,this.joinBlob.text.position.y=this.joinBlob.path.position._y,this.itemsPosition[0]={name:"joinBlob",i:0,x:this.joinBlob.path.position.x,y:this.joinBlob.path.position.y,w:this.joinBlob.path.bounds._width,h:this.joinBlob.path.bounds._height},this.mainBlob.onResize(),this.joinBlob.onResize(),AbstractCanvasView.prototype.onResize.call(this)}},ListHeaderCanvasView.prototype.mouseMove=function(t){AbstractCanvasView.prototype.mouseMove.call(this,t)},ListHeaderCanvasView.prototype.isItem=function(p){var itemName=null,yItem,xItem,wItem,hItem;return _.each(this.itemsPosition,function(item){yItem=eval(item.y),xItem=eval(item.x),wItem=item.w/2,hItem=item.h/2,p.y>yItem-hItem&&p.y<yItem+hItem&&p.x>xItem-wItem&&p.x<xItem+wItem&&!itemName&&(this.currentItem=item,itemName=item.name)}.bind(this)),itemName},module.exports=ListHeaderCanvasView}).call(exports,__webpack_require__(3),__webpack_require__(26),__webpack_require__(1))},function(t,e){(function(e){var i=void 0!==t&&t.exports&&void 0!==e?e:this||window;(i._gsQueue||(i._gsQueue=[])).push(function(){"use strict";var t=document.documentElement,e=window,n=function(i,n){var s="x"===n?"Width":"Height",o="scroll"+s,a="client"+s,r=document.body;return i===e||i===t||i===r?Math.max(t[o],r[o])-(e["inner"+s]||t[a]||r[a]):i[o]-i["offset"+s]},s=i._gsDefine.plugin({propName:"scrollTo",API:2,version:"1.7.5",init:function(t,i,s){return this._wdw=t===e,this._target=t,this._tween=s,"object"!=typeof i&&(i={y:i}),this.vars=i,this._autoKill=!1!==i.autoKill,this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=i.x?(this._addTween(this,"x",this.x,"max"===i.x?n(t,"x"):i.x,"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=i.y?(this._addTween(this,"y",this.y,"max"===i.y?n(t,"y"):i.y,"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(t){this._super.setRatio.call(this,t);var i=this._wdw||!this.skipX?this.getX():this.xPrev,s=this._wdw||!this.skipY?this.getY():this.yPrev,o=s-this.yPrev,a=i-this.xPrev;this._autoKill&&(!this.skipX&&(a>7||a<-7)&&i<n(this._target,"x")&&(this.skipX=!0),!this.skipY&&(o>7||o<-7)&&s<n(this._target,"y")&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?e.scrollTo(this.skipX?i:this.x,this.skipY?s:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),o=s.prototype;s.max=n,o.getX=function(){return this._wdw?null!=e.pageXOffset?e.pageXOffset:null!=t.scrollLeft?t.scrollLeft:document.body.scrollLeft:this._target.scrollLeft},o.getY=function(){return this._wdw?null!=e.pageYOffset?e.pageYOffset:null!=t.scrollTop?t.scrollTop:document.body.scrollTop:this._target.scrollTop},o._kill=function(t){return t.scrollTo_x&&(this.skipX=!0),t.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,t)}}),i._gsDefine&&i._gsQueue.pop()()}).call(e,function(){return this}())},function(t,e,i){(function(e,n){var s=i(29),o=i(36),a=i(12),r=function(t,e){this.blobColor=t.blobColor?t.blobColor:"#05215a",this.paper=null,o.call(this,t,e)};e.extend(r,o),e.extend(r.prototype,o.prototype),r.prototype.init=function(){this.paper=new n.PaperScope,this.paper.setup(this.options.el),this.tool=new this.paper.Tool,this.mousePoint=new n.Point(-500,-500);var t="default"===a.breakpoint?-30:"(this.paper.view.size.height / 2) - (this.paper.view.size.height / 2 * 0.8)";this.mainBlob=new s({type:0,scope:this,canvasView:this,path:"M369,580.5C189.4,599.1,11,547,11,322.5C11,98,193.4,8.5,371.5,8.5S757,119.7,757,293.5C757,467.3,548.6,561.9,369,580.5z",color:this.blobColor,position:{x:a.isTablet&&a.viewport.width>760&&a.viewport.height>950||a.viewport.width>700&&a.viewport.height>700&&a.viewport.height<1e3?"this.paper.view.size.width / 2 - 40":"this.paper.view.size.width / 2 - 20",y:a.isTablet&&a.viewport.width>760&&a.viewport.height>950||a.viewport.width>700&&a.viewport.height>700&&a.viewport.height<1e3?-120:t},size:{w:"window.innerWidth",maxW:!a.isTablet&&a.viewport.width>760&&a.viewport.height>950?500:700},mouseForce:.4,orbit:{h:2,w:2},canHover:!1,typeID:"careerStickyBlob"}),this.mainBlob.canAnimate=!0,this.onResize(),o.prototype.init.call(this)},r.prototype.bindEvents=function(){this.tool.onMouseMove=function(t){this.mousePoint=t.lastPoint}.bind(this),this.paper.view.onFrame=function(t){this.animate(t)}.bind(this),o.prototype.bindEvents.call(this)},r.prototype.triggerBlob=function(t){this.mainBlob.triggerBlob(t)},r.prototype.animate=function(t){this.mainBlob.animate(t),o.prototype.animate.call(this,t)},r.prototype.onResize=function(){if(!a.isMobile){this.mainBlob.path.position.x=a.viewport.width<900?a.viewport.width/2-75:this.paper.view.size.width/2-20,this.mainBlob.path.position.y=a.viewport.width<900?-120:-80;t=this.mainBlob.getScale({w:700},this.mainBlob.path);return this.mainBlob.path.scale(t),void this.mainBlob.generateSettingsPoints()}if(a.isTablet&&a.viewport.width>760&&a.viewport.height>950||a.viewport.width>700&&a.viewport.height>700&&a.viewport.height<1e3){this.mainBlob.path.position.x=this.paper.view.size.width/2-120,this.mainBlob.path.position.y=-this.mainBlob.path.bounds._height/2-110;var t=this.mainBlob.getScale({w:a.viewport.width},this.mainBlob.path);return this.mainBlob.path.scale(t),void this.mainBlob.generateSettingsPoints()}!a.isMobile&&a.viewport.width<920&&-35<this.mainBlob.path.position.y&&this.mainBlob.path.position.y<-25&&(this.mainBlob.canAnimate=!1,this.mainBlob.path.position.y=-80,this.mainBlob.generateSettingsPoints()),o.prototype.onResize.call(this)},r.prototype.mouseMove=function(t){o.prototype.mouseMove.call(this,t)},t.exports=r}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(58),a=i(59),r=i(12),h=function(t,i){console.log("BlogView"),this.$canvasElement=null,this.canvasMask=null,this.events={"click .carouse-item":function(t){this.carousel.goToItem(e(t.currentTarget).attr("data-id"))},"click .explore-more":"onExploreMoreClicked"},s.call(this,t,i)};n.extend(h,s),n.extend(h.prototype,s.prototype),h.prototype.initDOM=function(){this.$carouselEl=this.$el.find(".full-bleed-container"),this.$canvasElement=this.$el.find(".canvas"),this.$btnExploreMore=this.$el.find(".explore-more"),this.$posts=this.$el.find(".post"),this.$header=e(".page-header"),r.mainView.setNormalScrollBehavior(),s.prototype.initDOM.call(this)},h.prototype.onDOMInit=function(){this.carousel=new o({el:this.$carouselEl,hasTimer:!0},null),this.carousel.init(),this.canvasMask=new a({el:this.$canvasElement[0]},null),this.canvasMask.init(),s.prototype.onDOMInit.call(this)},h.prototype.onExploreMoreClicked=function(){var t=0,i=0;n.each(this.$posts,function(n){!e(n).hasClass("hidden")||t>5||(e(n).removeClass("hidden"),t++,(i=this.$el.find(".grid .hidden").length)||e(this.$btnExploreMore).addClass("hidden"))}.bind(this))},h.prototype.onShown=function(){s.prototype.onShown.call(this)},h.prototype.onResize=function(){this.canvasMask&&this.canvasMask.onResize(),s.prototype.onResize.call(this)},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(1),i(3))},function(t,e,i){(function(e,n){var s=i(13),o=(i(7),i(12)),a=function(t,e){this.$carouselItems=null,this.currentIndex=0,this.previousIndex=0,this.timer=null,s.call(this,t,e)};e.extend(a,s),e.extend(a.prototype,s.prototype),a.prototype.initDOM=function(){this.$fullImages=this.$el.find(".full-bleed-image"),this.$contents=this.$el.find(".content-container"),this.$titles=this.$el.find("h1.text-content"),this.$paths=n(".path"),this.$subtitles=this.$el.find(".info"),this.$reads=this.$el.find("a.text-content"),this.$contentsText=[],this.$startTimer=this.startTimer(),e.each(this.$fullImages,function(t,e){if(this.$contentsText.push([this.$titles[e],this.$subtitles[e],this.$reads[e]]),0===e){var i=new Image,s=n(t).css("background"),o=s.split('"')[1];n(i).one("load",function(){n(t).css("background",s),n(t).addClass("active"),this.$startTimer}),i.src=o}}.bind(this));var t=this.currentIndex;this.pathTimer=TweenMax.to(this.$paths[t],7.5,{strokeDashoffset:0,ease:Linear.easeNone,onComplete:function(){TweenMax.to(this.$paths[t],.3,{strokeDashoffset:360,ease:Linear.easeNone})}.bind(this)}),s.prototype.initDOM.call(this)},a.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},a.prototype.goToItem=function(t){parseInt(t)!==this.currentIndex&&(this.stopTimer(),this.pathTimer.kill(),this.pathTimer=null,TweenMax.to(this.$paths[this.currentIndex],.3,{strokeDashoffset:360,ease:Linear.easeNone}),this.slidesManager(parseInt(t)))},a.prototype.startTimer=function(){this.timer=setTimeout(this.slidesManager.bind(this),7500)},a.prototype.stopTimer=function(){clearTimeout(this.timer),this.timer=null},a.prototype.onResize=function(){s.prototype.onResize.call(this)},a.prototype.slidesManager=function(t){this.previousIndex=this.currentIndex;var e=window.navigator.userAgent.indexOf("MSIE ");TweenMax.staggerTo(this.$contentsText[this.currentIndex],.3,{opacity:0,x:40,ease:Expo.easeOut},.05,function(){n(this.$contents[this.previousIndex]).removeClass("active"),n(this.$contents[this.currentIndex]).addClass("active")}.bind(this)),e>0||/Edge\/\d./i.test(navigator.userAgent)||o.isMobile||o.isTablet?TweenMax.set(this.$fullImages[this.currentIndex],{opacity:0,ease:Expo.easeOut}):TweenMax.to(this.$fullImages[this.currentIndex],.7,{opacity:0,ease:Expo.easeOut}),this.currentIndex=void 0!=t?t:this.currentIndex+1<this.$fullImages.length?this.currentIndex+1:0;var i=this.currentIndex;this.pathTimer=TweenMax.to(this.$paths[i],7.5,{strokeDashoffset:0,ease:Linear.easeNone,onComplete:function(){TweenMax.to(this.$paths[i],.3,{strokeDashoffset:360,ease:Linear.easeNone}),this.slidesManager()}.bind(this)}),TweenMax.staggerFromTo(this.$contentsText[this.currentIndex],.8,{opacity:0,x:-50},{opacity:1,x:0,ease:Expo.easeOut,delay:.6},.05),e>0||/Edge\/\d./i.test(navigator.userAgent)||o.isMobile||o.isTablet?TweenMax.fromTo(this.$fullImages[this.currentIndex],0,{opacity:0},{opacity:1}):TweenMax.fromTo(this.$fullImages[this.currentIndex],.7,{opacity:0},{opacity:1,ease:Expo.easeOut})},t.exports=a}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(29),o=i(36),a=i(12),r=function(t,e){this.paper=null,o.call(this,t,e)};e.extend(r,o),e.extend(r.prototype,o.prototype),r.prototype.init=function(){this.paper=new n.PaperScope,this.paper.setup(this.options.el),this.tool=new this.paper.Tool,this.mousePoint=new n.Point(-500,-500),this.mainBlob=new s({type:0,scope:this,canvasView:this,path:"M591.481,316.679C549.8,204.355,494.894,128.885,376.64,172.764c-94.6,35.1-203.841,139.532-172.583,223.773C266.575,565.025,401.8,530.625,472.729,504.306,590.98,460.429,633.159,429,591.481,316.679Z",color:"#ffffff",position:{x:"sml"===a.breakpoint?a.viewport.width/2:.15*a.viewport.width+130,y:"sml"===a.breakpoint?.35*a.viewport.height:320},size:{w:450},typeID:"blogHomeHeaderBlob"}),this.mainBlob.canAnimate=!0,o.prototype.init.call(this)},r.prototype.bindEvents=function(){o.prototype.bindEvents.call(this)},r.prototype.animate=function(t){this.mainBlob.animate(t),o.prototype.animate.call(this,t)},r.prototype.onResize=function(){this.mainBlob.path.position.x="sml"===a.breakpoint?a.viewport.width/2:.12*a.viewport.width+this.mainBlob.path.bounds._width/3,this.mainBlob.path.position.y="sml"===a.breakpoint?270:320,console.log(a.viewport.width,this.mainBlob.path.position.x),this.mainBlob.onResize(),o.prototype.onResize.call(this)},r.prototype.mouseMove=function(t){o.prototype.mouseMove.call(this,t)},t.exports=r}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(12),a=function(t,e){this.menuIsVisible=!0,this.events={"click .button-comments":"showHideComments","submit #commentform":"onCommentSubmit"},s.call(this,t,e)};e.extend(a,s),e.extend(a.prototype,s.prototype),a.prototype.initDOM=function(){this.$searchContent=this.$el.find(".search-form"),this.$btnClose=this.$el.find(".button-comments .close"),this.$btnOpen=this.$el.find(".button-comments .open"),this.$comments=this.$el.find("#comments_wrapper"),this.$menu=this.$el.find(".content-menu"),this.$titleComment=this.$el.find(".comments h3#comments"),this.$containersComments=this.$el.find(".comments .commentlist"),this.$comment=this.$el.find(".comments .commentlist li div"),this.$respondTitle=this.$el.find("h3#reply-title"),this.$formTitle=this.$el.find("form .comment-notes"),this.$formComment=this.$el.find("form .comment-form-comment"),this.$formAuthor=this.$el.find("form .comment-form-author"),this.$formEmail=this.$el.find("form .comment-form-email"),this.$formUrl=this.$el.find("form .comment-form-url"),this.$containerTopImg=this.$el.find(".full-bleed-container"),this.$header=n(".page-header"),this.hContainerTopImg=n(this.$containerTopImg).height(),this.commentsHeight=n(this.$comments).height(),this.$els=[this.$titleComment,this.$containersComments,this.$comment,this.$respondTitle,this.$formTitle,this.$formComment,this.$formAuthor,this.$formEmail,this.$formUrl],this.durationAnimation=0,this.commentsAreVisible=!0,e.each(this.$els,function(t){this.durationAnimation=this.durationAnimation+t.length}.bind(this)),this.oneElAnim=.3,this.delayBehindEl=.05,this.durationAnimation=this.oneElAnim*this.durationAnimation+this.delayBehindEl*this.durationAnimation,o.mainView.setNormalScrollBehavior(),TweenMax.set(this.$comments,{height:0}),s.prototype.initDOM.call(this)},a.prototype.onDOMInit=function(){this.showHideComments(),s.prototype.onDOMInit.call(this)},a.prototype.showHideComments=function(){this.isAnimating||(this.isAnimating=!0,this.commentsAreVisible?(TweenMax.staggerTo(this.$els,.5,{opacity:0,ease:Expo.easeOut},.1),TweenMax.fromTo(this.$btnClose,.35,{opacity:0,top:15},{opacity:1,top:0,delay:.05,ease:Expo.easeOut}),TweenMax.to(this.$btnOpen,.35,{top:5,opacity:0,ease:Expo.easeOut}),TweenMax.to(this.$comments,1,{height:0,ease:Expo.easeOut,onComplete:function(){this.commentsAreVisible=!1,this.isAnimating=!1}.bind(this)})):(TweenMax.fromTo(this.$btnOpen,.35,{opacity:0,top:35},{opacity:1,top:20,delay:.05,ease:Expo.easeOut}),TweenMax.to(this.$btnClose,.35,{top:-15,opacity:0,ease:Expo.easeOut}),TweenMax.staggerFromTo(this.$els,.5,{opacity:0},{opacity:1,ease:Expo.easeOut},.1),TweenMax.to(this.$comments,1,{height:this.commentsHeight,ease:Expo.easeOut,onComplete:function(){this.commentsAreVisible=!0,this.isAnimating=!1}.bind(this)})),s.prototype.onShown.call(this))},a.prototype.onCommentSubmit=function(){ga&&ga("send","event","Blog","[Blog] Post Comment")},a.prototype.onShown=function(){s.prototype.onShown.call(this)},a.prototype.onResize=function(){s.prototype.onResize.call(this)},a.prototype.onUpdate=function(){o.scrollY>this.hContainerTopImg/2&&this.menuIsVisible?(this.menuIsVisible=!1,TweenMax.to(this.options.mainAppView.headerView.$menu,.3,{top:-70,ease:Expo.easeOut}),TweenMax.fromTo(this.options.mainAppView.headerView.$articleTitleContent,.3,{top:100,delay:.05},{top:0,ease:Expo.easeOut})):!this.menuIsVisible&&o.scrollY<this.hContainerTopImg/2&&(this.menuIsVisible=!0,TweenMax.to(this.options.mainAppView.headerView.$menu,.3,{top:0,delay:.05,ease:Expo.easeOut}),TweenMax.to(this.options.mainAppView.headerView.$articleTitleContent,.3,{top:100,ease:Expo.easeOut}))},a.prototype.managerSearchField=function(){this.searchIsVisible?(n(this.$header).removeClass("border"),TweenMax.to(this.$searchContent,1,{y:"-100%",ease:Expo.easeOut})):(n(this.$header).addClass("border"),TweenMax.to(this.$searchContent,.9,{y:"0%",ease:Expo.easeOut})),this.searchIsVisible=!this.searchIsVisible},a.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=a}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(11),o=i(12),a=function(t,e){this.events={"click .explore-more":"onExploreMoreClicked"},s.call(this,t,e)};e.extend(a,s),e.extend(a.prototype,s.prototype),a.prototype.initDOM=function(){this.$searchContent=this.$el.find(".search-form"),this.$btnExploreMore=this.$el.find(".explore-more"),this.$posts=this.$el.find(".post"),this.$header=n(".page-header"),o.mainView.setNormalScrollBehavior(),s.prototype.initDOM.call(this)},a.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},a.prototype.managerSearchField=function(){this.searchIsVisible?(n(this.$header).removeClass("border"),TweenMax.to(this.$searchContent,1,{y:"-100%",ease:Expo.easeOut})):(n(this.$header).addClass("border"),TweenMax.to(this.$searchContent,.9,{y:"0%",ease:Expo.easeOut})),this.searchIsVisible=!this.searchIsVisible},a.prototype.onExploreMoreClicked=function(){var t=0,i=0;e.each(this.$posts,function(e){!n(e).hasClass("hidden")||t>5||(n(e).removeClass("hidden"),t++,(i=this.$el.find(".grid .hidden").length)||n(this.$btnExploreMore).addClass("hidden"))}.bind(this))},a.prototype.onResize=function(){s.prototype.onResize.call(this)},a.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=a}).call(e,i(3),i(1))},function(t,e,i){(function(e){var n=i(11),s=function(t,e){console.log("/************ FOUR O FOUR ***********/"),n.call(this,t,e)};e.extend(s,n),e.extend(s.prototype,n.prototype),s.prototype.initDOM=function(){n.prototype.initDOM.call(this)},s.prototype.setupDOM=function(){n.prototype.setupDOM.call(this)},s.prototype.onDOMInit=function(){n.prototype.onDOMInit.call(this)},s.prototype.onShown=function(){n.prototype.onShown.call(this)},s.prototype.onResize=function(){n.prototype.onResize.call(this)},s.prototype.dispose=function(){n.prototype.dispose.call(this)},t.exports=s}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(11),o=i(12),a=i(21),r=i(7),h=i(22),l=(i(55),i(64)),c=i(66),u=i(67),p=i(69),d=i(71),f=i(72),m=i(73),g=i(74),v=i(76),y=i(78),_=i(80),w=i(82),b=i(84),x=function(t,e){this.canUpdate=!0,this.ease=0,this.articles=[],this.views={start:l,calendar:p,patient:d,clients:w,market:c,intro:u,percentage:f,loyalty:m,smart:g,stars:v,series:y,contact:_},o.blockIsAnimating=!0,this.showIsAnimating=!1,this.currentBlockIndex=0,this.currentStepIndex=-1,this.isViewShown=!1,this.isCanvasShown=!1,this.bothAreShown=!1,this.currentTimestamp=null,this.startY=null,this.lastDeltaY=null,this.isDragging=null,this.menuClick=!1,this.isLoaded=!1,this.isIframeInit=!1,this.blockScroll=!1,this.assetsAreLoaded=this.assetsAreLoaded.bind(this),window.healthPage=this,s.call(this,t,e)};e.extend(x,s),e.extend(x.prototype,s.prototype),x.prototype.initDOM=function(){this.$body=n("body"),this.$html=n("html"),this.$bodyHtml=n("body,html"),this.$footer=n("#page-footer"),this.$articles=this.$el.find("article"),this.$overlay=n(".overlay-bg"),this.$svgFace=this.$el.find(".zeeface-svg"),this.$canvas=this.$el.find("#main-canvas")[0],this.$iFrameContainer=this.$el.find(".iframe-container .wrapper"),this.$pardotOverlay=this.$el.find(".pardot-overlay"),this.$btnOverlayClose=this.$iFrameContainer.find(".btn-close"),this.$btnContact=this.$el.find(".hs-btn-contact"),this.$btnContactHeader=n(".hs-header-btn-contact");for(var t=0;t<this.$btnContact.length;t++)this.$btnContact[t].addEventListener("click",n.proxy(this.showPardotOverlay,this),!1);this.$btnContactHeader[0].addEventListener("click",n.proxy(this.showPardotOverlay,this),!1),this.$btnOverlayClose[0].addEventListener("click",n.proxy(this.hidePardotOverlay,this),!1),TweenMax.to(window,.1,{scrollTo:0}),s.prototype.initDOM.call(this)},x.prototype.onDOMInit=function(){this.initLoader(),o.mainView.setNormalScrollBehavior(!1),a.isDevMode||TweenMax.set(this.$el.find(".loader"),{display:"block"}),this.mainCanvasView=new b({el:this.$canvas},null),this.mainCanvasView.init();var t,i,h,l,c,u=0;e.each(this.$articles,function(s,o){h=n(s),t=h.attr("class").split(" ")[0],l=h[0].getBoundingClientRect(),c=h.height(),(i=new this.views[t]({el:s,mainCanvasView:this.mainCanvasView,mainView:this},null)).init(),i.canScroll&&(u=0,e.each(n("."+t+" .scroll-content"),function(t){u+=n(t).height()}.bind(this)),c=u),this.listenTo(i,r.BLOCK_SHOWN,A.bind(this)),this.listenTo(i,r.BLOCK_HIDDEN,C.bind(this)),this.listenTo(i,r.CANVAS_SHOWN,O.bind(this)),this.listenTo(i,r.CANVAS_HIDDEN,S.bind(this)),this.articles[o]={name:t,class:i,height:c,bdr:l,top:l.top}}.bind(this)),this.createIframe(),s.prototype.onDOMInit.call(this)},x.prototype.createIframe=function(){var t=window.location.search,e=document.createElement("iframe");e.setAttribute("src","https://go.pardot.com/l/45052/2016-10-25/8bh21p"+t),e.setAttribute("width","100%"),e.setAttribute("height",500),e.setAttribute("type","text/html"),e.setAttribute("frameborder",0),e.setAttribute("allowTransparency","true"),e.style.border="0",n(this.$iFrameContainer).append(e),this.isIframeInit=!0},x.prototype.showPardotOverlay=function(){this.isIframeInit&&(document.location="https://www.zocdoc.com/join/Start")},x.prototype.hidePardotOverlay=function(){this.isIframeInit&&(o.overlayActive=!1,this.blockScroll=!1,n(this.$pardotOverlay).removeClass("active"))},x.prototype.initLoader=function(){this.loader=new h([{path:"sprites-calendar-0",name:"calendar_",format:".png",first:0,end:77},{path:"sprites-calendar-1",name:"calendar_",format:".png",first:113,end:146},{path:"sprites-calendar-2",name:"calendar_",format:".png",first:187,end:229},{path:"sprites-zeeface",name:"Zsmile_",format:".png",first:39,end:95}],this.assetsAreLoaded.bind(this))},x.prototype.assetsAreLoaded=function(t){this.articles[0]&&(this.articles[0].class.isLoaded=!0,this.articles[0].class.animateZee(),o.scrollYDirection="UP",setTimeout(function(){this.$overlay.css({display:"none",visibility:"none",opacity:0})}.bind(this),10))},x.prototype.onMenuClicked=function(t,i){this.stepIsAnimating||o.blockIsAnimating||this.menuClick||(e.each(this.articles,function(t,e){i==t.name&&(this.menuIndex=e)}.bind(this)),this.menuIndex!=this.currentMenuIndex&&(this.currentMenuIndex=this.menuIndex,this.menuClick=!0,T.call(this)))},x.prototype.updateMenu=function(){if(!(this.stepIsAnimating||o.blockIsAnimating||this.menuClick)){var t;e.each(this.articles,function(e,i){this.options.mainAppView.headerView.targetMenu==e.name&&(t=i)}.bind(this)),t>=this.currentBlockIndex&&this.options.mainAppView.headerView.indexMenu>0?(this.currentMenuIndex=this.options.mainAppView.headerView.indexMenu-1,this.options.mainAppView.headerView.updatedMenuItems(this.options.mainAppView.headerView.indexMenu-1)):e.each(this.options.mainAppView.headerView.targets,function(t,e){if(t==this.articles[this.currentBlockIndex].name)return this.currentMenuIndex=e,void this.options.mainAppView.headerView.updatedMenuItems(e)}.bind(this))}},x.prototype.onTouchStart=function(){o.scrollYDirection=null,this.currentTimestamp=Date.now(),this.startY=o.touch.startY},x.prototype.onTouchMove=function(t){this.lastDeltaY=this.startY-(o.touch.startY-o.touch.deltaY),o.scrollYDirection=this.lastDeltaY<0?"DOWN":"UP",this.isDragging=!0},x.prototype.onTouchEnd=function(){this.isDragging=!1,this.startY=0;var t=Date.now()-this.currentTimestamp,e=Math.abs(this.lastDeltaY);t>75&&e>75&&(this.onScroll(),t=0,e=0),this.lastDeltaY=0},x.prototype.onKeyDown=function(t){38!==t.keyCode&&40!==t.keyCode||(o.scrollYDirection=38===t.keyCode?"DOWN":"UP",this.onScroll())},x.prototype.onScroll=function(){this.articles[this.currentBlockIndex]&&!o.blockIsAnimating&&this.bothAreShown&&!this.blockScroll&&(Math.abs(o.scrollDeltaY)<50&&!o.isMobile&&"firefox"!=Detectizr.browser.name&&"safari"!=Detectizr.browser.name||this.articles[this.currentBlockIndex].class.canScroll&&"UP"===o.scrollYDirection&&o.scrollY+o.viewport.height<this.articles[this.currentBlockIndex].class.hBlock-10||this.articles[this.currentBlockIndex].class.canScroll&&"DOWN"===o.scrollYDirection&&o.scrollY>50||0===this.currentBlockIndex&&"DOWN"===o.scrollYDirection||this.currentBlockIndex>this.articles.length-2&&"UP"===o.scrollYDirection||o.blockIsAnimating||this.showIsAnimating||this.stepIsAnimating||(this.articles[this.currentBlockIndex].class.steps&&this.currentStepIndex<=this.articles[this.currentBlockIndex].class.steps?this.updateStepIndex():(this.currentScrollDirection=o.scrollYDirection,T.call(this))))},x.prototype.updateStepIndex=function(){if(!this.stepIsAnimating&&!o.blockIsAnimating){this.stepIsAnimating=!0,o.blockIsAnimating=!0;var t="DOWN"===o.scrollYDirection?0:1;if(this.articles[this.currentBlockIndex].class.stepsAnimation[this.currentStepIndex+t]&&this.currentStepIndex+t<=this.articles[this.currentBlockIndex].class.steps){var e=this.currentStepIndex+t;-1!=e?this.articles[this.currentBlockIndex].class.manageSteps(e,function(){0==t?this.currentStepIndex-=1:this.currentStepIndex=e,this.articles[this.currentBlockIndex].class.currentStep=this.currentStepIndex,this.stepIsAnimating=!1,o.blockIsAnimating=!1,"DOWN"==o.scrollYDirection&&-1==this.currentStepIndex&&T.call(this)}.bind(this)):(this.currentScrollDirection=o.scrollYDirection,this.stepIsAnimating=!1,o.blockIsAnimating=!1,this.currentStepIndex=-1,T.call(this))}else this.currentScrollDirection=o.scrollYDirection,this.stepIsAnimating=!1,o.blockIsAnimating=!1,this.currentStepIndex=-1,T.call(this)}};var T=function(){o.blockIsAnimating=!0,this.articles[this.currentBlockIndex].class.hide()},C=function(){this.isViewShown=!1,this.isViewShown||this.isCanvasShown||(this.bothAreShown=!1,o.blockIsAnimating=!1,this.updateBlockIndex())},S=function(){this.isCanvasShown=!1,this.isViewShown||this.isCanvasShown||this.isAnimating||(this.bothAreShown=!1,o.blockIsAnimating=!1,this.updateBlockIndex())};x.prototype.updateBlockIndex=function(){o.blockIsAnimating||this.showIsAnimating||this.stepIsAnimating||(this.menuClick?this.currentBlockIndex=this.menuIndex:(this.currentBlockIndex="DOWN"===o.scrollYDirection?this.currentBlockIndex-1:this.currentBlockIndex+1,this.currentBlockIndex<0&&(this.currentBlockIndex=0),this.currentBlockIndex==this.articles.length&&(this.currentBlockIndex=this.articles.length-2),this.updateMenu()),M.call(this))};var M=function(){o.blockIsAnimating||this.showIsAnimating||this.stepIsAnimating||(o.blockIsAnimating=!0,this.showIsAnimating=!0,this.onMenuClicked(),this.articles[this.currentBlockIndex].class.show())},A=function(){this.currentStepIndex=-1,this.stepIsAnimating=!1,this.isViewShown=!0,o.blockIsAnimating=!1,this.showIsAnimating=!1,this.menuClick=!1,this.isViewShown&&this.isCanvasShown&&(this.bothAreShown=!0)},O=function(){this.isCanvasShown=!0,this.isViewShown&&this.isCanvasShown&&(this.bothAreShown=!0,o.blockIsAnimating=!1)};x.prototype.goToNextSection=function(){o.blockIsAnimating||this.showIsAnimating||this.stepIsAnimating||(o.scrollDeltaY=60,o.scrollY=60,o.scrollYDirection="UP",this.onScroll())},x.prototype.goToPreviousSection=function(){o.blockIsAnimating||this.showIsAnimating||this.stepIsAnimating||(o.scrollDeltaY=60,o.scrollY=60,o.scrollYDirection="DOWN",this.onScroll())},x.prototype.onResize=function(){o.isMobile||(this.mainCanvasView&&this.mainCanvasView.onResize(),e.each(this.articles,function(t){t.class.onResize()}),s.prototype.onResize.call(this))},x.prototype.dispose=function(){s.prototype.dispose.call(this)},x.prototype.onUpdate=function(){this.articles&&this.articles[this.currentBlockIndex]&&o.isScrolling&&this.articles[this.currentBlockIndex].class.canUpdate&&this.articles[this.currentBlockIndex].class.onUpdate()},t.exports=x}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(12),r=i(65),h=function(t,e){this.hasBeenPlayed=!1,this.id="start",this.events={"click .scroll-cta":function(){t.mainView.goToNextSection()}.bind(this)},s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.init=function(){this.options.mainCanvasView.register(this.id,new r({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.start,o.CANVAS_SHOWN,l.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.start,o.CANVAS_HIDDEN,c.bind(this)),s.prototype.init.call(this)},h.prototype.initDOM=function(){this.$title=this.$el.find("h1"),this.$textCTA=this.$el.find(".scroll-cta p"),this.$arrowCTA=this.$el.find(".arrow"),this.$headerNavigation=n(".page-header .navigation"),s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),s.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.3,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0),this.TL.show.fromTo(this.$title,.6,{opacity:0,y:20},{y:0,opacity:1,ease:Expo.easeOut},.25),this.TL.show.fromTo(this.$textCTA,.6,{opacity:0,y:20},{y:0,opacity:1,ease:Expo.easeOut},.3),this.TL.show.fromTo(this.$arrowCTA,.6,{opacity:0,y:20},{y:0,opacity:1,ease:Expo.easeOut},.35)},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.isShown=!0,this.animateArrow(),this.startIsAnimate=!1,this.options.mainCanvasView.aCanvasAnimViews.start.isShown=!0,this.trigger(o.BLOCK_SHOWN),s.prototype.onShown.call(this)};var l=function(){this.trigger(o.CANVAS_SHOWN)};h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},0),this.TL.hide.to(this.$title,.6,{opacity:0,y:-20,ease:Expo.easeOut},.2),this.TL.hide.to(this.$textCTA,.6,{opacity:0,y:-20,ease:Expo.easeOut},.25),this.TL.hide.to(this.$arrowCTA,.6,{opacity:0,y:-20,ease:Expo.easeOut},.3)},h.prototype.onHidden=function(){this.trigger(o.BLOCK_HIDDEN),TweenMax.set(this.options.mainView.$canvas,{background:"none"}),this.isShown=!1,this.options.mainCanvasView.aCanvasAnimViews.start.isShown=!1,s.prototype.onHidden.call(this)};var c=function(){this.trigger(o.CANVAS_HIDDEN)};h.prototype.animateZee=function(){this.options.mainCanvasView.aCanvasAnimViews.start.generateImages(this.options.mainView.loader.assetsImages[3],this.options.mainCanvasView.aCanvasAnimViews.start.rastersLoader,0,function(){this.options.mainCanvasView.aCanvasAnimViews.start.manageStep(-1,"Loader",0,function(){this.options.mainCanvasView.aCanvasAnimViews.start.hideZee(function(){this.show()}.bind(this))}.bind(this))}.bind(this))},h.prototype.show=function(){this.isLoaded&&this.TL&&this.TL.show&&!this.isShown&&!this.startIsAnimate&&(this.startIsAnimate=!0,TweenMax.set(this.options.mainView.$canvas,{background:"#f1f1f9"}),this.TL.show.play(0),"default"===a.breakpoint&&this.menuIsFixed&&(this.menuIsFixed=!1,TweenMax.to(this.$headerNavigation,.4,{y:0,ease:Expo.easeOut})),this.options.mainCanvasView.showCanvas(this.id))},h.prototype.hide=function(){"default"!==a.breakpoint||this.menuIsFixed||(this.menuIsFixed=!0,TweenMax.to(this.$headerNavigation,.4,{y:-64,ease:Expo.easeOut})),this.TL.hide.play(0),this.options.mainCanvasView.hideCanvas(this.id)},h.prototype.animateArrow=function(){TweenMax.fromTo(this.$arrowCTA,.6,{y:0},{y:5,ease:Power4.easeNone,repeat:-1,yoyo:!0})},h.prototype.onResize=function(){"default"!==a.breakpoint||this.menuIsFixed||this.isShown?"sml"===a.breakpoint&&(this.menuIsFixed=!1,TweenMax.set(this.$headerNavigation,{y:0})):(this.menuIsFixed=!0,TweenMax.set(this.$headerNavigation,{y:-64})),s.prototype.onResize.call(this)},h.prototype.onUpdate=function(){},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(29),o=i(13),a=i(7),r=i(23),h=i(12),l=function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.isAnimating=!1,this.indexLoader=0,this.rasters=[],this.isShown=!1,this.name="startCanvas",this.scale=h.isMobile?640/h.viewport.height*.3:640/h.viewport.height*.7,o.call(this,t,e)};e.extend(l,o),e.extend(l.prototype,o.prototype),l.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.itemsPosition=[],this.mainBlob=new s({scope:this,canvasView:this.mainCanvasView,color:"#fa6876",position:{x:"CV.viewport.width / 2",y:"CV.viewport.height / 2"},size:{w:"CV.viewport.width * 4",maxW:"CV.viewport.height * 4"},path:"M769.5,338.7c0-93.6-12.2-175.5-55.1-234S598.1,11,475.7,11c-97.9,0-214.2,23.4-306,64.4S10.5,174.8,10.5,245c0,140.4,67.3,216.4,153,257.3S353.3,549,426.7,549c122.4,0,208.1-5.8,263.2-35C745,484.9,769.5,432.3,769.5,338.7z",orbit:{h:2,w:2},rotate:135}),this.rastersLoader=[],o.prototype.init.call(this)},l.prototype.initTL=function(){this.initTLShow(),o.prototype.initTL.call(this)},l.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)});var t={width:this.mainBlob.path.bounds._width,x:this.mainBlob.path.position.x,y:this.mainBlob.path.position.y,color:r.rgbToHex(255*this.mainBlob.path.fillColor.red,255*this.mainBlob.path.fillColor.green,255*this.mainBlob.path.fillColor.blue),opacity:this.mainBlob.path.opacity};if(h.viewport.width>1500)e=450;else if(h.viewport.width<1500&&h.viewport.width>922)e=350;else var e=250;this.TL.show.to(t,.8,{width:e,x:h.viewport.width/2,y:h.viewport.height/2,color:"#fa6876",opacity:1,onUpdate:function(){var e=this.mainBlob.getScale({w:t.width},this.mainBlob.path);this.mainBlob.path.scale(e),this.mainBlob.path.fillColor=t.color,this.mainBlob.path.position.y=t.y,this.mainBlob.path.position.x=t.x,this.mainBlob.path.opacity=t.opacity}.bind(this),ease:Power4.easeOut},0)},l.prototype.show=function(){this.TL.show&&this.killTL("show"),this.initTLShow(),this.mainBlob.canAnimate=!1,TweenMax.set(this.mainView.$canvas,{zIndex:2}),this.isAnimating||this.TL.show&&this.TL.show.play(0)},l.prototype.onShown=function(){this.mainBlob.generateSettingsPoints(),this.canAnimate=!0,this.mainBlob.canAnimate=!0,this.isAnimating=!1,this.isShown=!0,this.trigger(a.CANVAS_SHOWN)},l.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)});var t={width:this.mainBlob.path.bounds._width};this.TL.hide.to(t,.7,{width:4*h.viewport.width,ease:Power4.easeInOut,onUpdate:function(){var e=this.mainBlob.getScale({w:t.width},this.mainBlob.path);this.mainBlob.path.scale(e)}.bind(this)})},l.prototype.hide=function(){this.TL.hide&&this.killTL("hide"),this.initTLHide(),this.isAnimating||(this.mainBlob.canAnimate=!1,this.TL.hide&&this.TL.hide.play(0))},l.prototype.onHidden=function(){this.mainBlob.generateSettingsPoints(),this.isShown=!1,this.trigger(a.CANVAS_HIDDEN)},l.prototype.onResize=function(){if(this.isShown){if(this.mainBlob.onResize(),h.viewport.width>1500)t=this.mainBlob.getScale({w:450},this.mainBlob.path);else if(h.viewport.width<1500&&h.viewport.width>922)t=this.mainBlob.getScale({w:350},this.mainBlob.path);else var t=this.mainBlob.getScale({w:250},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.x=h.viewport.width/2,this.mainBlob.path.position.y=h.viewport.height/2}},l.prototype.hideZee=function(t){var e={opacity:1,width:640/h.viewport.height/2};TweenMax.to(e,.3,{opacity:0,width:320/window.innerHeight/2,delay:.1,onUpdate:function(){this.rastersLoader[this.rastersLoader.length-1].opacity=e.opacity}.bind(this),onComplete:function(){t()}.bind(this)})},l.prototype.manageStep=function(t,e,i,n){this.rasterStep=this["rasters"+e],this["index"+e]=this["index"+e]-t,this.indexStep=this["index"+e],this.rasterStep[this.indexStep].visible=!0,this.rasterStep[this.indexStep+t]&&(this.rasterStep[this.indexStep+t].visible=!1),this.indexStep<this.rasterStep.length-1&&this.indexStep>0?setTimeout(function(){this.manageStep(t,e,i,n)}.bind(this),25):n()},l.prototype.generateImages=function(t,i,s,o){var a;this.rasters.push(e.each(t,function(t){(a=new n.Raster(t)).visible=!1,a.position=new n.Point(this.paper.view.size.width/2,this.paper.view.size.height/2+s),a.scale(this.scale),i.push(a)}.bind(this))),o()},l.prototype.animate=function(t){this.canAnimate&&this.mainBlob.animate(t)},t.exports=l}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(12),r=function(t,e){this.hasBeenPlayed=!1,this.steps=a.isMobile?1:2,this.currentStep=-1,s.call(this,t,e)};e.extend(r,s),e.extend(r.prototype,s.prototype),r.prototype.initDOM=function(){this.$topLeft=this.$el.find(".top-left"),this.$topRight=this.$el.find(".top-right"),this.$bottomLeft=this.$el.find(".bottom-left"),this.$bottomRight=this.$el.find(".bottom-right"),this.$bottomSLeft=this.$el.find(".bottom-left-second"),this.$bottomSRight=this.$el.find(".bottom-right-second"),a.isMobile&&(this.els=[this.$topLeft,this.$topRight,this.$bottomLeft,this.$bottomRight,this.$bottomSLeft,this.$bottomSRight],TweenMax.set(this.els,{rotation:-30})),this.$titles=this.$el.find("h2"),this.$texts=this.$el.find("p"),this.$button=this.$el.find("button"),this.$contentBlocks=this.$el.find(".content"),a.isMobile?this.stepsAnimation=[this.step.bind(this)]:this.stepsAnimation=[this.firstStep.bind(this),this.secondStep.bind(this),this.thirdStep.bind(this)],s.prototype.initDOM.call(this)},r.prototype.setupDOM=function(){TweenMax.set(this.$el,{y:"100%",display:"none"}),s.prototype.setupDOM.call(this)},r.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},r.prototype.initTLShow=function(){},r.prototype.initTLHide=function(){},r.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(o.BLOCK_SHOWN),this.trigger(o.CANVAS_SHOWN),TweenMax.set(this.options.mainView.$canvas,{zIndex:2}),s.prototype.onShown.call(this)},r.prototype.onHidden=function(){this.trigger(o.BLOCK_HIDDEN),this.trigger(o.CANVAS_HIDDEN),s.prototype.onHidden.call(this)},r.prototype.show=function(){this.isAnimating=!0,this.stepIsActive=!1,a.isMobile?(TweenMax.set(this.$el,{display:"flex"}),TweenMax.fromTo(this.$el,.7,{y:"100%"},{y:"0%",display:"flex",ease:Expo.easeOut}),TweenMax.set(this.$titles[1],{y:100,opacity:0}),TweenMax.set(this.$texts[1],{y:100,opacity:0}),TweenMax.set(this.$button,{y:100,opacity:0}),n(this.$bottomSLeft).removeAttr("style"),n(this.$bottomSRight).removeAttr("style"),TweenMax.fromTo(this.$topLeft,.8,{top:"-60%"},{top:"2.5%",rotate:"-30deg",ease:Expo.easeOut,delay:.1}),TweenMax.fromTo(this.$topRight,.9,{top:"-70%"},{top:"4%",rotate:"-30deg",delay:.15,ease:Expo.easeOut}),TweenMax.fromTo(this.$bottomLeft,1.4,{top:"130%"},{top:"85%",delay:.25,ease:Expo.easeOut}),TweenMax.fromTo(this.$bottomRight,1.3,{top:"100%"},{top:"75%",delay:.2,ease:Expo.easeOut,onComplete:function(){this.onShown(),this.isAnimating=!1}.bind(this)}),TweenMax.to(this.$button[0],.5,{y:0,opacity:1,display:"block",ease:Expo.easeOut}),TweenMax.fromTo(this.$titles[0],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.2,ease:Expo.easeOut}),TweenMax.fromTo(this.$texts[0],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.25,ease:Expo.easeOut})):(TweenMax.fromTo(this.$el,.15,{y:"100%",display:"flex"},{y:"0%",display:"flex",ease:Expo.easeOut}),TweenMax.set([this.$titles,this.$texts,this.$button],{y:100,opacity:0,display:"none"}),n(this.$bottomSRight).removeAttr("style"),n(this.$bottomSLeft).removeAttr("style"),TweenMax.fromTo(this.$topLeft,.9,{top:"100%",left:"-5%"},{top:"42%",ease:Expo.easeOut}),TweenMax.fromTo(this.$topRight,.7,{top:"100%"},{top:"10%",delay:.1,ease:Expo.easeOut,onComplete:function(){this.onShown(),this.isAnimating=!1}.bind(this)}))},r.prototype.hide=function(){this.onHidden(),"DOWN"==a.scrollYDirection?TweenMax.to(this.$el,.7,{y:"100%",display:"none",ease:Expo.easeOut}):TweenMax.to(this.$el,.7,{y:"-100%",ease:Expo.easeOut})},r.prototype.manageSteps=function(t,e){this.stepsAnimation[t](e,t)},r.prototype.firstStep=function(t,e){this.isAnimating||(this.isAnimating=!0,this.isFirstStep?(TweenMax.to(this.$bottomLeft,1.4,{top:"100%",ease:Expo.easeOut}),TweenMax.to(this.$bottomRight,1.3,{top:"100%",ease:Expo.easeOut}),TweenMax.to(this.$titles[0],.5,{y:100,opacity:0,display:"none",delay:.1,ease:Expo.easeOut}),TweenMax.to(this.$texts[0],.5,{y:100,opacity:0,display:"none",delay:.05,ease:Expo.easeOut}),TweenMax.to(this.$button[0],.5,{y:100,opacity:0,display:"none",zIndex:0,ease:Expo.easeOut}),TweenMax.to(this.$topLeft,.8,{top:"42%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$topRight,.9,{top:"10%",delay:.15,ease:Expo.easeOut,onComplete:function(){t(),this.isFirstStep=!1,this.isSecondStep=!1,this.isThirdStep=!1,this.isAnimating=!1}.bind(this)})):(TweenMax.to(this.$topLeft,.8,{top:"-28%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$topRight,1,{top:"-29.5%",delay:.2,ease:Expo.easeOut}),TweenMax.fromTo(this.$bottomLeft,1.4,{top:"100%"},{top:"72%",delay:.4,ease:Expo.easeOut}),TweenMax.fromTo(this.$bottomRight,1.3,{top:"100%"},{top:"68%",delay:.3,ease:Expo.easeOut}),TweenMax.to(this.$titles[0],.5,{y:0,opacity:1,delay:.4,display:"block",ease:Expo.easeOut}),TweenMax.to(this.$texts[0],.5,{y:0,opacity:1,delay:.45,display:"block",ease:Expo.easeOut}),TweenMax.to(this.$button[0],.5,{y:0,opacity:1,ease:Expo.easeOut,display:"block",zIndex:30,delay:.5,onComplete:function(){t(),this.isFirstStep=!0,this.isSecondStep=!1,this.isThirdStep=!1,this.isAnimating=!1}.bind(this)})))},r.prototype.secondStep=function(t,e){this.isAnimating||(this.isAnimating=!0,this.isSecondStep?(a.isMobile?(TweenMax.to(this.$bottomLeft,.8,{top:"5%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomRight,.8,{top:"2%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSLeft,.8,{top:"75%",ease:Expo.easeOut,delay:.3}),TweenMax.to(this.$bottomSRight,.8,{top:"83%",ease:Expo.easeOut,delay:.35})):(TweenMax.to(this.$topLeft,.7,{top:"-28%",ease:Expo.easeOut,delay:.15}),TweenMax.to(this.$topRight,.9,{top:"-29.5%",delay:.35,ease:Expo.easeOut}),TweenMax.to(this.$bottomLeft,.8,{top:"75%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomRight,1,{top:"68%",ease:Expo.easeOut,delay:.25}),TweenMax.to(this.$bottomSLeft,.7,{top:"100%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSRight,.9,{top:"100%",ease:Expo.easeOut})),TweenMax.to(this.$titles[1],.5,{y:100,opacity:0,display:"none",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$texts[1],.5,{y:100,opacity:0,display:"none",delay:.05,ease:Expo.easeOut}),TweenMax.to(this.$button[1],.5,{y:100,opacity:0,zIndex:0,display:"none",ease:Expo.easeOut}),TweenMax.to(this.$titles[0],.5,{y:0,opacity:1,display:"block",delay:.5,ease:Expo.easeOut}),TweenMax.to(this.$texts[0],.5,{y:0,opacity:1,display:"block",delay:.45,ease:Expo.easeOut}),TweenMax.to(this.$button[0],.5,{y:0,opacity:1,display:"block",zIndex:30,ease:Expo.easeOut,delay:.4,onComplete:function(){t(),this.isFirstStep=!0,this.isSecondStep=!1,this.isThirdStep=!1,this.isAnimating=!1}.bind(this)})):(TweenMax.to(this.$topLeft,.8,{top:"-100%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$topRight,.8,{top:"-100%",ease:Expo.easeOut,delay:.1}),a.isMobile?(TweenMax.to(this.$bottomLeft,.8,{top:"5%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomRight,.8,{top:"2%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSLeft,.8,{top:"75%",ease:Expo.easeOut,delay:.3}),TweenMax.to(this.$bottomSRight,.8,{top:"83%",ease:Expo.easeOut,delay:.35})):(TweenMax.to(this.$bottomLeft,.6,{top:"-29%",ease:Expo.easeOut,delay:.2}),TweenMax.to(this.$bottomRight,.9,{top:"-39%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSLeft,.7,{top:"70%",ease:Expo.easeOut,delay:.3}),TweenMax.to(this.$bottomSRight,.8,{top:"75%",ease:Expo.easeOut,delay:.45})),TweenMax.to(this.$titles[0],.4,{y:-100,opacity:0,display:"none",ease:Expo.easeOut}),TweenMax.to(this.$texts[0],.4,{y:-100,opacity:0,display:"none",ease:Expo.easeOut,delay:.05}),TweenMax.to(this.$button[0],.4,{y:-100,opacity:0,display:"none",zIndex:0,ease:Expo.easeOut,delay:.1}),TweenMax.fromTo(this.$titles[1],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.6,ease:Expo.easeOut}),TweenMax.fromTo(this.$texts[1],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.65,ease:Expo.easeOut}),TweenMax.fromTo(this.$button[1],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.7,zIndex:30,ease:Expo.easeOut,onComplete:function(){t&&t(),this.isFirstStep=!1,this.isSecondStep=!0,this.isThirdStep=!1,this.isAnimating=!1}.bind(this)})))},r.prototype.thirdStep=function(t,e){this.isAnimating||(this.isAnimating=!0,this.isThirdStep?(TweenMax.to(this.$bottomLeft,.6,{top:"-29%",ease:Expo.easeOut,delay:.2}),TweenMax.to(this.$bottomRight,.8,{top:"-39%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSLeft,.9,{top:"70%",ease:Expo.easeOut}),TweenMax.to(this.$bottomSRight,.55,{top:"75%",ease:Expo.easeOut}),TweenMax.to(this.$topLeft,1.1,{top:"100%",ease:Expo.easeOut}),TweenMax.to(this.$titles[1],.4,{y:0,opacity:1,display:"block",delay:.2,ease:Expo.easeOut}),TweenMax.to(this.$texts[1],.4,{y:0,opacity:1,display:"block",ease:Expo.easeOut,delay:.25}),TweenMax.to(this.$button[1],.4,{y:0,opacity:1,display:"block",zIndex:30,ease:Expo.easeOut,delay:.3,onComplete:function(){t&&t(),this.isFirstStep=!1,this.isSecondStep=!0,this.isThirdStep=!1,TweenMax.set(this.$topLeft,{top:"-100%",left:"-5%",ease:Expo.easeOut}),this.isAnimating=!1}.bind(this)})):(TweenMax.to(this.$bottomLeft,.6,{top:"-100%",ease:Expo.easeOut,delay:.25}),TweenMax.to(this.$bottomRight,.9,{top:"-100%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSLeft,1,{top:"-20%",ease:Expo.easeOut}),TweenMax.fromTo(this.$topLeft,.7,{top:"100%",left:"35%"},{top:"70%",ease:Expo.easeOut}),TweenMax.to(this.$bottomSRight,.8,{top:"10%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$titles[1],.4,{y:-100,opacity:0,display:"none",ease:Expo.easeOut}),TweenMax.to(this.$texts[1],.4,{y:-100,opacity:0,display:"none",ease:Expo.easeOut,delay:.05}),TweenMax.to(this.$button[1],.4,{y:-100,opacity:0,display:"none",zIndex:0,ease:Expo.easeOut,delay:.1,onComplete:function(){t&&t(),this.isFirstStep=!1,this.isSecondStep=!1,this.isThirdStep=!0,this.isAnimating=!1}.bind(this)})))},r.prototype.step=function(t){this.isAnimating||(this.isAnimating=!0,this.stepIsActive?(TweenMax.to(this.$bottomSLeft,.8,{top:"130%",ease:Expo.easeOut}),TweenMax.to(this.$bottomSRight,.8,{top:"140%",ease:Expo.easeOut,delay:.05}),TweenMax.to(this.$topLeft,1.1,{top:"-28%",ease:Expo.easeOut,delay:.3}),TweenMax.to(this.$topRight,1.2,{top:"-29.5%",ease:Expo.easeOut,delay:.35}),TweenMax.to(this.$bottomLeft,1,{top:"75%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomRight,.9,{top:"68%",ease:Expo.easeOut,delay:.15}),TweenMax.to(this.$titles[1],.4,{y:100,opacity:0,display:"none",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$texts[1],.4,{y:100,opacity:0,display:"none",ease:Expo.easeOut,delay:.05}),TweenMax.to(this.$button[1],.4,{y:100,opacity:0,display:"none",ease:Expo.easeOut}),TweenMax.fromTo(this.$titles[0],.5,{y:-100,opacity:0},{y:0,display:"block",opacity:1,delay:.6,ease:Expo.easeOut}),TweenMax.fromTo(this.$button[0],.5,{y:-100,opacity:0},{y:0,opacity:1,display:"block",delay:.7,ease:Expo.easeOut}),TweenMax.fromTo(this.$texts[0],.5,{y:-100,opacity:0},{y:0,opacity:1,display:"block",delay:.65,ease:Expo.easeOut,onComplete:function(){t&&t(),this.stepIsActive=!1,this.isAnimating=!1}.bind(this)})):(TweenMax.to(this.$topLeft,.8,{top:"-100%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$topRight,.8,{top:"-100%",ease:Expo.easeOut,delay:.1}),a.isMobile?(TweenMax.to(this.$bottomLeft,.8,{top:"5%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomRight,.8,{top:"2%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSLeft,.8,{top:"75%",ease:Expo.easeOut,delay:.3}),TweenMax.to(this.$bottomSRight,.8,{top:"83%",ease:Expo.easeOut,delay:.35})):(TweenMax.to(this.$bottomLeft,.8,{top:"-29%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomRight,.8,{top:"-39%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$bottomSLeft,.8,{top:"70%",ease:Expo.easeOut,delay:.3}),TweenMax.to(this.$bottomSRight,.8,{top:"75%",ease:Expo.easeOut,delay:.35})),TweenMax.to(this.$titles[0],.4,{y:-100,opacity:0,display:"none",ease:Expo.easeOut}),TweenMax.to(this.$texts[0],.4,{y:-100,opacity:0,display:"none",ease:Expo.easeOut,delay:.05}),TweenMax.to(this.$button[0],.4,{y:-100,opacity:0,display:"none",ease:Expo.easeOut,delay:.1}),TweenMax.fromTo(this.$titles[1],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.6,ease:Expo.easeOut}),TweenMax.fromTo(this.$texts[1],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.65,ease:Expo.easeOut}),TweenMax.fromTo(this.$button[1],.5,{y:100,opacity:0},{y:0,opacity:1,display:"block",delay:.7,ease:Expo.easeOut,onComplete:function(){t&&t(),this.stepIsActive=!0,this.isAnimating=!1}.bind(this)})))},r.prototype.onResize=function(){s.prototype.onResize.call(this)},r.prototype.onUpdate=function(){},r.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=r}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(68),r=i(12);i(55);var h=function(t,e){this.hasBeenPlayed=!1,this.id="intro",this.canScroll=!0,this.canUpdate=!0,s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.init=function(){this.options.mainCanvasView.register(this.id,new a({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.intro,o.CANVAS_SHOWN,l.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.intro,o.CANVAS_HIDDEN,c.bind(this)),s.prototype.init.call(this)},h.prototype.initDOM=function(){s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){s.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){this.$canvas=n("#main-canvas"),this.$cashs=this.$el.find(".cash"),this.$typing=this.$el.find(".type"),this.$border=this.$el.find(".border"),this.$title=this.$el.find(".title-blob"),this.$search=this.$el.find(".search"),this.$percentage=this.$el.find(".percentage"),this.$arrowCTA=this.$el.find(".arrow"),this.hBlock=n(this.$el).height(),this.wBlock=n(this.$el).width(),this.lBorder=67.5,this.wTypes=[],this.currentIndexTyping=0,e.each(this.$typing,function(t){this.wTypes.push(n(t).width())}.bind(this)),TweenMax.set(this.$el,{y:"100%",display:"none"}),this.animateArrow(),s.prototype.onDOMInit.call(this)},h.prototype.typing=function(){this.currentIndexTyping=this.currentIndexTyping<0?0:this.currentIndexTyping,this.lBorder+=this.wTypes[this.currentIndexTyping],TweenMax.set(this.$border,{left:this.lBorder,delay:.4}),TweenMax.set(this.$typing[this.currentIndexTyping],{opacity:1,delay:.4,onComplete:function(){++this.currentIndexTyping<=this.wTypes.length-1?this.typing():e.delay(function(){this.cleanTyping()}.bind(this),2500)}.bind(this)})},h.prototype.cleanTyping=function(){this.currentIndexTyping=this.currentIndexTyping>this.wTypes.length-1?this.wTypes.length-1:this.currentIndexTyping,this.lBorder-=this.wTypes[this.currentIndexTyping],TweenMax.set(this.$border,{left:this.lBorder,delay:.4}),TweenMax.set(this.$typing[this.currentIndexTyping],{opacity:0,delay:.4,onComplete:function(){--this.currentIndexTyping>=0?this.cleanTyping():e.delay(function(){this.typing()}.bind(this),2500)}.bind(this)})},h.prototype.border=function(){TweenMax.set(this.$border,{opacity:1,delay:.5}),TweenMax.to(this.$border,.1,{opacity:0,delay:1,onComplete:this.border.bind(this)})},h.prototype.initTLShow=function(){},h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,ease:Expo.easeInOut},0)},h.prototype.onShown=function(){this.hBlock=n(this.$el).height(),this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(o.BLOCK_SHOWN),e.delay(function(){r.mainView.setNormalScrollBehavior()}.bind(this),0),s.prototype.onShown.call(this)};var l=function(){this.trigger(o.CANVAS_SHOWN)};h.prototype.onHidden=function(){this.trigger(o.BLOCK_HIDDEN),this.options.mainCanvasView.aCanvasAnimViews.intro.canAnimate=!1,r.mainView.setNormalScrollBehavior(!1),s.prototype.onHidden.call(this)},h.prototype.show=function(){this.options.mainCanvasView.aCanvasAnimViews.intro.initCanvas(),this.options.mainCanvasView.showCanvas(this.id),this.options.mainCanvasView.aCanvasAnimViews.intro.canAnimate=!1,r.mainView.setNormalScrollBehavior(!1),"DOWN"==r.scrollYDirection?(n(this.$canvas).removeAttr("style"),TweenMax.fromTo(this.$el,.7,{y:"-100%"},{y:"0%",display:"flex",ease:Expo.easeOut,onComplete:function(){this.onShown()}.bind(this)})):TweenMax.fromTo(this.$el,.7,{y:"100%"},{y:"0%",display:"flex",ease:Expo.easeOut,onComplete:function(){this.onShown()}.bind(this)})},h.prototype.hide=function(){this.options.mainCanvasView.aCanvasAnimViews.intro.canAnimate=!1,"DOWN"==r.scrollYDirection?TweenMax.to(this.$el,.7,{y:"100%",display:"none",ease:Expo.easeOut,onComplete:function(){this.onHidden()}.bind(this)}):TweenMax.to(this.$el,.7,{y:"-100%",display:"none",ease:Expo.easeOut,onComplete:function(){this.onHidden()}.bind(this)}),this.options.mainCanvasView.hideCanvas(this.id)};var c=function(){this.trigger(o.CANVAS_HIDDEN)};h.prototype.onResize=function(){this.hBlock=n(this.$el).height(),s.prototype.onResize.call(this)},h.prototype.onUpdate=function(){this.percentage=(r.scrollY+r.viewport.height)/this.hBlock,(r.isScrolling||r.isTouch)&&(TweenMax.to(this.$cashs[0],.08,{y:-110*this.percentage,ease:Linear.easeNone}),TweenMax.to(this.$cashs[1],.08,{y:-60*this.percentage,ease:Linear.easeNone}),TweenMax.to(this.$cashs[2],.05,{y:-120*this.percentage,ease:Linear.easeNone}),TweenMax.to(this.$cashs[3],.05,{y:75*this.percentage,ease:Linear.easeNone}),TweenMax.to(this.$cashs[4],.05,{y:-70*this.percentage,ease:Linear.easeNone}),TweenMax.to(this.$cashs[5],.12,{y:-90*this.percentage,ease:Linear.easeNone}),TweenMax.to(this.$cashs[6],.05,{y:-80*this.percentage,ease:Linear.easeNone})),!this.isTyped&&(r.isScrolling||r.isTouch)&&this.percentage>.7&&(this.isTyped=!0,this.border(),this.typing())},h.prototype.animateArrow=function(){TweenMax.fromTo(this.$arrowCTA,.6,{y:0},{y:5,ease:Power4.easeNone,repeat:-1,yoyo:!0})},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){i(29);var s=i(12),o=i(13),a=i(7),r=i(23),h=function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.canAnimate=!1,this.currentScrollY=0,o.call(this,t,e)};e.extend(h,o),e.extend(h.prototype,o.prototype),h.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.mainBlob=this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob,this.viewBlob=this.options.mainCanvasView.aCanvasAnimViews.start,this.$canvas=this.mainView.$canvas,o.prototype.init.call(this)},h.prototype.initTLShow=function(){},h.prototype.show=function(){this.canAnimate=!1,this.isAnimating=!0,this.mainBlob.canAnimate=!1,this.mainBlob.path.opacity=1,this.mainBlob.path.position.x=s.viewport.width/2;var t=s.isMobile?.7*s.viewport.width:450;if(s.isMobile&&(this.mainBlob.path.visible=!1,TweenMax.set(this.$canvas,{background:"rgb(78, 213, 245)"})),"DOWN"==s.scrollYDirection){this.mainBlob.path.fillColor="#4ed5f5",this.mainBlob.path.position.y=-300;i=this.mainBlob.getScale({w:t},this.mainBlob.path);this.mainBlob.path.scale(i),this.mainBlob.generateSettingsPoints();o={width:this.mainBlob.path.bounds._width};TweenMax.to(o,.6,{width:4*s.viewport.width,height:4*s.viewport.height,ease:Expo.easeOut,onUpdate:function(){n=this.mainBlob.getScale({w:o.width,h:o.height},this.mainBlob.path),this.mainBlob.path.scale(n)}.bind(this),onComplete:function(){this.mainBlob.canAnimate=!1,this.mainBlob.path.position.y=s.viewport.height/2,this.mainBlob.generateSettingsPoints(),TweenMax.set(this.$canvas,{background:"rgb(78, 213, 245)"}),this.blobIsCenter=!0;var t,e,i={r:78,g:213,b:245,width:this.mainBlob.path.bounds._width};TweenMax.to(i,.8,{r:6,g:33,b:90,width:450,ease:Expo.easeOut,onUpdate:function(){t=r.rgbToHex(i.r,i.g,i.b),this.mainBlob.path.fillColor=t,e=this.mainBlob.getScale({w:i.width},this.mainBlob.path),this.mainBlob.path.scale(e)}.bind(this),onComplete:function(){this.canAnimate=!0,this.mainBlob.canAnimate=!0,this.mainBlob.generateSettingsPoints(),this.isAnimating=!1,this.trigger(a.CANVAS_SHOWN)}.bind(this)})}.bind(this),delay:0}),this.mainBlob.path.position.y=-250;var e={y:-250};TweenMax.to(e,1.1,{y:s.viewport.height/2,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=e.y}.bind(this)})}else{this.mainBlob.path.fillColor="#06215a",this.mainBlob.path.position=this.paper.view.center,this.mainBlob.generateSettingsPoints();var i=this.mainBlob.getScale({w:4*s.viewport.width,h:4*s.viewport.height},this.mainBlob.path);this.mainBlob.path.scale(i),TweenMax.set(this.$canvas,{background:"rgb(78, 213, 245)"});var n,o={width:this.mainBlob.path.bounds._width};TweenMax.to(o,.6,{width:t,onUpdate:function(){n=this.mainBlob.getScale({w:o.width},this.mainBlob.path),this.mainBlob.path.scale(n)}.bind(this),onComplete:function(){this.canAnimate=!0,this.isAnimating=!1,this.mainBlob.generateSettingsPoints(),this.trigger(a.CANVAS_SHOWN)}.bind(this),delay:0,ease:Expo.easeOut})}},h.prototype.initCanvas=function(){if("DOWN"==s.scrollYDirection){t=this.mainBlob.getScale({w:450},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.y=-250,this.mainBlob.path.fillColor="#42d6f8"}else{var t=this.mainBlob.getScale({w:4*s.viewport.width,h:4*s.viewport.height},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.y=s.viewport.height/2,this.mainBlob.path.fillColor="#06215a"}},h.prototype.animate=function(t){if(this.setBlob(s.scrollY),this.mainBlob.canAnimate=!(s.scrollY>0),this.isVisible&&!s.isMobile&&this.canAnimate){if(0==s.scrollY){if(this.mainBlob.path.position.y=s.viewport.height/2,this.mainBlob.path.position.y!=s.viewport.height/2){var e={y:this.mainBlob.path.position.y};TweenMax.to(e,.05,{y:s.viewport.height/2,onUpdate:function(){this.mainBlob.path.position.y=e.y}.bind(this),onComplete:function(){this.mainBlob.canAnimate=!0}.bind(this),ease:Linear.easeNone})}this.mainBlob.animate(t)}(s.isScrolling||s.isTouching)&&this.isVisible&&(this.mainBlob.canAnimate=!1,this.mainBlob.path.position.y=s.viewport.height/2-s.scrollY)}},h.prototype.setBlob=function(t){if(!this.isAnimating){if(this.isVisible=!(t>s.viewport.height),t>s.viewport.height+100&&!this.blobIsCenter){this.blobIsCenter=!0;i=this.mainBlob.getScale({w:4*s.viewport.width,h:4*s.viewport.height},this.mainBlob.path);this.mainBlob.path.scale(i),this.mainBlob.path.position.y=s.viewport.height/2,this.mainBlob.path.fillColor="#42d6f8"}else if(this.blobIsCenter&&t<s.viewport.height+100){this.blobIsCenter=!1,this.mainBlob.path.fillColor="#06215a";var e=s.isMobile?.7*s.viewport.width:450,i=this.mainBlob.getScale({w:e},this.mainBlob.path);this.mainBlob.path.scale(i),this.mainBlob.path.position.y=-300}s.viewport.width/2&&(this.mainBlob.path.position.x=s.viewport.width/2)}},h.prototype.hide=function(){if(this.isAnimating=!0,s.isMobile&&(this.mainBlob.path.visible=!0),"DOWN"==s.scrollYDirection){n(this.$canvas).removeAttr("style");i={width:this.mainBlob.path.bounds._width,opacity:this.mainBlob.path.opacity};TweenMax.to(i,1.5,{width:2*s.viewport.width,height:2*s.viewport.height,opacity:0,ease:Expo.easeOut,onUpdate:function(){e=this.mainBlob.getScale({w:i.width,h:i.height},this.mainBlob.path),this.mainBlob.path.scale(e),this.mainBlob.path.opacity=i.opacity}.bind(this),onComplete:function(){this.isAnimating=!1,this.trigger(a.CANVAS_HIDDEN)}.bind(this)})}else{this.blobIsCenter=!0;var t=this.mainBlob.getScale({w:4*s.viewport.width,h:4*s.viewport.height},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.y=s.viewport.height/2,this.mainBlob.path.fillColor="#42d6f8",n(this.$canvas).removeAttr("style");var e,i={width:this.mainBlob.path.bounds._width};TweenMax.to(i,1.5,{width:450,ease:Expo.easeOut,onUpdate:function(){n(this.$canvas).removeAttr("style"),e=this.mainBlob.getScale({w:i.width},this.mainBlob.path),this.mainBlob.path.scale(e)}.bind(this)}),this.mainBlob.path.position.y=s.viewport.height/2;var o={y:s.viewport.height/2};TweenMax.to(o,1.1,{y:-250,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=o.y}.bind(this),onComplete:function(){this.isAnimating=!1,this.trigger(a.CANVAS_HIDDEN)}.bind(this)})}},h.prototype.onResize=function(){if(this.isShown){if(this.setBlob(s.scrollY),this.mainBlob.onResize(),s.viewport.width>1500)t=this.mainBlob.getScale({w:450},this.mainBlob.path);else if(s.viewport.width<1500&&s.viewport.width>922)t=this.mainBlob.getScale({w:350},this.mainBlob.path);else var t=this.mainBlob.getScale({w:250},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.x=s.viewport.width/2,this.mainBlob.path.position.y=s.viewport.height/2}},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e){var n=i(11),s=i(7),o=i(12),a=i(23),r=i(70),h=function(t,e){this.hasBeenPlayed=!1,this.id="calendar",this.steps=2,this.currentStep=-1,n.call(this,t,e)};e.extend(h,n),e.extend(h.prototype,n.prototype),h.prototype.init=function(){this.options.mainCanvasView.register(this.id,new r({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.calendar,s.CANVAS_SHOWN,l.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.calendar,s.CANVAS_HIDDEN,c.bind(this)),this.stepsAnimation=[this.firstStep.bind(this),this.secondStep.bind(this),this.thirdStep.bind(this)],this.mainBlob=this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob,n.prototype.init.call(this)},h.prototype.initDOM=function(){this.$titles=this.$el.find("h3"),n.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),n.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){n.prototype.onDOMInit.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.3,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0)},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.options.mainCanvasView.aCanvasAnimViews.calendar.isAnimating=!1,this.options.mainCanvasView.aCanvasAnimViews.start.isAnimating=!1,this.trigger(s.BLOCK_SHOWN),n.prototype.onShown.call(this)};var l=function(){this.trigger(s.CANVAS_SHOWN),this.options.mainCanvasView.aCanvasAnimViews.calendar.isShown=!0};h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0}),this.TL.hide.to(this.$el,.5,{autoAlpha:0,display:"none",delay:.1,ease:Expo.easeInOut},0)},h.prototype.onHidden=function(){this.trigger(s.BLOCK_HIDDEN),this.options.mainCanvasView.aCanvasAnimViews.calendar.isAnimating=!1,n.prototype.onHidden.call(this)};var c=function(){this.trigger(s.CANVAS_HIDDEN),this.options.mainCanvasView.aCanvasAnimViews.calendar.isShown=!1};h.prototype.reset=function(){e.each(this.$titles,function(t){TweenMax.set(t,{y:0,opacity:0})})},h.prototype.show=function(){TweenMax.set(this.options.mainView.$canvas,{zIndex:2}),this.reset(),this.currentStep=-1,this.options.mainCanvasView.aCanvasAnimViews.calendar.currentStep=this.currentStep,this.TL.show.play(0),TweenMax.fromTo(this.$titles[0],.5,{opacity:0,y:100},{opacity:1,y:0,ease:Expo.easeOut}),this.isFirstStep=!1,this.isSecondStep=!1,this.isThirdStep=!1,this.options.mainCanvasView.showCanvas(this.id)},h.prototype.hide=function(){this.TL.hide.play(0),this.options.mainCanvasView.hideCanvas(this.id),"DOWN"==o.scrollYDirection?TweenMax.to(this.$titles[0],.5,{y:200,opacity:0,ease:Expo.easeOut,delay:.05,onComplete:this.onHidden.bind(this)}):(this.onHidden(),TweenMax.set(this.options.mainView.$canvas,{zIndex:20,delay:.1}),TweenMax.to(this.$titles[this.$titles.length-1],.3,{y:-150,opacity:0,ease:Power4.easeOut}))},h.prototype.manageSteps=function(t,e){this.stepsAnimation[t](e,t)},h.prototype.firstStep=function(t,e){if(this.isFirstStep){n=0;this.options.mainCanvasView.currentCanvasAnimView.manageStep(1,"FirstStep",e,null,function(){t(),this.isFirstStep=!1,this.isSecondStep=!1,this.isThirdStep=!1}.bind(this));var i=this.options.mainCanvasView.currentCanvasAnimView.rastersSecondStep;i[0].visible&&(i[0].visible=!1),TweenMax.to(this.$titles[1],.5,{opacity:0,y:-50,ease:Expo.easeOut,delay:n}),TweenMax.fromTo(this.$titles[0],.5,{opacity:0,y:50},{opacity:1,y:0,ease:Expo.easeOut,delay:n+.05})}else{var n=2.5;this.options.mainCanvasView.currentCanvasAnimView.manageStep(-1,"FirstStep",e,null,function(){t(),this.isFirstStep=!0,this.isSecondStep=!1,this.isThirdStep=!1}.bind(this)),TweenMax.to(this.$titles[0],.5,{opacity:0,y:50,ease:Expo.easeOut,delay:n}),TweenMax.fromTo(this.$titles[1],.5,{opacity:0,y:-50},{opacity:1,y:0,ease:Expo.easeOut,delay:n+.05})}},h.prototype.secondStep=function(t,e){if(!this.options.mainCanvasView.aCanvasAnimViews.start.isAnimating)if(this.isSecondStep){s=.5;this.options.mainCanvasView.currentCanvasAnimView.manageStep(1,"SecondStep",e,null,function(){t(),this.isFirstStep=!0,this.isSecondStep=!1,this.isThirdStep=!1}.bind(this)),(o=this.options.mainCanvasView.currentCanvasAnimView.rastersThirdStep)[0].visible&&(o[0].visible=!1);n={r:193,g:142,b:252};TweenMax.to(n,1,{r:250,g:104,b:118,ease:Expo.easeOut,onUpdate:function(){i=a.rgbToHex(n.r,n.g,n.b),this.mainBlob.path.fillColor=i}.bind(this),delay:0}),TweenMax.to(this.$titles[2],.5,{opacity:0,y:-50,ease:Expo.easeOut,delay:s}),TweenMax.fromTo(this.$titles[1],.5,{opacity:0,y:50},{opacity:1,y:0,ease:Expo.easeOut,delay:s+.05})}else{var i,n={r:250,g:104,b:118};TweenMax.to(n,1,{r:193,g:142,b:252,ease:Expo.easeOut,onUpdate:function(){i=a.rgbToHex(n.r,n.g,n.b),this.mainBlob.path.fillColor=i}.bind(this),delay:0});var s=.6;this.options.mainCanvasView.currentCanvasAnimView.manageStep(-1,"SecondStep",e,null,function(){t(),this.isFirstStep=!1,this.isSecondStep=!0,this.isThirdStep=!1}.bind(this));var o=this.options.mainCanvasView.currentCanvasAnimView.rastersFirstStep;o[o.length-1].visible&&(o[o.length-1].visible=!1),TweenMax.to(this.$titles[1],.5,{opacity:0,y:50,ease:Expo.easeOut,delay:s}),TweenMax.fromTo(this.$titles[2],.5,{opacity:0,y:-50},{opacity:1,y:0,ease:Expo.easeOut,delay:s+.05})}},h.prototype.thirdStep=function(t,e){if(!this.options.mainCanvasView.aCanvasAnimViews.start.isAnimating)if(this.isThirdStep){(n=this.options.mainCanvasView.currentCanvasAnimView.rastersThirdStep)[n.length-1].visible&&(n[n.length-1].visible=!1);i=.9;this.options.mainCanvasView.currentCanvasAnimView.manageStep(1,"ThirdStep",e,null,function(){t(),this.isFirstStep=!1,this.isSecondStep=!0,this.isThirdStep=!1}.bind(this)),TweenMax.to(this.$titles[3],.5,{opacity:0,y:-50,ease:Expo.easeOut,delay:i}),TweenMax.fromTo(this.$titles[2],.5,{opacity:0,y:50},{opacity:1,y:0,ease:Expo.easeOut,delay:i+.05})}else{var i=.5;this.options.mainCanvasView.currentCanvasAnimView.manageStep(-1,"ThirdStep",e,null,function(){t(),this.isFirstStep=!1,this.isSecondStep=!1,this.isThirdStep=!0}.bind(this));var n=this.options.mainCanvasView.currentCanvasAnimView.rastersSecondStep;n[n.length-1].visible&&(n[n.length-1].visible=!1),TweenMax.to(this.$titles[2],.5,{opacity:0,y:50,ease:Expo.easeOut,delay:i}),TweenMax.fromTo(this.$titles[3],.5,{opacity:0,y:-50},{opacity:1,y:0,ease:Expo.easeOut,delay:i+.05})}},h.prototype.onResize=function(){n.prototype.onResize.call(this)},h.prototype.onUpdate=function(){},h.prototype.dispose=function(){n.prototype.dispose.call(this)},t.exports=h}).call(e,i(3))},function(t,e,i){(function(e,n){i(29);var s=i(12),o=i(13),a=i(23),r=i(7),h=(i(30),function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.indexFirstStep=0,this.indexSecondStep=0,this.indexThirdStep=0,this.currentStep=-1,this.rasters=[],this.rastersObj=[],this.hImg=915,this.scale=.5*s.viewport.height/this.hImg,this.callbackEnd=null,this.name="calendarCanvas",o.call(this,t,e)});e.extend(h,o),e.extend(h.prototype,o.prototype),h.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.mainBlob=this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob,this.$canvas=this.options.mainView.$canvas,this.rastersFirstStep=[],this.generateImages(this.options.mainView.loader.assetsImages[0],this.rastersFirstStep,0),this.rastersSecondStep=[],this.generateImages(this.options.mainView.loader.assetsImages[1],this.rastersSecondStep,0),this.rastersThirdStep=[],this.generateImages(this.options.mainView.loader.assetsImages[2],this.rastersThirdStep,0),o.prototype.init.call(this)},h.prototype.animate=function(){if(this.mainView.currentStepIndex<1&&!this.isTransition&&(this.mainBlob.path.bounds._width!=3*s.viewport.width||this.mainBlob.path.position.y!=s.viewport.height/2||this.mainBlob.path.position.x!=s.viewport.width/2)){var t=this.mainBlob.getScale({w:3*s.viewport.width},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.y=s.viewport.height/2,this.mainBlob.path.position.x=s.viewport.width/2}},h.prototype.generateImages=function(t,i,o){var a,r=s.viewport.height/2+this.hImg*this.scale/2,h=s.viewport.width/2;this.rasters.push(e.each(t,function(t,e){a=new n.Raster(t),this.isResize||(a.visible=!1),a.scale(this.scale),a.position=new n.Point(h,r),i.push(a)}.bind(this))),this.rastersObj.push(i)},h.prototype.reset=function(){e.each(this.rastersObj,function(t){e.each(t,function(t){t.visible=!1}.bind(this))}.bind(this))},h.prototype.show=function(){this.mainBlob.path.fillColor="#fa6876",document.body.style.cursor="default",this.indexFirstStep=0,this.indexSecondStep=0,this.indexThirdStep=0,this.rastersThirdStep[this.rastersThirdStep.length-1].visible=!1,this.rastersThirdStep[this.rastersThirdStep.length-1].opacity=1,this.rastersThirdStep[this.rastersThirdStep.length-1].position.y=s.viewport.height/2+this.hImg*this.scale/2,this.rastersFirstStep[0]=new n.Raster(this.options.mainView.loader.assetsImages[0][0]),this.rastersFirstStep[0].scale(.5*s.viewport.height/915),this.rastersFirstStep[0].visible=!0,this.rastersFirstStep[0].opacity=0,this.rastersFirstStep[0].position.x=s.viewport.width/2,this.rastersFirstStep[0].position.y=s.viewport.height/2+this.hImg*this.scale/2+100;var t={opacity:0,y:this.rastersFirstStep[0].position.y,color:a.rgbToHex(255*this.mainBlob.path.fillColor.red,255*this.mainBlob.path.fillColor.green,255*this.mainBlob.path.fillColor.blue)};if(TweenMax.to(t,.5,{opacity:1,y:this.rastersFirstStep[0].position.y-100,ease:Expo.easeOut,onUpdate:function(){this.rastersFirstStep[0].opacity=t.opacity,this.rastersFirstStep[0].position.y=t.y,this.mainBlob.path.opacity=1,this.mainBlob.path.fillColor=t.color}.bind(this),onComplete:function(){this.trigger(r.CANVAS_SHOWN),this.options.mainView.goToNextSection(),this.canAnimate=!0,this.isTransition=!1}.bind(this)}),"DOWN"==s.scrollYDirection){this.options.mainCanvasView.aCanvasAnimViews.start.isAnimating=!0,this.options.mainCanvasView.aCanvasAnimViews.start.canAnimate=!1,this.mainBlob.path.position.y=-400;var e={x:this.mainBlob.path.position.x,y:-250};TweenMax.to(e,.6,{x:s.viewport.width/2,y:s.viewport.height/2,onUpdate:function(){this.mainBlob.path.position.x=e.x,this.mainBlob.path.position.y=e.y}.bind(this),ease:Cubic.easeOut});var i,o={width:this.mainBlob.path.bounds.width,height:this.mainBlob.path.bounds.height};TweenMax.to(o,.6,{width:4*s.viewport.width,height:4*s.viewport.height,onUpdate:function(){i=this.mainBlob.getScale({w:o.width,h:o.height},this.mainBlob.path),this.mainBlob.path.scale(i)}.bind(this),onComplete:function(){this.mainBlob.path.position=this.paper.view.center,this.mainBlob.generateSettingsPoints(),this.options.mainCanvasView.aCanvasAnimViews.start.isAnimating=!1,this.options.mainCanvasView.aCanvasAnimViews.start.canAnimate=!0,this.isTransition=!1,this.trigger(r.CANVAS_SHOWN)}.bind(this),ease:Cubic.easeOut})}},h.prototype.hide=function(){if(this.rastersFirstStep[0].visible=!1,this.rastersSecondStep[0].visible=!1,this.rastersThirdStep[0].visible=!1,this.rastersFirstStep[this.rastersFirstStep.length-1].visible=!1,this.rastersSecondStep[this.rastersSecondStep.length-1].visible=!1,this.rastersThirdStep[this.rastersThirdStep.length-1].visible=!1,this.isAnimating=!0,this.isTransition=!0,"DOWN"==s.scrollYDirection){o={opacity:1,y:this.paper.view.size.height/2};TweenMax.to(o,.5,{opacity:0,y:s.viewport.height/2+100,ease:Expo.easeOut,onUpdate:function(){this.rastersFirstStep[0].opacity=o.opacity,this.rastersFirstStep[0].position.y=o.y}.bind(this),onComplete:function(){this.rastersFirstStep[0].opacity=0,this.reset(),this.trigger(r.CANVAS_HIDDEN)}.bind(this)})}else{this.mainBlob.canAnimate=!1;var t=this.rastersThirdStep[this.rastersThirdStep.length-1],e={opacity:1};TweenMax.to(e,.2,{opacity:0,delay:.15,ease:Expo.easeOut,onUpdate:function(){t.opacity=e.opacity}.bind(this)});var i={y:0};TweenMax.to(i,.3,{y:200,ease:Expo.easeOut,delay:.15,onUpdate:function(){t.position.y=s.viewport.height/2-i.y}.bind(this)});var n,o={width:this.mainBlob.path.bounds._width};TweenMax.to(o,1.5,{width:.7*s.viewport.width,ease:Expo.easeOut,delay:.15,onUpdate:function(){n=this.mainBlob.getScale({w:o.width},this.mainBlob.path),this.mainBlob.path.scale(n)}.bind(this),onComplete:function(){this.mainBlob.generateSettingsPoints(),this.isTransition=!1}.bind(this)});var a={y:this.mainBlob.path.position.y};TweenMax.to(a,2,{y:-this.mainBlob.path.bounds._height,ease:Power4.easeInt,delay:.15,onUpdate:function(){this.mainBlob.path.position.y=a.y}.bind(this)}),setTimeout(function(){this.trigger(r.CANVAS_HIDDEN)}.bind(this),250)}},h.prototype.manageStep=function(t,e,i,n,o){this.rasterStep=this["rasters"+e],this["index"+e]=this["index"+e]-t,this.indexStep=this["index"+e],this.rasterStep[this.indexStep]&&(this.rasterStep[this.indexStep].visible=!0),this.rasterStep[this.indexStep+t]&&(this.rasterStep[this.indexStep+t].visible=!1),n&&(this.mainBlob.path.fillColor=n),this.indexStep<this.rasterStep.length-1&&this.indexStep>0?setTimeout(function(){this.manageStep(t,e,i,n,o)}.bind(this),25):("DOWN"==s.scrollYDirection&&0==i&&this.mainView.goToPreviousSection(),o())},h.prototype.onResize=function(){this.mainBlob.onResize(),this.hImg=this.scale*this.hImg,this.scale=.5*s.viewport.height/this.hImg;var t=s.viewport.height/2+this.hImg*this.scale/2,i=s.viewport.width/2;if(e.each(this.rastersFirstStep,function(e){e.position.y=t,e.position.x=i,e.scale(this.scale)}.bind(this)),e.each(this.rastersSecondStep,function(e){e.position.y=t,e.position.x=i,e.scale(this.scale)}.bind(this)),e.each(this.rastersThirdStep,function(e){e.position.y=t,e.position.x=i,e.scale(this.scale)}.bind(this)),this.isShown){var n=this.mainBlob.getScale({w:3*s.viewport.height},this.mainBlob.path);this.mainBlob.path.scale(n)}},t.exports=h}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(12),r=function(t,e){this.hasBeenPlayed=!1,this.steps=1,this.currentStep=-1,this.isFirstStep=!0,s.call(this,t,e)};e.extend(r,s),e.extend(r.prototype,s.prototype),r.prototype.initDOM=function(){s.prototype.initDOM.call(this),this.$client=this.$el.find(".client"),this.$doctor=this.$el.find(".doctor"),this.$titles=this.$el.find("h2"),this.$iconsFirst=this.$el.find(".icon-patient-first"),this.$button=this.$el.find("button")},r.prototype.init=function(){this.stepsAnimation=[this.step.bind(this)],s.prototype.init.call(this)},r.prototype.setupDOM=function(){TweenMax.set(this.$el,{display:"none"}),s.prototype.setupDOM.call(this)},r.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},r.prototype.initTLShow=function(){},r.prototype.initTLHide=function(){},r.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),TweenMax.set(this.options.mainView.$canvas,{zIndex:2}),this.trigger(o.BLOCK_SHOWN),this.trigger(o.CANVAS_SHOWN),this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob.path.fillColor="#f1f1f9",s.prototype.onShown.call(this)},r.prototype.onHidden=function(){this.trigger(o.BLOCK_HIDDEN),this.trigger(o.CANVAS_HIDDEN),this.reset(),this.currentStep=-1,this.isFirstStep=!0},r.prototype.reset=function(){e.each(this.$titles,function(t){TweenMax.set(t,{y:0,x:0,opacity:0})}),n(this.$button).removeAttr("style"),e.each(this.$iconsFirst,function(t){TweenMax.set(t,{y:0,opacity:0})}),TweenMax.set(this.$client,{y:"0%",x:"0%",opacity:0}),TweenMax.set(this.$doctor,{y:"0%",x:"0%",opacity:0})},r.prototype.show=function(){TweenMax.to(this.$el,.3,{y:"0%",x:"0%",opacity:1,display:"flex",ease:Expo.easeInOut}),TweenMax.fromTo(this.$iconsFirst[0],.4,{rotation:-50,scale:.1,y:25,opacity:0},{rotation:0,scale:1,y:0,opacity:1,ease:Power4.easeOut,transformOrigin:"center",delay:.2}),TweenMax.fromTo(this.$iconsFirst[1],.4,{rotation:50,scale:.1,y:25,opacity:0},{rotation:0,scale:1,transformOrigin:"center",y:0,opacity:1,ease:Power4.easeOut,delay:.25}),TweenMax.fromTo(this.$iconsFirst[2],.4,{rotation:70,scale:.1,y:25,opacity:0},{rotation:0,scale:1,transformOrigin:"center",y:0,opacity:1,ease:Power4.easeOut,delay:.3}),TweenMax.set(this.$titles[0],{opacity:1}),TweenMax.set(this.$titles[1],{opacity:0}),TweenMax.fromTo(this.$titles[0],.7,{y:250},{y:0,ease:Expo.easeOut}),TweenMax.fromTo(this.$client,.6,{y:"20%",opacity:1},{y:"0%",ease:Power4.easeOut}),TweenMax.fromTo(this.$doctor,.6,{y:"20%",scale:1,opacity:1},{y:"0%",ease:Power4.easeOut}),e.delay(function(){this.onShown()}.bind(this),1e3)},r.prototype.hide=function(){TweenMax.to(this.$doctor,.5,{y:"-15%",scale:.9,ease:Power4.easeOut}),TweenMax.to(this.$titles[1],.5,{opacity:0,y:-100,ease:Expo.easeOut}),TweenMax.to(this.$button,.5,{y:-100,opacity:0,delay:.1,ease:Expo.easeOut}),"DOWN"==a.scrollYDirection?TweenMax.to(this.$el,.5,{opacity:0,display:"none",ease:Expo.easeInOut}):TweenMax.set(this.$el,{display:"none",ease:Expo.easeInOut,delay:.8}),setTimeout(this.onHidden.bind(this),50)},r.prototype.manageSteps=function(t,e){this.stepsAnimation[t](e,t)},r.prototype.step=function(t){this.isAnimating||(this.isAnimating=!0,this.isFirstStep?(TweenMax.to(this.$iconsFirst[0],.4,{rotation:-50,scale:.1,y:25,opacity:0,ease:Power4.easeOut,transformOrigin:"center"}),TweenMax.to(this.$iconsFirst[1],.4,{rotation:50,scale:.1,y:25,opacity:0,transformOrigin:"center",ease:Power4.easeOut,delay:.05}),TweenMax.to(this.$iconsFirst[2],.4,{rotation:70,scale:.1,y:25,transformOrigin:"center",opacity:0,ease:Power4.easeOut,delay:.1}),TweenMax.to(this.$client,.45,{x:-150,y:150,opacity:0,ease:Expo.easeOut}),a.isMobile?TweenMax.to(this.$doctor,.6,{right:a.viewport.width/2-n(this.$doctor).width()/2,scale:1.3,delay:.1,ease:Expo.easeOut}):TweenMax.to(this.$doctor,.6,{x:-150,scale:1.3,delay:.1,ease:Expo.easeOut}),TweenMax.to(this.$titles[0],.3,{x:-100,opacity:0,delay:.05,ease:Expo.easeOut}),TweenMax.fromTo(this.$titles[1],.5,{y:0,x:100,opacity:0},{x:0,opacity:1,delay:.15,ease:Expo.easeOut,onComplete:function(){t(),this.isFirstStep=!1,this.isAnimating=!1}.bind(this)}),TweenMax.fromTo(this.$button,.3,{x:100,y:0,opacity:0},{x:0,opacity:1,delay:.15,ease:Expo.easeOut})):(TweenMax.fromTo(this.$iconsFirst[0],.4,{rotation:-50,scale:.1,y:25,opacity:0},{rotation:0,scale:1,y:0,opacity:1,ease:Power4.easeOut,transformOrigin:"center",delay:.1}),TweenMax.fromTo(this.$iconsFirst[1],.4,{rotation:50,scale:.1,y:25,opacity:0},{rotation:0,scale:1,transformOrigin:"center",y:0,opacity:1,ease:Power4.easeOut,delay:.15}),TweenMax.fromTo(this.$iconsFirst[2],.4,{rotation:70,scale:.1,y:25,opacity:0},{rotation:0,scale:1,transformOrigin:"center",y:0,opacity:1,ease:Power4.easeOut,delay:.2}),TweenMax.to(this.$client,.6,{y:0,x:0,opacity:1,ease:Expo.easeOut}),a.isMobile?TweenMax.to(this.$doctor,.6,{right:"20px",scale:1,ease:Expo.easeOut}):TweenMax.to(this.$doctor,.6,{x:"0%",scale:1,ease:Expo.easeOut}),TweenMax.to(this.$titles[0],.5,{opacity:1,x:0,ease:Expo.easeOut,delay:.1,onComplete:function(){t(),this.isFirstStep=!0,this.isAnimating=!1}.bind(this)}),TweenMax.to(this.$button,.3,{x:100,opacity:0,ease:Expo.easeOut}),TweenMax.to(this.$titles[1],.2,{opacity:0,ease:Expo.easeOut})))},r.prototype.onUpdate=function(){},r.prototype.onResize=function(){s.prototype.onResize.call(this)},r.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=r}).call(e,i(3),i(1))},function(t,e,i){(function(e){var n=i(11),s=i(7),o=function(t,e){this.hasBeenPlayed=!1,n.call(this,t,e)};e.extend(o,n),e.extend(o.prototype,n.prototype),o.prototype.initDOM=function(){n.prototype.initDOM.call(this)},o.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0}),n.prototype.setupDOM.call(this)},o.prototype.onDOMInit=function(){n.prototype.onDOMInit.call(this)},o.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.3,{autoAlpha:1,ease:Expo.easeInOut},0)},o.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(s.BLOCK_SHOWN),this.trigger(s.CANVAS_SHOWN),n.prototype.onShown.call(this)},o.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,ease:Expo.easeInOut},0)},o.prototype.onHidden=function(){this.trigger(s.BLOCK_HIDDEN),this.trigger(s.CANVAS_HIDDEN),n.prototype.onHidden.call(this)},o.prototype.onResize=function(){n.prototype.onResize.call(this)},o.prototype.onUpdate=function(){},o.prototype.dispose=function(){n.prototype.dispose.call(this)},t.exports=o}).call(e,i(3))},function(t,e,i){(function(e){var n=i(11),s=i(7),o=i(12),a=function(t,e){this.hasBeenPlayed=!1,n.call(this,t,e)};e.extend(a,n),e.extend(a.prototype,n.prototype),a.prototype.initDOM=function(){this.$bgImg=this.$el.find(".bg-image"),this.$title=this.$el.find("h2"),this.$heartImg=this.$el.find(".heart img"),this.$heartTitle=this.$el.find(".heart .number"),this.$subTitle=this.$el.find("h3"),this.$text=this.$el.find(".text"),this.$els=[this.$title,this.$heartImg,this.$heartTitle,this.$subTitle,this.$text],n.prototype.initDOM.call(this)},a.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),n.prototype.setupDOM.call(this)},a.prototype.onDOMInit=function(){n.prototype.onDOMInit.call(this)},a.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0}),this.TL.show.to(this.$el,.3,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0)},a.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},0)},a.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(s.BLOCK_SHOWN),this.trigger(s.CANVAS_SHOWN),n.prototype.onShown.call(this)},a.prototype.onHidden=function(){this.trigger(s.BLOCK_HIDDEN),this.trigger(s.CANVAS_HIDDEN),n.prototype.onHidden.call(this)},a.prototype.show=function(){"DOWN"==o.scrollYDirection?(TweenMax.to(this.$el,.2,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0),TweenMax.fromTo(this.$bgImg,.5,{y:"10%",scale:.8},{y:"0%",scale:1,ease:Expo.easeOut,onComplete:this.onShown.bind(this)}),TweenMax.staggerFromTo(this.$els,.5,{y:-100,opacity:0},{y:0,opacity:1,ease:Expo.easeOut,delay:.1},.05)):(TweenMax.to(this.$el,.2,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0),TweenMax.fromTo(this.$bgImg,.5,{y:"10%",scale:.8},{y:"0%",scale:1,ease:Expo.easeOut,onComplete:this.onShown.bind(this)}),TweenMax.staggerFromTo(this.$els,.5,{y:100,opacity:0},{y:0,opacity:1,ease:Expo.easeOut,delay:.1},.05))},a.prototype.hide=function(){"DOWN"==o.scrollYDirection?(TweenMax.fromTo(this.$bgImg,.5,{y:"0%",scale:1},{y:"10%",scale:.8,ease:Expo.easeOut,onComplete:this.onHidden.bind(this)}),TweenMax.staggerTo(this.$els,.5,{y:100,opacity:1,ease:Expo.easeOut},.05),TweenMax.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},.2)):(TweenMax.fromTo(this.$bgImg,.5,{y:"0%",scale:1},{y:"0%",scale:1,ease:Expo.easeOut,onComplete:this.onHidden.bind(this)}),TweenMax.staggerTo(this.$els,.5,{y:-100,opacity:0,ease:Expo.easeOut},.05),TweenMax.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},.2))},a.prototype.onResize=function(){n.prototype.onResize.call(this)},a.prototype.onUpdate=function(){},a.prototype.dispose=function(){n.prototype.dispose.call(this)},t.exports=a}).call(e,i(3))},function(t,e,i){(function(e){var n=i(11),s=i(7),o=i(12),a=i(75),r=function(t,e){this.hasBeenPlayed=!1,this.id="smart",n.call(this,t,e)};e.extend(r,n),e.extend(r.prototype,n.prototype),r.prototype.init=function(){this.options.mainCanvasView.register(this.id,new a({mainCanvasView:this.options.mainCanvasView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.smart,s.CANVAS_SHOWN,h.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.smart,s.CANVAS_HIDDEN,l.bind(this)),n.prototype.init.call(this)},r.prototype.initDOM=function(){this.$canvas=this.options.mainView.$canvas,n.prototype.initDOM.call(this)},r.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),n.prototype.setupDOM.call(this)},r.prototype.onDOMInit=function(){this.$bgImg=this.$el.find(".bg-image"),this.$subTitle=this.$el.find("h3"),this.$title=this.$el.find("h2"),this.$text=this.$el.find(".text"),this.$els=[this.$subTitle,this.$title,this.$text],n.prototype.onDOMInit.call(this)},r.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0}),this.TL.show.to(this.$el,.3,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0)},r.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},0)},r.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(s.BLOCK_SHOWN),n.prototype.onShown.call(this)};var h=function(){this.trigger(s.CANVAS_SHOWN)};r.prototype.onHidden=function(){this.trigger(s.BLOCK_HIDDEN),n.prototype.onHidden.call(this)};var l=function(){this.trigger(s.CANVAS_HIDDEN)};r.prototype.show=function(){this.options.mainCanvasView.aCanvasAnimViews.smart.initCanvas(),this.options.mainCanvasView.showCanvas(this.id),"DOWN"==o.scrollYDirection?(TweenMax.to(this.$el,.2,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0),TweenMax.fromTo(this.$bgImg,.5,{y:"10%",scale:.8},{y:"0%",scale:1,ease:Expo.easeOut,onComplete:this.onShown.bind(this)}),TweenMax.staggerFromTo(this.$els,.5,{y:-100,opacity:0},{y:0,opacity:1,ease:Expo.easeOut,delay:.1},.05)):(TweenMax.to(this.$el,.2,{autoAlpha:1,display:"flex",ease:Expo.easeInOut},0),TweenMax.fromTo(this.$bgImg,.5,{y:"10%",scale:.8},{y:"0%",scale:1,ease:Expo.easeOut,onComplete:this.onShown.bind(this)}),TweenMax.staggerFromTo(this.$els,.5,{y:100,opacity:0},{y:0,opacity:1,ease:Expo.easeOut,delay:.1},.05))},r.prototype.hide=function(){"DOWN"==o.scrollYDirection?(TweenMax.fromTo(this.$bgImg,.5,{y:"0%",scale:1},{y:"10%",scale:.8,ease:Expo.easeOut,onComplete:this.onHidden.bind(this)}),TweenMax.staggerTo(this.$els,.5,{y:100,opacity:1,ease:Expo.easeOut},.05),TweenMax.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},.2)):(TweenMax.fromTo(this.$bgImg,.5,{y:"0%",scale:1},{y:"0%",scale:1,ease:Expo.easeOut,onComplete:this.onHidden.bind(this)}),TweenMax.staggerTo(this.$els,.5,{y:-100,opacity:0,ease:Expo.easeOut},.05),TweenMax.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},.2)),this.options.mainCanvasView.hideCanvas(this.id)},r.prototype.onResize=function(){n.prototype.onResize.call(this)},r.prototype.onUpdate=function(){},r.prototype.dispose=function(){n.prototype.dispose.call(this)},t.exports=r}).call(e,i(3))},function(t,e,i){(function(e,n){i(29);var s=i(12),o=i(7),a=i(13),r=(i(30),function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.canAnimate=!1,a.call(this,t,e)});e.extend(r,a),e.extend(r.prototype,a.prototype),r.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.mainBlob=this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob,this.viewBlob=this.options.mainCanvasView.aCanvasAnimViews.start,this.$canvas=n("#main-canvas"),a.prototype.init.call(this)},r.prototype.initTLShow=function(){},r.prototype.animate=function(){},r.prototype.show=function(){if(this.isAnimating=!0,"DOWN"==s.scrollYDirection){var t=this.mainBlob.getScale({w:450},this.mainBlob.path);this.mainBlob.path.scale(t);var e,i={width:this.mainBlob.path.bounds._width};TweenMax.to(i,1,{width:4*s.viewport.width,height:4*s.viewport.height,ease:Expo.easeOut,onUpdate:function(){e=this.mainBlob.getScale({w:i.width,h:i.height},this.mainBlob.path),this.mainBlob.path.scale(e)}.bind(this),onComplete:function(){this.isAnimating=!1,this.trigger(o.CANVAS_SHOWN)}.bind(this),delay:.05}),this.mainBlob.path.position.y=-250;var n={y:-250};TweenMax.to(n,1,{y:s.viewport.height/2,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=n.y}.bind(this)})}else this.trigger(o.CANVAS_SHOWN)},r.prototype.initCanvas=function(){var t=this.mainBlob.getScale({w:4*s.viewport.width,h:4*s.viewport.height},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.y=s.viewport.height/2,this.mainBlob.path.fillColor="#F1F1F9"},r.prototype.hide=function(){if("UP"==s.scrollYDirection){TweenMax.set(this.$canvas,{background:"#d5b5fb"});var t,e={width:this.mainBlob.path.bounds._width};TweenMax.to(e,.9,{width:450,ease:Expo.easeOut,delay:.05,onUpdate:function(){t=this.mainBlob.getScale({w:e.width},this.mainBlob.path),this.mainBlob.path.scale(t)}.bind(this)}),this.mainBlob.path.position.y=s.viewport.height/2;var i={y:s.viewport.height/2};TweenMax.to(i,.9,{y:-250,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=i.y}.bind(this),delay:.1,onComplete:function(){this.isAnimating=!1,this.trigger(o.CANVAS_HIDDEN)}.bind(this)})}else this.trigger(o.CANVAS_HIDDEN)},r.prototype.onResize=function(){},t.exports=r}).call(e,i(3),i(1))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(12),r=i(77),h=function(t,e){this.hasBeenPlayed=!1,this.canScroll=!0,this.id="stars",s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.initDOM=function(){this.options.mainCanvasView.register(this.id,new r({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.stars,o.CANVAS_SHOWN,l.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.stars,o.CANVAS_HIDDEN,c.bind(this)),s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){this.hBlock=n(this.$el).height(),TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),s.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){this.$titles=this.$el.find("h4"),this.$subtitles=this.$el.find("h3"),this.$texts=this.$el.find(".text"),this.$titles=this.$el.find("h4"),this.$lines=this.$el.find(".line"),this.$stars=this.$el.find(".stars-icon"),this.$linesBg=this.$el.find(".line .bg"),this.$canvas=n("#main-canvas"),this.$starsBlock=[this.$stars,this.$subtitles[0],this.$texts[0],this.$titles[0]],this.$reviewsBlock=[this.$lines,this.$titles[1],this.$subtitles[1],this.$texts[1]],TweenMax.set(this.$lines[0],{rotation:-75}),TweenMax.set(this.$lines[1],{rotation:-40}),TweenMax.set(this.$lines[2],{rotation:-15}),TweenMax.set(this.$lines[3],{rotation:25}),TweenMax.set(this.$lines[4],{rotation:45}),TweenMax.set(this.$lines[5],{rotation:65}),s.prototype.onDOMInit.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0}),this.TL.show.to(this.$el,.3,{autoAlpha:1,display:"block",ease:Expo.easeInOut},0)},h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut,onUpdate:function(){}.bind(this)},0)},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.hBlock=n(this.$el).height(),this.trigger(o.BLOCK_SHOWN),a.mainView.setNormalScrollBehavior(),s.prototype.onShown.call(this)};var l=function(){this.trigger(o.CANVAS_SHOWN)};h.prototype.onHidden=function(){this.trigger(o.BLOCK_HIDDEN),a.mainView.setNormalScrollBehavior(!1),s.prototype.onHidden.call(this)};var c=function(){this.trigger(o.CANVAS_HIDDEN)};h.prototype.show=function(){this.options.mainCanvasView.showCanvas(this.id),this.starsIsAnimating||this.animateStars(),this.linesIsAnimating||this.animateLines(),"DOWN"==a.scrollYDirection?(TweenMax.to(this.$el,.3,{autoAlpha:1,display:"block",ease:Expo.easeInOut},0),TweenMax.staggerFromTo(this.$starsBlock,.5,{opacity:0},{opacity:1,ease:Expo.easeOut,delay:.2},.05),TweenMax.staggerFromTo(this.$reviewsBlock,.5,{opacity:0},{opacity:1,ease:Expo.easeOut,delay:.1},.05,function(){this.onShown()}.bind(this))):(TweenMax.to(this.$el,.3,{autoAlpha:1,display:"block",ease:Expo.easeInOut},0),TweenMax.staggerFromTo(this.$starsBlock,.5,{y:100,opacity:0},{y:0,opacity:1,ease:Expo.easeOut,delay:.1},.05),TweenMax.staggerFromTo(this.$reviewsBlock,.5,{y:100,opacity:0},{y:0,opacity:1,ease:Expo.easeOut,delay:.5},.05,function(){this.onShown()}.bind(this)))},h.prototype.hide=function(){"DOWN"==a.scrollYDirection?(TweenMax.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},0),TweenMax.staggerTo(this.$starsBlock,.5,{y:100,opacity:0,ease:Expo.easeOut},.05),TweenMax.staggerTo(this.$reviewsBlock,.5,{y:100,opacity:0,ease:Expo.easeOut,delay:.1},.05,function(){this.onHidden(),TweenMax.set(this.options.mainView.$canvas,{background:"none"})}.bind(this))):(TweenMax.to(this.$el,.3,{autoAlpha:0,display:"none",ease:Expo.easeInOut},0),TweenMax.staggerTo(this.$starsBlock,.4,{opacity:0,ease:Expo.easeOut},.05,this.onHidden.bind(this)),TweenMax.staggerTo(this.$reviewsBlock,.5,{opacity:0,delay:.1,ease:Expo.easeOut},.05)),this.options.mainCanvasView.hideCanvas(this.id)},h.prototype.animateStars=function(){TweenMax.fromTo(this.$stars[0],.9,{rotation:0,transformOrigin:0,opacity:0},{opacity:1,rotation:120,transformOrigin:"120px 20px",delay:.05,ease:Circ.easeNone}),TweenMax.fromTo(this.$stars[1],.9,{rotation:0,transformOrigin:0,opacity:0},{opacity:1,rotation:180,transformOrigin:"220px 20px",delay:.2,ease:Circ.easeNone}),TweenMax.fromTo(this.$stars[2],.8,{rotation:0,transformOrigin:0,opacity:0},{opacity:1,rotation:180,transformOrigin:"140px 80px",delay:.05,ease:Circ.easeNone}),TweenMax.fromTo(this.$stars[3],1,{rotation:0,transformOrigin:0,opacity:0},{opacity:1,rotation:-145,transformOrigin:"-70px -10px",delay:.05,ease:Circ.easeNone}),TweenMax.fromTo(this.$stars[4],.7,{rotation:0,transformOrigin:0,opacity:0},{opacity:1,rotation:-160,transformOrigin:"-140px -40px",delay:.05,ease:Circ.easeNone}),TweenMax.fromTo(this.$stars[5],1.4,{rotation:0,transformOrigin:0,opacity:0},{opacity:1,rotation:-160,transformOrigin:"-180px 90px",delay:.05,ease:Circ.easeNone}),TweenMax.fromTo(this.$stars[6],1.5,{rotation:0,transformOrigin:0,opacity:0},{opacity:1,rotation:-160,transformOrigin:"-240px 30px",delay:.05,ease:Circ.easeNone}),this.starsIsAnimating=!0},h.prototype.animateLines=function(){this.linesIsAnimating=!0,TweenMax.set(this.$linesBg[0],{top:"150%"}),TweenMax.to(this.$linesBg[0],.5,{top:"-50%",ease:Expo.easeOut,delay:.05}),TweenMax.to(this.$linesBg[0],.5,{top:"-150%",delay:.35,ease:Expo.easeOut}),TweenMax.set(this.$linesBg[1],{top:"150%"}),TweenMax.to(this.$linesBg[1],.5,{top:"-50%",ease:Expo.easeOut,delay:.1}),TweenMax.to(this.$linesBg[1],.5,{top:"-150%",delay:.4,ease:Expo.easeOut}),TweenMax.set(this.$linesBg[2],{top:"150%"}),TweenMax.to(this.$linesBg[2],.5,{top:"-50%",ease:Expo.easeOut}),TweenMax.to(this.$linesBg[2],.5,{top:"-150%",delay:.3,ease:Expo.easeOut}),TweenMax.set(this.$linesBg[3],{top:"150%"}),TweenMax.to(this.$linesBg[3],.5,{top:"-50%",ease:Expo.easeOut}),TweenMax.to(this.$linesBg[3],.5,{top:"-150%",delay:.3,ease:Expo.easeOut}),TweenMax.set(this.$linesBg[4],{top:"150%"}),TweenMax.to(this.$linesBg[4],.5,{top:"-50%",ease:Expo.easeOut,delay:.15}),TweenMax.to(this.$linesBg[4],.5,{top:"-150%",delay:.45,ease:Expo.easeOut}),TweenMax.set(this.$linesBg[5],{top:"150%"}),TweenMax.to(this.$linesBg[5],.5,{top:"-50%",ease:Expo.easeOut,delay:.3}),TweenMax.to(this.$linesBg[5],.5,{top:"-150%",delay:.6,ease:Expo.easeOut})},h.prototype.onResize=function(){this.hBlock=n(this.$el).height(),s.prototype.onResize.call(this)},h.prototype.onUpdate=function(){},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e){i(29);var n=i(12),s=i(7),o=i(23),a=i(13),r=(i(30),function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.canAnimate=!1,a.call(this,t,e)});e.extend(r,a),e.extend(r.prototype,a.prototype),r.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.mainBlob=this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob,this.viewBlob=this.options.mainCanvasView.aCanvasAnimViews.start,this.$canvas=this.options.mainView.$canvas,a.prototype.init.call(this)},r.prototype.initTLShow=function(){},r.prototype.animate=function(){},r.prototype.show=function(){if(this.isAnimating=!0,"DOWN"==n.scrollYDirection){var t,e={width:this.mainBlob.path.bounds._width,y:this.mainBlob.path.position.y,color:o.rgbToHex(255*this.mainBlob.path.fillColor.red,255*this.mainBlob.path.fillColor.green,255*this.mainBlob.path.fillColor.blue)};TweenMax.to(e,2,{width:2*n.viewport.width,y:n.viewport.height/2,color:"#d5b5fb",ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.fillColor=e.color,t=this.mainBlob.getScale({w:e.width},this.mainBlob.path),this.mainBlob.path.scale(t),this.mainBlob.path.position.y=e.y}.bind(this),onComplete:function(){this.isAnimating=!1,this.trigger(s.CANVAS_SHOWN)}.bind(this),delay:.05})}else console.log("StarsCanvasView.prototype.show -> UP"),this.trigger(s.CANVAS_SHOWN)},r.prototype.hide=function(){if("UP"==n.scrollYDirection){var t=this.mainBlob.getScale({w:4*n.viewport.width,h:4*n.viewport.height},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.position.y=n.viewport.height/2,this.mainBlob.path.fillColor="#d5b5fb",TweenMax.set(this.$canvas,{background:"#F1F1F9"});var e,i={width:this.mainBlob.path.bounds._width};TweenMax.to(i,.9,{width:450,ease:Expo.easeOut,delay:.05,onUpdate:function(){e=this.mainBlob.getScale({w:i.width},this.mainBlob.path),this.mainBlob.path.scale(e)}.bind(this)}),this.mainBlob.path.position.y=n.viewport.height/2;var o={y:n.viewport.height/2};TweenMax.to(o,.9,{y:-250,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=o.y}.bind(this),delay:.1,onComplete:function(){this.isAnimating=!1,this.trigger(s.CANVAS_HIDDEN)}.bind(this)})}else this.trigger(s.CANVAS_HIDDEN)},r.prototype.onResize=function(){},t.exports=r}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(12),r=i(32),h=i(23);i(79);i(55);var l=function(t,e){this.aspectRatioOfMask=539/729,this.hasBeenPlayed=!1,this.id="series",this.currentVideo=0,this.currentYTID=null,this.videoPlayer=null,this.videoIsinit=!1,this.isMainVideo=!0,this.videoPlaying=!1,this.isAnimating={player:!1,switchMovie:!1,blocks:!1},this.events={"click .main-video .mask, iframe":"managePlayer","click .cta":"manageBlock","click .serie-video":"switchMovie","mouseenter .main-video .mask":"onMouseEnterMask","mouseenter .serie-video":"onMouseEnterMaskSerie","mouseleave .main-video .mask":"onMouseLeaveMask","mouseleave .serie-video":"onMouseLeaveMaskSerie"},this.canScroll=!!a.isMobile,s.call(this,t,e)};e.extend(l,s),e.extend(l.prototype,s.prototype),l.prototype.initDOM=function(){this.$canvas=this.options.mainView.$canvas,this.$postersMain=this.$el.find(".main-video .poster"),this.$postersContent=this.$el.find(".main-video .poster .content"),this.$episodes=this.$el.find(".serie-video"),this.$cover=this.$el.find(".serie-video .poster"),this.$seriesContainer=this.$el.find(".series-container"),this.$videoContainer=this.$el.find(".video-container"),this.$mask=this.$el.find(".main-video .mask"),this.$ctaLine=this.$el.find(".cta .line"),this.$cta=this.$el.find(".cta p"),this.$mainVideo=this.$el.find(".main-video"),this.$mainCovers=this.$el.find(".main-video .poster"),this.$titles=this.$el.find("h5"),this.$subTitles=this.$el.find("h6"),this.$mainTitles=this.$el.find(".main-video .poster h4"),this.$mainSubtitles=this.$el.find(".main-video .poster h5"),this.$mainImgs=this.$el.find(".main-video .poster p"),this.$mainVideos=[],e.each(this.$mainCovers,function(t,e){this.$mainVideos.push([this.$mainTitles[e],this.$mainSubtitles[e],this.$mainImgs[e]])}.bind(this)),this.paper=this.options.mainCanvasView.paper,s.prototype.initDOM.call(this)},l.prototype.setupDOM=function(){TweenMax.set(this.$el,{autoAlpha:0,display:"none"}),TweenMax.set(this.$mainCovers,{display:"none"}),TweenMax.set(this.$cover,{opacity:0}),s.prototype.setupDOM.call(this)},l.prototype.onDOMInit=function(){this.ytPlayerEl=this.$videoContainer.find(".yt-player"),this.currentYTID=this.ytPlayerEl.attr("data-youtubeid"),h.loadYTAPI(function(){this.initVideo()}.bind(this)),this.dataVideos=this.$canvas.getAttribute("data-src-serie"),this.ctaContent=this.$canvas.getAttribute("data-src-serie-cta"),this.dataVideos=this.dataVideos.split(";"),e.each(this.dataVideos,function(t,e){t=t.split("$"),this.dataVideos[e]=t}.bind(this)),this.dataVideos.splice(this.dataVideos.length-1,1),s.prototype.onDOMInit.call(this)},l.prototype.initVideo=function(){this.videoPlayer=new r({el:this.$videoContainer[0],hasCustomControls:!1},null),this.videoPlayer.init(),this.listenTo(this.videoPlayer,o.READY,c.bind(this)),this.listenTo(this.videoPlayer,o.ON_END,this._videoHasEnded.bind(this))};var c=function(){this.videoIsinit=!0};l.prototype._videoHasEnded=function(){this.isAnimating.player=!0,TweenMax.staggerFromTo(this.$mainVideos[this.currentVideo],.5,{x:-50},{x:0,opacity:1,ease:Expo.easeOut},.05,function(){this.videoPlaying=!1,this.isAnimating.player=!1}.bind(this)),TweenMax.to(this.$mainCovers[this.currentVideo],.5,{scale:1,display:"flex",opacity:1,ease:Expo.easeOut}),this.$mainVideo.removeClass("playing")},l.prototype.initTLShow=function(){},l.prototype.initTLHide=function(){},l.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(o.BLOCK_SHOWN),this.trigger(o.CANVAS_SHOWN),TweenMax.set(this.$el,{scrollTo:0}),s.prototype.onShown.call(this)},l.prototype.onHidden=function(){this.trigger(o.BLOCK_HIDDEN),this.trigger(o.CANVAS_HIDDEN),s.prototype.onHidden.call(this)},l.prototype.show=function(){"DOWN"==a.scrollYDirection?(TweenMax.set(this.$el,{scrollTo:0}),TweenMax.fromTo(this.$el,.6,{y:100},{y:0,autoAlpha:1,display:"flex",ease:Expo.easeOut,onUpdate:function(){a.isMobile&&a.viewport.height<920&&a.mainView.setNormalScrollBehavior()}.bind(this),onComplete:this.onShown.bind(this)}),TweenMax.fromTo(this.$mainCovers[this.currentVideo],.6,{scale:1.3,opacity:0},{scale:1,display:"flex",opacity:1,ease:Expo.easeOut,delay:.2})):(TweenMax.fromTo(this.$el,.6,{autoAlpha:0,y:100},{y:0,autoAlpha:1,display:"flex",ease:Expo.easeOut,onUpdate:function(){a.isMobile&&a.viewport.height<920&&a.mainView.setNormalScrollBehavior()}.bind(this)}),TweenMax.fromTo(this.$mainCovers[this.currentVideo],.6,{scale:1.3,opacity:0},{scale:1,display:"flex",opacity:1,ease:Expo.easeOut,delay:.05,onComplete:this.onShown.bind(this)})),this.isMainVideo||TweenMax.staggerFromTo(this.$cover,.5,{scale:1.3,opacity:0},{scale:1,opacity:1,ease:Expo.easeOut,delay:.1},.07)},l.prototype.hide=function(){this.videoPlaying&&this.managePlayer(),"DOWN"==a.scrollYDirection?(TweenMax.to(this.$el,.6,{autoAlpha:0,display:"none",ease:Expo.easeOut}),TweenMax.to(this.$mainCovers[this.currentVideo],.6,{scale:1.3,opacity:0,ease:Expo.easeOut,onComplete:function(){this.onHidden()}.bind(this)}),TweenMax.staggerTo(this.$cover,.5,{scale:1.3,opacity:0,ease:Expo.easeOut},.05)):(TweenMax.set(this.$el,{autoAlpha:0,display:"none",ease:Expo.easeOut,delay:.3}),setTimeout(function(){this.onHidden()}.bind(this),150)),this.isMainVideo||this.manageBlock()},l.prototype.switchMovie=function(t){var e=parseFloat(n(t.currentTarget).attr("data-id"));this.isMainVideo&&this.managePlayer(),this.isAnimating.switchMovie||this.currentVideo==e||this.isMainVideo||(this.isAnimating.switchMovie=!0,TweenMax.staggerTo(this.$mainVideos[this.currentVideo],.6,{x:50,opacity:0,ease:Expo.easeOut},.05),TweenMax.to(this.$mainCovers[this.currentVideo],.8,{scale:1.3,display:"none",opacity:0,ease:Expo.easeOut}),TweenMax.fromTo(this.$mainCovers[e],.6,{scale:1.3,opacity:0},{scale:1,display:"flex",opacity:1,ease:Expo.easeOut}),TweenMax.staggerFromTo(this.$mainVideos[e],.6,{x:-50,opacity:0},{x:0,opacity:1,delay:.3,ease:Expo.easeOut,onComplete:function(){this.currentVideo=e,this.isAnimating.switchMovie=!1}.bind(this)},.05),this.manageBlock())},l.prototype.managePlayer=function(t){console.log(" manage player",this.isAnimating),!this.isAnimating.player&&this.videoIsinit&&(this.newYTID=this.dataVideos[this.currentVideo][3],this.isAnimating.player=!0,this.videoPlaying?(console.log(" video is playing pause it!"),this.videoPlayer.togglePlay(),TweenMax.staggerFromTo(this.$mainVideos[this.currentVideo],.5,{x:-50},{x:0,opacity:1,ease:Expo.easeOut},.05,function(){this.videoPlaying=!1,this.isAnimating.player=!1}.bind(this)),TweenMax.to(this.$mainCovers[this.currentVideo],.5,{scale:1,display:"flex",opacity:1,ease:Expo.easeOut}),this.$mainVideo.removeClass("playing")):(this.currentYTID===this.newYTID?this.videoPlayer.togglePlay():(this.videoPlayer.YTPlayer.player.loadVideoById(this.newYTID),this.currentYTID=this.newYTID),this.$mainVideo.addClass("playing"),TweenMax.to(this.$mainCovers[this.currentVideo],.5,{scale:1.3,display:"none",opacity:0,ease:Expo.easeOut}),TweenMax.staggerTo(this.$mainVideos[this.currentVideo],.5,{x:50,opacity:0,ease:Expo.easeOut},.05,function(){this.videoPlaying=!0,this.isAnimating.player=!1}.bind(this)),t&&"click"==t.type&&(this.isMainVideo||this.manageBlock())))},l.prototype.onMouseEnterMask=function(t){a.isMobile||TweenMax.to(this.$postersMain[this.currentVideo],.5,{scale:1.05,ease:Expo.easeOut})},l.prototype.onMouseLeaveMask=function(t){a.isMobile||TweenMax.to(this.$postersMain[this.currentVideo],.5,{scale:1,ease:Expo.easeOut})},l.prototype.onMouseEnterMaskSerie=function(t){a.isMobile||TweenMax.to(this.$cover[parseInt(n(t.currentTarget).attr("data-id"))],.4,{scale:1.05,ease:Expo.easeOut})},l.prototype.onMouseLeaveMaskSerie=function(t){a.isMobile||TweenMax.to(this.$cover[parseInt(n(t.currentTarget).attr("data-id"))],.4,{scale:1,ease:Expo.easeOut})},l.prototype.manageBlock=function(t){console.log(" manage block ---- "),this.isAnimating.blocks||(this.isAnimating.blocks=!0,this.isMainVideo?(TweenMax.set(this.$seriesContainer,{autoAlpha:1,display:"block"}),TweenMax.staggerFromTo(this.$cover,.5,{scale:1.3,opacity:0},{scale:1,opacity:1,ease:Expo.easeOut,delay:.1},.07,function(){this.isMainVideo=!1,this.isAnimating.blocks=!1}.bind(this)),TweenMax.staggerFromTo(this.$titles,.5,{opacity:0},{opacity:1,ease:Expo.easeOut,delay:.05},.05),TweenMax.staggerFromTo(this.$subTitles,.5,{opacity:0},{opacity:1,ease:Expo.easeOut,delay:.1},.05),this.$mainVideo.addClass("expanded"),console.log(" expanding.. pause video!!!",this.videoPlaying),this.videoPlaying&&this.managePlayer()):(TweenMax.staggerTo(this.$cover,.35,{scale:1.3,opacity:0,ease:Expo.easeOut},.05,function(){this.isMainVideo=!0,this.isAnimating.blocks=!1}.bind(this)),TweenMax.staggerTo(this.$titles,.35,{opacity:0,ease:Expo.easeOut},.05),TweenMax.staggerTo(this.$subTitles,.35,{opacity:0,ease:Expo.easeOut},.05,function(){TweenMax.set(this.$seriesContainer,{autoAlpha:0,display:"none"})}.bind(this)),this.$mainVideo.removeClass("expanded")),this.onResize(!this.isMainVideo))},l.prototype.onResize=function(t){s.prototype.onResize.call(this);var e=t?this.isMainVideo:t,i=Math.round(a.viewport.width);e||(a.isMobile?i*=.8:i*=.5);var n=this.aspectRatioOfMask*i;"sml"!=a.breakpoint&&(n="",i=""),this.$mainVideo.css({height:n,width:i})},l.prototype.onUpdate=function(){},l.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=l}).call(e,i(3),i(1))},function(module,exports,__webpack_require__){(function(_,paper){var AbstractCanvasView=__webpack_require__(36),Blob=__webpack_require__(29),EVENT=__webpack_require__(7),CV=__webpack_require__(12),SeriesCanvasView=function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.currentView=t.currentView,this.index=0,this.canAnimate=!1,AbstractCanvasView.call(this,t,e)};_.extend(SeriesCanvasView,AbstractCanvasView),_.extend(SeriesCanvasView.prototype,AbstractCanvasView.prototype),SeriesCanvasView.prototype.init=function(){this.mainBlob=this.mainCanvasView.aCanvasAnimViews.start.mainBlob,this.blobs=[],this.scope=this,this.paper=this.options.mainCanvasView.paper,this.$canvas=this.mainView.$canvas,this.$svg=this.mainView.$svgFace,this.$el=this.mainView.$el,this.dataVideos=this.$canvas.getAttribute("data-src-serie"),this.ctaContent=this.$canvas.getAttribute("data-src-serie-cta"),this.dataVideos=this.dataVideos.split(";"),_.each(this.dataVideos,function(t,e){t=t.split("$"),this.dataVideos[e]=t}.bind(this)),this.dataVideos.splice(this.dataVideos.length-1,1),this.blobs=[],this.wBlob=175,this.hBlob=200,this.sizeFirstContainerBlob=3*this.wBlob,this.sizeSecondContainerBlob=2*this.wBlob,this.xFirstContainerBlob=(CV.viewport.width-this.sizeFirstContainerBlob)/2,this.xSecondContainerBlob=(CV.viewport.width-this.sizeSecondContainerBlob)/2,this.realWBlob,this.realHBlob;var xBlob,yBlob,yDOM,xDOM;this.itemsPosition=[],this.bgRectangle=new paper.Rectangle(new paper.Point(0,0),new paper.Size(this.paper.view.size.width+10,this.paper.view.size.height+10)),this.rectanglePath=new paper.Path.Rectangle(this.bgRectangle),this.rectanglePath.selected=!1,_.each(this.dataVideos,function(data,i){xBlob=i<3?"this.scope.xFirstContainerBlob +"+i+" * this.scope.wBlob + this.scope.wBlob/2":"this.scope.xSecondContainerBlob +"+(i-3)+" * this.scope.wBlob + this.scope.wBlob/2",yBlob=i<3?CV.viewport.height/2+100:"this.paper.view.size.height / 2 + 80 + this.scope.hBlob",yDOM=i<3?CV.viewport.height/2-this.hBlob/2+150:CV.viewport.height/2-this.hBlob/2+this.hBlob+100,xDOM=i<3?this.xFirstContainerBlob+i*this.wBlob:this.xSecondContainerBlob+(i-3)*this.wBlob,(CV.isMobile||CV.viewport.width<920)&&(xBlob=i%2?.25*CV.viewport.width:.75*CV.viewport.width),this.blobs.push(new Blob({index:i,scope:this,canvasView:this.mainCanvasView,path:"M347,23c21.4-87.2,102.1-147.3,198.7-184.3C643-198.6,756.5-212.5,842-207c100.9,6.5,152.9,74.5,177,160.2c23.4,82.9,20.7,182.5,11,258.8c-12.4,98-78.9,137.8-167.9,151.9c-82.5,13.1-184.4,4.1-280.2-1.1c-98.4-5.4-175.1-62.6-214.5-142C338.6,162.8,329.8,93,347,23z",position:{x:xBlob,y:yBlob},canHover:!0,size:{w:CV.isMobile?.25*CV.viewport.width:125},orbit:{h:5*i/10,w:5*i/10},multipleContent:{title:data[0],subtitle:data[1],color:"#052449"}})),this.realWBlob=this.blobs[i].path.bounds._width,this.realHBlob=this.blobs[i].path.bounds._height,this.itemsPosition.push({name:"blob"+i,i:i,y:eval(yBlob),x:eval(xBlob),w:this.realWBlob+40,h:this.realHBlob+40}),this.blobs[i].canAnimate=!0,this.blobs[i].path.visible=!1,TweenMax.set(this.currentView.$episodes[i],{left:this.blobs[i].path.bounds._x-20,top:this.blobs[i].path.bounds._y-10,height:this.blobs[i].path.bounds._height+20,width:this.blobs[i].path.bounds._width+40})}.bind(this));var wVideoBlob=CV.isMobile?"CV.viewport.width * .75":"CV.viewport.width * .5";this.videoBlob=new Blob({scope:this,canvasView:this.mainCanvasView,path:"M131.5,150.4c-21.9-0.1-67.8,6.7-99.1-3.7c-18.2-6.1-31.5-18-32.3-40.4c0,0-0.9-29.9,24-50c13-10.5,33.2-18.3,64.2-17.8c36,0.9,63.5-0.6,82.1,5.9c19,6.6,28.9,21.5,29.3,55.7c1,23.4-5.9,35.3-16.9,41.6C169.6,149.1,150.4,148.7,131.5,150.4z",position:{x:"CV.viewport.width / 2",y:"CV.viewport.height / 2"},canHover:!0,size:{w:wVideoBlob},orbit:{h:10,w:10}}),CV.isMobile||(this.videoBlob.path.bounds.width=.35*CV.viewport.width,this.videoBlob.path.position.x=CV.viewport.width/2,this.videoBlob.path.position.y=CV.viewport.height/2),this.compoundPath=new paper.CompoundPath({children:[this.rectanglePath,this.videoBlob.path,this.blobs[0].path,this.blobs[1].path,this.blobs[2].path,this.blobs[3].path,this.blobs[4].path],fillColor:"white"}),_.each(this.blobs,function(t,e){t.generateContent()}.bind(this)),this.title=new paper.PointText,this.title.justification="center",this.title.style={fontFamily:"sharp-sans-bold",fontSize:18,fillColor:"#042349"},this.title.content=this.ctaContent,this.arrowRaster=new this.paper.Raster({source:"http://"+window.location.host+"/wp-content/themes/zocdoc-careers/assets/svg/arrow.svg"}),this.crossRaster=new this.paper.Raster({source:"http://"+window.location.host+"/wp-content/themes/zocdoc-careers/assets/svg/cross.svg"}),this.arrowRaster.position.y=this.title.position.y,this.arrowRaster.position.x=this.title.position.x+this.title.bounds.width/2+15,this.arrowRaster.scale(.7),this.crossRaster.visible=!1,this.ctaGroup=new paper.Group([this.title,this.arrowRaster,this.crossRaster]),this.ctaGroup.visible=!1,this.ctaGroup.opacity=0,this.ctaGroup.position=new paper.Point(CV.viewport.width/2,this.videoBlob.path.bounds._y+this.videoBlob.path.bounds._height+40),this.isVisisble=!1,this.compoundPath.visible=!1,this.itemsPosition.push({name:"ctaGroup",y:this.ctaGroup.bounds._y,x:this.ctaGroup.bounds._x,w:this.ctaGroup.bounds._width,h:this.ctaGroup.bounds._height}),this.itemsPosition.push({name:"video",isBig:!1,y:this.videoBlob.path.bounds._y,x:this.videoBlob.path.bounds._x,w:this.videoBlob.path.bounds._x+this.videoBlob.path.bounds._width,h:this.videoBlob.path.bounds._y+this.videoBlob.path.bounds._height}),AbstractCanvasView.prototype.init.call(this)},SeriesCanvasView.prototype.setPositionMainVideo=function(){TweenMax.set(this.currentView.$mainVideo,{top:this.videoBlob.path.bounds._y-20,left:-20,height:this.videoBlob.path.bounds._height+40,width:this.videoBlob.path.bounds._width+40}),this.crossRaster.position.y=this.title.position.y-5,this.crossRaster.position.x=this.title.position.x+this.title.bounds.width/2+15,this.ctaGroup&&(this.ctaGroup.position=new paper.Point(CV.viewport.width/2,this.videoBlob.path.bounds._y+this.videoBlob.path.bounds._height+40)),this.itemsPosition[this.itemsPosition.length-1]={name:"video",isBig:this.itemsPosition[this.itemsPosition.length-1].isBig,y:this.videoBlob.path.bounds._y,x:this.videoBlob.path.bounds._x,w:this.videoBlob.path.bounds._x+this.videoBlob.path.bounds._width,h:this.videoBlob.path.bounds._y+this.videoBlob.path.bounds._height},this.itemsPosition[this.itemsPosition.length-2]={name:"ctaGroup",y:this.ctaGroup.bounds._y,x:this.ctaGroup.bounds._x,w:this.ctaGroup.bounds._width,h:this.ctaGroup.bounds._height}},SeriesCanvasView.prototype.managerBlobs=function(){this.isVisisble=!this.isVisisble,_.each(this.blobs,function(t){t.path.visible=this.isVisisble,t.title.visible=this.isVisisble,t.subtitle.visible=this.isVisisble}.bind(this))},SeriesCanvasView.prototype.show=function(){this.mainBlob.path.visible=!1,this.compoundPath.visible=!0,this.videoBlob.canAnimate=!0,this.ctaGroup.visible=!0,this.videoBlob.path.visible=!0,this.rectanglePath.visible=!0,this.videoBlob.path.position.y=CV.viewport.height/2,this.videoBlob.path.position.x=CV.viewport.width/2,_.each(this.blobs,function(t,e){t.generateSettingsPoints(),t.path.visible=!1,e==this.blobs.length-1&&(this.canAnimate=!0)}.bind(this)),TweenMax.set(this.$canvas,{zIndex:15,background:"none",x:0,y:0}),this.ctaGroup.position.y=this.ctaGroup.position.y+100;var t={opacity:0,y:this.ctaGroup.position.y};TweenMax.to(t,.5,{opacity:1,y:this.videoBlob.path.bounds._y+this.videoBlob.path.bounds._height+50,ease:Expo.easeOut,delay:.1,onUpdate:function(){this.ctaGroup.opacity=t.opacity,this.ctaGroup.position.y=t.y}.bind(this),onComplete:function(){this.itemsPosition[this.itemsPosition.length-2]={name:"ctaGroup",y:this.ctaGroup.bounds._y,x:this.ctaGroup.bounds._x,w:this.ctaGroup.bounds._width,h:this.ctaGroup.bounds._height},this.trigger(EVENT.CANVAS_SHOWN),this.canAnimate=!0}.bind(this)})},SeriesCanvasView.prototype.hide=function(){this.currentView.isMainVideo||this.managerBlobs(),this.ctaGroup.visible=!1,this.ctaGroup.opacity=0,this.videoBlob.path.visible=!1,this.rectanglePath.visible=!1,_.each(this.blobs,function(t){t.path.visible=!1}.bind(this)),this.trigger(EVENT.CANVAS_HIDDEN),this.mainBlob.path.visible=!0,this.compoundPath.visible=!1},SeriesCanvasView.prototype.animate=function(t){this.canAnimate&&(this.videoBlob.animate(t),_.each(this.blobs,function(e){e.paper&&e.animate(t)}.bind(this)))},SeriesCanvasView.prototype.mouseMove=function(t){if(this.isShown){var e=this.isItem(t.point);document.body.style.cursor=e||0==e?"pointer":"default"}},SeriesCanvasView.prototype.mouseDown=function(t){if(this.options.currentView.isMainVideo)t.point.y>this.videoBlob.path.position.y+this.videoBlob.path.bounds.height/2?this.currentView.manageBlock():(this.currentView.managePlayer(),this.setSizeBlobVideo());else{var e=this.isItem(t.point);"video"==e?(this.currentView.managePlayer(),this.setSizeBlobVideo()):"ctaGroup"==e?this.currentView.manageBlock():e&&this.currentView.switchMovie(this.currentItem.i)}},SeriesCanvasView.prototype.setSizeBlobVideo=function(){if(CV.isMobile){this.itemsPosition[this.itemsPosition.length-1].isBig=!this.itemsPosition[this.itemsPosition.length-1].isBig,this.videoBlob.canAnimate=!1,this.crossRaster.visible=!this.crossRaster.visible,this.arrowRaster.visible=!this.arrowRaster.visible;var t={width:this.videoBlob.path.bounds._width};TweenMax.to(t,.5,{width:this.itemsPosition[this.itemsPosition.length-1].isBig?this.options.currentView.isMainVideo?.5*CV.viewport.width:.3*CV.viewport.width:this.options.currentView.isMainVideo?.35*CV.viewport.width:350,ease:Expo.easeOut,onUpdate:function(){this.videoBlob.path.bounds.width=t.width,this.videoBlob.path.position.x=CV.viewport.width/2,this.setPositionMainVideo()}.bind(this),onComplete:function(){this.itemsPosition[this.itemsPosition.length-1].isBig||(this.videoBlob.canAnimate=!0)}.bind(this)})}},SeriesCanvasView.prototype.isItem=function(p){var itemName=null,yItem,xItem,wItem,hItem;return _.each(this.itemsPosition,function(item,i){return yItem=eval(item.y),xItem=eval(item.x),wItem=item.w/2,hItem=item.h/2,p&&p.y>yItem-hItem&&p.y<yItem+hItem&&p.x>xItem-wItem&&p.x<xItem+wItem&&!itemName?(this.currentItem=item,itemName=item.name):itemName}.bind(this)),itemName},SeriesCanvasView.prototype.onResize=function(){this.xFirstContainerBlob=(CV.viewport.width-this.sizeFirstContainerBlob)/2,this.xSecondContainerBlob=(CV.viewport.width-this.sizeSecondContainerBlob)/2,this.videoBlob.canAnimate=!1,this.videoBlob.path.position.x=CV.viewport.width/2,this.videoBlob.generateSettingsPoints();var t;_.each(this.blobs,function(e,i){e.canAnimate=!0,t=i<3?this.xFirstContainerBlob+i*this.wBlob+this.wBlob/2:this.xSecondContainerBlob+(i-3)*this.wBlob+this.wBlob/2,e.generateSettingsPoints()}.bind(this)),this.ctaGroup.position.x=CV.viewport.width/2,AbstractCanvasView.prototype.onResize.call(this)},module.exports=SeriesCanvasView}).call(exports,__webpack_require__(3),__webpack_require__(26))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(12);i(55);var r=i(81),h=function(t,e){this.hasBeenPlayed=!1,this.id="contact",this.canScroll=!0,s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.init=function(){s.prototype.init.call(this)},h.prototype.initDOM=function(){this.options.mainCanvasView.register(this.id,new r({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.contact,o.CANVAS_SHOWN,l.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.contact,o.CANVAS_HIDDEN,c.bind(this)),s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){TweenMax.set(this.$el,{display:"none"}),s.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){this.$title=this.$el.find("h2"),this.$subTitle=this.$el.find("h3"),this.$button=this.$el.find("button"),this.$images=this.$el.find(".hidden"),this.$footerContainer=this.$el.find(".footer-container")[0],n(this.$footerContainer).append(this.options.mainView.$footer),this.$els=[this.$title,this.$subTitle,this.$button],s.prototype.onDOMInit.call(this)},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(o.BLOCK_SHOWN),s.prototype.onShown.call(this)},h.prototype.onHidden=function(){this.trigger(o.BLOCK_HIDDEN),s.prototype.onHidden.call(this)},h.prototype.show=function(){this.options.mainCanvasView.aCanvasAnimViews.contact.initAnimInUp(),TweenMax.set(this.options.mainView.$canvas,{zIndex:20,onComplete:function(){this.options.mainCanvasView.showCanvas(this.id)}.bind(this)}),TweenMax.set(this.options.mainView.$canvas,{zIndex:2,delay:.5}),TweenMax.staggerFromTo(this.$els,.5,{autoAlpha:0,y:40},{autoAlpha:1,y:0,ease:Expo.easeOut,delay:.5},.1,function(){a.mainView.setNormalScrollBehavior(),this.onShown()}.bind(this)),TweenMax.fromTo(this.$images,.5,{autoAlpha:0,y:40},{autoAlpha:1,y:0,ease:Expo.easeOut,delay:.55}),TweenMax.set(this.$el,{display:"flex",autoAlpha:1,delay:.1}),this.canAnimate=!0,TweenMax.set(this.$el,{scrollTo:0})},h.prototype.hide=function(){TweenMax.set(this.$el,{display:"none",ease:Expo.easeInOut,delay:.4,onComplete:function(){a.mainView.setNormalScrollBehavior(!1),this.onHidden()}.bind(this)}),this.canAnimate=!1,TweenMax.to(this.$images,.35,{autoAlpha:0,y:40,ease:Expo.easeOut}),TweenMax.to(this.$els,.3,{autoAlpha:0,y:40,ease:Expo.easeOut}),a.mainView.setNormalScrollBehavior(!1),this.options.mainCanvasView.hideCanvas(this.id)};var l=function(){TweenMax.set(this.options.mainView.$canvas,{zIndex:-1}),this.trigger(o.CANVAS_SHOWN)},c=function(){TweenMax.set(this.options.mainView.$canvas,{zIndex:-1}),this.trigger(o.CANVAS_HIDDEN)};h.prototype.onResize=function(){s.prototype.onResize.call(this)},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e){i(29);var n=i(12),s=i(7),o=i(13),a=(i(30),function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.canAnimate=!1,this.id="contact",o.call(this,t,e)});e.extend(a,o),e.extend(a.prototype,o.prototype),a.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.mainBlob=this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob,this.viewBlob=this.options.mainCanvasView.aCanvasAnimViews.start,this.$canvas=this.options.mainView.$canvas,o.prototype.init.call(this)},a.prototype.initTLShow=function(){},a.prototype.animate=function(){},a.prototype.initAnimInUp=function(){this.mainBlob.path.fillColor="#42d6f8";var t=this.mainBlob.getScale({w:.6*n.viewport.width},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.visible=!0,this.mainBlob.path.opacity=1,this.mainBlob.path.position.y=2*n.viewport.height,this.mainBlob.path.position.x=n.viewport.width/2},a.prototype.show=function(){this.isAnimating=!0,this.mainBlob.path.fillColor="#42d6f8",TweenMax.set(this.$canvas,{zIndex:20});var t,e={width:this.mainBlob.path.bounds._width};TweenMax.to(e,2,{width:2*n.viewport.width,ease:Expo.easeOut,onUpdate:function(){t=this.mainBlob.getScale({w:e.width},this.mainBlob.path),this.mainBlob.path.scale(t)}.bind(this),onComplete:function(){this.isAnimating=!1,this.mainBlob.path.visible=!1,this.trigger(s.CANVAS_SHOWN)}.bind(this)});var i={y:1.5*n.viewport.height};TweenMax.to(i,2,{y:n.viewport.height/2,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=i.y}.bind(this)})},a.prototype.hide=function(){var t=this.mainBlob.getScale({w:.6*n.viewport.width},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.visible=!0,this.mainBlob.path.opacity=1,this.mainBlob.path.position.y=.6*-n.viewport.height,this.mainBlob.path.position.x=n.viewport.width/2,this.isAnimating=!0,this.mainBlob.path.fillColor="white",TweenMax.set(this.$canvas,{zIndex:20});var e,i={height:this.mainBlob.path.bounds._height};TweenMax.to(i,2,{height:3*n.viewport.height,ease:Expo.easeOut,onUpdate:function(){e=this.mainBlob.getScale({h:i.height},this.mainBlob.path),this.mainBlob.path.scale(e)}.bind(this),onComplete:function(){this.isAnimating=!1}.bind(this)});var o={y:this.mainBlob.path.position.y};TweenMax.to(o,1,{y:n.viewport.height/2,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=o.y}.bind(this)}),setTimeout(function(){this.trigger(s.CANVAS_HIDDEN)}.bind(this),500)},a.prototype.onResize=function(){},t.exports=a}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(11),o=i(7),a=i(12),r=i(83),h=function(t,e){this.id="clients",this.hasBeenPlayed=!1,this.canScroll=!!a.isMobile,s.call(this,t,e)};e.extend(h,s),e.extend(h.prototype,s.prototype),h.prototype.initDOM=function(){this.hBlock=n(this.$el).height(),TweenMax.set(this.$el,{display:"none"}),this.$title=this.$el.find("h2"),this.$button=this.$el.find("button"),this.$titleQuote=this.$el.find(".quote-block h3"),this.$textQuote=this.$el.find(".quote-block .quote"),this.$authorQuote=this.$el.find(".quote-block .author"),this.$workQuote=this.$el.find(".quote-block .author"),this.$titleClients=this.$el.find(".clients-logos-block h3"),this.$logoClients=this.$el.find(".clients-logos-block .logo"),this.$logosBlock=this.$el.find(".clients-logos-block"),this.$quoteBlock=this.$el.find(".quote-block"),this.$els=[this.$title,this.$titleQuote,this.$textQuote,this.$authorQuote,this.$workQuote,this.$titleClients],this.options.mainCanvasView.register(this.id,new r({mainCanvasView:this.options.mainCanvasView,mainView:this.options.mainView},null)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.clients,o.CANVAS_SHOWN,l.bind(this)),this.listenTo(this.options.mainCanvasView.aCanvasAnimViews.clients,o.CANVAS_HIDDEN,c.bind(this)),s.prototype.initDOM.call(this)},h.prototype.setupDOM=function(){TweenMax.set(this.$el,{opacity:0,display:"none"}),TweenMax.set(this.$title,{opacity:0,y:100}),TweenMax.set(this.$quoteBlock,{opacity:0,y:100}),TweenMax.set(this.$logosBlock,{opacity:0,y:50}),TweenMax.set(this.$button,{opacity:0,y:100}),s.prototype.setupDOM.call(this)},h.prototype.onDOMInit=function(){s.prototype.onDOMInit.call(this)},h.prototype.initTLShow=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.2,{opacity:1,display:"flex"},.2).to(this.$title,.75,{opacity:1,y:0,ease:Expo.easeOut},.2).to(this.$quoteBlock,.75,{opacity:1,y:0,ease:Expo.easeOut},.2).to(this.$logosBlock,.75,{opacity:1,y:0,ease:Expo.easeOut},.4).to(this.$button,.75,{opacity:1,y:0,ease:Expo.easeOut},.55)},h.prototype.initTLHide=function(){this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onHidden.bind(this)}),this.TL.hide.to(this.$title,.75,{opacity:0,y:"DOWN"==a.scrollYDirection?100:-100,ease:Expo.easeOut}).to(this.$quoteBlock,.75,{opacity:0,y:"DOWN"==a.scrollYDirection?100:-100,ease:Expo.easeOut},.05).to(this.$logosBlock,.75,{opacity:0,y:"DOWN"==a.scrollYDirection?100:-100,ease:Expo.easeOut},.1).to(this.$button,.75,{opacity:0,y:"DOWN"==a.scrollYDirection?100:-100,ease:Expo.easeOut},.15).to(this.$el,.2,{opacity:0,display:"none"},"-=0.5")},h.prototype.onShown=function(){this.hasBeenPlayed||(this.hasBeenPlayed=!0),this.trigger(o.BLOCK_SHOWN),a.isMobile&&a.mainView.setNormalScrollBehavior(),s.prototype.onShown.call(this)},h.prototype.onHidden=function(){a.isMobile&&a.mainView.setNormalScrollBehavior(!1),this.trigger(o.BLOCK_HIDDEN),this.trigger(o.CANVAS_HIDDEN),s.prototype.onHidden.call(this)};var l=function(){TweenMax.set(this.options.mainView.$canvas,{zIndex:-1}),this.trigger(o.CANVAS_SHOWN)},c=function(){this.trigger(o.CANVAS_HIDDEN)};h.prototype.show=function(){setTimeout(function(){this.TL.show.play(0),this.options.mainCanvasView.showCanvas(this.id)}.bind(this),0)},h.prototype.hide=function(){setTimeout(function(){this.TL.hide.play(0)}.bind(this),0)},h.prototype.onResize=function(){this.canScroll=!!a.isMobile,this.hBlock=n(this.$el).height(),s.prototype.onResize.call(this)},h.prototype.onUpdate=function(){},h.prototype.dispose=function(){s.prototype.dispose.call(this)},t.exports=h}).call(e,i(3),i(1))},function(t,e,i){(function(e){i(29);var n=i(12),s=i(7),o=i(23),a=i(13),r=(i(30),function(t,e){this.mainCanvasView=t.mainCanvasView,this.mainView=t.mainView,this.canAnimate=!1,a.call(this,t,e)});e.extend(r,a),e.extend(r.prototype,a.prototype),r.prototype.init=function(){this.paper=this.options.mainCanvasView.paper,this.mainBlob=this.options.mainCanvasView.aCanvasAnimViews.start.mainBlob,this.viewBlob=this.options.mainCanvasView.aCanvasAnimViews.start,this.$canvas=this.options.mainView.$canvas,a.prototype.init.call(this)},r.prototype.initTLShow=function(){},r.prototype.animate=function(){},r.prototype.initAnimInUp=function(){var t=this.mainBlob.getScale({w:4*n.viewport.width},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.visible=!0,this.mainBlob.path.opacity=1,this.mainBlob.path.position.y=n.viewport.height/2,this.mainBlob.path.position.x=n.viewport.width/2},r.prototype.initAnimInDown=function(){var t=this.mainBlob.getScale({w:4*n.viewport.width},this.mainBlob.path);this.mainBlob.path.scale(t),this.mainBlob.path.visible=!0,this.mainBlob.path.opacity=1,this.mainBlob.path.position.y=n.viewport.height/2,this.mainBlob.path.position.x=n.viewport.width/2};var h=function(){var t,e={height:this.mainBlob.path.bounds._height,color:o.rgbToHex(255*this.mainBlob.path.fillColor.red,255*this.mainBlob.path.fillColor.green,255*this.mainBlob.path.fillColor.blue)},i={y:n.viewport.height/2};this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.set(this.$canvas,{zIndex:20}).call(function(){this.isAnimating=!0}.bind(this)).to(e,1.2,{height:.6*n.viewport.height,color:"#f1f1f9",ease:Power4.easeOut,onUpdate:function(){t=this.mainBlob.getScale({h:e.height},this.mainBlob.path),this.mainBlob.path.scale(t),this.mainBlob.path.fillColor=e.color}.bind(this)}).to(i,1,{y:"DOWN"==n.scrollYDirection?1.3*n.viewport.height:.6*-n.viewport.height,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=i.y}.bind(this)},.1)};r.prototype.show=function(){"UP"==n.scrollYDirection?this.initAnimInUp():this.initAnimInDown(),h.call(this),this.TL.show.play(0)},r.prototype.hide=function(){this.isAnimating=!0,TweenMax.set(this.$canvas,{zIndex:20});var t,e={height:this.mainBlob.path.bounds._height};TweenMax.to(e,1.2,{height:4*n.viewport.height,ease:Expo.easeOut,onUpdate:function(){t=this.mainBlob.getScale({h:e.height},this.mainBlob.path),this.mainBlob.path.scale(t)}.bind(this),onComplete:function(){this.isAnimating=!1,this.trigger(s.CANVAS_HIDDEN)}.bind(this)}),this.mainBlob.path.position.y="UP"==n.scrollYDirection?1.3*n.viewport.height:.6*-n.viewport.height;var i={y:this.mainBlob.path.position.y};TweenMax.to(i,1.2,{y:n.viewport.height/2,ease:Expo.easeOut,onUpdate:function(){this.mainBlob.path.position.y=i.y}.bind(this)})},r.prototype.onShown=function(){this.isAnimating=!1,this.trigger(s.CANVAS_SHOWN),a.prototype.onShown.call(this)},r.prototype.onResize=function(){},t.exports=r}).call(e,i(3))},function(t,e,i){(function(e,n){var s=i(36),o=i(7),a=function(t,e){this.paper=null,this.aCanvasAnimViews={},this.currentCanvasAnimView=null,this.oldCanvasAnimView=null,this.isCanvasHidden=!1,s.call(this,t,e)};e.extend(a,s),e.extend(a.prototype,s.prototype),a.prototype.init=function(){this.paper=new n.PaperScope,this.paper.setup(this.options.el),this.tool=new this.paper.Tool,this.mousePoint=new n.Point(-500,-500),s.prototype.init.call(this)},a.prototype.register=function(t,e){this.aCanvasAnimViews[t]=e,this.aCanvasAnimViews[t].init(),e&&this.listenTo(e,o.CANVAS_SHOWN,r.bind(this)),e&&this.listenTo(e,o.CANVAS_HIDDEN,h.bind(this))},a.prototype.showCanvas=function(t){this.isCanvasHidden=!1,this.currentCanvasAnimView=this.aCanvasAnimViews[t],this.currentCanvasAnimView.show()};var r=function(){this.trigger(o.CANVAS_SHOWN),console.log("_canvasShown")};a.prototype.hideCanvas=function(t){this.isCanvasHidden=!0,this.oldCanvasAnimView=this.currentCanvasAnimView,this.oldCanvasAnimView.hide&&this.oldCanvasAnimView.hide()};var h=function(){this.trigger(o.CANVAS_HIDDEN),console.log("_canvasHidden")};a.prototype.bindEvents=function(){this.tool.onMouseMove=function(t){this.mousePoint=t.lastPoint,this.mouseMove(t)}.bind(this),this.paper.view.onMouseDown=function(t){this.mouseDown(t)}.bind(this),this.paper.view.onFrame=function(t){this.isCanvasHidden||this.animate(t)}.bind(this),s.prototype.bindEvents.call(this)},a.prototype.mouseDown=function(t){this.currentCanvasAnimView&&this.currentCanvasAnimView.mouseDown&&this.currentCanvasAnimView.mouseDown(t)},a.prototype.mouseMove=function(t){this.currentCanvasAnimView&&this.currentCanvasAnimView.mouseMove&&this.currentCanvasAnimView.mouseMove(t)},a.prototype.animate=function(t){this.currentCanvasAnimView&&(this.currentCanvasAnimView.animate(t),console.log("animating")),s.prototype.animate.call(this)},a.prototype.onResize=function(){e.each(this.aCanvasAnimViews,function(t){t.onResize()}.bind(this)),s.prototype.onResize.call(this)},a.prototype.killTL=function(t){if(this.TL[t]){var e=this.TL[t];e.stop(),e.kill(),e.clear(),e=null,this.TL[t]=null}},a.prototype.destroyTL=function(){for(var t in this.TL)this.killTL(t);this.TL={}},a.prototype.dispose=function(){this.destroyTL()},t.exports=a}).call(e,i(3),i(26))},function(t,e,i){(function(e,n){var s=i(12),o=(i(21),i(7)),a=(i(23),i(13));i(55);var r=function(t,e){this.canUpdate=!0,this.indexMenu=0,this.isFirstLoad=!0,this.currentMenuIndex=0,this.managerMenu=this.managerMenu.bind(this),this.events={"click .back-btn":"backJobList","click .anchors li":"managerMenu","click .dropdown-cta":"onDropDownClicked","submit #searchform":"onSearchSubmit","click .btn-search":"managerSearchField"},a.call(this,t,e)};e.extend(r,a),e.extend(r.prototype,a.prototype),r.prototype.initDOM=function(){a.prototype.initDOM.call(this)},r.prototype.setupDOM=function(){},r.prototype.onDOMInit=function(){-1===window.location.href.indexOf("careers-list")&&TweenMax.set(window,{scrollTo:0}),this.$menu=this.$el.find(".content-menu"),this.$links=this.$el.find(".content-menu li"),this.$navigation=this.$el.find(".navigation"),this.$topicsDropdown=this.$el.find(".topics-bar"),this.$topicsBar=this.$el.find(".topics-bar ul"),this.$contentNavigation=this.$el.find(".content-navigation"),this.$contentLinks=this.$el.find(".content-navigation"),this.$articleTitle=this.$el.find(".article-title"),this.$articleTitleContent=this.$el.find(".article-title span"),this.$searchContent=this.$el.find(".search-form"),this.haveMenu=!!this.$links[0],this.targets=[],e.each(this.$links,function(t){this.targets.push(n(t).attr("data-id"))}.bind(this)),this.targetMenu=this.targets[this.indexMenu],n(this.$links[this.indexMenu]).addClass("active"),this.haveMenu&&this.initMenuItems(),a.prototype.onDOMInit.call(this)},r.prototype.initTL=function(){},r.prototype.show=function(){},r.prototype.hide=function(){},r.prototype.onDropDownClicked=function(){n(this.$topicsDropdown).toggleClass("active"),n(this.$el).toggleClass("border")},r.prototype.managerSearchField=function(){this.searchIsVisible?(n(this.el).removeClass("border"),TweenMax.to(this.$searchContent,1,{y:"-100%",ease:Expo.easeOut})):(n(this.el).addClass("border"),TweenMax.to(this.$searchContent,.9,{y:"0%",ease:Expo.easeOut})),this.searchIsVisible=!this.searchIsVisible},r.prototype.onSearchSubmit=function(){var t=n("#search").val();ga&&ga("send","event","Blog","[Blog] Search",t)},r.prototype.bindEvents=function(){a.prototype.bindEvents.call(this)},r.prototype.onResize=function(){this.canResize&&this.initMenuItems()},r.prototype.initMenuItems=function(){this.menuBuilding=!0,this.menuWidth=s.viewport.width/2,this.itemsMenu=[];var t;e.each(this.$links,function(e){t=n(e).width(),n(e).attr("data-id")&&(this.menuWidth+=t,this.itemsMenu.push({el:e,hash:n(e).attr("data-id"),width:t,offsetTop:document.querySelector("."+n(e).attr("data-id")).offsetTop,scroll:this.menuWidth-t/2-s.viewport.width/2}))}.bind(this)),this.itemsMenu[0]&&(this.mobileNavOffset=s.viewport.width/2-15,this.menuWidth=this.menuWidth-this.itemsMenu[this.itemsMenu.length-1].width/2-15)},r.prototype.backJobList=function(t){t.preventDefault();var e=n("#job-detail").attr("data-anchor");e&&(e=(e=e.toLowerCase().replace(/ & /g,"-")).toLowerCase().replace(/ /g,"-"),window.location.href="http://"+window.location.hostname+"/about/careers-list/",localStorage.setItem("dept",e))},r.prototype.managerMenu=function(t){if(!("careers"!=s.currentPage&&"healthsystems"!=s.currentPage||this.options.mainView.pageManager.currentPage.blockIsAnimating||this.options.mainView.pageManager.currentPage.showIsAnimating||this.options.mainView.pageManager.currentPage.stepIsAnimating||s.blockIsAnimating)){var e=t.currentTarget?n(t.currentTarget).attr("data-index"):t;this.targetMenu=t.currentTarget?n(t.currentTarget).attr("data-id"):t,this.currentMenuIndex===parseInt(e)||s.overlayActive||(this.currentMenuIndex=parseInt(e),this.updatedMenuItems(e),this.trigger(o.MENU_ITEM_CLICKED,{index:parseInt(e),target:this.targetMenu}))}},r.prototype.updatedMenuItems=function(t){n(this.$links[this.indexMenu]).removeClass("active"),this.indexMenu=parseInt(t),this.currentMenuIndex=parseInt(t),this.targetMenu=n(this.$links[t]).attr("data-id"),n(this.$links[this.indexMenu]).addClass("active"),s.isMobile&&TweenMax.to(this.$contentNavigation,.7,{scrollTo:{x:this.itemsMenu[this.indexMenu].scroll},ease:Expo.easeInOut})},t.exports=r}).call(e,i(3),i(1))},function(t,e){(function(){(void 0!==e&&null!==e?e:this).Lethargy=function(){function t(t,e,i,n){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=n?n:150,this.lastUpDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}.call(this)}return t.prototype.check=function(t){var e;return t=t.originalEvent||t,null!=t.wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,n,s,o,a,r;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(n=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),r=n.reduce(function(t,e){return t+e}),o=i.reduce(function(t,e){return t+e}),a=r/n.length,s=o/i.length,Math.abs(a)<Math.abs(s*this.tolerance)&&this.sensitivity<Math.abs(s)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(this)},function(t,e,i){(function(e){i(7),i(12),i(21);var n=i(13),s=function(t,e){n.call(this,t,e)};e.extend(s,n),e.extend(s.prototype,n.prototype),s.prototype.initDOM=function(){this.onResize(),n.prototype.initDOM.call(this)},s.prototype.onDOMInit=function(){n.prototype.onDOMInit.call(this)},s.prototype.initTL=function(){this.TL.show=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.show.to(this.$el,.3,{autoAlpha:1,ease:Cubic.easeOut}),this.TL.hide=new TimelineMax({paused:!0,onComplete:this.onShown.bind(this)}),this.TL.hide.to(this.$el,.3,{autoAlpha:0,ease:Cubic.easeOut})},s.prototype.show=function(){this.TL.show.play(0)},s.prototype.hide=function(){this.TL.hide.play(0)},s.prototype.bindEvents=function(){n.prototype.bindEvents.call(this)},s.prototype.onResize=function(){},t.exports=s}).call(e,i(3))}]);
